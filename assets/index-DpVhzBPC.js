var ty=Object.defineProperty;var ry=(t,r,e)=>r in t?ty(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var be=(t,r,e)=>ry(t,typeof r!="symbol"?r+"":r,e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const x of d)if(x.type==="childList")for(const P of x.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&l(P)}).observe(document,{childList:!0,subtree:!0});function e(d){const x={};return d.integrity&&(x.integrity=d.integrity),d.referrerPolicy&&(x.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?x.credentials="include":d.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function l(d){if(d.ep)return;d.ep=!0;const x=e(d);fetch(d.href,x)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gv(t,r){const e=new Set(t.split(","));return l=>e.has(l)}const cs={},po=[],cf=()=>{},sy=()=>!1,ph=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dv=t=>t.startsWith("onUpdate:"),zs=Object.assign,yv=(t,r)=>{const e=t.indexOf(r);e>-1&&t.splice(e,1)},ny=Object.prototype.hasOwnProperty,dr=(t,r)=>ny.call(t,r),xt=Array.isArray,vo=t=>vh(t)==="[object Map]",pd=t=>vh(t)==="[object Set]",Vt=t=>typeof t=="function",qs=t=>typeof t=="string",pu=t=>typeof t=="symbol",fs=t=>t!==null&&typeof t=="object",vd=t=>(fs(t)||Vt(t))&&Vt(t.then)&&Vt(t.catch),gd=Object.prototype.toString,vh=t=>gd.call(t),ay=t=>vh(t).slice(8,-1),dd=t=>vh(t)==="[object Object]",wv=t=>qs(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Go=gv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gh=t=>{const r=Object.create(null);return e=>r[e]||(r[e]=t(e))},iy=/-(\w)/g,Io=gh(t=>t.replace(iy,(r,e)=>e?e.toUpperCase():"")),ly=/\B([A-Z])/g,Do=gh(t=>t.replace(ly,"-$1").toLowerCase()),yd=gh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fh=gh(t=>t?`on${yd(t)}`:""),cu=(t,r)=>!Object.is(t,r),Nh=(t,...r)=>{for(let e=0;e<t.length;e++)t[e](...r)},wd=(t,r,e,l=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:l,value:e})},fy=t=>{const r=parseFloat(t);return isNaN(r)?t:r},uy=t=>{const r=qs(t)?Number(t):NaN;return isNaN(r)?t:r};let Vv;const $d=()=>Vv||(Vv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $v(t){if(xt(t)){const r={};for(let e=0;e<t.length;e++){const l=t[e],d=qs(l)?py(l):$v(l);if(d)for(const x in d)r[x]=d[x]}return r}else if(qs(t)||fs(t))return t}const oy=/;(?![^(]*\))/g,cy=/:([^]+)/,hy=/\/\*[^]*?\*\//g;function py(t){const r={};return t.replace(hy,"").split(oy).forEach(e=>{if(e){const l=e.split(cy);l.length>1&&(r[l[0].trim()]=l[1].trim())}}),r}function pa(t){let r="";if(qs(t))r=t;else if(xt(t))for(let e=0;e<t.length;e++){const l=pa(t[e]);l&&(r+=l+" ")}else if(fs(t))for(const e in t)t[e]&&(r+=e+" ");return r.trim()}const vy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gy=gv(vy);function md(t){return!!t||t===""}const xd=t=>!!(t&&t.__v_isRef===!0),iu=t=>qs(t)?t:t==null?"":xt(t)||fs(t)&&(t.toString===gd||!Vt(t.toString))?xd(t)?iu(t.value):JSON.stringify(t,bd,2):String(t),bd=(t,r)=>xd(r)?bd(t,r.value):vo(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((e,[l,d],x)=>(e[Oh(l,x)+" =>"]=d,e),{})}:pd(r)?{[`Set(${r.size})`]:[...r.values()].map(e=>Oh(e))}:pu(r)?Oh(r):fs(r)&&!xt(r)&&!dd(r)?String(r):r,Oh=(t,r="")=>{var e;return pu(t)?`Symbol(${(e=t.description)!=null?e:r})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gf;class dy{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gf,!r&&gf&&(this.index=(gf.scopes||(gf.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const e=gf;try{return gf=this,r()}finally{gf=e}}}on(){gf=this}off(){gf=this.parent}stop(r){if(this._active){let e,l;for(e=0,l=this.effects.length;e<l;e++)this.effects[e].stop();for(e=0,l=this.cleanups.length;e<l;e++)this.cleanups[e]();if(this.scopes)for(e=0,l=this.scopes.length;e<l;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!r){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function yy(t,r=gf){r&&r.active&&r.effects.push(t)}function wy(){return gf}let ju;class mv{constructor(r,e,l,d){this.fn=r,this.trigger=e,this.scheduler=l,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,yy(this,d)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,vu();for(let r=0;r<this._depsLength;r++){const e=this.deps[r];if(e.computed&&($y(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),gu()}return this._dirtyLevel>=4}set dirty(r){this._dirtyLevel=r?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let r=lu,e=ju;try{return lu=!0,ju=this,this._runnings++,Kv(this),this.fn()}finally{Jv(this),this._runnings--,ju=e,lu=r}}stop(){this.active&&(Kv(this),Jv(this),this.onStop&&this.onStop(),this.active=!1)}}function $y(t){return t.value}function Kv(t){t._trackId++,t._depsLength=0}function Jv(t){if(t.deps.length>t._depsLength){for(let r=t._depsLength;r<t.deps.length;r++)Ad(t.deps[r],t);t.deps.length=t._depsLength}}function Ad(t,r){const e=t.get(r);e!==void 0&&r._trackId!==e&&(t.delete(r),t.size===0&&t.cleanup())}let lu=!0,dp=0;const Cd=[];function vu(){Cd.push(lu),lu=!1}function gu(){const t=Cd.pop();lu=t===void 0?!0:t}function xv(){dp++}function bv(){for(dp--;!dp&&yp.length;)yp.shift()()}function _d(t,r,e){if(r.get(t)!==t._trackId){r.set(t,t._trackId);const l=t.deps[t._depsLength];l!==r?(l&&Ad(l,t),t.deps[t._depsLength++]=r):t._depsLength++}}const yp=[];function Pd(t,r,e){xv();for(const l of t.keys()){let d;l._dirtyLevel<r&&(d??(d=t.get(l)===l._trackId))&&(l._shouldSchedule||(l._shouldSchedule=l._dirtyLevel===0),l._dirtyLevel=r),l._shouldSchedule&&(d??(d=t.get(l)===l._trackId))&&(l.trigger(),(!l._runnings||l.allowRecurse)&&l._dirtyLevel!==2&&(l._shouldSchedule=!1,l.scheduler&&yp.push(l.scheduler)))}bv()}const kd=(t,r)=>{const e=new Map;return e.cleanup=t,e.computed=r,e},wp=new WeakMap,Iu=Symbol(""),$p=Symbol("");function yi(t,r,e){if(lu&&ju){let l=wp.get(t);l||wp.set(t,l=new Map);let d=l.get(e);d||l.set(e,d=kd(()=>l.delete(e))),_d(ju,d)}}function Lf(t,r,e,l,d,x){const P=wp.get(t);if(!P)return;let M=[];if(r==="clear")M=[...P.values()];else if(e==="length"&&xt(t)){const F=Number(l);P.forEach((T,N)=>{(N==="length"||!pu(N)&&N>=F)&&M.push(T)})}else switch(e!==void 0&&M.push(P.get(e)),r){case"add":xt(t)?wv(e)&&M.push(P.get("length")):(M.push(P.get(Iu)),vo(t)&&M.push(P.get($p)));break;case"delete":xt(t)||(M.push(P.get(Iu)),vo(t)&&M.push(P.get($p)));break;case"set":vo(t)&&M.push(P.get(Iu));break}xv();for(const F of M)F&&Pd(F,4);bv()}const my=gv("__proto__,__v_isRef,__isVue"),Md=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pu)),Wv=xy();function xy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...e){const l=Cr(this);for(let x=0,P=this.length;x<P;x++)yi(l,"get",x+"");const d=l[r](...e);return d===-1||d===!1?l[r](...e.map(Cr)):d}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...e){vu(),xv();const l=Cr(this)[r].apply(this,e);return bv(),gu(),l}}),t}function by(t){pu(t)||(t=String(t));const r=Cr(this);return yi(r,"has",t),r.hasOwnProperty(t)}class Ed{constructor(r=!1,e=!1){this._isReadonly=r,this._isShallow=e}get(r,e,l){const d=this._isReadonly,x=this._isShallow;if(e==="__v_isReactive")return!d;if(e==="__v_isReadonly")return d;if(e==="__v_isShallow")return x;if(e==="__v_raw")return l===(d?x?jy:Nd:x?Fd:Td).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(l)?r:void 0;const P=xt(r);if(!d){if(P&&dr(Wv,e))return Reflect.get(Wv,e,l);if(e==="hasOwnProperty")return by}const M=Reflect.get(r,e,l);return(pu(e)?Md.has(e):my(e))||(d||yi(r,"get",e),x)?M:wi(M)?P&&wv(e)?M:M.value:fs(M)?d?Od(M):_v(M):M}}class Sd extends Ed{constructor(r=!1){super(!1,r)}set(r,e,l,d){let x=r[e];if(!this._isShallow){const F=nc(x);if(!Yc(l)&&!nc(l)&&(x=Cr(x),l=Cr(l)),!xt(r)&&wi(x)&&!wi(l))return F?!1:(x.value=l,!0)}const P=xt(r)&&wv(e)?Number(e)<r.length:dr(r,e),M=Reflect.set(r,e,l,d);return r===Cr(d)&&(P?cu(l,x)&&Lf(r,"set",e,l):Lf(r,"add",e,l)),M}deleteProperty(r,e){const l=dr(r,e);r[e];const d=Reflect.deleteProperty(r,e);return d&&l&&Lf(r,"delete",e,void 0),d}has(r,e){const l=Reflect.has(r,e);return(!pu(e)||!Md.has(e))&&yi(r,"has",e),l}ownKeys(r){return yi(r,"iterate",xt(r)?"length":Iu),Reflect.ownKeys(r)}}class Ay extends Ed{constructor(r=!1){super(!0,r)}set(r,e){return!0}deleteProperty(r,e){return!0}}const Cy=new Sd,_y=new Ay,Py=new Sd(!0);const Av=t=>t,dh=t=>Reflect.getPrototypeOf(t);function gc(t,r,e=!1,l=!1){t=t.__v_raw;const d=Cr(t),x=Cr(r);e||(cu(r,x)&&yi(d,"get",r),yi(d,"get",x));const{has:P}=dh(d),M=l?Av:e?kv:ac;if(P.call(d,r))return M(t.get(r));if(P.call(d,x))return M(t.get(x));t!==d&&t.get(r)}function dc(t,r=!1){const e=this.__v_raw,l=Cr(e),d=Cr(t);return r||(cu(t,d)&&yi(l,"has",t),yi(l,"has",d)),t===d?e.has(t):e.has(t)||e.has(d)}function yc(t,r=!1){return t=t.__v_raw,!r&&yi(Cr(t),"iterate",Iu),Reflect.get(t,"size",t)}function Gv(t){t=Cr(t);const r=Cr(this);return dh(r).has.call(r,t)||(r.add(t),Lf(r,"add",t,t)),this}function Zv(t,r){r=Cr(r);const e=Cr(this),{has:l,get:d}=dh(e);let x=l.call(e,t);x||(t=Cr(t),x=l.call(e,t));const P=d.call(e,t);return e.set(t,r),x?cu(r,P)&&Lf(e,"set",t,r):Lf(e,"add",t,r),this}function Qv(t){const r=Cr(this),{has:e,get:l}=dh(r);let d=e.call(r,t);d||(t=Cr(t),d=e.call(r,t)),l&&l.call(r,t);const x=r.delete(t);return d&&Lf(r,"delete",t,void 0),x}function Xv(){const t=Cr(this),r=t.size!==0,e=t.clear();return r&&Lf(t,"clear",void 0,void 0),e}function wc(t,r){return function(l,d){const x=this,P=x.__v_raw,M=Cr(P),F=r?Av:t?kv:ac;return!t&&yi(M,"iterate",Iu),P.forEach((T,N)=>l.call(d,F(T),F(N),x))}}function $c(t,r,e){return function(...l){const d=this.__v_raw,x=Cr(d),P=vo(x),M=t==="entries"||t===Symbol.iterator&&P,F=t==="keys"&&P,T=d[t](...l),N=e?Av:r?kv:ac;return!r&&yi(x,"iterate",F?$p:Iu),{next(){const{value:H,done:B}=T.next();return B?{value:H,done:B}:{value:M?[N(H[0]),N(H[1])]:N(H),done:B}},[Symbol.iterator](){return this}}}}function Kf(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function ky(){const t={get(x){return gc(this,x)},get size(){return yc(this)},has:dc,add:Gv,set:Zv,delete:Qv,clear:Xv,forEach:wc(!1,!1)},r={get(x){return gc(this,x,!1,!0)},get size(){return yc(this)},has:dc,add:Gv,set:Zv,delete:Qv,clear:Xv,forEach:wc(!1,!0)},e={get(x){return gc(this,x,!0)},get size(){return yc(this,!0)},has(x){return dc.call(this,x,!0)},add:Kf("add"),set:Kf("set"),delete:Kf("delete"),clear:Kf("clear"),forEach:wc(!0,!1)},l={get(x){return gc(this,x,!0,!0)},get size(){return yc(this,!0)},has(x){return dc.call(this,x,!0)},add:Kf("add"),set:Kf("set"),delete:Kf("delete"),clear:Kf("clear"),forEach:wc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{t[x]=$c(x,!1,!1),e[x]=$c(x,!0,!1),r[x]=$c(x,!1,!0),l[x]=$c(x,!0,!0)}),[t,e,r,l]}const[My,Ey,Sy,Ty]=ky();function Cv(t,r){const e=r?t?Ty:Sy:t?Ey:My;return(l,d,x)=>d==="__v_isReactive"?!t:d==="__v_isReadonly"?t:d==="__v_raw"?l:Reflect.get(dr(e,d)&&d in l?e:l,d,x)}const Fy={get:Cv(!1,!1)},Ny={get:Cv(!1,!0)},Oy={get:Cv(!0,!1)};const Td=new WeakMap,Fd=new WeakMap,Nd=new WeakMap,jy=new WeakMap;function Iy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ry(t){return t.__v_skip||!Object.isExtensible(t)?0:Iy(ay(t))}function _v(t){return nc(t)?t:Pv(t,!1,Cy,Fy,Td)}function Dy(t){return Pv(t,!1,Py,Ny,Fd)}function Od(t){return Pv(t,!0,_y,Oy,Nd)}function Pv(t,r,e,l,d){if(!fs(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const x=d.get(t);if(x)return x;const P=Ry(t);if(P===0)return t;const M=new Proxy(t,P===2?l:e);return d.set(t,M),M}function Zo(t){return nc(t)?Zo(t.__v_raw):!!(t&&t.__v_isReactive)}function nc(t){return!!(t&&t.__v_isReadonly)}function Yc(t){return!!(t&&t.__v_isShallow)}function jd(t){return t?!!t.__v_raw:!1}function Cr(t){const r=t&&t.__v_raw;return r?Cr(r):t}function Ly(t){return Object.isExtensible(t)&&wd(t,"__v_skip",!0),t}const ac=t=>fs(t)?_v(t):t,kv=t=>fs(t)?Od(t):t;class Id{constructor(r,e,l,d){this.getter=r,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mv(()=>r(this._value),()=>Pc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=l}get value(){const r=Cr(this);return(!r._cacheable||r.effect.dirty)&&cu(r._value,r._value=r.effect.run())&&Pc(r,4),Rd(r),r.effect._dirtyLevel>=2&&Pc(r,2),r._value}set value(r){this._setter(r)}get _dirty(){return this.effect.dirty}set _dirty(r){this.effect.dirty=r}}function Hy(t,r,e=!1){let l,d;const x=Vt(t);return x?(l=t,d=cf):(l=t.get,d=t.set),new Id(l,d,x||!d,e)}function Rd(t){var r;lu&&ju&&(t=Cr(t),_d(ju,(r=t.dep)!=null?r:t.dep=kd(()=>t.dep=void 0,t instanceof Id?t:void 0)))}function Pc(t,r=4,e,l){t=Cr(t);const d=t.dep;d&&Pd(d,r)}function wi(t){return!!(t&&t.__v_isRef===!0)}function ku(t){return Uy(t,!1)}function Uy(t,r){return wi(t)?t:new By(t,r)}class By{constructor(r,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?r:Cr(r),this._value=e?r:ac(r)}get value(){return Rd(this),this._value}set value(r){const e=this.__v_isShallow||Yc(r)||nc(r);r=e?r:Cr(r),cu(r,this._rawValue)&&(this._rawValue,this._rawValue=r,this._value=e?r:ac(r),Pc(this,4))}}function ic(t){return wi(t)?t.value:t}const zy={get:(t,r,e)=>ic(Reflect.get(t,r,e)),set:(t,r,e,l)=>{const d=t[r];return wi(d)&&!wi(e)?(d.value=e,!0):Reflect.set(t,r,e,l)}};function Dd(t){return Zo(t)?t:new Proxy(t,zy)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fu(t,r,e,l){try{return l?t(...l):t()}catch(d){yh(d,r,e)}}function pf(t,r,e,l){if(Vt(t)){const d=fu(t,r,e,l);return d&&vd(d)&&d.catch(x=>{yh(x,r,e)}),d}if(xt(t)){const d=[];for(let x=0;x<t.length;x++)d.push(pf(t[x],r,e,l));return d}}function yh(t,r,e,l=!0){const d=r?r.vnode:null;if(r){let x=r.parent;const P=r.proxy,M=`https://vuejs.org/error-reference/#runtime-${e}`;for(;x;){const T=x.ec;if(T){for(let N=0;N<T.length;N++)if(T[N](t,P,M)===!1)return}x=x.parent}const F=r.appContext.config.errorHandler;if(F){vu(),fu(F,null,10,[t,P,M]),gu();return}}qy(t,e,d,l)}function qy(t,r,e,l=!0){console.error(t)}let lc=!1,mp=!1;const ca=[];let kf=0;const go=[];let Yf=null,Au=0;const Ld=Promise.resolve();let Mv=null;function Vy(t){const r=Mv||Ld;return t?r.then(this?t.bind(this):t):r}function Ky(t){let r=kf+1,e=ca.length;for(;r<e;){const l=r+e>>>1,d=ca[l],x=fc(d);x<t||x===t&&d.pre?r=l+1:e=l}return r}function Ev(t){(!ca.length||!ca.includes(t,lc&&t.allowRecurse?kf+1:kf))&&(t.id==null?ca.push(t):ca.splice(Ky(t.id),0,t),Hd())}function Hd(){!lc&&!mp&&(mp=!0,Mv=Ld.then(Bd))}function Jy(t){const r=ca.indexOf(t);r>kf&&ca.splice(r,1)}function Wy(t){xt(t)?go.push(...t):(!Yf||!Yf.includes(t,t.allowRecurse?Au+1:Au))&&go.push(t),Hd()}function Yv(t,r,e=lc?kf+1:0){for(;e<ca.length;e++){const l=ca[e];if(l&&l.pre){if(t&&l.id!==t.uid)continue;ca.splice(e,1),e--,l()}}}function Ud(t){if(go.length){const r=[...new Set(go)].sort((e,l)=>fc(e)-fc(l));if(go.length=0,Yf){Yf.push(...r);return}for(Yf=r,Au=0;Au<Yf.length;Au++){const e=Yf[Au];e.active!==!1&&e()}Yf=null,Au=0}}const fc=t=>t.id==null?1/0:t.id,Gy=(t,r)=>{const e=fc(t)-fc(r);if(e===0){if(t.pre&&!r.pre)return-1;if(r.pre&&!t.pre)return 1}return e};function Bd(t){mp=!1,lc=!0,ca.sort(Gy);try{for(kf=0;kf<ca.length;kf++){const r=ca[kf];r&&r.active!==!1&&fu(r,null,14)}}finally{kf=0,ca.length=0,Ud(),lc=!1,Mv=null,(ca.length||go.length)&&Bd()}}function Zy(t,r,...e){if(t.isUnmounted)return;const l=t.vnode.props||cs;let d=e;const x=r.startsWith("update:"),P=x&&r.slice(7);if(P&&P in l){const N=`${P==="modelValue"?"model":P}Modifiers`,{number:H,trim:B}=l[N]||cs;B&&(d=e.map(W=>qs(W)?W.trim():W)),H&&(d=e.map(fy))}let M,F=l[M=Fh(r)]||l[M=Fh(Io(r))];!F&&x&&(F=l[M=Fh(Do(r))]),F&&pf(F,t,6,d);const T=l[M+"Once"];if(T){if(!t.emitted)t.emitted={};else if(t.emitted[M])return;t.emitted[M]=!0,pf(T,t,6,d)}}function zd(t,r,e=!1){const l=r.emitsCache,d=l.get(t);if(d!==void 0)return d;const x=t.emits;let P={},M=!1;if(!Vt(t)){const F=T=>{const N=zd(T,r,!0);N&&(M=!0,zs(P,N))};!e&&r.mixins.length&&r.mixins.forEach(F),t.extends&&F(t.extends),t.mixins&&t.mixins.forEach(F)}return!x&&!M?(fs(t)&&l.set(t,null),null):(xt(x)?x.forEach(F=>P[F]=null):zs(P,x),fs(t)&&l.set(t,P),P)}function wh(t,r){return!t||!ph(r)?!1:(r=r.slice(2).replace(/Once$/,""),dr(t,r[0].toLowerCase()+r.slice(1))||dr(t,Do(r))||dr(t,r))}let ai=null,$h=null;function eh(t){const r=ai;return ai=t,$h=t&&t.type.__scopeId||null,r}function Qy(t){$h=t}function Xy(){$h=null}function gi(t,r=ai,e){if(!r||t._n)return t;const l=(...d)=>{l._d&&cg(-1);const x=eh(r);let P;try{P=t(...d)}finally{eh(x),l._d&&cg(1)}return P};return l._n=!0,l._c=!0,l._d=!0,l}function jh(t){const{type:r,vnode:e,proxy:l,withProxy:d,propsOptions:[x],slots:P,attrs:M,emit:F,render:T,renderCache:N,props:H,data:B,setupState:W,ctx:ve,inheritAttrs:ie}=t,fe=eh(t);let Me,G;try{if(e.shapeFlag&4){const Q=d||l,X=Q;Me=Pf(T.call(X,Q,N,H,W,B,ve)),G=M}else{const Q=r;Me=Pf(Q.length>1?Q(H,{attrs:M,slots:P,emit:F}):Q(H,null)),G=r.props?M:Yy(M)}}catch(Q){tc.length=0,yh(Q,t,1),Me=ws(di)}let K=Me;if(G&&ie!==!1){const Q=Object.keys(G),{shapeFlag:X}=K;Q.length&&X&7&&(x&&Q.some(dv)&&(G=ew(G,x)),K=hu(K,G,!1,!0))}return e.dirs&&(K=hu(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(e.dirs):e.dirs),e.transition&&(K.transition=e.transition),Me=K,eh(fe),Me}const Yy=t=>{let r;for(const e in t)(e==="class"||e==="style"||ph(e))&&((r||(r={}))[e]=t[e]);return r},ew=(t,r)=>{const e={};for(const l in t)(!dv(l)||!(l.slice(9)in r))&&(e[l]=t[l]);return e};function tw(t,r,e){const{props:l,children:d,component:x}=t,{props:P,children:M,patchFlag:F}=r,T=x.emitsOptions;if(r.dirs||r.transition)return!0;if(e&&F>=0){if(F&1024)return!0;if(F&16)return l?eg(l,P,T):!!P;if(F&8){const N=r.dynamicProps;for(let H=0;H<N.length;H++){const B=N[H];if(P[B]!==l[B]&&!wh(T,B))return!0}}}else return(d||M)&&(!M||!M.$stable)?!0:l===P?!1:l?P?eg(l,P,T):!0:!!P;return!1}function eg(t,r,e){const l=Object.keys(r);if(l.length!==Object.keys(t).length)return!0;for(let d=0;d<l.length;d++){const x=l[d];if(r[x]!==t[x]&&!wh(e,x))return!0}return!1}function rw({vnode:t,parent:r},e){for(;r;){const l=r.subTree;if(l.suspense&&l.suspense.activeBranch===t&&(l.el=t.el),l===t)(t=r.vnode).el=e,r=r.parent;else break}}const sw=Symbol.for("v-ndc"),nw=t=>t.__isSuspense;function aw(t,r){r&&r.pendingBranch?xt(t)?r.effects.push(...t):r.effects.push(t):Wy(t)}function mh(t,r,e=ha,l=!1){if(e){const d=e[t]||(e[t]=[]),x=r.__weh||(r.__weh=(...P)=>{vu();const M=hc(e),F=pf(r,e,t,P);return M(),gu(),F});return l?d.unshift(x):d.push(x),x}}const Hf=t=>(r,e=ha)=>{(!Ch||t==="sp")&&mh(t,(...l)=>r(...l),e)},iw=Hf("bm"),qd=Hf("m"),lw=Hf("bu"),fw=Hf("u"),Vd=Hf("bum"),Kd=Hf("um"),uw=Hf("sp"),ow=Hf("rtg"),cw=Hf("rtc");function hw(t,r=ha){mh("ec",t,r)}function $u(t,r,e,l){const d=t.dirs,x=r&&r.dirs;for(let P=0;P<d.length;P++){const M=d[P];x&&(M.oldValue=x[P].value);let F=M.dir[l];F&&(vu(),pf(F,e,8,[t.el,M,t,r]),gu())}}function th(t,r,e,l){let d;const x=e;if(xt(t)||qs(t)){d=new Array(t.length);for(let P=0,M=t.length;P<M;P++)d[P]=r(t[P],P,void 0,x)}else if(typeof t=="number"){d=new Array(t);for(let P=0;P<t;P++)d[P]=r(P+1,P,void 0,x)}else if(fs(t))if(t[Symbol.iterator])d=Array.from(t,(P,M)=>r(P,M,void 0,x));else{const P=Object.keys(t);d=new Array(P.length);for(let M=0,F=P.length;M<F;M++){const T=P[M];d[M]=r(t[T],T,M,x)}}else d=[];return d}/*! #__NO_SIDE_EFFECTS__ */function cc(t,r){return Vt(t)?zs({name:t.name},r,{setup:t}):t}const Qo=t=>!!t.type.__asyncLoader;function kc(t,r,e={},l,d){if(ai.isCE||ai.parent&&Qo(ai.parent)&&ai.parent.isCE)return r!=="default"&&(e.name=r),ws("slot",e,l);let x=t[r];x&&x._c&&(x._d=!1),ys();const P=x&&Jd(x(e)),M=Ah(oa,{key:e.key||P&&P.key||`_${r}`},P||[],P&&t._===1?64:-2);return M.scopeId&&(M.slotScopeIds=[M.scopeId+"-s"]),x&&x._c&&(x._d=!0),M}function Jd(t){return t.some(r=>nh(r)?!(r.type===di||r.type===oa&&!Jd(r.children)):!0)?t:null}const xp=t=>t?g0(t)?Nv(t):xp(t.parent):null,Xo=zs(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xp(t.parent),$root:t=>xp(t.root),$emit:t=>t.emit,$options:t=>Sv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ev(t.update)}),$nextTick:t=>t.n||(t.n=Vy.bind(t.proxy)),$watch:t=>Nw.bind(t)}),Ih=(t,r)=>t!==cs&&!t.__isScriptSetup&&dr(t,r),pw={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:e,setupState:l,data:d,props:x,accessCache:P,type:M,appContext:F}=t;let T;if(r[0]!=="$"){const W=P[r];if(W!==void 0)switch(W){case 1:return l[r];case 2:return d[r];case 4:return e[r];case 3:return x[r]}else{if(Ih(l,r))return P[r]=1,l[r];if(d!==cs&&dr(d,r))return P[r]=2,d[r];if((T=t.propsOptions[0])&&dr(T,r))return P[r]=3,x[r];if(e!==cs&&dr(e,r))return P[r]=4,e[r];bp&&(P[r]=0)}}const N=Xo[r];let H,B;if(N)return r==="$attrs"&&yi(t.attrs,"get",""),N(t);if((H=M.__cssModules)&&(H=H[r]))return H;if(e!==cs&&dr(e,r))return P[r]=4,e[r];if(B=F.config.globalProperties,dr(B,r))return B[r]},set({_:t},r,e){const{data:l,setupState:d,ctx:x}=t;return Ih(d,r)?(d[r]=e,!0):l!==cs&&dr(l,r)?(l[r]=e,!0):dr(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(x[r]=e,!0)},has({_:{data:t,setupState:r,accessCache:e,ctx:l,appContext:d,propsOptions:x}},P){let M;return!!e[P]||t!==cs&&dr(t,P)||Ih(r,P)||(M=x[0])&&dr(M,P)||dr(l,P)||dr(Xo,P)||dr(d.config.globalProperties,P)},defineProperty(t,r,e){return e.get!=null?t._.accessCache[r]=0:dr(e,"value")&&this.set(t,r,e.value,null),Reflect.defineProperty(t,r,e)}};function tg(t){return xt(t)?t.reduce((r,e)=>(r[e]=null,r),{}):t}let bp=!0;function vw(t){const r=Sv(t),e=t.proxy,l=t.ctx;bp=!1,r.beforeCreate&&rg(r.beforeCreate,t,"bc");const{data:d,computed:x,methods:P,watch:M,provide:F,inject:T,created:N,beforeMount:H,mounted:B,beforeUpdate:W,updated:ve,activated:ie,deactivated:fe,beforeDestroy:Me,beforeUnmount:G,destroyed:K,unmounted:Q,render:X,renderTracked:Z,renderTriggered:ee,errorCaptured:ae,serverPrefetch:ne,expose:Se,inheritAttrs:Ne,components:Ce,directives:st,filters:ct}=r;if(T&&gw(T,l,null),P)for(const vt in P){const Xe=P[vt];Vt(Xe)&&(l[vt]=Xe.bind(e))}if(d){const vt=d.call(e,e);fs(vt)&&(t.data=_v(vt))}if(bp=!0,x)for(const vt in x){const Xe=x[vt],gt=Vt(Xe)?Xe.bind(e,e):Vt(Xe.get)?Xe.get.bind(e,e):cf,Zt=!Vt(Xe)&&Vt(Xe.set)?Xe.set.bind(e):cf,er=e$({get:gt,set:Zt});Object.defineProperty(l,vt,{enumerable:!0,configurable:!0,get:()=>er.value,set:ht=>er.value=ht})}if(M)for(const vt in M)Wd(M[vt],l,e,vt);if(F){const vt=Vt(F)?F.call(e):F;Reflect.ownKeys(vt).forEach(Xe=>{xw(Xe,vt[Xe])})}N&&rg(N,t,"c");function yt(vt,Xe){xt(Xe)?Xe.forEach(gt=>vt(gt.bind(e))):Xe&&vt(Xe.bind(e))}if(yt(iw,H),yt(qd,B),yt(lw,W),yt(fw,ve),yt(Ow,ie),yt(jw,fe),yt(hw,ae),yt(cw,Z),yt(ow,ee),yt(Vd,G),yt(Kd,Q),yt(uw,ne),xt(Se))if(Se.length){const vt=t.exposed||(t.exposed={});Se.forEach(Xe=>{Object.defineProperty(vt,Xe,{get:()=>e[Xe],set:gt=>e[Xe]=gt})})}else t.exposed||(t.exposed={});X&&t.render===cf&&(t.render=X),Ne!=null&&(t.inheritAttrs=Ne),Ce&&(t.components=Ce),st&&(t.directives=st)}function gw(t,r,e=cf){xt(t)&&(t=Ap(t));for(const l in t){const d=t[l];let x;fs(d)?"default"in d?x=Mc(d.from||l,d.default,!0):x=Mc(d.from||l):x=Mc(d),wi(x)?Object.defineProperty(r,l,{enumerable:!0,configurable:!0,get:()=>x.value,set:P=>x.value=P}):r[l]=x}}function rg(t,r,e){pf(xt(t)?t.map(l=>l.bind(r.proxy)):t.bind(r.proxy),r,e)}function Wd(t,r,e,l){const d=l.includes(".")?l0(e,l):()=>e[l];if(qs(t)){const x=r[t];Vt(x)&&ec(d,x)}else if(Vt(t))ec(d,t.bind(e));else if(fs(t))if(xt(t))t.forEach(x=>Wd(x,r,e,l));else{const x=Vt(t.handler)?t.handler.bind(e):r[t.handler];Vt(x)&&ec(d,x,t)}}function Sv(t){const r=t.type,{mixins:e,extends:l}=r,{mixins:d,optionsCache:x,config:{optionMergeStrategies:P}}=t.appContext,M=x.get(r);let F;return M?F=M:!d.length&&!e&&!l?F=r:(F={},d.length&&d.forEach(T=>rh(F,T,P,!0)),rh(F,r,P)),fs(r)&&x.set(r,F),F}function rh(t,r,e,l=!1){const{mixins:d,extends:x}=r;x&&rh(t,x,e,!0),d&&d.forEach(P=>rh(t,P,e,!0));for(const P in r)if(!(l&&P==="expose")){const M=dw[P]||e&&e[P];t[P]=M?M(t[P],r[P]):r[P]}return t}const dw={data:sg,props:ng,emits:ng,methods:Jo,computed:Jo,beforeCreate:Xa,created:Xa,beforeMount:Xa,mounted:Xa,beforeUpdate:Xa,updated:Xa,beforeDestroy:Xa,beforeUnmount:Xa,destroyed:Xa,unmounted:Xa,activated:Xa,deactivated:Xa,errorCaptured:Xa,serverPrefetch:Xa,components:Jo,directives:Jo,watch:ww,provide:sg,inject:yw};function sg(t,r){return r?t?function(){return zs(Vt(t)?t.call(this,this):t,Vt(r)?r.call(this,this):r)}:r:t}function yw(t,r){return Jo(Ap(t),Ap(r))}function Ap(t){if(xt(t)){const r={};for(let e=0;e<t.length;e++)r[t[e]]=t[e];return r}return t}function Xa(t,r){return t?[...new Set([].concat(t,r))]:r}function Jo(t,r){return t?zs(Object.create(null),t,r):r}function ng(t,r){return t?xt(t)&&xt(r)?[...new Set([...t,...r])]:zs(Object.create(null),tg(t),tg(r??{})):r}function ww(t,r){if(!t)return r;if(!r)return t;const e=zs(Object.create(null),t);for(const l in r)e[l]=Xa(t[l],r[l]);return e}function Gd(){return{app:null,config:{isNativeTag:sy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $w=0;function mw(t,r){return function(l,d=null){Vt(l)||(l=zs({},l)),d!=null&&!fs(d)&&(d=null);const x=Gd(),P=new WeakSet;let M=!1;const F=x.app={_uid:$w++,_component:l,_props:d,_container:null,_context:x,_instance:null,version:t$,get config(){return x.config},set config(T){},use(T,...N){return P.has(T)||(T&&Vt(T.install)?(P.add(T),T.install(F,...N)):Vt(T)&&(P.add(T),T(F,...N))),F},mixin(T){return x.mixins.includes(T)||x.mixins.push(T),F},component(T,N){return N?(x.components[T]=N,F):x.components[T]},directive(T,N){return N?(x.directives[T]=N,F):x.directives[T]},mount(T,N,H){if(!M){const B=ws(l,d);return B.appContext=x,H===!0?H="svg":H===!1&&(H=void 0),N&&r?r(B,T):t(B,T,H),M=!0,F._container=T,T.__vue_app__=F,Nv(B.component)}},unmount(){M&&(t(null,F._container),delete F._container.__vue_app__)},provide(T,N){return x.provides[T]=N,F},runWithContext(T){const N=Yo;Yo=F;try{return T()}finally{Yo=N}}};return F}}let Yo=null;function xw(t,r){if(ha){let e=ha.provides;const l=ha.parent&&ha.parent.provides;l===e&&(e=ha.provides=Object.create(l)),e[t]=r}}function Mc(t,r,e=!1){const l=ha||ai;if(l||Yo){const d=l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:Yo._context.provides;if(d&&t in d)return d[t];if(arguments.length>1)return e&&Vt(r)?r.call(l&&l.proxy):r}}const Zd={},Qd=()=>Object.create(Zd),Xd=t=>Object.getPrototypeOf(t)===Zd;function bw(t,r,e,l=!1){const d={},x=Qd();t.propsDefaults=Object.create(null),Yd(t,r,d,x);for(const P in t.propsOptions[0])P in d||(d[P]=void 0);e?t.props=l?d:Dy(d):t.type.props?t.props=d:t.props=x,t.attrs=x}function Aw(t,r,e,l){const{props:d,attrs:x,vnode:{patchFlag:P}}=t,M=Cr(d),[F]=t.propsOptions;let T=!1;if((l||P>0)&&!(P&16)){if(P&8){const N=t.vnode.dynamicProps;for(let H=0;H<N.length;H++){let B=N[H];if(wh(t.emitsOptions,B))continue;const W=r[B];if(F)if(dr(x,B))W!==x[B]&&(x[B]=W,T=!0);else{const ve=Io(B);d[ve]=Cp(F,M,ve,W,t,!1)}else W!==x[B]&&(x[B]=W,T=!0)}}}else{Yd(t,r,d,x)&&(T=!0);let N;for(const H in M)(!r||!dr(r,H)&&((N=Do(H))===H||!dr(r,N)))&&(F?e&&(e[H]!==void 0||e[N]!==void 0)&&(d[H]=Cp(F,M,H,void 0,t,!0)):delete d[H]);if(x!==M)for(const H in x)(!r||!dr(r,H))&&(delete x[H],T=!0)}T&&Lf(t.attrs,"set","")}function Yd(t,r,e,l){const[d,x]=t.propsOptions;let P=!1,M;if(r)for(let F in r){if(Go(F))continue;const T=r[F];let N;d&&dr(d,N=Io(F))?!x||!x.includes(N)?e[N]=T:(M||(M={}))[N]=T:wh(t.emitsOptions,F)||(!(F in l)||T!==l[F])&&(l[F]=T,P=!0)}if(x){const F=Cr(e),T=M||cs;for(let N=0;N<x.length;N++){const H=x[N];e[H]=Cp(d,F,H,T[H],t,!dr(T,H))}}return P}function Cp(t,r,e,l,d,x){const P=t[e];if(P!=null){const M=dr(P,"default");if(M&&l===void 0){const F=P.default;if(P.type!==Function&&!P.skipFactory&&Vt(F)){const{propsDefaults:T}=d;if(e in T)l=T[e];else{const N=hc(d);l=T[e]=F.call(null,r),N()}}else l=F}P[0]&&(x&&!M?l=!1:P[1]&&(l===""||l===Do(e))&&(l=!0))}return l}function e0(t,r,e=!1){const l=r.propsCache,d=l.get(t);if(d)return d;const x=t.props,P={},M=[];let F=!1;if(!Vt(t)){const N=H=>{F=!0;const[B,W]=e0(H,r,!0);zs(P,B),W&&M.push(...W)};!e&&r.mixins.length&&r.mixins.forEach(N),t.extends&&N(t.extends),t.mixins&&t.mixins.forEach(N)}if(!x&&!F)return fs(t)&&l.set(t,po),po;if(xt(x))for(let N=0;N<x.length;N++){const H=Io(x[N]);ag(H)&&(P[H]=cs)}else if(x)for(const N in x){const H=Io(N);if(ag(H)){const B=x[N],W=P[H]=xt(B)||Vt(B)?{type:B}:zs({},B);if(W){const ve=fg(Boolean,W.type),ie=fg(String,W.type);W[0]=ve>-1,W[1]=ie<0||ve<ie,(ve>-1||dr(W,"default"))&&M.push(H)}}}const T=[P,M];return fs(t)&&l.set(t,T),T}function ag(t){return t[0]!=="$"&&!Go(t)}function ig(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function lg(t,r){return ig(t)===ig(r)}function fg(t,r){return xt(r)?r.findIndex(e=>lg(e,t)):Vt(r)&&lg(r,t)?0:-1}const t0=t=>t[0]==="_"||t==="$stable",Tv=t=>xt(t)?t.map(Pf):[Pf(t)],Cw=(t,r,e)=>{if(r._n)return r;const l=gi((...d)=>Tv(r(...d)),e);return l._c=!1,l},r0=(t,r,e)=>{const l=t._ctx;for(const d in t){if(t0(d))continue;const x=t[d];if(Vt(x))r[d]=Cw(d,x,l);else if(x!=null){const P=Tv(x);r[d]=()=>P}}},s0=(t,r)=>{const e=Tv(r);t.slots.default=()=>e},_w=(t,r)=>{const e=t.slots=Qd();if(t.vnode.shapeFlag&32){const l=r._;l?(zs(e,r),wd(e,"_",l,!0)):r0(r,e)}else r&&s0(t,r)},Pw=(t,r,e)=>{const{vnode:l,slots:d}=t;let x=!0,P=cs;if(l.shapeFlag&32){const M=r._;M?e&&M===1?x=!1:(zs(d,r),!e&&M===1&&delete d._):(x=!r.$stable,r0(r,d)),P=r}else r&&(s0(t,r),P={default:1});if(x)for(const M in d)!t0(M)&&P[M]==null&&delete d[M]};function _p(t,r,e,l,d=!1){if(xt(t)){t.forEach((B,W)=>_p(B,r&&(xt(r)?r[W]:r),e,l,d));return}if(Qo(l)&&!d)return;const x=l.shapeFlag&4?Nv(l.component):l.el,P=d?null:x,{i:M,r:F}=t,T=r&&r.r,N=M.refs===cs?M.refs={}:M.refs,H=M.setupState;if(T!=null&&T!==F&&(qs(T)?(N[T]=null,dr(H,T)&&(H[T]=null)):wi(T)&&(T.value=null)),Vt(F))fu(F,M,12,[P,N]);else{const B=qs(F),W=wi(F);if(B||W){const ve=()=>{if(t.f){const ie=B?dr(H,F)?H[F]:N[F]:F.value;d?xt(ie)&&yv(ie,x):xt(ie)?ie.includes(x)||ie.push(x):B?(N[F]=[x],dr(H,F)&&(H[F]=N[F])):(F.value=[x],t.k&&(N[t.k]=F.value))}else B?(N[F]=P,dr(H,F)&&(H[F]=P)):W&&(F.value=P,t.k&&(N[t.k]=P))};P?(ve.id=-1,ci(ve,e)):ve()}}}const ci=aw;function kw(t){return Mw(t)}function Mw(t,r){const e=$d();e.__VUE__=!0;const{insert:l,remove:d,patchProp:x,createElement:P,createText:M,createComment:F,setText:T,setElementText:N,parentNode:H,nextSibling:B,setScopeId:W=cf,insertStaticContent:ve}=t,ie=(J,re,ue,me=null,he=null,Te=null,Ie=void 0,xe=null,Ee=!!re.dynamicChildren)=>{if(J===re)return;J&&!_u(J,re)&&(me=xr(J),ht(J,he,Te,!0),J=null),re.patchFlag===-2&&(Ee=!1,re.dynamicChildren=null);const{type:ye,ref:Ge,shapeFlag:rt}=re;switch(ye){case bh:fe(J,re,ue,me);break;case di:Me(J,re,ue,me);break;case Lh:J==null&&G(re,ue,me,Ie);break;case oa:Ce(J,re,ue,me,he,Te,Ie,xe,Ee);break;default:rt&1?X(J,re,ue,me,he,Te,Ie,xe,Ee):rt&6?st(J,re,ue,me,he,Te,Ie,xe,Ee):(rt&64||rt&128)&&ye.process(J,re,ue,me,he,Te,Ie,xe,Ee,Br)}Ge!=null&&he&&_p(Ge,J&&J.ref,Te,re||J,!re)},fe=(J,re,ue,me)=>{if(J==null)l(re.el=M(re.children),ue,me);else{const he=re.el=J.el;re.children!==J.children&&T(he,re.children)}},Me=(J,re,ue,me)=>{J==null?l(re.el=F(re.children||""),ue,me):re.el=J.el},G=(J,re,ue,me)=>{[J.el,J.anchor]=ve(J.children,re,ue,me,J.el,J.anchor)},K=({el:J,anchor:re},ue,me)=>{let he;for(;J&&J!==re;)he=B(J),l(J,ue,me),J=he;l(re,ue,me)},Q=({el:J,anchor:re})=>{let ue;for(;J&&J!==re;)ue=B(J),d(J),J=ue;d(re)},X=(J,re,ue,me,he,Te,Ie,xe,Ee)=>{re.type==="svg"?Ie="svg":re.type==="math"&&(Ie="mathml"),J==null?Z(re,ue,me,he,Te,Ie,xe,Ee):ne(J,re,he,Te,Ie,xe,Ee)},Z=(J,re,ue,me,he,Te,Ie,xe)=>{let Ee,ye;const{props:Ge,shapeFlag:rt,transition:tt,dirs:Ve}=J;if(Ee=J.el=P(J.type,Te,Ge&&Ge.is,Ge),rt&8?N(Ee,J.children):rt&16&&ae(J.children,Ee,null,me,he,Rh(J,Te),Ie,xe),Ve&&$u(J,null,me,"created"),ee(Ee,J,J.scopeId,Ie,me),Ge){for(const Pt in Ge)Pt!=="value"&&!Go(Pt)&&x(Ee,Pt,null,Ge[Pt],Te,J.children,me,he,Kt);"value"in Ge&&x(Ee,"value",null,Ge.value,Te),(ye=Ge.onVnodeBeforeMount)&&Af(ye,me,J)}Ve&&$u(J,null,me,"beforeMount");const lt=Ew(he,tt);lt&&tt.beforeEnter(Ee),l(Ee,re,ue),((ye=Ge&&Ge.onVnodeMounted)||lt||Ve)&&ci(()=>{ye&&Af(ye,me,J),lt&&tt.enter(Ee),Ve&&$u(J,null,me,"mounted")},he)},ee=(J,re,ue,me,he)=>{if(ue&&W(J,ue),me)for(let Te=0;Te<me.length;Te++)W(J,me[Te]);if(he){let Te=he.subTree;if(re===Te){const Ie=he.vnode;ee(J,Ie,Ie.scopeId,Ie.slotScopeIds,he.parent)}}},ae=(J,re,ue,me,he,Te,Ie,xe,Ee=0)=>{for(let ye=Ee;ye<J.length;ye++){const Ge=J[ye]=xe?tu(J[ye]):Pf(J[ye]);ie(null,Ge,re,ue,me,he,Te,Ie,xe)}},ne=(J,re,ue,me,he,Te,Ie)=>{const xe=re.el=J.el;let{patchFlag:Ee,dynamicChildren:ye,dirs:Ge}=re;Ee|=J.patchFlag&16;const rt=J.props||cs,tt=re.props||cs;let Ve;if(ue&&mu(ue,!1),(Ve=tt.onVnodeBeforeUpdate)&&Af(Ve,ue,re,J),Ge&&$u(re,J,ue,"beforeUpdate"),ue&&mu(ue,!0),ye?Se(J.dynamicChildren,ye,xe,ue,me,Rh(re,he),Te):Ie||Xe(J,re,xe,null,ue,me,Rh(re,he),Te,!1),Ee>0){if(Ee&16)Ne(xe,re,rt,tt,ue,me,he);else if(Ee&2&&rt.class!==tt.class&&x(xe,"class",null,tt.class,he),Ee&4&&x(xe,"style",rt.style,tt.style,he),Ee&8){const lt=re.dynamicProps;for(let Pt=0;Pt<lt.length;Pt++){const dt=lt[Pt],wt=rt[dt],At=tt[dt];(At!==wt||dt==="value")&&x(xe,dt,wt,At,he,J.children,ue,me,Kt)}}Ee&1&&J.children!==re.children&&N(xe,re.children)}else!Ie&&ye==null&&Ne(xe,re,rt,tt,ue,me,he);((Ve=tt.onVnodeUpdated)||Ge)&&ci(()=>{Ve&&Af(Ve,ue,re,J),Ge&&$u(re,J,ue,"updated")},me)},Se=(J,re,ue,me,he,Te,Ie)=>{for(let xe=0;xe<re.length;xe++){const Ee=J[xe],ye=re[xe],Ge=Ee.el&&(Ee.type===oa||!_u(Ee,ye)||Ee.shapeFlag&70)?H(Ee.el):ue;ie(Ee,ye,Ge,null,me,he,Te,Ie,!0)}},Ne=(J,re,ue,me,he,Te,Ie)=>{if(ue!==me){if(ue!==cs)for(const xe in ue)!Go(xe)&&!(xe in me)&&x(J,xe,ue[xe],null,Ie,re.children,he,Te,Kt);for(const xe in me){if(Go(xe))continue;const Ee=me[xe],ye=ue[xe];Ee!==ye&&xe!=="value"&&x(J,xe,ye,Ee,Ie,re.children,he,Te,Kt)}"value"in me&&x(J,"value",ue.value,me.value,Ie)}},Ce=(J,re,ue,me,he,Te,Ie,xe,Ee)=>{const ye=re.el=J?J.el:M(""),Ge=re.anchor=J?J.anchor:M("");let{patchFlag:rt,dynamicChildren:tt,slotScopeIds:Ve}=re;Ve&&(xe=xe?xe.concat(Ve):Ve),J==null?(l(ye,ue,me),l(Ge,ue,me),ae(re.children||[],ue,Ge,he,Te,Ie,xe,Ee)):rt>0&&rt&64&&tt&&J.dynamicChildren?(Se(J.dynamicChildren,tt,ue,he,Te,Ie,xe),(re.key!=null||he&&re===he.subTree)&&n0(J,re,!0)):Xe(J,re,ue,Ge,he,Te,Ie,xe,Ee)},st=(J,re,ue,me,he,Te,Ie,xe,Ee)=>{re.slotScopeIds=xe,J==null?re.shapeFlag&512?he.ctx.activate(re,ue,me,Ie,Ee):ct(re,ue,me,he,Te,Ie,Ee):rr(J,re,Ee)},ct=(J,re,ue,me,he,Te,Ie)=>{const xe=J.component=Jw(J,me,he);if(xh(J)&&(xe.ctx.renderer=Br),Gw(xe),xe.asyncDep){if(he&&he.registerDep(xe,yt,Ie),!J.el){const Ee=xe.subTree=ws(di);Me(null,Ee,re,ue)}}else yt(xe,J,re,ue,he,Te,Ie)},rr=(J,re,ue)=>{const me=re.component=J.component;if(tw(J,re,ue))if(me.asyncDep&&!me.asyncResolved){vt(me,re,ue);return}else me.next=re,Jy(me.update),me.effect.dirty=!0,me.update();else re.el=J.el,me.vnode=re},yt=(J,re,ue,me,he,Te,Ie)=>{const xe=()=>{if(J.isMounted){let{next:Ge,bu:rt,u:tt,parent:Ve,vnode:lt}=J;{const at=a0(J);if(at){Ge&&(Ge.el=lt.el,vt(J,Ge,Ie)),at.asyncDep.then(()=>{J.isUnmounted||xe()});return}}let Pt=Ge,dt;mu(J,!1),Ge?(Ge.el=lt.el,vt(J,Ge,Ie)):Ge=lt,rt&&Nh(rt),(dt=Ge.props&&Ge.props.onVnodeBeforeUpdate)&&Af(dt,Ve,Ge,lt),mu(J,!0);const wt=jh(J),At=J.subTree;J.subTree=wt,ie(At,wt,H(At.el),xr(At),J,he,Te),Ge.el=wt.el,Pt===null&&rw(J,wt.el),tt&&ci(tt,he),(dt=Ge.props&&Ge.props.onVnodeUpdated)&&ci(()=>Af(dt,Ve,Ge,lt),he)}else{let Ge;const{el:rt,props:tt}=re,{bm:Ve,m:lt,parent:Pt}=J,dt=Qo(re);if(mu(J,!1),Ve&&Nh(Ve),!dt&&(Ge=tt&&tt.onVnodeBeforeMount)&&Af(Ge,Pt,re),mu(J,!0),rt&&br){const wt=()=>{J.subTree=jh(J),br(rt,J.subTree,J,he,null)};dt?re.type.__asyncLoader().then(()=>!J.isUnmounted&&wt()):wt()}else{const wt=J.subTree=jh(J);ie(null,wt,ue,me,J,he,Te),re.el=wt.el}if(lt&&ci(lt,he),!dt&&(Ge=tt&&tt.onVnodeMounted)){const wt=re;ci(()=>Af(Ge,Pt,wt),he)}(re.shapeFlag&256||Pt&&Qo(Pt.vnode)&&Pt.vnode.shapeFlag&256)&&J.a&&ci(J.a,he),J.isMounted=!0,re=ue=me=null}},Ee=J.effect=new mv(xe,cf,()=>Ev(ye),J.scope),ye=J.update=()=>{Ee.dirty&&Ee.run()};ye.id=J.uid,mu(J,!0),ye()},vt=(J,re,ue)=>{re.component=J;const me=J.vnode.props;J.vnode=re,J.next=null,Aw(J,re.props,me,ue),Pw(J,re.children,ue),vu(),Yv(J),gu()},Xe=(J,re,ue,me,he,Te,Ie,xe,Ee=!1)=>{const ye=J&&J.children,Ge=J?J.shapeFlag:0,rt=re.children,{patchFlag:tt,shapeFlag:Ve}=re;if(tt>0){if(tt&128){Zt(ye,rt,ue,me,he,Te,Ie,xe,Ee);return}else if(tt&256){gt(ye,rt,ue,me,he,Te,Ie,xe,Ee);return}}Ve&8?(Ge&16&&Kt(ye,he,Te),rt!==ye&&N(ue,rt)):Ge&16?Ve&16?Zt(ye,rt,ue,me,he,Te,Ie,xe,Ee):Kt(ye,he,Te,!0):(Ge&8&&N(ue,""),Ve&16&&ae(rt,ue,me,he,Te,Ie,xe,Ee))},gt=(J,re,ue,me,he,Te,Ie,xe,Ee)=>{J=J||po,re=re||po;const ye=J.length,Ge=re.length,rt=Math.min(ye,Ge);let tt;for(tt=0;tt<rt;tt++){const Ve=re[tt]=Ee?tu(re[tt]):Pf(re[tt]);ie(J[tt],Ve,ue,null,he,Te,Ie,xe,Ee)}ye>Ge?Kt(J,he,Te,!0,!1,rt):ae(re,ue,me,he,Te,Ie,xe,Ee,rt)},Zt=(J,re,ue,me,he,Te,Ie,xe,Ee)=>{let ye=0;const Ge=re.length;let rt=J.length-1,tt=Ge-1;for(;ye<=rt&&ye<=tt;){const Ve=J[ye],lt=re[ye]=Ee?tu(re[ye]):Pf(re[ye]);if(_u(Ve,lt))ie(Ve,lt,ue,null,he,Te,Ie,xe,Ee);else break;ye++}for(;ye<=rt&&ye<=tt;){const Ve=J[rt],lt=re[tt]=Ee?tu(re[tt]):Pf(re[tt]);if(_u(Ve,lt))ie(Ve,lt,ue,null,he,Te,Ie,xe,Ee);else break;rt--,tt--}if(ye>rt){if(ye<=tt){const Ve=tt+1,lt=Ve<Ge?re[Ve].el:me;for(;ye<=tt;)ie(null,re[ye]=Ee?tu(re[ye]):Pf(re[ye]),ue,lt,he,Te,Ie,xe,Ee),ye++}}else if(ye>tt)for(;ye<=rt;)ht(J[ye],he,Te,!0),ye++;else{const Ve=ye,lt=ye,Pt=new Map;for(ye=lt;ye<=tt;ye++){const bt=re[ye]=Ee?tu(re[ye]):Pf(re[ye]);bt.key!=null&&Pt.set(bt.key,ye)}let dt,wt=0;const At=tt-lt+1;let at=!1,is=0;const ls=new Array(At);for(ye=0;ye<At;ye++)ls[ye]=0;for(ye=Ve;ye<=rt;ye++){const bt=J[ye];if(wt>=At){ht(bt,he,Te,!0);continue}let Rt;if(bt.key!=null)Rt=Pt.get(bt.key);else for(dt=lt;dt<=tt;dt++)if(ls[dt-lt]===0&&_u(bt,re[dt])){Rt=dt;break}Rt===void 0?ht(bt,he,Te,!0):(ls[Rt-lt]=ye+1,Rt>=is?is=Rt:at=!0,ie(bt,re[Rt],ue,null,he,Te,Ie,xe,Ee),wt++)}const zr=at?Sw(ls):po;for(dt=zr.length-1,ye=At-1;ye>=0;ye--){const bt=lt+ye,Rt=re[bt],an=bt+1<Ge?re[bt+1].el:me;ls[ye]===0?ie(null,Rt,ue,an,he,Te,Ie,xe,Ee):at&&(dt<0||ye!==zr[dt]?er(Rt,ue,an,2):dt--)}}},er=(J,re,ue,me,he=null)=>{const{el:Te,type:Ie,transition:xe,children:Ee,shapeFlag:ye}=J;if(ye&6){er(J.component.subTree,re,ue,me);return}if(ye&128){J.suspense.move(re,ue,me);return}if(ye&64){Ie.move(J,re,ue,Br);return}if(Ie===oa){l(Te,re,ue);for(let rt=0;rt<Ee.length;rt++)er(Ee[rt],re,ue,me);l(J.anchor,re,ue);return}if(Ie===Lh){K(J,re,ue);return}if(me!==2&&ye&1&&xe)if(me===0)xe.beforeEnter(Te),l(Te,re,ue),ci(()=>xe.enter(Te),he);else{const{leave:rt,delayLeave:tt,afterLeave:Ve}=xe,lt=()=>l(Te,re,ue),Pt=()=>{rt(Te,()=>{lt(),Ve&&Ve()})};tt?tt(Te,lt,Pt):Pt()}else l(Te,re,ue)},ht=(J,re,ue,me=!1,he=!1)=>{const{type:Te,props:Ie,ref:xe,children:Ee,dynamicChildren:ye,shapeFlag:Ge,patchFlag:rt,dirs:tt,memoIndex:Ve}=J;if(rt===-2&&(he=!1),xe!=null&&_p(xe,null,ue,J,!0),Ve!=null&&(re.renderCache[Ve]=void 0),Ge&256){re.ctx.deactivate(J);return}const lt=Ge&1&&tt,Pt=!Qo(J);let dt;if(Pt&&(dt=Ie&&Ie.onVnodeBeforeUnmount)&&Af(dt,re,J),Ge&6)Pr(J.component,ue,me);else{if(Ge&128){J.suspense.unmount(ue,me);return}lt&&$u(J,null,re,"beforeUnmount"),Ge&64?J.type.remove(J,re,ue,Br,me):ye&&(Te!==oa||rt>0&&rt&64)?Kt(ye,re,ue,!1,!0):(Te===oa&&rt&384||!he&&Ge&16)&&Kt(Ee,re,ue),me&&_r(J)}(Pt&&(dt=Ie&&Ie.onVnodeUnmounted)||lt)&&ci(()=>{dt&&Af(dt,re,J),lt&&$u(J,null,re,"unmounted")},ue)},_r=J=>{const{type:re,el:ue,anchor:me,transition:he}=J;if(re===oa){Qt(ue,me);return}if(re===Lh){Q(J);return}const Te=()=>{d(ue),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(J.shapeFlag&1&&he&&!he.persisted){const{leave:Ie,delayLeave:xe}=he,Ee=()=>Ie(ue,Te);xe?xe(J.el,Te,Ee):Ee()}else Te()},Qt=(J,re)=>{let ue;for(;J!==re;)ue=B(J),d(J),J=ue;d(re)},Pr=(J,re,ue)=>{const{bum:me,scope:he,update:Te,subTree:Ie,um:xe,m:Ee,a:ye}=J;ug(Ee),ug(ye),me&&Nh(me),he.stop(),Te&&(Te.active=!1,ht(Ie,J,re,ue)),xe&&ci(xe,re),ci(()=>{J.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&J.asyncDep&&!J.asyncResolved&&J.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},Kt=(J,re,ue,me=!1,he=!1,Te=0)=>{for(let Ie=Te;Ie<J.length;Ie++)ht(J[Ie],re,ue,me,he)},xr=J=>J.shapeFlag&6?xr(J.component.subTree):J.shapeFlag&128?J.suspense.next():B(J.anchor||J.el);let Or=!1;const Mt=(J,re,ue)=>{J==null?re._vnode&&ht(re._vnode,null,null,!0):ie(re._vnode||null,J,re,null,null,null,ue),Or||(Or=!0,Yv(),Ud(),Or=!1),re._vnode=J},Br={p:ie,um:ht,m:er,r:_r,mt:ct,mc:ae,pc:Xe,pbc:Se,n:xr,o:t};let sr,br;return{render:Mt,hydrate:sr,createApp:mw(Mt,sr)}}function Rh({type:t,props:r},e){return e==="svg"&&t==="foreignObject"||e==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:e}function mu({effect:t,update:r},e){t.allowRecurse=r.allowRecurse=e}function Ew(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function n0(t,r,e=!1){const l=t.children,d=r.children;if(xt(l)&&xt(d))for(let x=0;x<l.length;x++){const P=l[x];let M=d[x];M.shapeFlag&1&&!M.dynamicChildren&&((M.patchFlag<=0||M.patchFlag===32)&&(M=d[x]=tu(d[x]),M.el=P.el),!e&&M.patchFlag!==-2&&n0(P,M)),M.type===bh&&(M.el=P.el)}}function Sw(t){const r=t.slice(),e=[0];let l,d,x,P,M;const F=t.length;for(l=0;l<F;l++){const T=t[l];if(T!==0){if(d=e[e.length-1],t[d]<T){r[l]=d,e.push(l);continue}for(x=0,P=e.length-1;x<P;)M=x+P>>1,t[e[M]]<T?x=M+1:P=M;T<t[e[x]]&&(x>0&&(r[l]=e[x-1]),e[x]=l)}}for(x=e.length,P=e[x-1];x-- >0;)e[x]=P,P=r[P];return e}function a0(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:a0(r)}function ug(t){if(t)for(let r=0;r<t.length;r++)t[r].active=!1}const Tw=Symbol.for("v-scx"),Fw=()=>Mc(Tw),mc={};function ec(t,r,e){return i0(t,r,e)}function i0(t,r,{immediate:e,deep:l,flush:d,once:x,onTrack:P,onTrigger:M}=cs){if(r&&x){const Z=r;r=(...ee)=>{Z(...ee),X()}}const F=ha,T=Z=>l===!0?Z:Cu(Z,l===!1?1:void 0);let N,H=!1,B=!1;if(wi(t)?(N=()=>t.value,H=Yc(t)):Zo(t)?(N=()=>T(t),H=!0):xt(t)?(B=!0,H=t.some(Z=>Zo(Z)||Yc(Z)),N=()=>t.map(Z=>{if(wi(Z))return Z.value;if(Zo(Z))return T(Z);if(Vt(Z))return fu(Z,F,2)})):Vt(t)?r?N=()=>fu(t,F,2):N=()=>(W&&W(),pf(t,F,3,[ve])):N=cf,r&&l){const Z=N;N=()=>Cu(Z())}let W,ve=Z=>{W=K.onStop=()=>{fu(Z,F,4),W=K.onStop=void 0}},ie;if(Ch)if(ve=cf,r?e&&pf(r,F,3,[N(),B?[]:void 0,ve]):N(),d==="sync"){const Z=Fw();ie=Z.__watcherHandles||(Z.__watcherHandles=[])}else return cf;let fe=B?new Array(t.length).fill(mc):mc;const Me=()=>{if(!(!K.active||!K.dirty))if(r){const Z=K.run();(l||H||(B?Z.some((ee,ae)=>cu(ee,fe[ae])):cu(Z,fe)))&&(W&&W(),pf(r,F,3,[Z,fe===mc?void 0:B&&fe[0]===mc?[]:fe,ve]),fe=Z)}else K.run()};Me.allowRecurse=!!r;let G;d==="sync"?G=Me:d==="post"?G=()=>ci(Me,F&&F.suspense):(Me.pre=!0,F&&(Me.id=F.uid),G=()=>Ev(Me));const K=new mv(N,cf,G),Q=wy(),X=()=>{K.stop(),Q&&yv(Q.effects,K)};return r?e?Me():fe=K.run():d==="post"?ci(K.run.bind(K),F&&F.suspense):K.run(),ie&&ie.push(X),X}function Nw(t,r,e){const l=this.proxy,d=qs(t)?t.includes(".")?l0(l,t):()=>l[t]:t.bind(l,l);let x;Vt(r)?x=r:(x=r.handler,e=r);const P=hc(this),M=i0(d,x.bind(l),e);return P(),M}function l0(t,r){const e=r.split(".");return()=>{let l=t;for(let d=0;d<e.length&&l;d++)l=l[e[d]];return l}}function Cu(t,r=1/0,e){if(r<=0||!fs(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),r--,wi(t))Cu(t.value,r,e);else if(xt(t))for(let l=0;l<t.length;l++)Cu(t[l],r,e);else if(pd(t)||vo(t))t.forEach(l=>{Cu(l,r,e)});else if(dd(t)){for(const l in t)Cu(t[l],r,e);for(const l of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,l)&&Cu(t[l],r,e)}return t}const xh=t=>t.type.__isKeepAlive;function Ow(t,r){f0(t,"a",r)}function jw(t,r){f0(t,"da",r)}function f0(t,r,e=ha){const l=t.__wdc||(t.__wdc=()=>{let d=e;for(;d;){if(d.isDeactivated)return;d=d.parent}return t()});if(mh(r,l,e),e){let d=e.parent;for(;d&&d.parent;)xh(d.parent.vnode)&&Iw(l,r,e,d),d=d.parent}}function Iw(t,r,e,l){const d=mh(r,t,l,!0);Kd(()=>{yv(l[r],d)},e)}const eu=Symbol("_leaveCb"),xc=Symbol("_enterCb");function Rw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qd(()=>{t.isMounted=!0}),Vd(()=>{t.isUnmounting=!0}),t}const af=[Function,Array],u0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:af,onEnter:af,onAfterEnter:af,onEnterCancelled:af,onBeforeLeave:af,onLeave:af,onAfterLeave:af,onLeaveCancelled:af,onBeforeAppear:af,onAppear:af,onAfterAppear:af,onAppearCancelled:af},o0=t=>{const r=t.subTree;return r.component?o0(r.component):r},Dw={name:"BaseTransition",props:u0,setup(t,{slots:r}){const e=Ww(),l=Rw();return()=>{const d=r.default&&h0(r.default(),!0);if(!d||!d.length)return;let x=d[0];if(d.length>1){for(const B of d)if(B.type!==di){x=B;break}}const P=Cr(t),{mode:M}=P;if(l.isLeaving)return Dh(x);const F=og(x);if(!F)return Dh(x);let T=Pp(F,P,l,e,B=>T=B);sh(F,T);const N=e.subTree,H=N&&og(N);if(H&&H.type!==di&&!_u(F,H)&&o0(e).type!==di){const B=Pp(H,P,l,e);if(sh(H,B),M==="out-in"&&F.type!==di)return l.isLeaving=!0,B.afterLeave=()=>{l.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},Dh(x);M==="in-out"&&F.type!==di&&(B.delayLeave=(W,ve,ie)=>{const fe=c0(l,H);fe[String(H.key)]=H,W[eu]=()=>{ve(),W[eu]=void 0,delete T.delayedLeave},T.delayedLeave=ie})}return x}}},Lw=Dw;function c0(t,r){const{leavingVNodes:e}=t;let l=e.get(r.type);return l||(l=Object.create(null),e.set(r.type,l)),l}function Pp(t,r,e,l,d){const{appear:x,mode:P,persisted:M=!1,onBeforeEnter:F,onEnter:T,onAfterEnter:N,onEnterCancelled:H,onBeforeLeave:B,onLeave:W,onAfterLeave:ve,onLeaveCancelled:ie,onBeforeAppear:fe,onAppear:Me,onAfterAppear:G,onAppearCancelled:K}=r,Q=String(t.key),X=c0(e,t),Z=(ne,Se)=>{ne&&pf(ne,l,9,Se)},ee=(ne,Se)=>{const Ne=Se[1];Z(ne,Se),xt(ne)?ne.every(Ce=>Ce.length<=1)&&Ne():ne.length<=1&&Ne()},ae={mode:P,persisted:M,beforeEnter(ne){let Se=F;if(!e.isMounted)if(x)Se=fe||F;else return;ne[eu]&&ne[eu](!0);const Ne=X[Q];Ne&&_u(t,Ne)&&Ne.el[eu]&&Ne.el[eu](),Z(Se,[ne])},enter(ne){let Se=T,Ne=N,Ce=H;if(!e.isMounted)if(x)Se=Me||T,Ne=G||N,Ce=K||H;else return;let st=!1;const ct=ne[xc]=rr=>{st||(st=!0,rr?Z(Ce,[ne]):Z(Ne,[ne]),ae.delayedLeave&&ae.delayedLeave(),ne[xc]=void 0)};Se?ee(Se,[ne,ct]):ct()},leave(ne,Se){const Ne=String(t.key);if(ne[xc]&&ne[xc](!0),e.isUnmounting)return Se();Z(B,[ne]);let Ce=!1;const st=ne[eu]=ct=>{Ce||(Ce=!0,Se(),ct?Z(ie,[ne]):Z(ve,[ne]),ne[eu]=void 0,X[Ne]===t&&delete X[Ne])};X[Ne]=t,W?ee(W,[ne,st]):st()},clone(ne){const Se=Pp(ne,r,e,l,d);return d&&d(Se),Se}};return ae}function Dh(t){if(xh(t))return t=hu(t),t.children=null,t}function og(t){if(!xh(t))return t;const{shapeFlag:r,children:e}=t;if(e){if(r&16)return e[0];if(r&32&&Vt(e.default))return e.default()}}function sh(t,r){t.shapeFlag&6&&t.component?sh(t.component.subTree,r):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function h0(t,r=!1,e){let l=[],d=0;for(let x=0;x<t.length;x++){let P=t[x];const M=e==null?P.key:String(e)+String(P.key!=null?P.key:x);P.type===oa?(P.patchFlag&128&&d++,l=l.concat(h0(P.children,r,M))):(r||P.type!==di)&&l.push(M!=null?hu(P,{key:M}):P)}if(d>1)for(let x=0;x<l.length;x++)l[x].patchFlag=-2;return l}const Hw=t=>t.__isTeleport,oa=Symbol.for("v-fgt"),bh=Symbol.for("v-txt"),di=Symbol.for("v-cmt"),Lh=Symbol.for("v-stc"),tc=[];let bf=null;function ys(t=!1){tc.push(bf=t?null:[])}function Uw(){tc.pop(),bf=tc[tc.length-1]||null}let uc=1;function cg(t){uc+=t}function p0(t){return t.dynamicChildren=uc>0?bf||po:null,Uw(),uc>0&&bf&&bf.push(t),t}function nn(t,r,e,l,d,x){return p0(hf(t,r,e,l,d,x,!0))}function Ah(t,r,e,l,d){return p0(ws(t,r,e,l,d,!0))}function nh(t){return t?t.__v_isVNode===!0:!1}function _u(t,r){return t.type===r.type&&t.key===r.key}const v0=({key:t})=>t??null,Ec=({ref:t,ref_key:r,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?qs(t)||wi(t)||Vt(t)?{i:ai,r:t,k:r,f:!!e}:t:null);function hf(t,r=null,e=null,l=0,d=null,x=t===oa?0:1,P=!1,M=!1){const F={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&v0(r),ref:r&&Ec(r),scopeId:$h,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:l,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:ai};return M?(Fv(F,e),x&128&&t.normalize(F)):e&&(F.shapeFlag|=qs(e)?8:16),uc>0&&!P&&bf&&(F.patchFlag>0||x&6)&&F.patchFlag!==32&&bf.push(F),F}const ws=Bw;function Bw(t,r=null,e=null,l=0,d=null,x=!1){if((!t||t===sw)&&(t=di),nh(t)){const M=hu(t,r,!0);return e&&Fv(M,e),uc>0&&!x&&bf&&(M.shapeFlag&6?bf[bf.indexOf(t)]=M:bf.push(M)),M.patchFlag=-2,M}if(Yw(t)&&(t=t.__vccOpts),r){r=zw(r);let{class:M,style:F}=r;M&&!qs(M)&&(r.class=pa(M)),fs(F)&&(jd(F)&&!xt(F)&&(F=zs({},F)),r.style=$v(F))}const P=qs(t)?1:nw(t)?128:Hw(t)?64:fs(t)?4:Vt(t)?2:0;return hf(t,r,e,l,d,P,x,!0)}function zw(t){return t?jd(t)||Xd(t)?zs({},t):t:null}function hu(t,r,e=!1,l=!1){const{props:d,ref:x,patchFlag:P,children:M,transition:F}=t,T=r?qw(d||{},r):d,N={__v_isVNode:!0,__v_skip:!0,type:t.type,props:T,key:T&&v0(T),ref:r&&r.ref?e&&x?xt(x)?x.concat(Ec(r)):[x,Ec(r)]:Ec(r):x,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:M,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==oa?P===-1?16:P|16:P,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:F,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hu(t.ssContent),ssFallback:t.ssFallback&&hu(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return F&&l&&sh(N,F.clone(N)),N}function xf(t=" ",r=0){return ws(bh,null,t,r)}function Ro(t="",r=!1){return r?(ys(),Ah(di,null,t)):ws(di,null,t)}function Pf(t){return t==null||typeof t=="boolean"?ws(di):xt(t)?ws(oa,null,t.slice()):typeof t=="object"?tu(t):ws(bh,null,String(t))}function tu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hu(t)}function Fv(t,r){let e=0;const{shapeFlag:l}=t;if(r==null)r=null;else if(xt(r))e=16;else if(typeof r=="object")if(l&65){const d=r.default;d&&(d._c&&(d._d=!1),Fv(t,d()),d._c&&(d._d=!0));return}else{e=32;const d=r._;!d&&!Xd(r)?r._ctx=ai:d===3&&ai&&(ai.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Vt(r)?(r={default:r,_ctx:ai},e=32):(r=String(r),l&64?(e=16,r=[xf(r)]):e=8);t.children=r,t.shapeFlag|=e}function qw(...t){const r={};for(let e=0;e<t.length;e++){const l=t[e];for(const d in l)if(d==="class")r.class!==l.class&&(r.class=pa([r.class,l.class]));else if(d==="style")r.style=$v([r.style,l.style]);else if(ph(d)){const x=r[d],P=l[d];P&&x!==P&&!(xt(x)&&x.includes(P))&&(r[d]=x?[].concat(x,P):P)}else d!==""&&(r[d]=l[d])}return r}function Af(t,r,e,l=null){pf(t,r,7,[e,l])}const Vw=Gd();let Kw=0;function Jw(t,r,e){const l=t.type,d=(r?r.appContext:t.appContext)||Vw,x={uid:Kw++,vnode:t,type:l,parent:r,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new dy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:e0(l,d),emitsOptions:zd(l,d),emit:null,emitted:null,propsDefaults:cs,inheritAttrs:l.inheritAttrs,ctx:cs,data:cs,props:cs,attrs:cs,slots:cs,refs:cs,setupState:cs,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=r?r.root:x,x.emit=Zy.bind(null,x),t.ce&&t.ce(x),x}let ha=null;const Ww=()=>ha||ai;let ah,kp;{const t=$d(),r=(e,l)=>{let d;return(d=t[e])||(d=t[e]=[]),d.push(l),x=>{d.length>1?d.forEach(P=>P(x)):d[0](x)}};ah=r("__VUE_INSTANCE_SETTERS__",e=>ha=e),kp=r("__VUE_SSR_SETTERS__",e=>Ch=e)}const hc=t=>{const r=ha;return ah(t),t.scope.on(),()=>{t.scope.off(),ah(r)}},hg=()=>{ha&&ha.scope.off(),ah(null)};function g0(t){return t.vnode.shapeFlag&4}let Ch=!1;function Gw(t,r=!1){r&&kp(r);const{props:e,children:l}=t.vnode,d=g0(t);bw(t,e,d,r),_w(t,l);const x=d?Zw(t,r):void 0;return r&&kp(!1),x}function Zw(t,r){const e=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,pw);const{setup:l}=e;if(l){const d=t.setupContext=l.length>1?Xw(t):null,x=hc(t);vu();const P=fu(l,t,0,[t.props,d]);if(gu(),x(),vd(P)){if(P.then(hg,hg),r)return P.then(M=>{pg(t,M,r)}).catch(M=>{yh(M,t,0)});t.asyncDep=P}else pg(t,P,r)}else d0(t,r)}function pg(t,r,e){Vt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:fs(r)&&(t.setupState=Dd(r)),d0(t,e)}let vg;function d0(t,r,e){const l=t.type;if(!t.render){if(!r&&vg&&!l.render){const d=l.template||Sv(t).template;if(d){const{isCustomElement:x,compilerOptions:P}=t.appContext.config,{delimiters:M,compilerOptions:F}=l,T=zs(zs({isCustomElement:x,delimiters:M},P),F);l.render=vg(d,T)}}t.render=l.render||cf}{const d=hc(t);vu();try{vw(t)}finally{gu(),d()}}}const Qw={get(t,r){return yi(t,"get",""),t[r]}};function Xw(t){const r=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,Qw),slots:t.slots,emit:t.emit,expose:r}}function Nv(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Dd(Ly(t.exposed)),{get(r,e){if(e in r)return r[e];if(e in Xo)return Xo[e](t)},has(r,e){return e in r||e in Xo}})):t.proxy}function Yw(t){return Vt(t)&&"__vccOpts"in t}const e$=(t,r)=>Hy(t,r,Ch);function Gf(t,r,e){const l=arguments.length;return l===2?fs(r)&&!xt(r)?nh(r)?ws(t,null,[r]):ws(t,r):ws(t,null,r):(l>3?e=Array.prototype.slice.call(arguments,2):l===3&&nh(e)&&(e=[e]),ws(t,r,e))}const t$="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const r$="http://www.w3.org/2000/svg",s$="http://www.w3.org/1998/Math/MathML",Df=typeof document<"u"?document:null,gg=Df&&Df.createElement("template"),n$={insert:(t,r,e)=>{r.insertBefore(t,e||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,e,l)=>{const d=r==="svg"?Df.createElementNS(r$,t):r==="mathml"?Df.createElementNS(s$,t):e?Df.createElement(t,{is:e}):Df.createElement(t);return t==="select"&&l&&l.multiple!=null&&d.setAttribute("multiple",l.multiple),d},createText:t=>Df.createTextNode(t),createComment:t=>Df.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Df.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,e,l,d,x){const P=e?e.previousSibling:r.lastChild;if(d&&(d===x||d.nextSibling))for(;r.insertBefore(d.cloneNode(!0),e),!(d===x||!(d=d.nextSibling)););else{gg.innerHTML=l==="svg"?`<svg>${t}</svg>`:l==="mathml"?`<math>${t}</math>`:t;const M=gg.content;if(l==="svg"||l==="mathml"){const F=M.firstChild;for(;F.firstChild;)M.appendChild(F.firstChild);M.removeChild(F)}r.insertBefore(M,e)}return[P?P.nextSibling:r.firstChild,e?e.previousSibling:r.lastChild]}},Jf="transition",Lo="animation",oc=Symbol("_vtc"),Ov=(t,{slots:r})=>Gf(Lw,a$(t),r);Ov.displayName="Transition";const y0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ov.props=zs({},u0,y0);const xu=(t,r=[])=>{xt(t)?t.forEach(e=>e(...r)):t&&t(...r)},dg=t=>t?xt(t)?t.some(r=>r.length>1):t.length>1:!1;function a$(t){const r={};for(const Ce in t)Ce in y0||(r[Ce]=t[Ce]);if(t.css===!1)return r;const{name:e="v",type:l,duration:d,enterFromClass:x=`${e}-enter-from`,enterActiveClass:P=`${e}-enter-active`,enterToClass:M=`${e}-enter-to`,appearFromClass:F=x,appearActiveClass:T=P,appearToClass:N=M,leaveFromClass:H=`${e}-leave-from`,leaveActiveClass:B=`${e}-leave-active`,leaveToClass:W=`${e}-leave-to`}=t,ve=i$(d),ie=ve&&ve[0],fe=ve&&ve[1],{onBeforeEnter:Me,onEnter:G,onEnterCancelled:K,onLeave:Q,onLeaveCancelled:X,onBeforeAppear:Z=Me,onAppear:ee=G,onAppearCancelled:ae=K}=r,ne=(Ce,st,ct)=>{bu(Ce,st?N:M),bu(Ce,st?T:P),ct&&ct()},Se=(Ce,st)=>{Ce._isLeaving=!1,bu(Ce,H),bu(Ce,W),bu(Ce,B),st&&st()},Ne=Ce=>(st,ct)=>{const rr=Ce?ee:G,yt=()=>ne(st,Ce,ct);xu(rr,[st,yt]),yg(()=>{bu(st,Ce?F:x),Wf(st,Ce?N:M),dg(rr)||wg(st,l,ie,yt)})};return zs(r,{onBeforeEnter(Ce){xu(Me,[Ce]),Wf(Ce,x),Wf(Ce,P)},onBeforeAppear(Ce){xu(Z,[Ce]),Wf(Ce,F),Wf(Ce,T)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(Ce,st){Ce._isLeaving=!0;const ct=()=>Se(Ce,st);Wf(Ce,H),Wf(Ce,B),u$(),yg(()=>{Ce._isLeaving&&(bu(Ce,H),Wf(Ce,W),dg(Q)||wg(Ce,l,fe,ct))}),xu(Q,[Ce,ct])},onEnterCancelled(Ce){ne(Ce,!1),xu(K,[Ce])},onAppearCancelled(Ce){ne(Ce,!0),xu(ae,[Ce])},onLeaveCancelled(Ce){Se(Ce),xu(X,[Ce])}})}function i$(t){if(t==null)return null;if(fs(t))return[Hh(t.enter),Hh(t.leave)];{const r=Hh(t);return[r,r]}}function Hh(t){return uy(t)}function Wf(t,r){r.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t[oc]||(t[oc]=new Set)).add(r)}function bu(t,r){r.split(/\s+/).forEach(l=>l&&t.classList.remove(l));const e=t[oc];e&&(e.delete(r),e.size||(t[oc]=void 0))}function yg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let l$=0;function wg(t,r,e,l){const d=t._endId=++l$,x=()=>{d===t._endId&&l()};if(e)return setTimeout(x,e);const{type:P,timeout:M,propCount:F}=f$(t,r);if(!P)return l();const T=P+"end";let N=0;const H=()=>{t.removeEventListener(T,B),x()},B=W=>{W.target===t&&++N>=F&&H()};setTimeout(()=>{N<F&&H()},M+1),t.addEventListener(T,B)}function f$(t,r){const e=window.getComputedStyle(t),l=ve=>(e[ve]||"").split(", "),d=l(`${Jf}Delay`),x=l(`${Jf}Duration`),P=$g(d,x),M=l(`${Lo}Delay`),F=l(`${Lo}Duration`),T=$g(M,F);let N=null,H=0,B=0;r===Jf?P>0&&(N=Jf,H=P,B=x.length):r===Lo?T>0&&(N=Lo,H=T,B=F.length):(H=Math.max(P,T),N=H>0?P>T?Jf:Lo:null,B=N?N===Jf?x.length:F.length:0);const W=N===Jf&&/\b(transform|all)(,|$)/.test(l(`${Jf}Property`).toString());return{type:N,timeout:H,propCount:B,hasTransform:W}}function $g(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((e,l)=>mg(e)+mg(t[l])))}function mg(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function u$(){return document.body.offsetHeight}function o$(t,r,e){const l=t[oc];l&&(r=(r?[r,...l]:[...l]).join(" ")),r==null?t.removeAttribute("class"):e?t.setAttribute("class",r):t.className=r}const xg=Symbol("_vod"),c$=Symbol("_vsh"),h$=Symbol(""),p$=/(^|;)\s*display\s*:/;function v$(t,r,e){const l=t.style,d=qs(e);let x=!1;if(e&&!d){if(r)if(qs(r))for(const P of r.split(";")){const M=P.slice(0,P.indexOf(":")).trim();e[M]==null&&Sc(l,M,"")}else for(const P in r)e[P]==null&&Sc(l,P,"");for(const P in e)P==="display"&&(x=!0),Sc(l,P,e[P])}else if(d){if(r!==e){const P=l[h$];P&&(e+=";"+P),l.cssText=e,x=p$.test(e)}}else r&&t.removeAttribute("style");xg in t&&(t[xg]=x?l.display:"",t[c$]&&(l.display="none"))}const bg=/\s*!important$/;function Sc(t,r,e){if(xt(e))e.forEach(l=>Sc(t,r,l));else if(e==null&&(e=""),r.startsWith("--"))t.setProperty(r,e);else{const l=g$(t,r);bg.test(e)?t.setProperty(Do(l),e.replace(bg,""),"important"):t[l]=e}}const Ag=["Webkit","Moz","ms"],Uh={};function g$(t,r){const e=Uh[r];if(e)return e;let l=Io(r);if(l!=="filter"&&l in t)return Uh[r]=l;l=yd(l);for(let d=0;d<Ag.length;d++){const x=Ag[d]+l;if(x in t)return Uh[r]=x}return r}const Cg="http://www.w3.org/1999/xlink";function _g(t,r,e,l,d,x=gy(r)){l&&r.startsWith("xlink:")?e==null?t.removeAttributeNS(Cg,r.slice(6,r.length)):t.setAttributeNS(Cg,r,e):e==null||x&&!md(e)?t.removeAttribute(r):t.setAttribute(r,x?"":pu(e)?String(e):e)}function d$(t,r,e,l,d,x,P){if(r==="innerHTML"||r==="textContent"){l&&P(l,d,x),t[r]=e??"";return}const M=t.tagName;if(r==="value"&&M!=="PROGRESS"&&!M.includes("-")){const T=M==="OPTION"?t.getAttribute("value")||"":t.value,N=e==null?"":String(e);(T!==N||!("_value"in t))&&(t.value=N),e==null&&t.removeAttribute(r),t._value=e;return}let F=!1;if(e===""||e==null){const T=typeof t[r];T==="boolean"?e=md(e):e==null&&T==="string"?(e="",F=!0):T==="number"&&(e=0,F=!0)}try{t[r]=e}catch{}F&&t.removeAttribute(r)}function y$(t,r,e,l){t.addEventListener(r,e,l)}function w$(t,r,e,l){t.removeEventListener(r,e,l)}const Pg=Symbol("_vei");function $$(t,r,e,l,d=null){const x=t[Pg]||(t[Pg]={}),P=x[r];if(l&&P)P.value=l;else{const[M,F]=m$(r);if(l){const T=x[r]=A$(l,d);y$(t,M,T,F)}else P&&(w$(t,M,P,F),x[r]=void 0)}}const kg=/(?:Once|Passive|Capture)$/;function m$(t){let r;if(kg.test(t)){r={};let l;for(;l=t.match(kg);)t=t.slice(0,t.length-l[0].length),r[l[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Do(t.slice(2)),r]}let Bh=0;const x$=Promise.resolve(),b$=()=>Bh||(x$.then(()=>Bh=0),Bh=Date.now());function A$(t,r){const e=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=e.attached)return;pf(C$(l,e.value),r,5,[l])};return e.value=t,e.attached=b$(),e}function C$(t,r){if(xt(r)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},r.map(l=>d=>!d._stopped&&l&&l(d))}else return r}const Mg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_$=(t,r,e,l,d,x,P,M,F)=>{const T=d==="svg";r==="class"?o$(t,l,T):r==="style"?v$(t,e,l):ph(r)?dv(r)||$$(t,r,e,l,P):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):P$(t,r,l,T))?(d$(t,r,l,x,P,M,F),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&_g(t,r,l,T,P,r!=="value")):(r==="true-value"?t._trueValue=l:r==="false-value"&&(t._falseValue=l),_g(t,r,l,T))};function P$(t,r,e,l){if(l)return!!(r==="innerHTML"||r==="textContent"||r in t&&Mg(r)&&Vt(e));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const d=t.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return Mg(r)&&qs(e)?!1:r in t}const k$=zs({patchProp:_$},n$);let Eg;function M$(){return Eg||(Eg=kw(k$))}const E$=(...t)=>{const r=M$().createApp(...t),{mount:e}=r;return r.mount=l=>{const d=T$(l);if(!d)return;const x=r._component;!Vt(x)&&!x.render&&!x.template&&(x.template=d.innerHTML),d.innerHTML="";const P=e(d,!1,S$(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),P},r};function S$(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function T$(t){return qs(t)?document.querySelector(t):t}function rc(){return rc=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},rc.apply(this,arguments)}var F$=13,N$=9,O$=8,j$=89,bc=90,I$=77,Sg=57,Tg=219,Fg=222,Ng=192,R$=27,Og=100,D$=3e3,L$=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),zh=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),H$=cc({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(r){r?this.codeData=r:this.codeData=""}},content:{immediate:!0,handler:function(){var r=this;this.lineNumbers&&this.$nextTick(function(){r.setLineNumbersHeight()})}},lineNumbers:function(){var r=this;this.$nextTick(function(){r.styleLineNumbers(),r.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var r=this.highlight(this.codeData)+"<br />";return r},lineNumbersCount:function(){var r=this.codeData.split(/\r\n|\n/).length;return r}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var r=this.$refs.pre,e=this.$el.querySelector(".prism-editor__line-numbers"),l=window.getComputedStyle(r);this.$nextTick(function(){var d="border-top-left-radius",x="border-bottom-left-radius";if(e){e.style[d]=l[d],e.style[x]=l[x],r.style[d]="0",r.style[x]="0";var P=["background-color","margin-top","padding-top","font-family","font-size","line-height"];P.forEach(function(M){e.style[M]=l[M]}),e.style["margin-bottom"]="-"+l["padding-top"]}})}},_recordCurrentState:function(){var r=this.$refs.textarea;if(r){var e=r.value,l=r.selectionStart,d=r.selectionEnd;this._recordChange({value:e,selectionStart:l,selectionEnd:d})}},_getLines:function(r,e){return r.substring(0,e).split(`
`)},_applyEdits:function(r){var e=this.$refs.textarea,l=this.history.stack[this.history.offset];l&&e&&(this.history.stack[this.history.offset]=rc({},l,{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})),this._recordChange(r),this._updateInput(r)},_recordChange:function(r,e){e===void 0&&(e=!1);var l=this.history,d=l.stack,x=l.offset;if(d.length&&x>-1){this.history.stack=d.slice(0,x+1);var P=this.history.stack.length;if(P>Og){var M=P-Og;this.history.stack=d.slice(M,P),this.history.offset=Math.max(this.history.offset-M,0)}}var F=Date.now();if(e){var T=this.history.stack[this.history.offset];if(T&&F-T.timestamp<D$){var N,H,B=/[^a-z0-9]([a-z0-9]+)$/i,W=(N=this._getLines(T.value,T.selectionStart).pop())===null||N===void 0?void 0:N.match(B),ve=(H=this._getLines(r.value,r.selectionStart).pop())===null||H===void 0?void 0:H.match(B);if(W&&ve&&ve[1].startsWith(W[1])){this.history.stack[this.history.offset]=rc({},r,{timestamp:F});return}}}this.history.stack.push(rc({},r,{timestamp:F})),this.history.offset++},_updateInput:function(r){var e=this.$refs.textarea;e&&(e.value=r.value,e.selectionStart=r.selectionStart,e.selectionEnd=r.selectionEnd,this.$emit("update:modelValue",r.value))},handleChange:function(r){var e=r.target,l=e.value,d=e.selectionStart,x=e.selectionEnd;this._recordChange({value:l,selectionStart:d,selectionEnd:x},!0),this.$emit("update:modelValue",l)},_undoEdit:function(){var r=this.history,e=r.stack,l=r.offset,d=e[l-1];d&&(this._updateInput(d),this.history.offset=Math.max(l-1,0))},_redoEdit:function(){var r=this.history,e=r.stack,l=r.offset,d=e[l+1];d&&(this._updateInput(d),this.history.offset=Math.min(l+1,e.length-1))},handleKeyDown:function(r){var e=this.tabSize,l=this.insertSpaces,d=this.ignoreTabKey;if(this.$emit("keydown",r),!r.defaultPrevented){r.keyCode===R$&&(r.target.blur(),this.$emit("blur",r));var x=r.target,P=x.value,M=x.selectionStart,F=x.selectionEnd,T=(l?" ":"	").repeat(e);if(r.keyCode===N$&&!d&&this.capture)if(r.preventDefault(),r.shiftKey){var N=this._getLines(P,M),H=N.length-1,B=this._getLines(P,F).length-1,W=P.split(`
`).map(function(Ce,st){return st>=H&&st<=B&&Ce.startsWith(T)?Ce.substring(T.length):Ce}).join(`
`);if(P!==W){var ve=N[H];this._applyEdits({value:W,selectionStart:ve.startsWith(T)?M-T.length:M,selectionEnd:F-(P.length-W.length)})}}else if(M!==F){var ie=this._getLines(P,M),fe=ie.length-1,Me=this._getLines(P,F).length-1,G=ie[fe];this._applyEdits({value:P.split(`
`).map(function(Ce,st){return st>=fe&&st<=Me?T+Ce:Ce}).join(`
`),selectionStart:/\S/.test(G)?M+T.length:M,selectionEnd:F+T.length*(Me-fe+1)})}else{var K=M+T.length;this._applyEdits({value:P.substring(0,M)+T+P.substring(F),selectionStart:K,selectionEnd:K})}else if(r.keyCode===O$){var Q=M!==F,X=P.substring(0,M);if(X.endsWith(T)&&!Q){r.preventDefault();var Z=M-T.length;this._applyEdits({value:P.substring(0,M-T.length)+P.substring(F),selectionStart:Z,selectionEnd:Z})}}else if(r.keyCode===F$){if(M===F){var ee=this._getLines(P,M).pop(),ae=ee==null?void 0:ee.match(/^\s+/);if(ae&&ae[0]){r.preventDefault();var ne=`
`+ae[0],Se=M+ne.length;this._applyEdits({value:P.substring(0,M)+ne+P.substring(F),selectionStart:Se,selectionEnd:Se})}}}else if(r.keyCode===Sg||r.keyCode===Tg||r.keyCode===Fg||r.keyCode===Ng){var Ne;r.keyCode===Sg&&r.shiftKey?Ne=["(",")"]:r.keyCode===Tg?r.shiftKey?Ne=["{","}"]:Ne=["[","]"]:r.keyCode===Fg?r.shiftKey?Ne=['"','"']:Ne=["'","'"]:r.keyCode===Ng&&!r.shiftKey&&(Ne=["`","`"]),M!==F&&Ne&&(r.preventDefault(),this._applyEdits({value:P.substring(0,M)+Ne[0]+P.substring(M,F)+Ne[1]+P.substring(F),selectionStart:M,selectionEnd:F+2}))}else(zh?r.metaKey&&r.keyCode===bc:r.ctrlKey&&r.keyCode===bc)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),this._undoEdit()):(zh?r.metaKey&&r.keyCode===bc&&r.shiftKey:L$?r.ctrlKey&&r.keyCode===j$:r.ctrlKey&&r.keyCode===bc&&r.shiftKey)&&!r.altKey?(r.preventDefault(),this._redoEdit()):r.keyCode===I$&&r.ctrlKey&&(!zh||r.shiftKey)&&(r.preventDefault(),this.capture=!this.capture)}}},render:function(){var r=this,e=Gf("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),l=Gf("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[e,Array.from(Array(this.lineNumbersCount).keys()).map(function(M,F){return Gf("div",{class:"prism-editor__line-number token comment"},""+ ++F)})]),d=Gf("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(F){r.$emit("click",F)},onKeyup:function(F){r.$emit("keyup",F)},onFocus:function(F){r.$emit("focus",F)},onBlur:function(F){r.$emit("blur",F)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),x=Gf("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),P=Gf("div",{class:"prism-editor__container"},[d,x]);return Gf("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&l,P])}}),rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function B$(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var e=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var d=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(e,l,d.get?d:{enumerable:!0,get:function(){return t[l]}})}),e}var z$={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(l){var d=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,x=0,P={},M={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function G(K){return K instanceof F?new F(K.type,G(K.content),K.alias):Array.isArray(K)?K.map(G):K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(G){return Object.prototype.toString.call(G).slice(8,-1)},objId:function(G){return G.__id||Object.defineProperty(G,"__id",{value:++x}),G.__id},clone:function G(K,Q){Q=Q||{};var X,Z;switch(M.util.type(K)){case"Object":if(Z=M.util.objId(K),Q[Z])return Q[Z];X={},Q[Z]=X;for(var ee in K)K.hasOwnProperty(ee)&&(X[ee]=G(K[ee],Q));return X;case"Array":return Z=M.util.objId(K),Q[Z]?Q[Z]:(X=[],Q[Z]=X,K.forEach(function(ae,ne){X[ne]=G(ae,Q)}),X);default:return K}},getLanguage:function(G){for(;G;){var K=d.exec(G.className);if(K)return K[1].toLowerCase();G=G.parentElement}return"none"},setLanguage:function(G,K){G.className=G.className.replace(RegExp(d,"gi"),""),G.classList.add("language-"+K)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(X){var G=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(X.stack)||[])[1];if(G){var K=document.getElementsByTagName("script");for(var Q in K)if(K[Q].src==G)return K[Q]}return null}},isActive:function(G,K,Q){for(var X="no-"+K;G;){var Z=G.classList;if(Z.contains(K))return!0;if(Z.contains(X))return!1;G=G.parentElement}return!!Q}},languages:{plain:P,plaintext:P,text:P,txt:P,extend:function(G,K){var Q=M.util.clone(M.languages[G]);for(var X in K)Q[X]=K[X];return Q},insertBefore:function(G,K,Q,X){X=X||M.languages;var Z=X[G],ee={};for(var ae in Z)if(Z.hasOwnProperty(ae)){if(ae==K)for(var ne in Q)Q.hasOwnProperty(ne)&&(ee[ne]=Q[ne]);Q.hasOwnProperty(ae)||(ee[ae]=Z[ae])}var Se=X[G];return X[G]=ee,M.languages.DFS(M.languages,function(Ne,Ce){Ce===Se&&Ne!=G&&(this[Ne]=ee)}),ee},DFS:function G(K,Q,X,Z){Z=Z||{};var ee=M.util.objId;for(var ae in K)if(K.hasOwnProperty(ae)){Q.call(K,ae,K[ae],X||ae);var ne=K[ae],Se=M.util.type(ne);Se==="Object"&&!Z[ee(ne)]?(Z[ee(ne)]=!0,G(ne,Q,null,Z)):Se==="Array"&&!Z[ee(ne)]&&(Z[ee(ne)]=!0,G(ne,Q,ae,Z))}}},plugins:{},highlightAll:function(G,K){M.highlightAllUnder(document,G,K)},highlightAllUnder:function(G,K,Q){var X={callback:Q,container:G,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};M.hooks.run("before-highlightall",X),X.elements=Array.prototype.slice.apply(X.container.querySelectorAll(X.selector)),M.hooks.run("before-all-elements-highlight",X);for(var Z=0,ee;ee=X.elements[Z++];)M.highlightElement(ee,K===!0,X.callback)},highlightElement:function(G,K,Q){var X=M.util.getLanguage(G),Z=M.languages[X];M.util.setLanguage(G,X);var ee=G.parentElement;ee&&ee.nodeName.toLowerCase()==="pre"&&M.util.setLanguage(ee,X);var ae=G.textContent,ne={element:G,language:X,grammar:Z,code:ae};function Se(Ce){ne.highlightedCode=Ce,M.hooks.run("before-insert",ne),ne.element.innerHTML=ne.highlightedCode,M.hooks.run("after-highlight",ne),M.hooks.run("complete",ne),Q&&Q.call(ne.element)}if(M.hooks.run("before-sanity-check",ne),ee=ne.element.parentElement,ee&&ee.nodeName.toLowerCase()==="pre"&&!ee.hasAttribute("tabindex")&&ee.setAttribute("tabindex","0"),!ne.code){M.hooks.run("complete",ne),Q&&Q.call(ne.element);return}if(M.hooks.run("before-highlight",ne),!ne.grammar){Se(M.util.encode(ne.code));return}if(K&&l.Worker){var Ne=new Worker(M.filename);Ne.onmessage=function(Ce){Se(Ce.data)},Ne.postMessage(JSON.stringify({language:ne.language,code:ne.code,immediateClose:!0}))}else Se(M.highlight(ne.code,ne.grammar,ne.language))},highlight:function(G,K,Q){var X={code:G,grammar:K,language:Q};if(M.hooks.run("before-tokenize",X),!X.grammar)throw new Error('The language "'+X.language+'" has no grammar.');return X.tokens=M.tokenize(X.code,X.grammar),M.hooks.run("after-tokenize",X),F.stringify(M.util.encode(X.tokens),X.language)},tokenize:function(G,K){var Q=K.rest;if(Q){for(var X in Q)K[X]=Q[X];delete K.rest}var Z=new H;return B(Z,Z.head,G),N(G,Z,K,Z.head,0),ve(Z)},hooks:{all:{},add:function(G,K){var Q=M.hooks.all;Q[G]=Q[G]||[],Q[G].push(K)},run:function(G,K){var Q=M.hooks.all[G];if(!(!Q||!Q.length))for(var X=0,Z;Z=Q[X++];)Z(K)}},Token:F};l.Prism=M;function F(G,K,Q,X){this.type=G,this.content=K,this.alias=Q,this.length=(X||"").length|0}F.stringify=function G(K,Q){if(typeof K=="string")return K;if(Array.isArray(K)){var X="";return K.forEach(function(Se){X+=G(Se,Q)}),X}var Z={type:K.type,content:G(K.content,Q),tag:"span",classes:["token",K.type],attributes:{},language:Q},ee=K.alias;ee&&(Array.isArray(ee)?Array.prototype.push.apply(Z.classes,ee):Z.classes.push(ee)),M.hooks.run("wrap",Z);var ae="";for(var ne in Z.attributes)ae+=" "+ne+'="'+(Z.attributes[ne]||"").replace(/"/g,"&quot;")+'"';return"<"+Z.tag+' class="'+Z.classes.join(" ")+'"'+ae+">"+Z.content+"</"+Z.tag+">"};function T(G,K,Q,X){G.lastIndex=K;var Z=G.exec(Q);if(Z&&X&&Z[1]){var ee=Z[1].length;Z.index+=ee,Z[0]=Z[0].slice(ee)}return Z}function N(G,K,Q,X,Z,ee){for(var ae in Q)if(!(!Q.hasOwnProperty(ae)||!Q[ae])){var ne=Q[ae];ne=Array.isArray(ne)?ne:[ne];for(var Se=0;Se<ne.length;++Se){if(ee&&ee.cause==ae+","+Se)return;var Ne=ne[Se],Ce=Ne.inside,st=!!Ne.lookbehind,ct=!!Ne.greedy,rr=Ne.alias;if(ct&&!Ne.pattern.global){var yt=Ne.pattern.toString().match(/[imsuy]*$/)[0];Ne.pattern=RegExp(Ne.pattern.source,yt+"g")}for(var vt=Ne.pattern||Ne,Xe=X.next,gt=Z;Xe!==K.tail&&!(ee&&gt>=ee.reach);gt+=Xe.value.length,Xe=Xe.next){var Zt=Xe.value;if(K.length>G.length)return;if(!(Zt instanceof F)){var er=1,ht;if(ct){if(ht=T(vt,gt,G,st),!ht||ht.index>=G.length)break;var Kt=ht.index,_r=ht.index+ht[0].length,Qt=gt;for(Qt+=Xe.value.length;Kt>=Qt;)Xe=Xe.next,Qt+=Xe.value.length;if(Qt-=Xe.value.length,gt=Qt,Xe.value instanceof F)continue;for(var Pr=Xe;Pr!==K.tail&&(Qt<_r||typeof Pr.value=="string");Pr=Pr.next)er++,Qt+=Pr.value.length;er--,Zt=G.slice(gt,Qt),ht.index-=gt}else if(ht=T(vt,0,Zt,st),!ht)continue;var Kt=ht.index,xr=ht[0],Or=Zt.slice(0,Kt),Mt=Zt.slice(Kt+xr.length),Br=gt+Zt.length;ee&&Br>ee.reach&&(ee.reach=Br);var sr=Xe.prev;Or&&(sr=B(K,sr,Or),gt+=Or.length),W(K,sr,er);var br=new F(ae,Ce?M.tokenize(xr,Ce):xr,rr,xr);if(Xe=B(K,sr,br),Mt&&B(K,Xe,Mt),er>1){var J={cause:ae+","+Se,reach:Br};N(G,K,Q,Xe.prev,gt,J),ee&&J.reach>ee.reach&&(ee.reach=J.reach)}}}}}}function H(){var G={value:null,prev:null,next:null},K={value:null,prev:G,next:null};G.next=K,this.head=G,this.tail=K,this.length=0}function B(G,K,Q){var X=K.next,Z={value:Q,prev:K,next:X};return K.next=Z,X.prev=Z,G.length++,Z}function W(G,K,Q){for(var X=K.next,Z=0;Z<Q&&X!==G.tail;Z++)X=X.next;K.next=X,X.prev=K,G.length-=Z}function ve(G){for(var K=[],Q=G.head.next;Q!==G.tail;)K.push(Q.value),Q=Q.next;return K}if(!l.document)return l.addEventListener&&(M.disableWorkerMessageHandler||l.addEventListener("message",function(G){var K=JSON.parse(G.data),Q=K.language,X=K.code,Z=K.immediateClose;l.postMessage(M.highlight(X,M.languages[Q],Q)),Z&&l.close()},!1)),M;var ie=M.util.currentScript();ie&&(M.filename=ie.src,ie.hasAttribute("data-manual")&&(M.manual=!0));function fe(){M.manual||M.highlightAll()}if(!M.manual){var Me=document.readyState;Me==="loading"||Me==="interactive"&&ie&&ie.defer?document.addEventListener("DOMContentLoaded",fe):window.requestAnimationFrame?window.requestAnimationFrame(fe):window.setTimeout(fe,16)}return M}(r);t.exports&&(t.exports=e),typeof rf<"u"&&(rf.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(d,x){var P={};P["language-"+x]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[x]},P.cdata=/^<!\[CDATA\[|\]\]>$/i;var M={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:P}};M["language-"+x]={pattern:/[\s\S]+/,inside:e.languages[x]};var F={};F[d]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return d}),"i"),lookbehind:!0,greedy:!0,inside:M},e.languages.insertBefore("markup","cdata",F)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(l,d){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[d,"language-"+d],inside:e.languages[d]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(l){var d=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+d.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+d.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+d.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+d.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:d,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var x=l.languages.markup;x&&(x.tag.addInlined("style","css"),x.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading",d=function(ie,fe){return" Error "+ie+" while fetching file: "+fe},x=" Error: File does not exist or is empty",P={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},M="data-src-status",F="loading",T="loaded",N="failed",H="pre[data-src]:not(["+M+'="'+T+'"]):not(['+M+'="'+F+'"])';function B(ie,fe,Me){var G=new XMLHttpRequest;G.open("GET",ie,!0),G.onreadystatechange=function(){G.readyState==4&&(G.status<400&&G.responseText?fe(G.responseText):G.status>=400?Me(d(G.status,G.statusText)):Me(x))},G.send(null)}function W(ie){var fe=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(ie||"");if(fe){var Me=Number(fe[1]),G=fe[2],K=fe[3];return G?K?[Me,Number(K)]:[Me,void 0]:[Me,Me]}}e.hooks.add("before-highlightall",function(ie){ie.selector+=", "+H}),e.hooks.add("before-sanity-check",function(ie){var fe=ie.element;if(fe.matches(H)){ie.code="",fe.setAttribute(M,F);var Me=fe.appendChild(document.createElement("CODE"));Me.textContent=l;var G=fe.getAttribute("data-src"),K=ie.language;if(K==="none"){var Q=(/\.(\w+)$/.exec(G)||[,"none"])[1];K=P[Q]||Q}e.util.setLanguage(Me,K),e.util.setLanguage(fe,K);var X=e.plugins.autoloader;X&&X.loadLanguages(K),B(G,function(Z){fe.setAttribute(M,T);var ee=W(fe.getAttribute("data-range"));if(ee){var ae=Z.split(/\r\n?|\n/g),ne=ee[0],Se=ee[1]==null?ae.length:ee[1];ne<0&&(ne+=ae.length),ne=Math.max(0,Math.min(ne-1,ae.length)),Se<0&&(Se+=ae.length),Se=Math.max(0,Math.min(Se,ae.length)),Z=ae.slice(ne,Se).join(`
`),fe.hasAttribute("data-start")||fe.setAttribute("data-start",String(ne+1))}Me.textContent=Z,e.highlightElement(Me)},function(Z){fe.setAttribute(M,N),Me.textContent=Z})}}),e.plugins.fileHighlight={highlight:function(fe){for(var Me=(fe||document).querySelectorAll(H),G=0,K;K=Me[G++];)e.highlightElement(K)}};var ve=!1;e.fileHighlight=function(){ve||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),ve=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(z$);var w0={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(l){var d=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,x=0,P={},M={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function G(K){return K instanceof F?new F(K.type,G(K.content),K.alias):Array.isArray(K)?K.map(G):K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(G){return Object.prototype.toString.call(G).slice(8,-1)},objId:function(G){return G.__id||Object.defineProperty(G,"__id",{value:++x}),G.__id},clone:function G(K,Q){Q=Q||{};var X,Z;switch(M.util.type(K)){case"Object":if(Z=M.util.objId(K),Q[Z])return Q[Z];X={},Q[Z]=X;for(var ee in K)K.hasOwnProperty(ee)&&(X[ee]=G(K[ee],Q));return X;case"Array":return Z=M.util.objId(K),Q[Z]?Q[Z]:(X=[],Q[Z]=X,K.forEach(function(ae,ne){X[ne]=G(ae,Q)}),X);default:return K}},getLanguage:function(G){for(;G;){var K=d.exec(G.className);if(K)return K[1].toLowerCase();G=G.parentElement}return"none"},setLanguage:function(G,K){G.className=G.className.replace(RegExp(d,"gi"),""),G.classList.add("language-"+K)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(X){var G=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(X.stack)||[])[1];if(G){var K=document.getElementsByTagName("script");for(var Q in K)if(K[Q].src==G)return K[Q]}return null}},isActive:function(G,K,Q){for(var X="no-"+K;G;){var Z=G.classList;if(Z.contains(K))return!0;if(Z.contains(X))return!1;G=G.parentElement}return!!Q}},languages:{plain:P,plaintext:P,text:P,txt:P,extend:function(G,K){var Q=M.util.clone(M.languages[G]);for(var X in K)Q[X]=K[X];return Q},insertBefore:function(G,K,Q,X){X=X||M.languages;var Z=X[G],ee={};for(var ae in Z)if(Z.hasOwnProperty(ae)){if(ae==K)for(var ne in Q)Q.hasOwnProperty(ne)&&(ee[ne]=Q[ne]);Q.hasOwnProperty(ae)||(ee[ae]=Z[ae])}var Se=X[G];return X[G]=ee,M.languages.DFS(M.languages,function(Ne,Ce){Ce===Se&&Ne!=G&&(this[Ne]=ee)}),ee},DFS:function G(K,Q,X,Z){Z=Z||{};var ee=M.util.objId;for(var ae in K)if(K.hasOwnProperty(ae)){Q.call(K,ae,K[ae],X||ae);var ne=K[ae],Se=M.util.type(ne);Se==="Object"&&!Z[ee(ne)]?(Z[ee(ne)]=!0,G(ne,Q,null,Z)):Se==="Array"&&!Z[ee(ne)]&&(Z[ee(ne)]=!0,G(ne,Q,ae,Z))}}},plugins:{},highlightAll:function(G,K){M.highlightAllUnder(document,G,K)},highlightAllUnder:function(G,K,Q){var X={callback:Q,container:G,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};M.hooks.run("before-highlightall",X),X.elements=Array.prototype.slice.apply(X.container.querySelectorAll(X.selector)),M.hooks.run("before-all-elements-highlight",X);for(var Z=0,ee;ee=X.elements[Z++];)M.highlightElement(ee,K===!0,X.callback)},highlightElement:function(G,K,Q){var X=M.util.getLanguage(G),Z=M.languages[X];M.util.setLanguage(G,X);var ee=G.parentElement;ee&&ee.nodeName.toLowerCase()==="pre"&&M.util.setLanguage(ee,X);var ae=G.textContent,ne={element:G,language:X,grammar:Z,code:ae};function Se(Ce){ne.highlightedCode=Ce,M.hooks.run("before-insert",ne),ne.element.innerHTML=ne.highlightedCode,M.hooks.run("after-highlight",ne),M.hooks.run("complete",ne),Q&&Q.call(ne.element)}if(M.hooks.run("before-sanity-check",ne),ee=ne.element.parentElement,ee&&ee.nodeName.toLowerCase()==="pre"&&!ee.hasAttribute("tabindex")&&ee.setAttribute("tabindex","0"),!ne.code){M.hooks.run("complete",ne),Q&&Q.call(ne.element);return}if(M.hooks.run("before-highlight",ne),!ne.grammar){Se(M.util.encode(ne.code));return}if(K&&l.Worker){var Ne=new Worker(M.filename);Ne.onmessage=function(Ce){Se(Ce.data)},Ne.postMessage(JSON.stringify({language:ne.language,code:ne.code,immediateClose:!0}))}else Se(M.highlight(ne.code,ne.grammar,ne.language))},highlight:function(G,K,Q){var X={code:G,grammar:K,language:Q};if(M.hooks.run("before-tokenize",X),!X.grammar)throw new Error('The language "'+X.language+'" has no grammar.');return X.tokens=M.tokenize(X.code,X.grammar),M.hooks.run("after-tokenize",X),F.stringify(M.util.encode(X.tokens),X.language)},tokenize:function(G,K){var Q=K.rest;if(Q){for(var X in Q)K[X]=Q[X];delete K.rest}var Z=new H;return B(Z,Z.head,G),N(G,Z,K,Z.head,0),ve(Z)},hooks:{all:{},add:function(G,K){var Q=M.hooks.all;Q[G]=Q[G]||[],Q[G].push(K)},run:function(G,K){var Q=M.hooks.all[G];if(!(!Q||!Q.length))for(var X=0,Z;Z=Q[X++];)Z(K)}},Token:F};l.Prism=M;function F(G,K,Q,X){this.type=G,this.content=K,this.alias=Q,this.length=(X||"").length|0}F.stringify=function G(K,Q){if(typeof K=="string")return K;if(Array.isArray(K)){var X="";return K.forEach(function(Se){X+=G(Se,Q)}),X}var Z={type:K.type,content:G(K.content,Q),tag:"span",classes:["token",K.type],attributes:{},language:Q},ee=K.alias;ee&&(Array.isArray(ee)?Array.prototype.push.apply(Z.classes,ee):Z.classes.push(ee)),M.hooks.run("wrap",Z);var ae="";for(var ne in Z.attributes)ae+=" "+ne+'="'+(Z.attributes[ne]||"").replace(/"/g,"&quot;")+'"';return"<"+Z.tag+' class="'+Z.classes.join(" ")+'"'+ae+">"+Z.content+"</"+Z.tag+">"};function T(G,K,Q,X){G.lastIndex=K;var Z=G.exec(Q);if(Z&&X&&Z[1]){var ee=Z[1].length;Z.index+=ee,Z[0]=Z[0].slice(ee)}return Z}function N(G,K,Q,X,Z,ee){for(var ae in Q)if(!(!Q.hasOwnProperty(ae)||!Q[ae])){var ne=Q[ae];ne=Array.isArray(ne)?ne:[ne];for(var Se=0;Se<ne.length;++Se){if(ee&&ee.cause==ae+","+Se)return;var Ne=ne[Se],Ce=Ne.inside,st=!!Ne.lookbehind,ct=!!Ne.greedy,rr=Ne.alias;if(ct&&!Ne.pattern.global){var yt=Ne.pattern.toString().match(/[imsuy]*$/)[0];Ne.pattern=RegExp(Ne.pattern.source,yt+"g")}for(var vt=Ne.pattern||Ne,Xe=X.next,gt=Z;Xe!==K.tail&&!(ee&&gt>=ee.reach);gt+=Xe.value.length,Xe=Xe.next){var Zt=Xe.value;if(K.length>G.length)return;if(!(Zt instanceof F)){var er=1,ht;if(ct){if(ht=T(vt,gt,G,st),!ht||ht.index>=G.length)break;var Kt=ht.index,_r=ht.index+ht[0].length,Qt=gt;for(Qt+=Xe.value.length;Kt>=Qt;)Xe=Xe.next,Qt+=Xe.value.length;if(Qt-=Xe.value.length,gt=Qt,Xe.value instanceof F)continue;for(var Pr=Xe;Pr!==K.tail&&(Qt<_r||typeof Pr.value=="string");Pr=Pr.next)er++,Qt+=Pr.value.length;er--,Zt=G.slice(gt,Qt),ht.index-=gt}else if(ht=T(vt,0,Zt,st),!ht)continue;var Kt=ht.index,xr=ht[0],Or=Zt.slice(0,Kt),Mt=Zt.slice(Kt+xr.length),Br=gt+Zt.length;ee&&Br>ee.reach&&(ee.reach=Br);var sr=Xe.prev;Or&&(sr=B(K,sr,Or),gt+=Or.length),W(K,sr,er);var br=new F(ae,Ce?M.tokenize(xr,Ce):xr,rr,xr);if(Xe=B(K,sr,br),Mt&&B(K,Xe,Mt),er>1){var J={cause:ae+","+Se,reach:Br};N(G,K,Q,Xe.prev,gt,J),ee&&J.reach>ee.reach&&(ee.reach=J.reach)}}}}}}function H(){var G={value:null,prev:null,next:null},K={value:null,prev:G,next:null};G.next=K,this.head=G,this.tail=K,this.length=0}function B(G,K,Q){var X=K.next,Z={value:Q,prev:K,next:X};return K.next=Z,X.prev=Z,G.length++,Z}function W(G,K,Q){for(var X=K.next,Z=0;Z<Q&&X!==G.tail;Z++)X=X.next;K.next=X,X.prev=K,G.length-=Z}function ve(G){for(var K=[],Q=G.head.next;Q!==G.tail;)K.push(Q.value),Q=Q.next;return K}if(!l.document)return l.addEventListener&&(M.disableWorkerMessageHandler||l.addEventListener("message",function(G){var K=JSON.parse(G.data),Q=K.language,X=K.code,Z=K.immediateClose;l.postMessage(M.highlight(X,M.languages[Q],Q)),Z&&l.close()},!1)),M;var ie=M.util.currentScript();ie&&(M.filename=ie.src,ie.hasAttribute("data-manual")&&(M.manual=!0));function fe(){M.manual||M.highlightAll()}if(!M.manual){var Me=document.readyState;Me==="loading"||Me==="interactive"&&ie&&ie.defer?document.addEventListener("DOMContentLoaded",fe):window.requestAnimationFrame?window.requestAnimationFrame(fe):window.setTimeout(fe,16)}return M}(r);t.exports&&(t.exports=e),typeof rf<"u"&&(rf.Prism=e)})(w0);var jg=w0.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const q$={computed:{hasHeader(){return!!this.$slots.header},hasFooter(){return!!this.$slots.footer}}},V$="_container_zhbxc_2",K$="_header_zhbxc_9",J$="_main_zhbxc_14",W$="_footer_zhbxc_19",G$={container:V$,header:K$,main:J$,footer:W$},pc=(t,r)=>{const e=t.__vccOpts||t;for(const[l,d]of r)e[l]=d;return e};function Z$(t,r,e,l,d,x){return ys(),nn("div",{class:pa(t.$style.container)},[x.hasHeader?(ys(),nn("header",{key:0,class:pa(t.$style.header)},[kc(t.$slots,"header")],2)):Ro("",!0),hf("main",{class:pa(t.$style.main)},[kc(t.$slots,"default")],2),x.hasFooter?(ys(),nn("footer",{key:1,class:pa(t.$style.footer)},[kc(t.$slots,"footer")],2)):Ro("",!0)],2)}const Q$={$style:G$},Wo=pc(q$,[["render",Z$],["__cssModules",Q$]]),X$={key:0},Y$=["onClick"],em={key:1},tm=["onClick"],rm=cc({__name:"MenuButton",props:{options:{}},emits:["select"],setup(t,{emit:r}){const e=ku(!1),l=r;return(d,x)=>(ys(),nn("div",{class:pa(d.$style.wrapper)},[hf("button",{onClick:x[0]||(x[0]=P=>e.value=!e.value)},[kc(d.$slots,"default")]),ws(Ov,null,{default:gi(()=>[e.value?(ys(),nn("div",{key:0,class:pa(d.$style.menu)},[d.options instanceof Array?(ys(),nn("div",X$,[(ys(!0),nn(oa,null,th(d.options,P=>(ys(),nn("div",{class:pa(d.$style.opt),onClick:M=>{e.value=!1,l("select",P)}},iu(P),11,Y$))),256))])):(ys(),nn("div",em,[(ys(!0),nn(oa,null,th(Object.keys(d.options),P=>(ys(),nn("div",{class:pa(d.$style.opt),onClick:M=>{e.value=!1,l("select",P)}},iu(d.options[P]),11,tm))),256))]))],2)):Ro("",!0)]),_:1})],2))}}),sm="_wrapper_1dk0z_2",nm="_menu_1dk0z_5",am="_opt_1dk0z_12",im={wrapper:sm,menu:nm,opt:am},lm={$style:im},$0=pc(rm,[["__cssModules",lm]]),fm=cc({__name:"Editor",props:{modelValue:{},samples:{},parseError:{}},emits:["run","update:modelValue"],setup(t,{emit:r}){const e=t,l=r,d=ku(e.modelValue);ec(d,()=>{l("update:modelValue",d.value)},{immediate:!0});function x(M){d.value=e.samples[M]}const P=M=>jg.highlight(M,jg.languages.js,"javascript");return(M,F)=>(ys(),Ah(Wo,null,{header:gi(()=>[xf(" Input "),e.samples?(ys(),nn("div",{key:0,class:pa(M.$style.actions)},[ws($0,{options:Object.keys(e.samples),onSelect:x},{default:gi(()=>[xf("Samples")]),_:1},8,["options"])],2)):Ro("",!0)]),footer:gi(()=>[e.parseError?(ys(),nn("span",{key:0,class:pa(M.$style.parseError)},iu(e.parseError),3)):Ro("",!0),hf("div",{class:pa(M.$style.actions)},[hf("button",{onClick:F[1]||(F[1]=T=>l("run"))},"RUN")],2)]),default:gi(()=>[ws(ic(H$),{class:pa(M.$style.code),modelValue:d.value,"onUpdate:modelValue":F[0]||(F[0]=T=>d.value=T),highlight:P,"line-numbers":!1},null,8,["class","modelValue"])]),_:1}))}}),um="_code_af8rl_2",om="_parseError_af8rl_6",cm="_actions_af8rl_9",hm={code:um,parseError:om,actions:cm},pm={$style:hm},vm=pc(fm,[["__cssModules",pm]]);function hs(t,r,e){let l=e.value;return{configurable:!0,get(){const d=l.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:d}),d},set(d){l=d}}}let _h=class m0 extends Error{constructor(e,l){super(e);be(this,"name","AiScript");be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,m0)}},gm=class extends _h{constructor(e){super(e.message??`${e}`,e);be(this,"name","Internal")}},Zu=class extends _h{constructor(e,l){super(e,l);be(this,"name","Syntax")}},ur=class extends _h{constructor(e,l){super(e,l);be(this,"name","Runtime")}},Ig=class extends ur{constructor(r,e){super(r,e)}},dm=class extends ur{constructor(e,l){super(e,l);be(this,"name","")}};var Uf=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let Of=class Mp{constructor(r=[],e,l,d){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});be(this,"nsName");this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>"),this.nsName=d}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new Mp(l,this,e)}createChildNamespaceScope(r,e=new Map,l){const d=[e,...this.layerdStates];return new Mp(d,this,l,r)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r).value;return this.log("read",{var:r,val:l}),l}throw new ur(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new ur(`Variable '${r}' already exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null?this.onUpdated(r,e.value):this.nsName!=null&&this.parent.add(this.nsName+":"+r,e)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){const x=d.get(r);if(!x.isMutable)throw new ur(`Cannot assign to an immutable variable ${r}.`);x.value=e,this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new ur(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Uf([hs],Of.prototype,"log",null);Uf([hs],Of.prototype,"onUpdated",null);Uf([hs],Of.prototype,"createChildScope",null);Uf([hs],Of.prototype,"createChildNamespaceScope",null);Uf([hs],Of.prototype,"get",null);Uf([hs],Of.prototype,"exists",null);Uf([hs],Of.prototype,"getAll",null);Uf([hs],Of.prototype,"add",null);Uf([hs],Of.prototype,"assign",null);let Ac;const ym=new Uint8Array(16);function wm(){if(!Ac&&(Ac=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ac))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ac(ym)}const Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function $m(t,r=0){return Ln[t[r+0]]+Ln[t[r+1]]+Ln[t[r+2]]+Ln[t[r+3]]+"-"+Ln[t[r+4]]+Ln[t[r+5]]+"-"+Ln[t[r+6]]+Ln[t[r+7]]+"-"+Ln[t[r+8]]+Ln[t[r+9]]+"-"+Ln[t[r+10]]+Ln[t[r+11]]+Ln[t[r+12]]+Ln[t[r+13]]+Ln[t[r+14]]+Ln[t[r+15]]}const mm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rg={randomUUID:mm};function vc(t,r,e){if(Rg.randomUUID&&!r&&!t)return Rg.randomUUID();t=t||{};const l=t.random||(t.rng||wm)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,$m(l)}var jv={exports:{}};jv.exports;(function(t){(function(r,e,l){function d(F){var T=this,N=M();T.next=function(){var H=2091639*T.s0+T.c*23283064365386963e-26;return T.s0=T.s1,T.s1=T.s2,T.s2=H-(T.c=H|0)},T.c=1,T.s0=N(" "),T.s1=N(" "),T.s2=N(" "),T.s0-=N(F),T.s0<0&&(T.s0+=1),T.s1-=N(F),T.s1<0&&(T.s1+=1),T.s2-=N(F),T.s2<0&&(T.s2+=1),N=null}function x(F,T){return T.c=F.c,T.s0=F.s0,T.s1=F.s1,T.s2=F.s2,T}function P(F,T){var N=new d(F),H=T&&T.state,B=N.next;return B.int32=function(){return N.next()*4294967296|0},B.double=function(){return B()+(B()*2097152|0)*11102230246251565e-32},B.quick=B,H&&(typeof H=="object"&&x(H,N),B.state=function(){return x(N,{})}),B}function M(){var F=4022871197,T=function(N){N=String(N);for(var H=0;H<N.length;H++){F+=N.charCodeAt(H);var B=.02519603282416938*F;F=B>>>0,B-=F,B*=F,F=B>>>0,B-=F,F+=B*4294967296}return(F>>>0)*23283064365386963e-26};return T}e&&e.exports?e.exports=P:this.alea=P})(rf,t)})(jv);var xm=jv.exports,Iv={exports:{}};Iv.exports;(function(t){(function(r,e,l){function d(M){var F=this,T="";F.x=0,F.y=0,F.z=0,F.w=0,F.next=function(){var H=F.x^F.x<<11;return F.x=F.y,F.y=F.z,F.z=F.w,F.w^=F.w>>>19^H^H>>>8},M===(M|0)?F.x=M:T+=M;for(var N=0;N<T.length+64;N++)F.x^=T.charCodeAt(N)|0,F.next()}function x(M,F){return F.x=M.x,F.y=M.y,F.z=M.z,F.w=M.w,F}function P(M,F){var T=new d(M),N=F&&F.state,H=function(){return(T.next()>>>0)/4294967296};return H.double=function(){do var B=T.next()>>>11,W=(T.next()>>>0)/4294967296,ve=(B+W)/(1<<21);while(ve===0);return ve},H.int32=T.next,H.quick=H,N&&(typeof N=="object"&&x(N,T),H.state=function(){return x(T,{})}),H}e&&e.exports?e.exports=P:this.xor128=P})(rf,t)})(Iv);var bm=Iv.exports,Rv={exports:{}};Rv.exports;(function(t){(function(r,e,l){function d(M){var F=this,T="";F.next=function(){var H=F.x^F.x>>>2;return F.x=F.y,F.y=F.z,F.z=F.w,F.w=F.v,(F.d=F.d+362437|0)+(F.v=F.v^F.v<<4^(H^H<<1))|0},F.x=0,F.y=0,F.z=0,F.w=0,F.v=0,M===(M|0)?F.x=M:T+=M;for(var N=0;N<T.length+64;N++)F.x^=T.charCodeAt(N)|0,N==T.length&&(F.d=F.x<<10^F.x>>>4),F.next()}function x(M,F){return F.x=M.x,F.y=M.y,F.z=M.z,F.w=M.w,F.v=M.v,F.d=M.d,F}function P(M,F){var T=new d(M),N=F&&F.state,H=function(){return(T.next()>>>0)/4294967296};return H.double=function(){do var B=T.next()>>>11,W=(T.next()>>>0)/4294967296,ve=(B+W)/(1<<21);while(ve===0);return ve},H.int32=T.next,H.quick=H,N&&(typeof N=="object"&&x(N,T),H.state=function(){return x(T,{})}),H}e&&e.exports?e.exports=P:this.xorwow=P})(rf,t)})(Rv);var Am=Rv.exports,Dv={exports:{}};Dv.exports;(function(t){(function(r,e,l){function d(M){var F=this;F.next=function(){var N=F.x,H=F.i,B,W;return B=N[H],B^=B>>>7,W=B^B<<24,B=N[H+1&7],W^=B^B>>>10,B=N[H+3&7],W^=B^B>>>3,B=N[H+4&7],W^=B^B<<7,B=N[H+7&7],B=B^B<<13,W^=B^B<<9,N[H]=W,F.i=H+1&7,W};function T(N,H){var B,W=[];if(H===(H|0))W[0]=H;else for(H=""+H,B=0;B<H.length;++B)W[B&7]=W[B&7]<<15^H.charCodeAt(B)+W[B+1&7]<<13;for(;W.length<8;)W.push(0);for(B=0;B<8&&W[B]===0;++B);for(B==8?W[7]=-1:W[B],N.x=W,N.i=0,B=256;B>0;--B)N.next()}T(F,M)}function x(M,F){return F.x=M.x.slice(),F.i=M.i,F}function P(M,F){M==null&&(M=+new Date);var T=new d(M),N=F&&F.state,H=function(){return(T.next()>>>0)/4294967296};return H.double=function(){do var B=T.next()>>>11,W=(T.next()>>>0)/4294967296,ve=(B+W)/(1<<21);while(ve===0);return ve},H.int32=T.next,H.quick=H,N&&(N.x&&x(N,T),H.state=function(){return x(T,{})}),H}e&&e.exports?e.exports=P:this.xorshift7=P})(rf,t)})(Dv);var Cm=Dv.exports,Lv={exports:{}};Lv.exports;(function(t){(function(r,e,l){function d(M){var F=this;F.next=function(){var N=F.w,H=F.X,B=F.i,W,ve;return F.w=N=N+1640531527|0,ve=H[B+34&127],W=H[B=B+1&127],ve^=ve<<13,W^=W<<17,ve^=ve>>>15,W^=W>>>12,ve=H[B]=ve^W,F.i=B,ve+(N^N>>>16)|0};function T(N,H){var B,W,ve,ie,fe,Me=[],G=128;for(H===(H|0)?(W=H,H=null):(H=H+"\0",W=0,G=Math.max(G,H.length)),ve=0,ie=-32;ie<G;++ie)H&&(W^=H.charCodeAt((ie+32)%H.length)),ie===0&&(fe=W),W^=W<<10,W^=W>>>15,W^=W<<4,W^=W>>>13,ie>=0&&(fe=fe+1640531527|0,B=Me[ie&127]^=W+fe,ve=B==0?ve+1:0);for(ve>=128&&(Me[(H&&H.length||0)&127]=-1),ve=127,ie=4*128;ie>0;--ie)W=Me[ve+34&127],B=Me[ve=ve+1&127],W^=W<<13,B^=B<<17,W^=W>>>15,B^=B>>>12,Me[ve]=W^B;N.w=fe,N.X=Me,N.i=ve}T(F,M)}function x(M,F){return F.i=M.i,F.w=M.w,F.X=M.X.slice(),F}function P(M,F){M==null&&(M=+new Date);var T=new d(M),N=F&&F.state,H=function(){return(T.next()>>>0)/4294967296};return H.double=function(){do var B=T.next()>>>11,W=(T.next()>>>0)/4294967296,ve=(B+W)/(1<<21);while(ve===0);return ve},H.int32=T.next,H.quick=H,N&&(N.X&&x(N,T),H.state=function(){return x(T,{})}),H}e&&e.exports?e.exports=P:this.xor4096=P})(rf,t)})(Lv);var _m=Lv.exports,Hv={exports:{}};Hv.exports;(function(t){(function(r,e,l){function d(M){var F=this,T="";F.next=function(){var H=F.b,B=F.c,W=F.d,ve=F.a;return H=H<<25^H>>>7^B,B=B-W|0,W=W<<24^W>>>8^ve,ve=ve-H|0,F.b=H=H<<20^H>>>12^B,F.c=B=B-W|0,F.d=W<<16^B>>>16^ve,F.a=ve-H|0},F.a=0,F.b=0,F.c=-1640531527,F.d=1367130551,M===Math.floor(M)?(F.a=M/4294967296|0,F.b=M|0):T+=M;for(var N=0;N<T.length+20;N++)F.b^=T.charCodeAt(N)|0,F.next()}function x(M,F){return F.a=M.a,F.b=M.b,F.c=M.c,F.d=M.d,F}function P(M,F){var T=new d(M),N=F&&F.state,H=function(){return(T.next()>>>0)/4294967296};return H.double=function(){do var B=T.next()>>>11,W=(T.next()>>>0)/4294967296,ve=(B+W)/(1<<21);while(ve===0);return ve},H.int32=T.next,H.quick=H,N&&(typeof N=="object"&&x(N,T),H.state=function(){return x(T,{})}),H}e&&e.exports?e.exports=P:this.tychei=P})(rf,t)})(Hv);var Pm=Hv.exports,x0={exports:{}};const km={},Mm=Object.freeze(Object.defineProperty({__proto__:null,default:km},Symbol.toStringTag,{value:"Module"})),Em=B$(Mm);(function(t){(function(r,e,l){var d=256,x=6,P=52,M="random",F=l.pow(d,x),T=l.pow(2,P),N=T*2,H=d-1,B;function W(Q,X,Z){var ee=[];X=X==!0?{entropy:!0}:X||{};var ae=Me(fe(X.entropy?[Q,K(e)]:Q??G(),3),ee),ne=new ve(ee),Se=function(){for(var Ne=ne.g(x),Ce=F,st=0;Ne<T;)Ne=(Ne+st)*d,Ce*=d,st=ne.g(1);for(;Ne>=N;)Ne/=2,Ce/=2,st>>>=1;return(Ne+st)/Ce};return Se.int32=function(){return ne.g(4)|0},Se.quick=function(){return ne.g(4)/4294967296},Se.double=Se,Me(K(ne.S),e),(X.pass||Z||function(Ne,Ce,st,ct){return ct&&(ct.S&&ie(ct,ne),Ne.state=function(){return ie(ne,{})}),st?(l[M]=Ne,Ce):Ne})(Se,ae,"global"in X?X.global:this==l,X.state)}function ve(Q){var X,Z=Q.length,ee=this,ae=0,ne=ee.i=ee.j=0,Se=ee.S=[];for(Z||(Q=[Z++]);ae<d;)Se[ae]=ae++;for(ae=0;ae<d;ae++)Se[ae]=Se[ne=H&ne+Q[ae%Z]+(X=Se[ae])],Se[ne]=X;(ee.g=function(Ne){for(var Ce,st=0,ct=ee.i,rr=ee.j,yt=ee.S;Ne--;)Ce=yt[ct=H&ct+1],st=st*d+yt[H&(yt[ct]=yt[rr=H&rr+Ce])+(yt[rr]=Ce)];return ee.i=ct,ee.j=rr,st})(d)}function ie(Q,X){return X.i=Q.i,X.j=Q.j,X.S=Q.S.slice(),X}function fe(Q,X){var Z=[],ee=typeof Q,ae;if(X&&ee=="object")for(ae in Q)try{Z.push(fe(Q[ae],X-1))}catch{}return Z.length?Z:ee=="string"?Q:Q+"\0"}function Me(Q,X){for(var Z=Q+"",ee,ae=0;ae<Z.length;)X[H&ae]=H&(ee^=X[H&ae]*19)+Z.charCodeAt(ae++);return K(X)}function G(){try{var Q;return B&&(Q=B.randomBytes)?Q=Q(d):(Q=new Uint8Array(d),(r.crypto||r.msCrypto).getRandomValues(Q)),K(Q)}catch{var X=r.navigator,Z=X&&X.plugins;return[+new Date,r,Z,r.screen,K(e)]}}function K(Q){return String.fromCharCode.apply(0,Q)}if(Me(l.random(),e),t.exports){t.exports=W;try{B=Em}catch{}}else l["seed"+M]=W})(typeof self<"u"?self:rf,[],Math)})(x0);var Sm=x0.exports,Tm=xm,Fm=bm,Nm=Am,Om=Cm,jm=_m,Im=Pm,so=Sm;so.alea=Tm;so.xor128=Fm;so.xorwow=Nm;so.xorshift7=Om;so.xor4096=jm;so.tychei=Im;var Rm=so;const no=U$(Rm),zt={type:"null"},mn={type:"bool",value:!0},xn={type:"bool",value:!1},Re=t=>({type:"num",value:t}),Xt=t=>({type:"str",value:t}),Ru=t=>({type:"bool",value:t}),ih=t=>({type:"obj",value:t}),Gr=t=>({type:"arr",value:t}),Dm=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),oe=t=>({type:"fn",native:t}),Lm=t=>({type:"return",value:t}),Hm=()=>({type:"break",value:null}),Um=()=>({type:"continue",value:null}),Bm=t=>t.type==="return"?t.value:t,Ep=(t,r)=>({type:"error",value:t,info:r});function Ya(t){if(t==null)throw new ur("Expect anything, but got nothing.")}function Bn(t){if(t==null)throw new ur("Expect boolean, but got nothing.");if(t.type!=="bool")throw new ur(`Expect boolean, but got ${t.type}.`)}function $f(t){if(t==null)throw new ur("Expect function, but got nothing.");if(t.type!=="fn")throw new ur(`Expect function, but got ${t.type}.`)}function Sr(t){if(t==null)throw new ur("Expect string, but got nothing.");if(t.type!=="str")throw new ur(`Expect string, but got ${t.type}.`)}function Pe(t){if(t==null)throw new ur("Expect number, but got nothing.");if(t.type!=="num")throw new ur(`Expect number, but got ${t.type}.`)}function df(t){if(t==null)throw new ur("Expect object, but got nothing.");if(t.type!=="obj")throw new ur(`Expect object, but got ${t.type}.`)}function uu(t){if(t==null)throw new ur("Expect array, but got nothing.");if(t.type!=="arr")throw new ur(`Expect array, but got ${t.type}.`)}function qh(t){return t.type==="obj"}function lh(t){return t.type==="arr"}function yo(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function Sp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>Sp(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Tp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Tp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=Tp(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Fp(t){if(t===null)return zt;if(typeof t=="boolean")return Ru(t);if(typeof t=="string")return Xt(t);if(typeof t=="number")return Re(t);if(Array.isArray(t))return Gr(t.map(r=>Fp(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,Fp(l));return ih(r)}return zt}function wo(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,l=>`\\${l}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const l=[];for(const d of t.value)l.push(wo(d,!0,e));return"[ "+l.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const l=[];for(const[d,x]of t.value)l.push(`${d}: ${wo(x,!0,e)}`);return"{ "+l.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const zm={version:"0.19.0-dev.20240710"},qm=zm.version,Vm=new TextEncoder,Km=new TextDecoder,Jm={help:Xt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Xt(qm),"Core:ai":Xt("kawaii"),"Core:not":oe(([t])=>(Bn(t),t.value?xn:mn)),"Core:eq":oe(([t,r])=>(Ya(t),Ya(r),yo(t,r)?mn:xn)),"Core:neq":oe(([t,r])=>(Ya(t),Ya(r),yo(t,r)?xn:mn)),"Core:and":oe(([t,r])=>(Bn(t),t.value?(Bn(r),r.value?mn:xn):xn)),"Core:or":oe(([t,r])=>(Bn(t),t.value?mn:(Bn(r),r.value?mn:xn))),"Core:add":oe(([t,r])=>(Pe(t),Pe(r),Re(t.value+r.value))),"Core:sub":oe(([t,r])=>(Pe(t),Pe(r),Re(t.value-r.value))),"Core:mul":oe(([t,r])=>(Pe(t),Pe(r),Re(t.value*r.value))),"Core:pow":oe(([t,r])=>{Pe(t),Pe(r);const e=t.value**r.value;if(isNaN(e))throw new ur("Invalid operation.");return Re(e)}),"Core:div":oe(([t,r])=>{Pe(t),Pe(r);const e=t.value/r.value;if(isNaN(e))throw new ur("Invalid operation.");return Re(e)}),"Core:mod":oe(([t,r])=>(Pe(t),Pe(r),Re(t.value%r.value))),"Core:gt":oe(([t,r])=>(Pe(t),Pe(r),t.value>r.value?mn:xn)),"Core:lt":oe(([t,r])=>(Pe(t),Pe(r),t.value<r.value?mn:xn)),"Core:gteq":oe(([t,r])=>(Pe(t),Pe(r),t.value>=r.value?mn:xn)),"Core:lteq":oe(([t,r])=>(Pe(t),Pe(r),t.value<=r.value?mn:xn)),"Core:type":oe(([t])=>(Ya(t),Xt(t.type))),"Core:to_str":oe(([t])=>(Ya(t),Xt(wo(t)))),"Core:range":oe(([t,r])=>(Pe(t),Pe(r),t.value<r.value?Gr(Array.from({length:r.value-t.value+1},(e,l)=>Re(l+t.value))):t.value>r.value?Gr(Array.from({length:t.value-r.value+1},(e,l)=>Re(t.value-l))):Gr([t]))),"Core:sleep":oe(async([t])=>(Pe(t),await new Promise(r=>setTimeout(r,t.value)),zt)),"Core:abort":oe(async([t])=>{throw Sr(t),new dm(t.value)}),"Util:uuid":oe(()=>Xt(vc())),"Json:stringify":oe(([t])=>(Ya(t),Xt(JSON.stringify(Tp(t))))),"Json:parse":oe(([t])=>{Sr(t);try{return Fp(JSON.parse(t.value))}catch{return Ep("not_json")}}),"Json:parsable":oe(([t])=>{Sr(t);try{JSON.parse(t.value)}catch{return Ru(!1)}return Ru(!0)}),"Date:now":oe(()=>Re(Date.now())),"Date:year":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getFullYear()))),"Date:month":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getMonth()+1))),"Date:day":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getDate()))),"Date:hour":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getHours()))),"Date:minute":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getMinutes()))),"Date:second":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getSeconds()))),"Date:millisecond":oe(([t])=>(t&&Pe(t),Re(new Date((t==null?void 0:t.value)??Date.now()).getMilliseconds()))),"Date:parse":oe(([t])=>(Sr(t),Re(new Date(t.value).getTime()))),"Date:to_iso_str":oe(([t,r])=>{t&&Pe(t);const e=new Date((t==null?void 0:t.value)??Date.now());r&&Pe(r);const l=(r==null?void 0:r.value)??-e.getTimezoneOffset();let d;if(l===0)d="Z";else{const B=Math.sign(l),W=Math.floor(Math.abs(l)/60),ve=Math.abs(l)%60;e.setUTCHours(e.getUTCHours()+B*W),e.setUTCMinutes(e.getUTCMinutes()+B*ve);const ie=l>0?"+":"-",fe=W.toString().padStart(2,"0"),Me=ve.toString().padStart(2,"0");d=`${ie}${fe}:${Me}`}const x=e.getUTCFullYear().toString().padStart(4,"0"),P=(e.getUTCMonth()+1).toString().padStart(2,"0"),M=e.getUTCDate().toString().padStart(2,"0"),F=e.getUTCHours().toString().padStart(2,"0"),T=e.getUTCMinutes().toString().padStart(2,"0"),N=e.getUTCSeconds().toString().padStart(2,"0"),H=e.getUTCMilliseconds().toString().padStart(3,"0");return Xt(`${x}-${P}-${M}T${F}:${T}:${N}.${H}${d}`)}),"Math:Infinity":Re(1/0),"Math:E":Re(Math.E),"Math:LN2":Re(Math.LN2),"Math:LN10":Re(Math.LN10),"Math:LOG2E":Re(Math.LOG2E),"Math:LOG10E":Re(Math.LOG10E),"Math:PI":Re(Math.PI),"Math:SQRT1_2":Re(Math.SQRT1_2),"Math:SQRT2":Re(Math.SQRT2),"Math:abs":oe(([t])=>(Pe(t),Re(Math.abs(t.value)))),"Math:acos":oe(([t])=>(Pe(t),Re(Math.acos(t.value)))),"Math:acosh":oe(([t])=>(Pe(t),Re(Math.acosh(t.value)))),"Math:asin":oe(([t])=>(Pe(t),Re(Math.asin(t.value)))),"Math:asinh":oe(([t])=>(Pe(t),Re(Math.asinh(t.value)))),"Math:atan":oe(([t])=>(Pe(t),Re(Math.atan(t.value)))),"Math:atanh":oe(([t])=>(Pe(t),Re(Math.atanh(t.value)))),"Math:atan2":oe(([t,r])=>(Pe(t),Pe(r),Re(Math.atan2(t.value,r.value)))),"Math:cbrt":oe(([t])=>(Pe(t),Re(Math.cbrt(t.value)))),"Math:ceil":oe(([t])=>(Pe(t),Re(Math.ceil(t.value)))),"Math:clz32":oe(([t])=>(Pe(t),Re(Math.clz32(t.value)))),"Math:cos":oe(([t])=>(Pe(t),Re(Math.cos(t.value)))),"Math:cosh":oe(([t])=>(Pe(t),Re(Math.cosh(t.value)))),"Math:exp":oe(([t])=>(Pe(t),Re(Math.exp(t.value)))),"Math:expm1":oe(([t])=>(Pe(t),Re(Math.expm1(t.value)))),"Math:floor":oe(([t])=>(Pe(t),Re(Math.floor(t.value)))),"Math:fround":oe(([t])=>(Pe(t),Re(Math.fround(t.value)))),"Math:hypot":oe(([t])=>{uu(t);const r=[];for(const e of t.value)Pe(e),r.push(e.value);return Re(Math.hypot(...r))}),"Math:imul":oe(([t,r])=>(Pe(t),Pe(r),Re(Math.imul(t.value,r.value)))),"Math:log":oe(([t])=>(Pe(t),Re(Math.log(t.value)))),"Math:log1p":oe(([t])=>(Pe(t),Re(Math.log1p(t.value)))),"Math:log10":oe(([t])=>(Pe(t),Re(Math.log10(t.value)))),"Math:log2":oe(([t])=>(Pe(t),Re(Math.log2(t.value)))),"Math:max":oe(([t,r])=>(Pe(t),Pe(r),Re(Math.max(t.value,r.value)))),"Math:min":oe(([t,r])=>(Pe(t),Pe(r),Re(Math.min(t.value,r.value)))),"Math:pow":oe(([t,r])=>(Pe(t),Pe(r),Re(Math.pow(t.value,r.value)))),"Math:round":oe(([t])=>(Pe(t),Re(Math.round(t.value)))),"Math:sign":oe(([t])=>(Pe(t),Re(Math.sign(t.value)))),"Math:sin":oe(([t])=>(Pe(t),Re(Math.sin(t.value)))),"Math:sinh":oe(([t])=>(Pe(t),Re(Math.sinh(t.value)))),"Math:sqrt":oe(([t])=>{Pe(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new ur("Invalid operation.");return Re(r)}),"Math:tan":oe(([t])=>(Pe(t),Re(Math.tan(t.value)))),"Math:tanh":oe(([t])=>(Pe(t),Re(Math.tanh(t.value)))),"Math:trunc":oe(([t])=>(Pe(t),Re(Math.trunc(t.value)))),"Math:rnd":oe(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Re(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Re(Math.random())),"Math:gen_rng":oe(([t])=>{if(Ya(t),t.type!=="num"&&t.type!=="str")return zt;const r=no(t.value.toString());return oe(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?Re(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Re(r()))}),"Num:to_hex":oe(([t])=>(Pe(t),Xt(t.value.toString(16)))),"Num:from_hex":oe(([t])=>(Sr(t),Re(parseInt(t.value,16)))),"Str:lf":Xt(`
`),"Str:lt":oe(([t,r])=>(Sr(t),Sr(r),t.value<r.value?Re(-1):t.value===r.value?Re(0):Re(1))),"Str:gt":oe(([t,r])=>(Sr(t),Sr(r),t.value>r.value?Re(-1):t.value===r.value?Re(0):Re(1))),"Str:from_codepoint":oe(([t])=>(Pe(t),Xt(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":oe(([t])=>(uu(t),Xt(Array.from(t.value.map(r=>(Pe(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":oe(([t])=>(uu(t),Xt(Km.decode(Uint8Array.from(t.value.map(r=>(Pe(r),r.value))))))),"Uri:encode_full":oe(([t])=>(Sr(t),Xt(encodeURI(t.value)))),"Uri:encode_component":oe(([t])=>(Sr(t),Xt(encodeURIComponent(t.value)))),"Uri:decode_full":oe(([t])=>(Sr(t),Xt(decodeURI(t.value)))),"Uri:decode_component":oe(([t])=>(Sr(t),Xt(decodeURIComponent(t.value)))),"Arr:create":oe(([t,r])=>{Pe(t);try{return Gr(Array(t.value).fill(r??zt))}catch(e){throw t.value<0?new ur("Arr:create expected non-negative number, got negative"):Number.isInteger(t.value)?e:new ur("Arr:create expected integer, got non-integer")}}),"Obj:keys":oe(([t])=>(df(t),Gr(Array.from(t.value.keys()).map(r=>Xt(r))))),"Obj:vals":oe(([t])=>(df(t),Gr(Array.from(t.value.values())))),"Obj:kvs":oe(([t])=>(df(t),Gr(Array.from(t.value.entries()).map(([r,e])=>Gr([Xt(r),e]))))),"Obj:get":oe(([t,r])=>(df(t),Sr(r),t.value.get(r.value)??zt)),"Obj:set":oe(([t,r,e])=>(df(t),Sr(r),Ya(e),t.value.set(r.value,e),zt)),"Obj:has":oe(([t,r])=>(df(t),Sr(r),Ru(t.value.has(r.value)))),"Obj:copy":oe(([t])=>(df(t),ih(new Map(t.value)))),"Obj:merge":oe(([t,r])=>(df(t),df(r),ih(new Map([...t.value,...r.value])))),"Error:create":oe(([t,r])=>(Sr(t),Ep(t.value,r))),"Async:interval":oe(async([t,r,e],l)=>{Pe(t),$f(r),e&&(Bn(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.topCall(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),oe(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":oe(async([t,r],e)=>{Pe(t),$f(r);const l=setTimeout(()=>{e.topCall(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),oe(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})};var ao={},Wm=()=>{const t="\\ud800-\\udfff",P="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff"+"\\u1ab0-\\u1aff"+"\\u1dc0-\\u1dff",M="\\ufe0e\\ufe0f",F="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",T=`[${t}]`,N=`[${P}]`,H="\\ud83c[\\udffb-\\udfff]",B=`(?:${N}|${H})`,W=`[^${t}]`,ve="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",ie="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="\\u200d",Me="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",G=`[${F}]`,K=`${B}?`,Q=`[${M}]?`,X=`(?:${fe}(?:${[W,ve,ie].join("|")})${Q+K})*`,Z=Q+K+X,ae=`(?:${[`${W}${N}?`,N,ve,ie,T,G].join("|")})`;return new RegExp(`${Me}|${H}(?=${H})|${ae+Z}`,"g")},Gm=rf&&rf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});var Ph=Gm(Wm);function Np(t){if(typeof t!="string")throw new Error("A string is expected as input");return t.match(Ph.default())||[]}var Cn=ao.toArray=Np;function Uv(t){if(typeof t!="string")throw new Error("Input must be a string");var r=t.match(Ph.default());return r===null?0:r.length}var io=ao.length=Uv;function b0(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");(typeof r!="number"||r<0)&&(r=0),typeof e=="number"&&e<0&&(e=0);var l=t.match(Ph.default());return l?l.slice(r,e).join(""):""}var lo=ao.substring=b0;function Zm(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");var l=Uv(t);if(typeof r!="number"&&(r=parseInt(r,10)),r>=l)return"";r<0&&(r+=l);var d;typeof e>"u"?d=l:(typeof e!="number"&&(e=parseInt(e,10)),d=e>=0?e+r:r);var x=t.match(Ph.default());return x?x.slice(r,d).join(""):""}ao.substr=Zm;function Qm(t,r,e,l){if(r===void 0&&(r=16),e===void 0&&(e="#"),l===void 0&&(l="right"),typeof t!="string"||typeof r!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(l)===-1)throw new Error("Pad position should be either left or right");typeof e!="string"&&(e=String(e));var d=Uv(t);if(d>r)return b0(t,0,r);if(d<r){var x=e.repeat(r-d);return l==="left"?x+t:t+x}return t}ao.limit=Qm;function Xm(t,r,e){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");if(t==="")return r===""?0:-1;e=Number(e),e=isNaN(e)?0:e,r=String(r);var l=Np(t);if(e>=l.length)return r===""?l.length:-1;if(r==="")return e;var d=Np(r),x=!1,P;for(P=e;P<l.length;P+=1){for(var M=0;M<d.length&&d[M]===l[P+M];)M+=1;if(M===d.length&&d[M-1]===l[P+M-1]){x=!0;break}}return x?P:-1}var fo=ao.indexOf=Xm;const Dg={num:{to_str:t=>oe(async(r,e)=>Xt(t.value.toString()))},str:{to_num:t=>oe(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?zt:Re(l)}),to_arr:t=>oe(async(r,e)=>Gr(Cn(t.value).map(l=>Xt(l)))),to_unicode_arr:t=>oe(async(r,e)=>Gr([...t.value].map(l=>Xt(l)))),to_unicode_codepoint_arr:t=>oe(async(r,e)=>Gr([...t.value].map(l=>{const d=l.codePointAt(0);return Re(d??l.charCodeAt(0))}))),to_char_arr:t=>oe(async(r,e)=>Gr(t.value.split("").map(l=>Xt(l)))),to_charcode_arr:t=>oe(async(r,e)=>Gr(t.value.split("").map(l=>Re(l.charCodeAt(0))))),to_utf8_byte_arr:t=>oe(async(r,e)=>Gr(Array.from(Vm.encode(t.value)).map(l=>Re(l)))),len:t=>Re(io(t.value)),replace:t=>oe(async([r,e],l)=>(Sr(r),Sr(e),Xt(t.value.split(r.value).join(e.value)))),index_of:t=>oe(async([r,e],l)=>{Sr(r),e&&Pe(e);const d=e?e.value<0?t.value.length+e.value:e.value:void 0;return Re(fo(t.value,r.value,d))}),incl:t=>oe(async([r],e)=>(Sr(r),t.value.includes(r.value)?mn:xn)),trim:t=>oe(async(r,e)=>Xt(t.value.trim())),upper:t=>oe(async(r,e)=>Xt(t.value.toUpperCase())),lower:t=>oe(async(r,e)=>Xt(t.value.toLowerCase())),split:t=>oe(async([r],e)=>(r&&Sr(r),Gr(r?t.value.split(r?r.value:"").map(l=>Xt(l)):Cn(t.value).map(l=>Xt(l))))),slice:t=>oe(async([r,e],l)=>(Pe(r),Pe(e),Xt(lo(t.value,r.value,e.value)))),pick:t=>oe(async([r],e)=>{Pe(r);const d=Cn(t.value)[r.value];return d?Xt(d):zt}),charcode_at:t=>oe(([r],e)=>{Pe(r);const l=t.value.charCodeAt(r.value);return Number.isNaN(l)?zt:Re(l)}),codepoint_at:t=>oe(([r],e)=>{Pe(r);const l=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(l)?zt:Re(l)}),starts_with:t=>oe(async([r,e],l)=>{if(Sr(r),!r.value)return mn;e&&Pe(e);const d=(e==null?void 0:e.value)??0;if(d<-t.value.length||d>t.value.length)return xn;const x=d>=0?d:t.value.length+d;return t.value.startsWith(r.value,x)?mn:xn}),ends_with:t=>oe(async([r,e],l)=>{if(Sr(r),!r.value)return mn;e&&Pe(e);const d=(e==null?void 0:e.value)??t.value.length;if(d<-t.value.length||d>t.value.length)return xn;const x=d>=0?d:t.value.length+d;return t.value.endsWith(r.value,x)?mn:xn}),pad_start:t=>oe(([r,e],l)=>{Pe(r);const d=e?(Sr(e),e.value):" ";return Xt(t.value.padStart(r.value,d))}),pad_end:t=>oe(([r,e],l)=>{Pe(r);const d=e?(Sr(e),e.value):" ";return Xt(t.value.padEnd(r.value,d))})},arr:{len:t=>Re(t.value.length),push:t=>oe(async([r],e)=>(Ya(r),t.value.push(r),t)),unshift:t=>oe(async([r],e)=>(Ya(r),t.value.unshift(r),t)),pop:t=>oe(async(r,e)=>t.value.pop()??zt),shift:t=>oe(async(r,e)=>t.value.shift()??zt),concat:t=>oe(async([r],e)=>(uu(r),Gr(t.value.concat(r.value)))),slice:t=>oe(async([r,e],l)=>(Pe(r),Pe(e),Gr(t.value.slice(r.value,e.value)))),join:t=>oe(async([r],e)=>(r&&Sr(r),Xt(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>oe(async([r],e)=>{$f(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,Re(x)]));return Gr(await Promise.all(l))}),filter:t=>oe(async([r],e)=>{$f(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,Re(d)]);Bn(P),P.value&&l.push(x)}return Gr(l)}),reduce:t=>oe(async([r,e],l)=>{$f(r);const d=e!=null;if(!d&&t.value.length===0)throw new ur("Reduce of empty array without initial value");let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,Re(P)])}return x}),find:t=>oe(async([r],e)=>{$f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,Re(l)]);if(Bn(x),x.value)return d}return zt}),incl:t=>oe(async([r],e)=>(Ya(r),t.value.some(l=>yo(r,l))?mn:xn)),index_of:t=>oe(async([r,e],l)=>{if(Ya(r),e){Pe(e);const d=t.value.slice(0,e.value).length,x=t.value.slice(e.value).findIndex(P=>yo(P,r));return Re(x<0?x:x+d)}else return Re(t.value.findIndex(d=>yo(d,r)))}),reverse:t=>oe(async(r,e)=>(t.value.reverse(),zt)),copy:t=>oe(async(r,e)=>Gr([...t.value])),sort:t=>oe(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=l(x.slice(0,M),P),T=l(x.slice(M),P),[N,H]=await Promise.all([F,T]);return d(N,H,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);Pe(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return $f(r),uu(t),t.value=await l(t.value,r),t}),fill:t=>oe(async([r,e,l],d)=>{const x=r??zt,P=e&&(Pe(e),e.value),M=l&&(Pe(l),l.value);return t.value.fill(x,P,M),t}),repeat:t=>oe(async([r],e)=>{Pe(r);try{return Gr(Array(r.value).fill(t.value).flat())}catch(l){throw r.value<0?new ur("arr.repeat expected non-negative number, got negative"):Number.isInteger(r.value)?l:new ur("arr.repeat expected integer, got non-integer")}}),splice:t=>oe(async([r,e,l],d)=>{Pe(r);const x=r.value<-t.value.length?0:r.value<0?t.value.length+r.value:r.value>=t.value.length?t.value.length:r.value,P=e!=null?(Pe(e),e.value):t.value.length-x,M=l!=null?(uu(l),l.value):[],F=t.value.splice(x,P,...M);return Gr(F)}),flat:t=>oe(async([r],e)=>{if(r=r??Re(1),Pe(r),!Number.isInteger(r.value))throw new ur("arr.flat expected integer, got non-integer");if(r.value<0)throw new ur("arr.flat expected non-negative number, got negative");const l=(x,P,M)=>{if(P===0){M.push(...x);return}for(const F of x)lh(F)?l(F.value,P-1,M):M.push(F)},d=[];return l(t.value,r.value,d),Gr(d)}),flat_map:t=>oe(async([r],e)=>{$f(r);const l=t.value.map(async(x,P)=>{const M=await e.call(r,[x,Re(P)]);return lh(M)?M.value:M}),d=await Promise.all(l);return Gr(d.flat())}),every:t=>oe(async([r],e)=>{$f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,Re(l)]);if(Bn(x),!x.value)return xn}return mn}),some:t=>oe(async([r],e)=>{$f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,Re(l)]);if(Bn(x),x.value)return mn}return xn}),insert:t=>oe(async([r,e],l)=>(Pe(r),Ya(e),t.value.splice(r.value,0,e),zt)),remove:t=>oe(async([r],e)=>(Pe(r),t.value.splice(r.value,1)[0]??zt)),at:t=>oe(async([r,e],l)=>(Pe(r),t.value.at(r.value)??e??zt))},error:{name:t=>Xt(t.value),info:t=>t.info??zt}};function Ym(t,r){if(Object.hasOwn(Dg,t.type)){const e=Dg[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new ur(`No such prop (${r}) in ${t.type}.`)}else throw new ur(`Cannot read prop of ${t.type}. (reading ${r})`)}const ex={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var ii=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const A0=300,tx=A0-1;let va=class{constructor(r,e={}){be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);be(this,"vars",{});this.opts=e;const l={print:oe(([d])=>{Ya(d),this.opts.out&&this.opts.out(d)}),readline:oe(async d=>{const x=d[0];if(Sr(x),this.opts.in==null)return zt;const P=await this.opts.in(x.value);return Xt(P)})};this.vars=Object.fromEntries(Object.entries({...r,...Jm,...l}).map(([d,x])=>[d,ex.const(x)])),this.scope=new Of([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(l=>(this.handleError(l),Ep("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}handleError(r){if(!this.opts.err)throw r;if(this.opts.abortOnError){if(this.stop)return;this.abort()}r instanceof _h?this.opts.err(r):this.opts.err(new gm(r))}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r,e=this.scope){for(const l of r)switch(l.type){case"ns":{await this.collectNsMember(l,e);break}}}async collectNsMember(r,e=this.scope){const l=e.createChildNamespaceScope(r.name);await this.collectNs(r.members,l);for(const d of r.members)switch(d.type){case"def":{if(d.mut)throw new Error("Namespaces cannot include mutable variable: "+d.name);const x={isMutable:d.mut,value:await this._eval(d.expr,l)};l.add(d.name,x);break}case"ns":break;default:throw new Error("invalid ns member type: "+d.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??zt;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],{isMutable:!0,value:e[x]??zt});const d=r.scope.createChildScope(l);return Bm(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return zt;if(this.stepCount%A0===tx&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new ur("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);$f(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(Bn(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(Bn(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return zt}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(yo(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):zt}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return zt}case"for":{if(r.times){const l=await this._eval(r.times,e);Pe(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);Pe(l),Pe(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Re(x)}]])));if(P.type==="break")break;if(P.type==="return")return P}}return zt}case"each":{const l=await this._eval(r.items,e);uu(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:d}]])));if(x.type==="break")break;if(x.type==="return")return x}return zt}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,{isMutable:r.mut,value:l}),zt}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),zt}case"addAssign":{const l=await this._eval(r.dest,e);Pe(l);const d=await this._eval(r.expr,e);return Pe(d),await this.assign(e,r.dest,Re(l.value+d.value)),zt}case"subAssign":{const l=await this._eval(r.dest,e);Pe(l);const d=await this._eval(r.expr,e);return Pe(d),await this.assign(e,r.dest,Re(l.value-d.value)),zt}case"null":return zt;case"bool":return Ru(r.value);case"num":return Re(r.value);case"str":return Xt(r.value);case"arr":return Gr(await Promise.all(r.value.map(l=>this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return ih(l)}case"prop":{const l=await this._eval(r.target,e);return qh(l)?l.value.has(r.name)?l.value.get(r.name):zt:Ym(l,r.name)}case"index":{const l=await this._eval(r.target,e),d=await this._eval(r.index,e);if(lh(l)){Pe(d);const x=l.value[d.value];if(x===void 0)throw new Ig(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}else{if(qh(l))return Sr(d),l.value.has(d.value)?l.value.get(d.value):zt;throw new ur(`Cannot read prop (${wo(d)}) of ${l.type}.`)}}case"not":{const l=await this._eval(r.expr,e);return Bn(l),Ru(!l.value)}case"fn":return Dm(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Ru(e.exists(r.identifier.name));case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);l+=wo(x)}return Xt(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),Lm(l)}case"break":return this.log("block:break",{scope:e.name}),Hm();case"continue":return this.log("block:continue",{scope:e.name}),Um();case"ns":return zt;case"meta":return zt;case"and":{const l=await this._eval(r.left,e);if(Bn(l),l.value){const d=await this._eval(r.right,e);return Bn(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(Bn(l),l.value)return l;{const d=await this._eval(r.right,e);return Bn(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=zt;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r),x=await this._eval(e.index,r);if(lh(d)){if(Pe(x),d.value[x.value]===void 0)throw new Ig(`Index out of range. index: ${x.value} max: ${d.value.length-1}`);d.value[x.value]=l}else if(qh(d))Sr(x),d.value.set(x.value,l);else throw new ur(`Cannot read prop (${wo(x)}) of ${d.type}.`)}else if(e.type==="prop"){const d=await this._eval(e.target,r);df(d),d.value.set(e.name,l)}else if(e.type==="arr")uu(l),await Promise.all(e.value.map((d,x)=>this.assign(r,d,l.value[x]??zt)));else if(e.type==="obj")df(l),await Promise.all([...e.value].map(([d,x])=>this.assign(r,x,l.value.get(d)??zt)));else throw new ur("The left-hand side of an assignment expression must be a variable or a property/index access.")}};ii([hs],va.prototype,"exec",null);ii([hs],va.prototype,"execFn",null);ii([hs],va.prototype,"execFnSimple",null);ii([hs],va.prototype,"handleError",null);ii([hs],va.prototype,"log",null);ii([hs],va.prototype,"collectNs",null);ii([hs],va.prototype,"collectNsMember",null);ii([hs],va.prototype,"_fn",null);ii([hs],va.prototype,"_eval",null);ii([hs],va.prototype,"_run",null);ii([hs],va.prototype,"registerAbortHandler",null);ii([hs],va.prototype,"unregisterAbortHandler",null);ii([hs],va.prototype,"abort",null);ii([hs],va.prototype,"assign",null);ii([hs],va,"collectMetadata",null);function rx(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Du(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Du.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}rx(Du,Error);function Vh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Du.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=Vh("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+Vh("",d.column-1," ")+Vh("",H,"^")}else r+=`
 at `+P}return r};Du.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function Lg(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:tr,Main:Ba},x=tr,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="!",_r="[",Qt=".",Pr="if",Kt="elif",xr="else",Or="match",Mt="=>",Br="*",sr="eval",br="exists",J="`",re='"',ue="'",me='\\"',he="\\'",Te="true",Ie="false",xe="null",Ee="@",ye="@(",Ge="<",rt=">",tt=`\r
`,Ve=/^[A-Z0-9_:]/i,lt=/^[%*-+\-\/<>\^]/,Pt=/^[^`{]/,dt=/^[{}`]/,wt=/^[+\-]/,At=/^[1-9]/,at=/^[0-9]/,is=/^[,;]/,ls=/^[A-Z_]/i,zr=/^[A-Z0-9_]/i,bt=/^[\r\n]/,Rt=/^[ \t\r\n]/,an=/^[ \t]/,Dt=O(),xi=j("//",!1),bi=j("/*",!1),nr=j("*/",!1),Ct=j("(",!1),cr=j(")",!1),_n=j("::",!1),ot=j("{",!1),nt=j("}",!1),kr=j("###",!1),Et=j("let",!1),Ye=j(":",!1),kt=j("=",!1),gs=j("var",!1),Ut=j("<:",!1),Bt=j("#[",!1),Mr=j("]",!1),Vn=j("each",!1),ar=j(",",!1),jr=j("for",!1),Ts=j("return",!1),it=ft([["A","Z"],["0","9"],"_",":"],!1,!0),St=j("loop",!1),Vs=j("break",!1),Fr=j("continue",!1),Nr=j("+=",!1),Ai=j("-=",!1),Kn=j("\\",!1),Ci=j("||",!1),_i=j("&&",!1),$a=j("==",!1),ma=j("!=",!1),Pi=j("<=",!1),ki=j(">=",!1),Mi=ft(["%",["*","+"],"-","/","<",">","^"],!1,!1),Ei=j("!",!1),Ks=j("[",!1),Fs=j(".",!1),Pn=j("if",!1),xa=j("elif",!1),Si=j("else",!1),ba=j("match",!1),us=j("=>",!1),Ti=j("*",!1),Fi=j("eval",!1),Ni=j("exists",!1),es=j("`",!1),Ns=ft(["`","{"],!0,!1),kn=ft(["{","}","`"],!1,!1),xs=j('"',!1),bs=j("'",!1),Oi=j('\\"',!1),Js=j("\\'",!1),Ir=ft(["+","-"],!1,!1),As=ft([["1","9"]],!1,!1),Jt=ft([["0","9"]],!1,!1),Ws=j("true",!1),Gs=j("false",!1),Zs=j("null",!1),Rr=ft([",",";"],!1,!1),Qs=j("@",!1),Cs=j("@(",!1),Aa=j("<",!1),ir=j(">",!1),Ca=ft([["A","Z"],"_"],!1,!0),hr=ft([["A","Z"],["0","9"],"_"],!1,!0),ji=j(`\r
`,!1),Xs=ft(["\r",`
`],!1,!1),Ii=ft([" ","	","\r",`
`],!1,!1),Os=ft([" ","	"],!1,!1),Ri=function(a){return a.join("")},Mn=function(){return c()},Di=function(){return c()},_a=function(){return" ".repeat(c().length)},Li=function(){return c().replace(/[^\n]/g," ")},Hi=function(a){return a??[]},Jn=function(a,v){return v},Ui=function(a,v){return[a,...v]},Wn=function(a,v){return v},Bi=function(a,v){return[a,...v]},Gn=function(a,v){return v},zi=function(a,v){return[a,...v]},Pa=function(a){return a},qi=function(a,v){return Y("ns",{name:a,members:v})},En=function(a,v){return Y("meta",{name:a,value:v})},Vi=function(a){return Y("meta",{name:null,value:a})},Sn=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!1,attr:[]})},Ki=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!0,attr:[]})},ka=function(a){return Y("identifier",{name:"print",chain:[Y("callChain",{args:[a]})]})},Ji=function(a,v){return Y("attr",{name:a,value:v??Y("bool",{value:!0})})},Wi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Gi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Zi=function(a,v){return v},Qi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},Xi=function(a,v){return v},Yi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},el=function(a,v){return Y("for",{times:a,for:v})},tl=function(a,v){return Y("for",{times:a,for:v})},rl=function(a){return Y("return",{expr:a})},sl=function(a){return Y("loop",{statements:a})},nl=function(){return Y("break",{})},al=function(){return Y("continue",{})},il=function(a,v,b){return v==="+="?Y("addAssign",{dest:a,expr:b}):v==="-="?Y("subAssign",{dest:a,expr:b}):Y("assign",{dest:a,expr:b})},Zn=function(a,v,b){return{op:v,term:b}},ll=function(a,v){return Y("infix",{operands:[a,...v.map(b=>b.term)],operators:v.map(b=>b.op.value),operatorLocs:v.map(b=>b.op.loc)})},fl=function(){const a=te();return{value:c(),loc:{start:a.start.offset,end:a.end.offset-1}}},ul=function(a){return Y("not",{expr:a})},ol=function(a,v){return a.chain?{...a,chain:[...a.chain,...v]}:{...a,chain:v}},cl=function(a){return Y("callChain",{args:a??[]})},ln=function(a,v){return v},hl=function(a,v){return[a,...v]},Ma=function(a){return Y("indexChain",{index:a})},pl=function(a){return Y("propChain",{name:a})},vl=function(a,v,b,g){return Y("if",{cond:a,then:v,elseif:b??[],else:g})},gl=function(a,v){return[a,...v]},Ea=function(a,v){return{cond:a,then:v}},dl=function(a){return a},fn=function(a,v,b){return{q:v,a:b}},yl=function(a,v,b){return Y("match",{about:a,qs:v??[],default:b})},wl=function(a){return Y("block",{statements:a})},$l=function(a){return Y("exists",{identifier:a})},ml=function(a){return Y("identifier",{name:a})},xl=function(a){return Y("tmpl",{tmpl:a})},Sa=function(a){return a.join("")},Qn=function(a){return a},Ta=function(a){return Y("str",{value:a.join("")})},Xn=function(a){return a},bl=function(a){return Y("str",{value:a.join("")})},Al=function(){return'"'},Fa=function(){return"'"},Cl=function(){return Y("num",{value:parseFloat(c())})},Na=function(){return Y("num",{value:parseFloat(c())})},Oa=function(){return Y("num",{value:parseInt(c(),10)})},_l=function(){return Y("num",{value:parseInt(c(),10)})},ja=function(){return Y("bool",{value:!0})},Pl=function(){return Y("bool",{value:!1})},kl=function(){return Y("null",{})},Yn=function(a,v){return{k:a,v}},Ml=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},ea=function(a){return a},El=function(a){return Y("arr",{value:a})},Sl=function(a,v){return{name:a,argType:v}},Ia=function(a,v){return[a,...v]},Tl=function(a,v,b,g,n,f){return(a.length>0||b.length>0)&&I("Cannot use spaces before or after the function name."),Y("def",{name:v,expr:Y("fn",{args:g??[],retType:n},f??[]),mut:!1,attr:[]})},Ra=function(a,v,b){return Y("fn",{args:a??[],retType:v},b??[])},un=function(a){return a},Fl=function(a){return Y("arr",{value:a})},on=function(a,v){return{k:a,v}},Nl=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},Ol=function(a,v){return Y("fnTypeSource",{args:a??[],result:v})},Da=function(a,v){return[a,...v]},jl=function(a,v){return Y("namedTypeSource",{name:a,inner:v})},La=function(a){return Y("namedTypeSource",{name:a,inner:null})},Ha=function(){return c()},Il=function(){return c()},Ua=function(a){return Y("block",{statements:a??[]})},i=r.peg$currPos|0,q=i,Dr=[{line:1,column:1}],Tt=i,_s=r.peg$maxFailExpected||[],u=r.peg$silentFails|0,k={},Ar;if(r.startRule){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function c(){return t.substring(q,i)}function te(){return le(q,i)}function I(a,v){throw v=v!==void 0?v:le(q,i),Rl(a,v)}function j(a,v){return{type:"literal",text:a,ignoreCase:v}}function ft(a,v,b){return{type:"class",parts:a,inverted:v,ignoreCase:b}}function O(){return{type:"any"}}function z(){return{type:"end"}}function Ps(a){var v=Dr[a],b;if(v)return v;if(a>=Dr.length)b=Dr.length-1;else for(b=a;!Dr[--b];);for(v=Dr[b],v={line:v.line,column:v.column};b<a;)t.charCodeAt(b)===10?(v.line++,v.column=1):v.column++,b++;return Dr[a]=v,v}function le(a,v,b){var g=Ps(a),n=Ps(v),f={source:l,start:{offset:a,line:g.line,column:g.column},end:{offset:v,line:n.line,column:n.column}};return f}function E(a){i<Tt||(i>Tt&&(Tt=i,_s=[]),_s.push(a))}function Rl(a,v){return new Du(a,null,null,v)}function pe(a,v,b){return new Du(Du.buildMessage(a,v),a,v,b)}function tr(){var a,v,b,g=i*77+0,n=k[g];if(n)return i=n.nextPos,n.result;for(a=i,v=[],b=ks();b!==e;)v.push(b),b=ks();return q=a,v=Ri(v),a=v,k[g]={nextPos:i,result:a},a}function ks(){var a,v,b=i*77+1,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=na(),v!==e&&(q=a,v=Mn()),a=v,a===e&&(a=i,v=Rs(),v!==e&&(q=a,v=Di()),a=v,a===e&&(a=L(),a===e&&(t.length>i?(a=t.charAt(i),i++):(a=e,u===0&&E(Dt))))),k[b]={nextPos:i,result:a},a)}function L(){var a,v,b,g,n,f,y=i*77+2,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,2)===P?(v=P,i+=2):(v=e,u===0&&E(xi)),v!==e){for(b=[],g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=_a()}else i=a,a=e;if(a===e)if(a=i,t.substr(i,2)===M?(v=M,i+=2):(v=e,u===0&&E(bi)),v!==e){for(b=[],g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);t.substr(i,2)===F?(g=F,i+=2):(g=e,u===0&&E(nr)),g!==e?(q=a,a=Li()):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Ba(){var a,v,b,g,n,f=i*77+3,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();for(b=Ys(),b===e&&(b=null),g=[],n=C();n!==e;)g.push(n),n=C();return q=a,a=Hi(b),k[f]={nextPos:i,result:a},a}function Ys(){var a,v,b,g,n,f,y,h,s=i*77+4,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=en(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Ui(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function D(){var a,v,b,g,n,f,y,h,s=i*77+5,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=js(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Bi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function qr(){var a,v,b,g,n,f,y,h,s=i*77+6,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Vr(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=zi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function en(){var a,v=i*77+7,b=k[v];return b?(i=b.nextPos,b.result):(a=yr(),a===e&&(a=et(),a===e&&(a=Vr())),k[v]={nextPos:i,result:a},a)}function js(){var a,v=i*77+8,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=yr())),k[v]={nextPos:i,result:a},a)}function Vr(){var a,v=i*77+9,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=ds(),a===e&&(a=Kr(),a===e&&(a=Ke(),a===e&&(a=Is(),a===e&&(a=za(),a===e&&(a=qa(),a===e&&(a=Dl(),a===e&&(a=Va(),a===e&&(a=Ll(),a===e&&(a=Fe()))))))))))),k[v]={nextPos:i,result:a},a)}function Fe(){var a,v=i*77+10,b=k[v];return b?(i=b.nextPos,b.result):(a=Hl(),a===e&&(a=Er()),k[v]={nextPos:i,result:a},a)}function Er(){var a,v=i*77+11,b=k[v];return b?(i=b.nextPos,b.result):(a=Wr(),a===e&&(a=Vl(),a===e&&(a=Bl(),a===e&&(a=Ls()))),k[v]={nextPos:i,result:a},a)}function Ls(){var a,v,b,g,n,f,y=i*77+12,h=k[y];if(h)return i=h.nextPos,h.result;if(a=Fn(),a===e&&(a=zl(),a===e&&(a=Ja(),a===e&&(a=na(),a===e&&(a=Rs(),a===e&&(a=vn(),a===e&&(a=Us(),a===e&&(a=gn(),a===e&&(a=jn(),a===e&&(a=Ga(),a===e&&(a=Ul(),a===e&&(a=Ms(),a===e))))))))))))if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=Pa(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function fr(){var a,v=i*77+13,b=k[v];return b?(i=b.nextPos,b.result):(a=vn(),a===e&&(a=Rs(),a===e&&(a=Us(),a===e&&(a=In(),a===e&&(a=Rn(),a===e&&(a=gn()))))),k[v]={nextPos:i,result:a},a)}function yr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+14,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===H?(v=H,i+=2):(v=e,u===0&&E(_n)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(t.charCodeAt(i)===123?(f=B,i++):(f=e,u===0&&E(ot)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=D(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();t.charCodeAt(i)===125?(o=W,i++):(o=e,u===0&&E(nt)),o!==e?(q=a,a=qi(g,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function et(){var a,v,b,g,n,f,y=i*77+15,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=fr(),f!==e?(q=a,a=En(g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();g=fr(),g!==e?(q=a,a=Vi(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function ts(){var a,v,b,g,n,f,y,h,s,o=i*77+16,w=k[o];if(w)return i=w.nextPos,w.result;if(a=i,t.substr(i,3)===ie?(v=ie,i+=3):(v=e,u===0&&E(Et)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Sn(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===G?(v=G,i+=3):(v=e,u===0&&E(gs)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Ki(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[o]={nextPos:i,result:a},a}function ds(){var a,v,b,g,n=i*77+17,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,2)===K?(v=K,i+=2):(v=e,u===0&&E(Ut)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();g=Fe(),g!==e?(q=a,a=ka(g)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ke(){var a,v,b,g,n,f,y,h=i*77+18,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,2)===Q?(v=Q,i+=2):(v=e,u===0&&E(Bt)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();for(y=fr(),y!==e?n=y:(i=n,n=e),n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();t.charCodeAt(i)===93?(y=X,i++):(y=e,u===0&&E(Mr)),y!==e?(q=a,a=Ji(g,n)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Is(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+19,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();for(t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e)if(t.charCodeAt(i)===41?(p=N,i++):(p=e,u===0&&E(cr)),p!==e){for(m=[],$=C();$!==e;)m.push($),$=C();$=_t(),$!==e?(q=a,a=Wi(y,w,$)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(o=Fe(),o!==e){if(w=[],p=C(),p!==e)for(;p!==e;)w.push(p),p=C();else w=e;w!==e?(p=_t(),p!==e?(q=a,a=Gi(f,o,p)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function za(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A=i*77+20,S=k[A];if(S)return i=S.nextPos,S.result;if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=i,t.charCodeAt(i)===61?(o=Me,i++):(o=e,u===0&&E(kt)),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();p=Fe(),p!==e?(q=s,s=Zi(y,p)):(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),t.charCodeAt(i)===44?(o=ee,i++):(o=e,u===0&&E(ar)),o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();if(p=Fe(),p!==e)if(t.charCodeAt(i)===41?(m=N,i++):(m=e,u===0&&E(cr)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=_t(),_!==e?(q=a,a=Qi(y,s,p,_)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(h=i,t.charCodeAt(i)===61?(s=Me,i++):(s=e,u===0&&E(kt)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Fe(),w!==e?(q=h,h=Xi(f,w)):(i=h,h=e)}else i=h,h=e;for(h===e&&(h=null),t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e){if(p=[],m=C(),m!==e)for(;m!==e;)p.push(m),m=C();else p=e;p!==e?(m=_t(),m!==e?(q=a,a=Yi(f,h,w,m)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(n=Fe(),n!==e)if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=_t(),h!==e?(q=a,a=el(n,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;n!==e?(f=_t(),f!==e?(q=a,a=tl(g,f)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e}}return k[A]={nextPos:i,result:a},a}function Kr(){var a,v,b,g,n,f=i*77+21,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,6)===ne?(v=ne,i+=6):(v=e,u===0&&E(Ts)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=Fe(),n!==e?(q=a,a=rl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function qa(){var a,v,b,g,n,f,y,h,s=i*77+22,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===Se?(v=Se,i+=4):(v=e,u===0&&E(St)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=sl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Dl(){var a,v,b,g,n=i*77+23,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ne?(v=Ne,i+=5):(v=e,u===0&&E(Vs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=nl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Va(){var a,v,b,g,n=i*77+24,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,8)===Ce?(v=Ce,i+=8):(v=e,u===0&&E(Fr)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=al()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Ll(){var a,v,b,g,n,f,y=i*77+25,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.substr(i,2)===st?(g=st,i+=2):(g=e,u===0&&E(Nr)),g===e&&(t.substr(i,2)===ct?(g=ct,i+=2):(g=e,u===0&&E(Ai)),g===e&&(t.charCodeAt(i)===61?(g=Me,i++):(g=e,u===0&&E(kt)))),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=Fe(),f!==e?(q=a,a=il(v,g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Hl(){var a,v,b,g,n,f,y,h,s=i*77+26,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Er(),v!==e){for(b=[],g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e;if(g!==e)for(;g!==e;){for(b.push(g),g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e}else b=e;b!==e?(q=a,a=ll(v,b)):(i=a,a=e)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function pr(){var a,v,b,g=i*77+27,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=Ue(),b!==e?(v=[v,b],a=v):(i=a,a=e)):(i=a,a=e),a===e&&(a=we()),k[g]={nextPos:i,result:a},a)}function ta(){var a,v,b=i*77+28,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===yt?(v=yt,i+=2):(v=e,u===0&&E(Ci)),v===e&&(t.substr(i,2)===vt?(v=vt,i+=2):(v=e,u===0&&E(_i)),v===e&&(t.substr(i,2)===Xe?(v=Xe,i+=2):(v=e,u===0&&E($a)),v===e&&(t.substr(i,2)===gt?(v=gt,i+=2):(v=e,u===0&&E(ma)),v===e&&(t.substr(i,2)===Zt?(v=Zt,i+=2):(v=e,u===0&&E(Pi)),v===e&&(t.substr(i,2)===er?(v=er,i+=2):(v=e,u===0&&E(ki)),v===e&&(v=t.charAt(i),lt.test(v)?i++:(v=e,u===0&&E(Mi)))))))),v!==e&&(q=a,v=fl()),a=v,k[b]={nextPos:i,result:a},a)}function Ul(){var a,v,b,g=i*77+29,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===33?(v=ht,i++):(v=e,u===0&&E(Ei)),v!==e?(b=Fe(),b!==e?(q=a,a=ul(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Bl(){var a,v,b,g,n=i*77+30,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=Ls(),v!==e){if(b=[],g=ra(),g===e&&(g=cn(),g===e&&(g=sa())),g!==e)for(;g!==e;)b.push(g),g=ra(),g===e&&(g=cn(),g===e&&(g=sa()));else b=e;b!==e?(q=a,a=ol(v,b)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function ra(){var a,v,b,g,n,f,y=i*77+31,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Jr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=cl(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Jr(){var a,v,b,g,n,f,y=i*77+32,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);q=a,a=hl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function cn(){var a,v,b,g,n,f,y=i*77+33,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Ma(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function sa(){var a,v,b,g=i*77+34,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===46?(v=Qt,i++):(v=e,u===0&&E(Fs)),v!==e?(b=Le(),b!==e?(q=a,a=pl(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Wr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+35,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===Pr?(v=Pr,i+=2):(v=e,u===0&&E(Pn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=_t(),f!==e){if(y=i,h=[],s=C(),s!==e)for(;s!==e;)h.push(s),s=C();else h=e;if(h!==e?(s=Tn(),s!==e?y=s:(i=y,y=e)):(i=y,y=e),y===e&&(y=null),h=i,s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;s!==e?(o=Ka(),o!==e?h=o:(i=h,h=e)):(i=h,h=e),h===e&&(h=null),q=a,a=vl(g,f,y,h)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Tn(){var a,v,b,g,n,f,y=i*77+36,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=tn(),v!==e){for(b=[],g=i,n=[],f=C();f!==e;)n.push(f),f=C();for(f=tn(),f!==e?g=f:(i=g,g=e);g!==e;){for(b.push(g),g=i,n=[],f=C();f!==e;)n.push(f),f=C();f=tn(),f!==e?g=f:(i=g,g=e)}q=a,a=gl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function tn(){var a,v,b,g,n,f,y,h=i*77+37,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,4)===Kt?(v=Kt,i+=4):(v=e,u===0&&E(xa)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=_t(),y!==e?(q=a,a=Ea(n,y)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Ka(){var a,v,b,g,n,f=i*77+38,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,4)===xr?(v=xr,i+=4):(v=e,u===0&&E(Si)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=_t(),n!==e?(q=a,a=dl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function Fn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+39,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.substr(i,5)===Or?(v=Or,i+=5):(v=e,u===0&&E(ba)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===123?(y=B,i++):(y=e,u===0&&E(ot)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=[],o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;if(o!==e)for(;o!==e;)if(s.push(o),o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;else s=e;if(s!==e){if(o=i,t.charCodeAt(i)===42?(w=Br,i++):(w=e,u===0&&E(Ti)),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();o=_}else i=o,o=e}else i=o,o=e}else i=o,o=e;for(o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();t.charCodeAt(i)===125?(p=W,i++):(p=e,u===0&&E(nt)),p!==e?(q=a,a=yl(n,s,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[R]={nextPos:i,result:a},a}function zl(){var a,v,b,g,n,f,y,h,s=i*77+40,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===sr?(v=sr,i+=4):(v=e,u===0&&E(Fi)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=wl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Ja(){var a,v,b,g,n=i*77+41,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,6)===br?(v=br,i+=6):(v=e,u===0&&E(Ni)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;b!==e?(g=Ms(),g!==e?(q=a,a=$l(g)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ms(){var a,v,b=i*77+42,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=Jl(),v!==e&&(q=a,v=ml(v)),a=v,k[b]={nextPos:i,result:a},a)}function na(){var a,v,b,g,n,f,y=i*77+43,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===96?(v=J,i++):(v=e,u===0&&E(es)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===96?(g=J,i++):(g=e,u===0&&E(es)),g!==e?(q=a,a=xl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function aa(){var a,v,b,g,n,f,y=i*77+44,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Fe(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?a=g:(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,v=[],b=Hs(),b!==e)for(;b!==e;)v.push(b),b=Hs();else v=e;v!==e&&(q=a,v=Sa(v)),a=v}return k[y]={nextPos:i,result:a},a}function Hs(){var a,v=i*77+45,b=k[v];return b?(i=b.nextPos,b.result):(a=ql(),a===e&&(a=t.charAt(i),Pt.test(a)?i++:(a=e,u===0&&E(Ns))),k[v]={nextPos:i,result:a},a)}function ql(){var a,v,b,g=i*77+46,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=t.charAt(i),dt.test(b)?i++:(b=e,u===0&&E(kn)),b!==e?a=b:(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Rs(){var a,v,b,g,n,f,y=i*77+47,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===34?(v=re,i++):(v=e,u===0&&E(xs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===34?(g=re,i++):(g=e,u===0&&E(xs)),g!==e?(q=a,a=Ta(b)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,t.charCodeAt(i)===39?(v=ue,i++):(v=e,u===0&&E(bs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===39?(g=ue,i++):(g=e,u===0&&E(bs)),g!==e?(q=a,a=bl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function hn(){var a,v,b=i*77+48,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===me?(v=me,i+=2):(v=e,u===0&&E(Oi)),v!==e&&(q=a,v=Al()),a=v,k[b]={nextPos:i,result:a},a)}function pn(){var a,v,b=i*77+49,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===he?(v=he,i+=2):(v=e,u===0&&E(Js)),v!==e&&(q=a,v=Fa()),a=v,k[b]={nextPos:i,result:a},a)}function vn(){var a,v=i*77+50,b=k[v];return b?(i=b.nextPos,b.result):(a=rn(),a===e&&(a=Nn()),k[v]={nextPos:i,result:a},a)}function rn(){var a,v,b,g,n,f,y,h=i*77+51,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;if(g!==e)if(t.charCodeAt(i)===46?(n=Qt,i++):(n=e,u===0&&E(Fs)),n!==e){if(f=[],y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt)),y!==e)for(;y!==e;)f.push(y),y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt));else f=e;f!==e?(q=a,a=Cl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e)if(t.charCodeAt(i)===46?(g=Qt,i++):(g=e,u===0&&E(Fs)),g!==e){if(n=[],f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt)),f!==e)for(;f!==e;)n.push(f),f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt));else n=e;n!==e?(q=a,a=Na()):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Nn(){var a,v,b,g,n,f=i*77+52,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;g!==e?(q=a,a=Oa()):(i=a,a=e)}else i=a,a=e;return a===e&&(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e?(q=a,a=_l()):(i=a,a=e)),k[f]={nextPos:i,result:a},a}function Us(){var a,v=i*77+53,b=k[v];return b?(i=b.nextPos,b.result):(a=Wa(),a===e&&(a=On()),k[v]={nextPos:i,result:a},a)}function Wa(){var a,v,b,g,n=i*77+54,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===Te?(v=Te,i+=4):(v=e,u===0&&E(Ws)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=ja()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function On(){var a,v,b,g,n=i*77+55,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ie?(v=Ie,i+=5):(v=e,u===0&&E(Gs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=Pl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function gn(){var a,v,b,g,n=i*77+56,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===xe?(v=xe,i+=4):(v=e,u===0&&E(Zs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=kl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function jn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+57,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Ml(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Ga(){var a,v,b,g,n,f,y,h,s,o,w=i*77+58,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=El(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function sn(){var a,v,b,g,n,f,y,h=i*77+59,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=Le(),v!==e){for(b=i,g=[],n=C();n!==e;)g.push(n),n=C();if(t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=Lt(),y!==e?b=y:(i=b,b=e)}else i=b,b=e;b===e&&(b=null),q=a,a=Sl(v,b)}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function dn(){var a,v,b,g,n,f,y=i*77+60,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=sn(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Ia(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function yn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+61,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.charCodeAt(i)===64?(v=Ee,i++):(v=e,u===0&&E(Qs)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(t.charCodeAt(i)===40?(f=T,i++):(f=e,u===0&&E(Ct)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=dn(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(t.charCodeAt(i)===41?(o=N,i++):(o=e,u===0&&E(cr)),o!==e){for(w=i,p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===58?(m=fe,i++):(m=e,u===0&&E(Ye)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=Lt(),_!==e?w=_:(i=w,w=e)}else i=w,w=e;for(w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===123?(m=B,i++):(m=e,u===0&&E(ot)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();for(_=qr(),_===e&&(_=null),A=[],S=C();S!==e;)A.push(S),S=C();t.charCodeAt(i)===125?(S=W,i++):(S=e,u===0&&E(nt)),S!==e?(q=a,a=Tl(b,g,n,h,w,_)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[R]={nextPos:i,result:a},a}function Vl(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$=i*77+62,_=k[$];if(_)return i=_.nextPos,_.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=i,h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===58?(s=fe,i++):(s=e,u===0&&E(Ye)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Lt(),w!==e?y=w:(i=y,y=e)}else i=y,y=e;for(y===e&&(y=null),h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===123?(s=B,i++):(s=e,u===0&&E(ot)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();for(w=qr(),w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();t.charCodeAt(i)===125?(m=W,i++):(m=e,u===0&&E(nt)),m!==e?(q=a,a=Ra(g,y,w)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[$]={nextPos:i,result:a},a}function In(){var a,v,b,g,n,f,y,h,s,o,w=i*77+63,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Fl(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Rn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+64,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Nl(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Lt(){var a,v=i*77+65,b=k[v];return b?(i=b.nextPos,b.result):(a=Kl(),a===e&&(a=Za()),k[v]={nextPos:i,result:a},a)}function Kl(){var a,v,b,g,n,f,y,h,s,o,w=i*77+66,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.substr(i,2)===Mt?(h=Mt,i+=2):(h=e,u===0&&E(us)),h!==e){for(s=[],o=C();o!==e;)s.push(o),o=C();o=Lt(),o!==e?(q=a,a=Ol(g,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Dn(){var a,v,b,g,n,f,y=i*77+67,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Lt(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Da(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Za(){var a,v,b,g,n,f,y,h,s=i*77+68,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Le(),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(t.charCodeAt(i)===60?(g=Ge,i++):(g=e,u===0&&E(Aa)),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(f=Lt(),f!==e){for(y=[],h=we();h!==e;)y.push(h),h=we();t.charCodeAt(i)===62?(h=rt,i++):(h=e,u===0&&E(ir)),h!==e?(q=a,a=jl(v,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return a===e&&(a=i,v=Le(),v!==e&&(q=a,v=La(v)),a=v),k[s]={nextPos:i,result:a},a}function Le(){var a,v,b,g,n=i*77+69,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=t.charAt(i),ls.test(v)?i++:(v=e,u===0&&E(Ca)),v!==e){for(b=[],g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));g!==e;)b.push(g),g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));q=a,a=Ha()}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Jl(){var a,v,b,g,n,f,y=i*77+70,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Le(),v!==e){for(b=[],g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=Il()}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Lr(){var a,v,b,g,n,f=i*77+71,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();if(t.charCodeAt(i)===44?(b=ee,i++):(b=e,u===0&&E(ar)),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();v=[v,b,g],a=v}else i=a,a=e;if(a===e)if(a=[],v=C(),v!==e)for(;v!==e;)a.push(v),v=C();else a=e;return k[f]={nextPos:i,result:a},a}function _t(){var a,v,b,g,n,f,y=i*77+72,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=qr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?(q=a,a=Ua(g)):(i=a,a=e)}else i=a,a=e;return a===e&&(a=Vr()),k[y]={nextPos:i,result:a},a}function Ue(){var a,v=i*77+73,b=k[v];return b?(i=b.nextPos,b.result):(t.substr(i,2)===tt?(a=tt,i+=2):(a=e,u===0&&E(ji)),a===e&&(a=t.charAt(i),bt.test(a)?i++:(a=e,u===0&&E(Xs))),k[v]={nextPos:i,result:a},a)}function ia(){var a,v,b=i*77+74,g=k[b];return g?(i=g.nextPos,g.result):(a=i,u++,t.length>i?(v=t.charAt(i),i++):(v=e,u===0&&E(Dt)),u--,v===e?a=void 0:(i=a,a=e),a===e&&(a=Ue()),k[b]={nextPos:i,result:a},a)}function C(){var a,v=i*77+75,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),Rt.test(a)?i++:(a=e,u===0&&E(Ii)),k[v]={nextPos:i,result:a},a)}function we(){var a,v=i*77+76,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),an.test(a)?i++:(a=e,u===0&&E(Os)),k[v]={nextPos:i,result:a},a)}function Y(a,v,b){const g={type:a};v.children=b;for(const f of Object.keys(v))v[f]!==void 0&&(g[f]=v[f]);const n=te();return g.loc={start:n.start.offset,end:n.end.offset-1},g}if(Ar=x(),r.peg$library)return{peg$result:Ar,peg$currPos:i,peg$FAILED:e,peg$maxFailExpected:_s,peg$maxFailPos:Tt};if(Ar!==e&&i===t.length)return Ar;throw Ar!==e&&i<t.length&&E(z()),pe(_s,Tt<t.length?t.charAt(Tt):null,Tt<t.length?le(Tt,Tt+1):le(Tt,Tt))}const sx=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function nx(t){return sx.includes(t.type)}function C0(t){return"chain"in t&&t.chain!==null}function ax(t,r,e){return{type:"call",target:t,args:r,loc:e}}function ix(t,r,e){return{type:"index",target:t,index:r,loc:e}}function lx(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Ft(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Ft(e.expr,r);break}case"return":{e.expr=Ft(e.expr,r);break}case"each":{e.items=Ft(e.items,r),e.for=Ft(e.for,r);break}case"for":{e.from!=null&&(e.from=Ft(e.from,r)),e.to!=null&&(e.to=Ft(e.to,r)),e.times!=null&&(e.times=Ft(e.times,r)),e.for=Ft(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ft(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Ft(e.expr,r),e.dest=Ft(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=Ft(e.operands[l],r);break}case"not":{e.expr=Ft(e.expr,r);break}case"if":{e.cond=Ft(e.cond,r),e.then=Ft(e.then,r);for(const l of e.elseif)l.cond=Ft(l.cond,r),l.then=Ft(l.then,r);e.else!=null&&(e.else=Ft(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=Ft(e.children[l],r);break}case"match":{e.about=Ft(e.about,r);for(const l of e.qs)l.q=Ft(l.q,r),l.a=Ft(l.a,r);e.default!=null&&(e.default=Ft(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ft(e.statements[l],r);break}case"exists":{e.identifier=Ft(e.identifier,r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=Ft(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],Ft(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=Ft(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=Ft(e.args[l],r);break}case"indexChain":{e.index=Ft(e.index,r);break}case"call":{e.target=Ft(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=Ft(e.args[l],r);break}case"index":{e.target=Ft(e.target,r),e.index=Ft(e.index,r);break}case"prop":{e.target=Ft(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=Ft(e.members[l],r);break}case"or":case"and":{e.left=Ft(e.left,r),e.right=Ft(e.right,r);break}}if(C0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=Ft(e.chain[l],r);return e}const Kh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Jh(t){throw new Zu(`Reserved word "${t}" cannot be used as variable name.`)}function fx(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Kh.includes(t.name)&&Jh(t.name);break}case"meta":{t.name!=null&&Kh.includes(t.name)&&Jh(t.name);break}case"fn":{for(const r of t.args)Kh.includes(r.name)&&Jh(r.name);break}}return t}function ux(t){for(const r of t)Ft(r,fx);return t}function Hg(t){return{type:"simple",name:t}}function ox(t,r){return{type:"generic",name:t,inners:r}}function cx(t,r){return{type:"fn",args:t,result:r}}function Tc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Tc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Tc(l)).join(", "),e=Tc(t.result);return`@(${r}) { ${e} }`}}}function $o(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return Hg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=$o(t.inner):r=Hg("any"),ox(t.name,[r])}}throw new Zu(`Unknown type: '${Tc(t)}'`)}else{const r=t.args.map(e=>$o(e));return cx(r,$o(t.result))}}function hx(t){switch(t.type){case"def":{t.varType!=null&&$o(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&$o(r.argType);t.retType!=null&&$o(t.retType);break}}return t}function px(t){for(const r of t)Ft(r,hx);return t}function Fc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=Fc(l.expr.children)),r.push(l);else{if(e.length>0)throw new Zu("invalid attribute.");switch(l.type){case"fn":{l.children=Fc(l.children);break}case"block":{l.statements=Fc(l.statements);break}}r.push(l)}if(e.length>0)throw new Zu("invalid attribute.");return r}function vx(t){if(nx(t)&&C0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=ax(l,d.args,d.loc);break}case"indexChain":{l=ix(l,d.index,d.loc);break}case"propChain":{l=lx(l,d.name,d.loc);break}}return l}return t}function gx(t){for(let r=0;r<t.length;r++)t[r]=Ft(t[r],vx);return t}function Nc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function _0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Nc(t,r,e);{const{left:l,right:d,info:x}=t;return Nc(l,_0(d,r,e),x)}}function Mu(t){if(t.type!=="infixTree")return t;if(t.info.mapFn)return t.info.mapFn(t);{const r=Mu(t.left),e=Mu(t.right);return{type:"call",target:{type:"identifier",name:t.info.func,loc:t.info.opLoc},args:[r,e],loc:{start:r.loc.start,end:e.loc.end}}}}const dx={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>{const r=Mu(t.left),e=Mu(t.right);return{type:"and",left:r,right:e,loc:{start:r.loc.start,end:e.loc.end},operatorLoc:t.info.opLoc}},priority:3},"||":{mapFn:t=>{const r=Mu(t.left),e=Mu(t.right);return{type:"or",left:r,right:e,loc:{start:r.loc.start,end:e.loc.end},operatorLoc:t.info.opLoc}},priority:3}};function yx(t){const r=t.operators.map((l,d)=>{const x=dx[l];if(x==null)throw new Zu(`No such operator: ${l}.`);return{...x,opLoc:t.operatorLocs[d]}});let e=Nc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=_0(e,t.operands[2+l],r[1+l]);return Mu(e)}function wx(t){for(let r=0;r<t.length;r++)t[r]=Ft(t[r],e=>e.type==="infix"?yx(e):e);return t}var Mf;let $x=(Mf=class{constructor(){be(this,"plugins");this.plugins={validate:[ux,px],transform:[Fc,gx,wx]}}static parse(r){return Mf.instance==null&&(Mf.instance=new Mf),Mf.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=Lg(r,{startRule:"Preprocess"});e=Lg(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new Zu(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`,l):new Zu(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`,l):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Mf,"instance"),Mf);const mx="develop",xx={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Op=[],Ho=null;function bx(t){return Op=$x.parse(t),JSON.stringify(Op,null,"	")}async function Ax(t){Ho==null||Ho.abort(),Ho=new va({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:Sp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:Sp(e.val,!0),print:!1});break}}});try{await Ho.exec(Op)}catch(r){t.err(r)}}const Cx=Object.freeze(Object.defineProperty({__proto__:null,exec:Ax,parse:bx,samples:xx,version:mx},Symbol.toStringTag,{value:"Module"}));function ps(t,r,e){let l=e.value;return{configurable:!0,get(){const d=l.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:d}),d},set(d){l=d}}}let kh=class P0 extends Error{constructor(e,l){super(e);be(this,"name","AiScript");be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,P0)}},_x=class extends kh{constructor(e){super(e.message??`${e}`,e);be(this,"name","Internal")}},Qu=class extends kh{constructor(e,l){super(e,l);be(this,"name","Syntax")}},or=class extends kh{constructor(e,l){super(e,l);be(this,"name","Runtime")}},Ug=class extends or{constructor(r,e){super(r,e)}},Px=class extends or{constructor(e,l){super(e,l);be(this,"name","")}};var Bf=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let jf=class jp{constructor(r=[],e,l,d){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});be(this,"nsName");this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>"),this.nsName=d}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new jp(l,this,e)}createChildNamespaceScope(r,e=new Map,l){const d=[e,...this.layerdStates];return new jp(d,this,l,r)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r).value;return this.log("read",{var:r,val:l}),l}throw new or(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new or(`Variable '${r}' already exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null?this.onUpdated(r,e.value):this.nsName!=null&&this.parent.add(this.nsName+":"+r,e)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){const x=d.get(r);if(!x.isMutable)throw new or(`Cannot assign to an immutable variable ${r}.`);x.value=e,this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new or(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Bf([ps],jf.prototype,"log",null);Bf([ps],jf.prototype,"onUpdated",null);Bf([ps],jf.prototype,"createChildScope",null);Bf([ps],jf.prototype,"createChildNamespaceScope",null);Bf([ps],jf.prototype,"get",null);Bf([ps],jf.prototype,"exists",null);Bf([ps],jf.prototype,"getAll",null);Bf([ps],jf.prototype,"add",null);Bf([ps],jf.prototype,"assign",null);const qt={type:"null"},bn={type:"bool",value:!0},An={type:"bool",value:!1},De=t=>({type:"num",value:t}),Yt=t=>({type:"str",value:t}),Lu=t=>({type:"bool",value:t}),fh=t=>({type:"obj",value:t}),Zr=t=>({type:"arr",value:t}),kx=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ce=t=>({type:"fn",native:t}),Mx=t=>({type:"return",value:t}),Ex=()=>({type:"break",value:null}),Sx=()=>({type:"continue",value:null}),Tx=t=>t.type==="return"?t.value:t,Ip=(t,r)=>({type:"error",value:t,info:r});function ei(t){if(t==null)throw new or("Expect anything, but got nothing.")}function zn(t){if(t==null)throw new or("Expect boolean, but got nothing.");if(t.type!=="bool")throw new or(`Expect boolean, but got ${t.type}.`)}function mf(t){if(t==null)throw new or("Expect function, but got nothing.");if(t.type!=="fn")throw new or(`Expect function, but got ${t.type}.`)}function Tr(t){if(t==null)throw new or("Expect string, but got nothing.");if(t.type!=="str")throw new or(`Expect string, but got ${t.type}.`)}function ke(t){if(t==null)throw new or("Expect number, but got nothing.");if(t.type!=="num")throw new or(`Expect number, but got ${t.type}.`)}function yf(t){if(t==null)throw new or("Expect object, but got nothing.");if(t.type!=="obj")throw new or(`Expect object, but got ${t.type}.`)}function ou(t){if(t==null)throw new or("Expect array, but got nothing.");if(t.type!=="arr")throw new or(`Expect array, but got ${t.type}.`)}function Wh(t){return t.type==="obj"}function uh(t){return t.type==="arr"}function mo(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function Rp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>Rp(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Dp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Dp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=Dp(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Lp(t){if(t===null)return qt;if(typeof t=="boolean")return Lu(t);if(typeof t=="string")return Yt(t);if(typeof t=="number")return De(t);if(Array.isArray(t))return Zr(t.map(r=>Lp(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,Lp(l));return fh(r)}return qt}function xo(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,l=>`\\${l}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const l=[];for(const d of t.value)l.push(xo(d,!0,e));return"[ "+l.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const l=[];for(const[d,x]of t.value)l.push(`${d}: ${xo(x,!0,e)}`);return"{ "+l.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Fx={version:"0.19.0"},Nx=Fx.version,Ox=new TextEncoder,jx=new TextDecoder,Ix={help:Yt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Yt(Nx),"Core:ai":Yt("kawaii"),"Core:not":ce(([t])=>(zn(t),t.value?An:bn)),"Core:eq":ce(([t,r])=>(ei(t),ei(r),mo(t,r)?bn:An)),"Core:neq":ce(([t,r])=>(ei(t),ei(r),mo(t,r)?An:bn)),"Core:and":ce(([t,r])=>(zn(t),t.value?(zn(r),r.value?bn:An):An)),"Core:or":ce(([t,r])=>(zn(t),t.value?bn:(zn(r),r.value?bn:An))),"Core:add":ce(([t,r])=>(ke(t),ke(r),De(t.value+r.value))),"Core:sub":ce(([t,r])=>(ke(t),ke(r),De(t.value-r.value))),"Core:mul":ce(([t,r])=>(ke(t),ke(r),De(t.value*r.value))),"Core:pow":ce(([t,r])=>{ke(t),ke(r);const e=t.value**r.value;if(isNaN(e))throw new or("Invalid operation.");return De(e)}),"Core:div":ce(([t,r])=>{ke(t),ke(r);const e=t.value/r.value;if(isNaN(e))throw new or("Invalid operation.");return De(e)}),"Core:mod":ce(([t,r])=>(ke(t),ke(r),De(t.value%r.value))),"Core:gt":ce(([t,r])=>(ke(t),ke(r),t.value>r.value?bn:An)),"Core:lt":ce(([t,r])=>(ke(t),ke(r),t.value<r.value?bn:An)),"Core:gteq":ce(([t,r])=>(ke(t),ke(r),t.value>=r.value?bn:An)),"Core:lteq":ce(([t,r])=>(ke(t),ke(r),t.value<=r.value?bn:An)),"Core:type":ce(([t])=>(ei(t),Yt(t.type))),"Core:to_str":ce(([t])=>(ei(t),Yt(xo(t)))),"Core:range":ce(([t,r])=>(ke(t),ke(r),t.value<r.value?Zr(Array.from({length:r.value-t.value+1},(e,l)=>De(l+t.value))):t.value>r.value?Zr(Array.from({length:t.value-r.value+1},(e,l)=>De(t.value-l))):Zr([t]))),"Core:sleep":ce(async([t])=>(ke(t),await new Promise(r=>setTimeout(r,t.value)),qt)),"Core:abort":ce(async([t])=>{throw Tr(t),new Px(t.value)}),"Util:uuid":ce(()=>Yt(vc())),"Json:stringify":ce(([t])=>(ei(t),Yt(JSON.stringify(Dp(t))))),"Json:parse":ce(([t])=>{Tr(t);try{return Lp(JSON.parse(t.value))}catch{return Ip("not_json")}}),"Json:parsable":ce(([t])=>{Tr(t);try{JSON.parse(t.value)}catch{return Lu(!1)}return Lu(!0)}),"Date:now":ce(()=>De(Date.now())),"Date:year":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getFullYear()))),"Date:month":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getMonth()+1))),"Date:day":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getDate()))),"Date:hour":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getHours()))),"Date:minute":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getMinutes()))),"Date:second":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getSeconds()))),"Date:millisecond":ce(([t])=>(t&&ke(t),De(new Date((t==null?void 0:t.value)??Date.now()).getMilliseconds()))),"Date:parse":ce(([t])=>(Tr(t),De(new Date(t.value).getTime()))),"Date:to_iso_str":ce(([t,r])=>{t&&ke(t);const e=new Date((t==null?void 0:t.value)??Date.now());r&&ke(r);const l=(r==null?void 0:r.value)??-e.getTimezoneOffset();let d;if(l===0)d="Z";else{const B=Math.sign(l),W=Math.floor(Math.abs(l)/60),ve=Math.abs(l)%60;e.setUTCHours(e.getUTCHours()+B*W),e.setUTCMinutes(e.getUTCMinutes()+B*ve);const ie=l>0?"+":"-",fe=W.toString().padStart(2,"0"),Me=ve.toString().padStart(2,"0");d=`${ie}${fe}:${Me}`}const x=e.getUTCFullYear().toString().padStart(4,"0"),P=(e.getUTCMonth()+1).toString().padStart(2,"0"),M=e.getUTCDate().toString().padStart(2,"0"),F=e.getUTCHours().toString().padStart(2,"0"),T=e.getUTCMinutes().toString().padStart(2,"0"),N=e.getUTCSeconds().toString().padStart(2,"0"),H=e.getUTCMilliseconds().toString().padStart(3,"0");return Yt(`${x}-${P}-${M}T${F}:${T}:${N}.${H}${d}`)}),"Math:Infinity":De(1/0),"Math:E":De(Math.E),"Math:LN2":De(Math.LN2),"Math:LN10":De(Math.LN10),"Math:LOG2E":De(Math.LOG2E),"Math:LOG10E":De(Math.LOG10E),"Math:PI":De(Math.PI),"Math:SQRT1_2":De(Math.SQRT1_2),"Math:SQRT2":De(Math.SQRT2),"Math:abs":ce(([t])=>(ke(t),De(Math.abs(t.value)))),"Math:acos":ce(([t])=>(ke(t),De(Math.acos(t.value)))),"Math:acosh":ce(([t])=>(ke(t),De(Math.acosh(t.value)))),"Math:asin":ce(([t])=>(ke(t),De(Math.asin(t.value)))),"Math:asinh":ce(([t])=>(ke(t),De(Math.asinh(t.value)))),"Math:atan":ce(([t])=>(ke(t),De(Math.atan(t.value)))),"Math:atanh":ce(([t])=>(ke(t),De(Math.atanh(t.value)))),"Math:atan2":ce(([t,r])=>(ke(t),ke(r),De(Math.atan2(t.value,r.value)))),"Math:cbrt":ce(([t])=>(ke(t),De(Math.cbrt(t.value)))),"Math:ceil":ce(([t])=>(ke(t),De(Math.ceil(t.value)))),"Math:clz32":ce(([t])=>(ke(t),De(Math.clz32(t.value)))),"Math:cos":ce(([t])=>(ke(t),De(Math.cos(t.value)))),"Math:cosh":ce(([t])=>(ke(t),De(Math.cosh(t.value)))),"Math:exp":ce(([t])=>(ke(t),De(Math.exp(t.value)))),"Math:expm1":ce(([t])=>(ke(t),De(Math.expm1(t.value)))),"Math:floor":ce(([t])=>(ke(t),De(Math.floor(t.value)))),"Math:fround":ce(([t])=>(ke(t),De(Math.fround(t.value)))),"Math:hypot":ce(([t])=>{ou(t);const r=[];for(const e of t.value)ke(e),r.push(e.value);return De(Math.hypot(...r))}),"Math:imul":ce(([t,r])=>(ke(t),ke(r),De(Math.imul(t.value,r.value)))),"Math:log":ce(([t])=>(ke(t),De(Math.log(t.value)))),"Math:log1p":ce(([t])=>(ke(t),De(Math.log1p(t.value)))),"Math:log10":ce(([t])=>(ke(t),De(Math.log10(t.value)))),"Math:log2":ce(([t])=>(ke(t),De(Math.log2(t.value)))),"Math:max":ce(([t,r])=>(ke(t),ke(r),De(Math.max(t.value,r.value)))),"Math:min":ce(([t,r])=>(ke(t),ke(r),De(Math.min(t.value,r.value)))),"Math:pow":ce(([t,r])=>(ke(t),ke(r),De(Math.pow(t.value,r.value)))),"Math:round":ce(([t])=>(ke(t),De(Math.round(t.value)))),"Math:sign":ce(([t])=>(ke(t),De(Math.sign(t.value)))),"Math:sin":ce(([t])=>(ke(t),De(Math.sin(t.value)))),"Math:sinh":ce(([t])=>(ke(t),De(Math.sinh(t.value)))),"Math:sqrt":ce(([t])=>{ke(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new or("Invalid operation.");return De(r)}),"Math:tan":ce(([t])=>(ke(t),De(Math.tan(t.value)))),"Math:tanh":ce(([t])=>(ke(t),De(Math.tanh(t.value)))),"Math:trunc":ce(([t])=>(ke(t),De(Math.trunc(t.value)))),"Math:rnd":ce(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?De(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):De(Math.random())),"Math:gen_rng":ce(([t])=>{if(ei(t),t.type!=="num"&&t.type!=="str")return qt;const r=no(t.value.toString());return ce(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?De(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):De(r()))}),"Num:to_hex":ce(([t])=>(ke(t),Yt(t.value.toString(16)))),"Num:from_hex":ce(([t])=>(Tr(t),De(parseInt(t.value,16)))),"Str:lf":Yt(`
`),"Str:lt":ce(([t,r])=>(Tr(t),Tr(r),t.value<r.value?De(-1):t.value===r.value?De(0):De(1))),"Str:gt":ce(([t,r])=>(Tr(t),Tr(r),t.value>r.value?De(-1):t.value===r.value?De(0):De(1))),"Str:from_codepoint":ce(([t])=>(ke(t),Yt(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":ce(([t])=>(ou(t),Yt(Array.from(t.value.map(r=>(ke(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":ce(([t])=>(ou(t),Yt(jx.decode(Uint8Array.from(t.value.map(r=>(ke(r),r.value))))))),"Uri:encode_full":ce(([t])=>(Tr(t),Yt(encodeURI(t.value)))),"Uri:encode_component":ce(([t])=>(Tr(t),Yt(encodeURIComponent(t.value)))),"Uri:decode_full":ce(([t])=>(Tr(t),Yt(decodeURI(t.value)))),"Uri:decode_component":ce(([t])=>(Tr(t),Yt(decodeURIComponent(t.value)))),"Arr:create":ce(([t,r])=>{ke(t);try{return Zr(Array(t.value).fill(r??qt))}catch(e){throw t.value<0?new or("Arr:create expected non-negative number, got negative"):Number.isInteger(t.value)?e:new or("Arr:create expected integer, got non-integer")}}),"Obj:keys":ce(([t])=>(yf(t),Zr(Array.from(t.value.keys()).map(r=>Yt(r))))),"Obj:vals":ce(([t])=>(yf(t),Zr(Array.from(t.value.values())))),"Obj:kvs":ce(([t])=>(yf(t),Zr(Array.from(t.value.entries()).map(([r,e])=>Zr([Yt(r),e]))))),"Obj:get":ce(([t,r])=>(yf(t),Tr(r),t.value.get(r.value)??qt)),"Obj:set":ce(([t,r,e])=>(yf(t),Tr(r),ei(e),t.value.set(r.value,e),qt)),"Obj:has":ce(([t,r])=>(yf(t),Tr(r),Lu(t.value.has(r.value)))),"Obj:copy":ce(([t])=>(yf(t),fh(new Map(t.value)))),"Obj:merge":ce(([t,r])=>(yf(t),yf(r),fh(new Map([...t.value,...r.value])))),"Error:create":ce(([t,r])=>(Tr(t),Ip(t.value,r))),"Async:interval":ce(async([t,r,e],l)=>{ke(t),mf(r),e&&(zn(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.topCall(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),ce(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":ce(async([t,r],e)=>{ke(t),mf(r);const l=setTimeout(()=>{e.topCall(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),ce(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},Bg={num:{to_str:t=>ce(async(r,e)=>Yt(t.value.toString()))},str:{to_num:t=>ce(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?qt:De(l)}),to_arr:t=>ce(async(r,e)=>Zr(Cn(t.value).map(l=>Yt(l)))),to_unicode_arr:t=>ce(async(r,e)=>Zr([...t.value].map(l=>Yt(l)))),to_unicode_codepoint_arr:t=>ce(async(r,e)=>Zr([...t.value].map(l=>{const d=l.codePointAt(0);return De(d??l.charCodeAt(0))}))),to_char_arr:t=>ce(async(r,e)=>Zr(t.value.split("").map(l=>Yt(l)))),to_charcode_arr:t=>ce(async(r,e)=>Zr(t.value.split("").map(l=>De(l.charCodeAt(0))))),to_utf8_byte_arr:t=>ce(async(r,e)=>Zr(Array.from(Ox.encode(t.value)).map(l=>De(l)))),len:t=>De(io(t.value)),replace:t=>ce(async([r,e],l)=>(Tr(r),Tr(e),Yt(t.value.split(r.value).join(e.value)))),index_of:t=>ce(async([r,e],l)=>{Tr(r),e&&ke(e);const d=e?e.value<0?t.value.length+e.value:e.value:void 0;return De(fo(t.value,r.value,d))}),incl:t=>ce(async([r],e)=>(Tr(r),t.value.includes(r.value)?bn:An)),trim:t=>ce(async(r,e)=>Yt(t.value.trim())),upper:t=>ce(async(r,e)=>Yt(t.value.toUpperCase())),lower:t=>ce(async(r,e)=>Yt(t.value.toLowerCase())),split:t=>ce(async([r],e)=>(r&&Tr(r),Zr(r?t.value.split(r?r.value:"").map(l=>Yt(l)):Cn(t.value).map(l=>Yt(l))))),slice:t=>ce(async([r,e],l)=>(ke(r),ke(e),Yt(lo(t.value,r.value,e.value)))),pick:t=>ce(async([r],e)=>{ke(r);const d=Cn(t.value)[r.value];return d?Yt(d):qt}),charcode_at:t=>ce(([r],e)=>{ke(r);const l=t.value.charCodeAt(r.value);return Number.isNaN(l)?qt:De(l)}),codepoint_at:t=>ce(([r],e)=>{ke(r);const l=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(l)?qt:De(l)}),starts_with:t=>ce(async([r,e],l)=>{if(Tr(r),!r.value)return bn;e&&ke(e);const d=(e==null?void 0:e.value)??0;if(d<-t.value.length||d>t.value.length)return An;const x=d>=0?d:t.value.length+d;return t.value.startsWith(r.value,x)?bn:An}),ends_with:t=>ce(async([r,e],l)=>{if(Tr(r),!r.value)return bn;e&&ke(e);const d=(e==null?void 0:e.value)??t.value.length;if(d<-t.value.length||d>t.value.length)return An;const x=d>=0?d:t.value.length+d;return t.value.endsWith(r.value,x)?bn:An}),pad_start:t=>ce(([r,e],l)=>{ke(r);const d=e?(Tr(e),e.value):" ";return Yt(t.value.padStart(r.value,d))}),pad_end:t=>ce(([r,e],l)=>{ke(r);const d=e?(Tr(e),e.value):" ";return Yt(t.value.padEnd(r.value,d))})},arr:{len:t=>De(t.value.length),push:t=>ce(async([r],e)=>(ei(r),t.value.push(r),t)),unshift:t=>ce(async([r],e)=>(ei(r),t.value.unshift(r),t)),pop:t=>ce(async(r,e)=>t.value.pop()??qt),shift:t=>ce(async(r,e)=>t.value.shift()??qt),concat:t=>ce(async([r],e)=>(ou(r),Zr(t.value.concat(r.value)))),slice:t=>ce(async([r,e],l)=>(ke(r),ke(e),Zr(t.value.slice(r.value,e.value)))),join:t=>ce(async([r],e)=>(r&&Tr(r),Yt(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>ce(async([r],e)=>{mf(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,De(x)]));return Zr(await Promise.all(l))}),filter:t=>ce(async([r],e)=>{mf(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,De(d)]);zn(P),P.value&&l.push(x)}return Zr(l)}),reduce:t=>ce(async([r,e],l)=>{mf(r);const d=e!=null;if(!d&&t.value.length===0)throw new or("Reduce of empty array without initial value");let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,De(P)])}return x}),find:t=>ce(async([r],e)=>{mf(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,De(l)]);if(zn(x),x.value)return d}return qt}),incl:t=>ce(async([r],e)=>(ei(r),t.value.some(l=>mo(r,l))?bn:An)),index_of:t=>ce(async([r,e],l)=>{if(ei(r),e){ke(e);const d=t.value.slice(0,e.value).length,x=t.value.slice(e.value).findIndex(P=>mo(P,r));return De(x<0?x:x+d)}else return De(t.value.findIndex(d=>mo(d,r)))}),reverse:t=>ce(async(r,e)=>(t.value.reverse(),qt)),copy:t=>ce(async(r,e)=>Zr([...t.value])),sort:t=>ce(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=l(x.slice(0,M),P),T=l(x.slice(M),P),[N,H]=await Promise.all([F,T]);return d(N,H,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);ke(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return mf(r),ou(t),t.value=await l(t.value,r),t}),fill:t=>ce(async([r,e,l],d)=>{const x=r??qt,P=e&&(ke(e),e.value),M=l&&(ke(l),l.value);return t.value.fill(x,P,M),t}),repeat:t=>ce(async([r],e)=>{ke(r);try{return Zr(Array(r.value).fill(t.value).flat())}catch(l){throw r.value<0?new or("arr.repeat expected non-negative number, got negative"):Number.isInteger(r.value)?l:new or("arr.repeat expected integer, got non-integer")}}),splice:t=>ce(async([r,e,l],d)=>{ke(r);const x=r.value<-t.value.length?0:r.value<0?t.value.length+r.value:r.value>=t.value.length?t.value.length:r.value,P=e!=null?(ke(e),e.value):t.value.length-x,M=l!=null?(ou(l),l.value):[],F=t.value.splice(x,P,...M);return Zr(F)}),flat:t=>ce(async([r],e)=>{if(r=r??De(1),ke(r),!Number.isInteger(r.value))throw new or("arr.flat expected integer, got non-integer");if(r.value<0)throw new or("arr.flat expected non-negative number, got negative");const l=(x,P,M)=>{if(P===0){M.push(...x);return}for(const F of x)uh(F)?l(F.value,P-1,M):M.push(F)},d=[];return l(t.value,r.value,d),Zr(d)}),flat_map:t=>ce(async([r],e)=>{mf(r);const l=t.value.map(async(x,P)=>{const M=await e.call(r,[x,De(P)]);return uh(M)?M.value:M}),d=await Promise.all(l);return Zr(d.flat())}),every:t=>ce(async([r],e)=>{mf(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,De(l)]);if(zn(x),!x.value)return An}return bn}),some:t=>ce(async([r],e)=>{mf(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,De(l)]);if(zn(x),x.value)return bn}return An}),insert:t=>ce(async([r,e],l)=>(ke(r),ei(e),t.value.splice(r.value,0,e),qt)),remove:t=>ce(async([r],e)=>(ke(r),t.value.splice(r.value,1)[0]??qt)),at:t=>ce(async([r,e],l)=>(ke(r),t.value.at(r.value)??e??qt))},error:{name:t=>Yt(t.value),info:t=>t.info??qt}};function Rx(t,r){if(Object.hasOwn(Bg,t.type)){const e=Bg[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new or(`No such prop (${r}) in ${t.type}.`)}else throw new or(`Cannot read prop of ${t.type}. (reading ${r})`)}const Dx={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var li=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const k0=300,Lx=k0-1;let ga=class{constructor(r,e={}){be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);be(this,"vars",{});this.opts=e;const l={print:ce(([d])=>{ei(d),this.opts.out&&this.opts.out(d)}),readline:ce(async d=>{const x=d[0];if(Tr(x),this.opts.in==null)return qt;const P=await this.opts.in(x.value);return Yt(P)})};this.vars=Object.fromEntries(Object.entries({...r,...Ix,...l}).map(([d,x])=>[d,Dx.const(x)])),this.scope=new jf([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(l=>(this.handleError(l),Ip("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}handleError(r){if(!this.opts.err)throw r;if(this.opts.abortOnError){if(this.stop)return;this.abort()}r instanceof kh?this.opts.err(r):this.opts.err(new _x(r))}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r,e=this.scope){for(const l of r)switch(l.type){case"ns":{await this.collectNsMember(l,e);break}}}async collectNsMember(r,e=this.scope){const l=e.createChildNamespaceScope(r.name);await this.collectNs(r.members,l);for(const d of r.members)switch(d.type){case"def":{if(d.mut)throw new Error("Namespaces cannot include mutable variable: "+d.name);const x={isMutable:d.mut,value:await this._eval(d.expr,l)};l.add(d.name,x);break}case"ns":break;default:throw new Error("invalid ns member type: "+d.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??qt;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],{isMutable:!0,value:e[x]??qt});const d=r.scope.createChildScope(l);return Tx(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return qt;if(this.stepCount%k0===Lx&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new or("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);mf(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(zn(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(zn(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return qt}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(mo(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):qt}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return qt}case"for":{if(r.times){const l=await this._eval(r.times,e);ke(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);ke(l),ke(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:De(x)}]])));if(P.type==="break")break;if(P.type==="return")return P}}return qt}case"each":{const l=await this._eval(r.items,e);ou(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:d}]])));if(x.type==="break")break;if(x.type==="return")return x}return qt}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,{isMutable:r.mut,value:l}),qt}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),qt}case"addAssign":{const l=await this._eval(r.dest,e);ke(l);const d=await this._eval(r.expr,e);return ke(d),await this.assign(e,r.dest,De(l.value+d.value)),qt}case"subAssign":{const l=await this._eval(r.dest,e);ke(l);const d=await this._eval(r.expr,e);return ke(d),await this.assign(e,r.dest,De(l.value-d.value)),qt}case"null":return qt;case"bool":return Lu(r.value);case"num":return De(r.value);case"str":return Yt(r.value);case"arr":return Zr(await Promise.all(r.value.map(l=>this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return fh(l)}case"prop":{const l=await this._eval(r.target,e);return Wh(l)?l.value.has(r.name)?l.value.get(r.name):qt:Rx(l,r.name)}case"index":{const l=await this._eval(r.target,e),d=await this._eval(r.index,e);if(uh(l)){ke(d);const x=l.value[d.value];if(x===void 0)throw new Ug(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}else{if(Wh(l))return Tr(d),l.value.has(d.value)?l.value.get(d.value):qt;throw new or(`Cannot read prop (${xo(d)}) of ${l.type}.`)}}case"not":{const l=await this._eval(r.expr,e);return zn(l),Lu(!l.value)}case"fn":return kx(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Lu(e.exists(r.identifier.name));case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);l+=xo(x)}return Yt(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),Mx(l)}case"break":return this.log("block:break",{scope:e.name}),Ex();case"continue":return this.log("block:continue",{scope:e.name}),Sx();case"ns":return qt;case"meta":return qt;case"and":{const l=await this._eval(r.left,e);if(zn(l),l.value){const d=await this._eval(r.right,e);return zn(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(zn(l),l.value)return l;{const d=await this._eval(r.right,e);return zn(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=qt;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r),x=await this._eval(e.index,r);if(uh(d)){if(ke(x),d.value[x.value]===void 0)throw new Ug(`Index out of range. index: ${x.value} max: ${d.value.length-1}`);d.value[x.value]=l}else if(Wh(d))Tr(x),d.value.set(x.value,l);else throw new or(`Cannot read prop (${xo(x)}) of ${d.type}.`)}else if(e.type==="prop"){const d=await this._eval(e.target,r);yf(d),d.value.set(e.name,l)}else if(e.type==="arr")ou(l),await Promise.all(e.value.map((d,x)=>this.assign(r,d,l.value[x]??qt)));else if(e.type==="obj")yf(l),await Promise.all([...e.value].map(([d,x])=>this.assign(r,x,l.value.get(d)??qt)));else throw new or("The left-hand side of an assignment expression must be a variable or a property/index access.")}};li([ps],ga.prototype,"exec",null);li([ps],ga.prototype,"execFn",null);li([ps],ga.prototype,"execFnSimple",null);li([ps],ga.prototype,"handleError",null);li([ps],ga.prototype,"log",null);li([ps],ga.prototype,"collectNs",null);li([ps],ga.prototype,"collectNsMember",null);li([ps],ga.prototype,"_fn",null);li([ps],ga.prototype,"_eval",null);li([ps],ga.prototype,"_run",null);li([ps],ga.prototype,"registerAbortHandler",null);li([ps],ga.prototype,"unregisterAbortHandler",null);li([ps],ga.prototype,"abort",null);li([ps],ga.prototype,"assign",null);li([ps],ga,"collectMetadata",null);function Hx(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Hu(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Hu.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}Hx(Hu,Error);function Gh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Hu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=Gh("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+Gh("",d.column-1," ")+Gh("",H,"^")}else r+=`
 at `+P}return r};Hu.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function zg(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:tr,Main:Ba},x=tr,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="!",_r="[",Qt=".",Pr="if",Kt="elif",xr="else",Or="match",Mt="=>",Br="*",sr="eval",br="exists",J="`",re='"',ue="'",me='\\"',he="\\'",Te="true",Ie="false",xe="null",Ee="@",ye="@(",Ge="<",rt=">",tt=`\r
`,Ve=/^[A-Z0-9_:]/i,lt=/^[%*-+\-\/<>\^]/,Pt=/^[^`{]/,dt=/^[{}`]/,wt=/^[+\-]/,At=/^[1-9]/,at=/^[0-9]/,is=/^[,;]/,ls=/^[A-Z_]/i,zr=/^[A-Z0-9_]/i,bt=/^[\r\n]/,Rt=/^[ \t\r\n]/,an=/^[ \t]/,Dt=O(),xi=j("//",!1),bi=j("/*",!1),nr=j("*/",!1),Ct=j("(",!1),cr=j(")",!1),_n=j("::",!1),ot=j("{",!1),nt=j("}",!1),kr=j("###",!1),Et=j("let",!1),Ye=j(":",!1),kt=j("=",!1),gs=j("var",!1),Ut=j("<:",!1),Bt=j("#[",!1),Mr=j("]",!1),Vn=j("each",!1),ar=j(",",!1),jr=j("for",!1),Ts=j("return",!1),it=ft([["A","Z"],["0","9"],"_",":"],!1,!0),St=j("loop",!1),Vs=j("break",!1),Fr=j("continue",!1),Nr=j("+=",!1),Ai=j("-=",!1),Kn=j("\\",!1),Ci=j("||",!1),_i=j("&&",!1),$a=j("==",!1),ma=j("!=",!1),Pi=j("<=",!1),ki=j(">=",!1),Mi=ft(["%",["*","+"],"-","/","<",">","^"],!1,!1),Ei=j("!",!1),Ks=j("[",!1),Fs=j(".",!1),Pn=j("if",!1),xa=j("elif",!1),Si=j("else",!1),ba=j("match",!1),us=j("=>",!1),Ti=j("*",!1),Fi=j("eval",!1),Ni=j("exists",!1),es=j("`",!1),Ns=ft(["`","{"],!0,!1),kn=ft(["{","}","`"],!1,!1),xs=j('"',!1),bs=j("'",!1),Oi=j('\\"',!1),Js=j("\\'",!1),Ir=ft(["+","-"],!1,!1),As=ft([["1","9"]],!1,!1),Jt=ft([["0","9"]],!1,!1),Ws=j("true",!1),Gs=j("false",!1),Zs=j("null",!1),Rr=ft([",",";"],!1,!1),Qs=j("@",!1),Cs=j("@(",!1),Aa=j("<",!1),ir=j(">",!1),Ca=ft([["A","Z"],"_"],!1,!0),hr=ft([["A","Z"],["0","9"],"_"],!1,!0),ji=j(`\r
`,!1),Xs=ft(["\r",`
`],!1,!1),Ii=ft([" ","	","\r",`
`],!1,!1),Os=ft([" ","	"],!1,!1),Ri=function(a){return a.join("")},Mn=function(){return c()},Di=function(){return c()},_a=function(){return" ".repeat(c().length)},Li=function(){return c().replace(/[^\n]/g," ")},Hi=function(a){return a??[]},Jn=function(a,v){return v},Ui=function(a,v){return[a,...v]},Wn=function(a,v){return v},Bi=function(a,v){return[a,...v]},Gn=function(a,v){return v},zi=function(a,v){return[a,...v]},Pa=function(a){return a},qi=function(a,v){return Y("ns",{name:a,members:v})},En=function(a,v){return Y("meta",{name:a,value:v})},Vi=function(a){return Y("meta",{name:null,value:a})},Sn=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!1,attr:[]})},Ki=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!0,attr:[]})},ka=function(a){return Y("identifier",{name:"print",chain:[Y("callChain",{args:[a]})]})},Ji=function(a,v){return Y("attr",{name:a,value:v??Y("bool",{value:!0})})},Wi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Gi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Zi=function(a,v){return v},Qi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},Xi=function(a,v){return v},Yi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},el=function(a,v){return Y("for",{times:a,for:v})},tl=function(a,v){return Y("for",{times:a,for:v})},rl=function(a){return Y("return",{expr:a})},sl=function(a){return Y("loop",{statements:a})},nl=function(){return Y("break",{})},al=function(){return Y("continue",{})},il=function(a,v,b){return v==="+="?Y("addAssign",{dest:a,expr:b}):v==="-="?Y("subAssign",{dest:a,expr:b}):Y("assign",{dest:a,expr:b})},Zn=function(a,v,b){return{op:v,term:b}},ll=function(a,v){return Y("infix",{operands:[a,...v.map(b=>b.term)],operators:v.map(b=>b.op.value),operatorLocs:v.map(b=>b.op.loc)})},fl=function(){const a=te();return{value:c(),loc:{start:a.start.offset,end:a.end.offset-1}}},ul=function(a){return Y("not",{expr:a})},ol=function(a,v){return a.chain?{...a,chain:[...a.chain,...v]}:{...a,chain:v}},cl=function(a){return Y("callChain",{args:a??[]})},ln=function(a,v){return v},hl=function(a,v){return[a,...v]},Ma=function(a){return Y("indexChain",{index:a})},pl=function(a){return Y("propChain",{name:a})},vl=function(a,v,b,g){return Y("if",{cond:a,then:v,elseif:b??[],else:g})},gl=function(a,v){return[a,...v]},Ea=function(a,v){return{cond:a,then:v}},dl=function(a){return a},fn=function(a,v,b){return{q:v,a:b}},yl=function(a,v,b){return Y("match",{about:a,qs:v??[],default:b})},wl=function(a){return Y("block",{statements:a})},$l=function(a){return Y("exists",{identifier:a})},ml=function(a){return Y("identifier",{name:a})},xl=function(a){return Y("tmpl",{tmpl:a})},Sa=function(a){return a.join("")},Qn=function(a){return a},Ta=function(a){return Y("str",{value:a.join("")})},Xn=function(a){return a},bl=function(a){return Y("str",{value:a.join("")})},Al=function(){return'"'},Fa=function(){return"'"},Cl=function(){return Y("num",{value:parseFloat(c())})},Na=function(){return Y("num",{value:parseFloat(c())})},Oa=function(){return Y("num",{value:parseInt(c(),10)})},_l=function(){return Y("num",{value:parseInt(c(),10)})},ja=function(){return Y("bool",{value:!0})},Pl=function(){return Y("bool",{value:!1})},kl=function(){return Y("null",{})},Yn=function(a,v){return{k:a,v}},Ml=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},ea=function(a){return a},El=function(a){return Y("arr",{value:a})},Sl=function(a,v){return{name:a,argType:v}},Ia=function(a,v){return[a,...v]},Tl=function(a,v,b,g,n,f){return(a.length>0||b.length>0)&&I("Cannot use spaces before or after the function name."),Y("def",{name:v,expr:Y("fn",{args:g??[],retType:n},f??[]),mut:!1,attr:[]})},Ra=function(a,v,b){return Y("fn",{args:a??[],retType:v},b??[])},un=function(a){return a},Fl=function(a){return Y("arr",{value:a})},on=function(a,v){return{k:a,v}},Nl=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},Ol=function(a,v){return Y("fnTypeSource",{args:a??[],result:v})},Da=function(a,v){return[a,...v]},jl=function(a,v){return Y("namedTypeSource",{name:a,inner:v})},La=function(a){return Y("namedTypeSource",{name:a,inner:null})},Ha=function(){return c()},Il=function(){return c()},Ua=function(a){return Y("block",{statements:a??[]})},i=r.peg$currPos|0,q=i,Dr=[{line:1,column:1}],Tt=i,_s=r.peg$maxFailExpected||[],u=r.peg$silentFails|0,k={},Ar;if(r.startRule){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function c(){return t.substring(q,i)}function te(){return le(q,i)}function I(a,v){throw v=v!==void 0?v:le(q,i),Rl(a,v)}function j(a,v){return{type:"literal",text:a,ignoreCase:v}}function ft(a,v,b){return{type:"class",parts:a,inverted:v,ignoreCase:b}}function O(){return{type:"any"}}function z(){return{type:"end"}}function Ps(a){var v=Dr[a],b;if(v)return v;if(a>=Dr.length)b=Dr.length-1;else for(b=a;!Dr[--b];);for(v=Dr[b],v={line:v.line,column:v.column};b<a;)t.charCodeAt(b)===10?(v.line++,v.column=1):v.column++,b++;return Dr[a]=v,v}function le(a,v,b){var g=Ps(a),n=Ps(v),f={source:l,start:{offset:a,line:g.line,column:g.column},end:{offset:v,line:n.line,column:n.column}};return f}function E(a){i<Tt||(i>Tt&&(Tt=i,_s=[]),_s.push(a))}function Rl(a,v){return new Hu(a,null,null,v)}function pe(a,v,b){return new Hu(Hu.buildMessage(a,v),a,v,b)}function tr(){var a,v,b,g=i*77+0,n=k[g];if(n)return i=n.nextPos,n.result;for(a=i,v=[],b=ks();b!==e;)v.push(b),b=ks();return q=a,v=Ri(v),a=v,k[g]={nextPos:i,result:a},a}function ks(){var a,v,b=i*77+1,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=na(),v!==e&&(q=a,v=Mn()),a=v,a===e&&(a=i,v=Rs(),v!==e&&(q=a,v=Di()),a=v,a===e&&(a=L(),a===e&&(t.length>i?(a=t.charAt(i),i++):(a=e,u===0&&E(Dt))))),k[b]={nextPos:i,result:a},a)}function L(){var a,v,b,g,n,f,y=i*77+2,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,2)===P?(v=P,i+=2):(v=e,u===0&&E(xi)),v!==e){for(b=[],g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=_a()}else i=a,a=e;if(a===e)if(a=i,t.substr(i,2)===M?(v=M,i+=2):(v=e,u===0&&E(bi)),v!==e){for(b=[],g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);t.substr(i,2)===F?(g=F,i+=2):(g=e,u===0&&E(nr)),g!==e?(q=a,a=Li()):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Ba(){var a,v,b,g,n,f=i*77+3,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();for(b=Ys(),b===e&&(b=null),g=[],n=C();n!==e;)g.push(n),n=C();return q=a,a=Hi(b),k[f]={nextPos:i,result:a},a}function Ys(){var a,v,b,g,n,f,y,h,s=i*77+4,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=en(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Ui(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function D(){var a,v,b,g,n,f,y,h,s=i*77+5,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=js(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Bi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function qr(){var a,v,b,g,n,f,y,h,s=i*77+6,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Vr(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=zi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function en(){var a,v=i*77+7,b=k[v];return b?(i=b.nextPos,b.result):(a=yr(),a===e&&(a=et(),a===e&&(a=Vr())),k[v]={nextPos:i,result:a},a)}function js(){var a,v=i*77+8,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=yr())),k[v]={nextPos:i,result:a},a)}function Vr(){var a,v=i*77+9,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=ds(),a===e&&(a=Kr(),a===e&&(a=Ke(),a===e&&(a=Is(),a===e&&(a=za(),a===e&&(a=qa(),a===e&&(a=Dl(),a===e&&(a=Va(),a===e&&(a=Ll(),a===e&&(a=Fe()))))))))))),k[v]={nextPos:i,result:a},a)}function Fe(){var a,v=i*77+10,b=k[v];return b?(i=b.nextPos,b.result):(a=Hl(),a===e&&(a=Er()),k[v]={nextPos:i,result:a},a)}function Er(){var a,v=i*77+11,b=k[v];return b?(i=b.nextPos,b.result):(a=Wr(),a===e&&(a=Vl(),a===e&&(a=Bl(),a===e&&(a=Ls()))),k[v]={nextPos:i,result:a},a)}function Ls(){var a,v,b,g,n,f,y=i*77+12,h=k[y];if(h)return i=h.nextPos,h.result;if(a=Fn(),a===e&&(a=zl(),a===e&&(a=Ja(),a===e&&(a=na(),a===e&&(a=Rs(),a===e&&(a=vn(),a===e&&(a=Us(),a===e&&(a=gn(),a===e&&(a=jn(),a===e&&(a=Ga(),a===e&&(a=Ul(),a===e&&(a=Ms(),a===e))))))))))))if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=Pa(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function fr(){var a,v=i*77+13,b=k[v];return b?(i=b.nextPos,b.result):(a=vn(),a===e&&(a=Rs(),a===e&&(a=Us(),a===e&&(a=In(),a===e&&(a=Rn(),a===e&&(a=gn()))))),k[v]={nextPos:i,result:a},a)}function yr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+14,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===H?(v=H,i+=2):(v=e,u===0&&E(_n)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(t.charCodeAt(i)===123?(f=B,i++):(f=e,u===0&&E(ot)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=D(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();t.charCodeAt(i)===125?(o=W,i++):(o=e,u===0&&E(nt)),o!==e?(q=a,a=qi(g,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function et(){var a,v,b,g,n,f,y=i*77+15,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=fr(),f!==e?(q=a,a=En(g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();g=fr(),g!==e?(q=a,a=Vi(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function ts(){var a,v,b,g,n,f,y,h,s,o=i*77+16,w=k[o];if(w)return i=w.nextPos,w.result;if(a=i,t.substr(i,3)===ie?(v=ie,i+=3):(v=e,u===0&&E(Et)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Sn(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===G?(v=G,i+=3):(v=e,u===0&&E(gs)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Ki(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[o]={nextPos:i,result:a},a}function ds(){var a,v,b,g,n=i*77+17,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,2)===K?(v=K,i+=2):(v=e,u===0&&E(Ut)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();g=Fe(),g!==e?(q=a,a=ka(g)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ke(){var a,v,b,g,n,f,y,h=i*77+18,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,2)===Q?(v=Q,i+=2):(v=e,u===0&&E(Bt)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();for(y=fr(),y!==e?n=y:(i=n,n=e),n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();t.charCodeAt(i)===93?(y=X,i++):(y=e,u===0&&E(Mr)),y!==e?(q=a,a=Ji(g,n)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Is(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+19,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();for(t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e)if(t.charCodeAt(i)===41?(p=N,i++):(p=e,u===0&&E(cr)),p!==e){for(m=[],$=C();$!==e;)m.push($),$=C();$=_t(),$!==e?(q=a,a=Wi(y,w,$)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(o=Fe(),o!==e){if(w=[],p=C(),p!==e)for(;p!==e;)w.push(p),p=C();else w=e;w!==e?(p=_t(),p!==e?(q=a,a=Gi(f,o,p)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function za(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A=i*77+20,S=k[A];if(S)return i=S.nextPos,S.result;if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=i,t.charCodeAt(i)===61?(o=Me,i++):(o=e,u===0&&E(kt)),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();p=Fe(),p!==e?(q=s,s=Zi(y,p)):(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),t.charCodeAt(i)===44?(o=ee,i++):(o=e,u===0&&E(ar)),o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();if(p=Fe(),p!==e)if(t.charCodeAt(i)===41?(m=N,i++):(m=e,u===0&&E(cr)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=_t(),_!==e?(q=a,a=Qi(y,s,p,_)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(h=i,t.charCodeAt(i)===61?(s=Me,i++):(s=e,u===0&&E(kt)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Fe(),w!==e?(q=h,h=Xi(f,w)):(i=h,h=e)}else i=h,h=e;for(h===e&&(h=null),t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e){if(p=[],m=C(),m!==e)for(;m!==e;)p.push(m),m=C();else p=e;p!==e?(m=_t(),m!==e?(q=a,a=Yi(f,h,w,m)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(n=Fe(),n!==e)if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=_t(),h!==e?(q=a,a=el(n,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;n!==e?(f=_t(),f!==e?(q=a,a=tl(g,f)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e}}return k[A]={nextPos:i,result:a},a}function Kr(){var a,v,b,g,n,f=i*77+21,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,6)===ne?(v=ne,i+=6):(v=e,u===0&&E(Ts)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=Fe(),n!==e?(q=a,a=rl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function qa(){var a,v,b,g,n,f,y,h,s=i*77+22,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===Se?(v=Se,i+=4):(v=e,u===0&&E(St)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=sl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Dl(){var a,v,b,g,n=i*77+23,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ne?(v=Ne,i+=5):(v=e,u===0&&E(Vs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=nl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Va(){var a,v,b,g,n=i*77+24,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,8)===Ce?(v=Ce,i+=8):(v=e,u===0&&E(Fr)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=al()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Ll(){var a,v,b,g,n,f,y=i*77+25,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.substr(i,2)===st?(g=st,i+=2):(g=e,u===0&&E(Nr)),g===e&&(t.substr(i,2)===ct?(g=ct,i+=2):(g=e,u===0&&E(Ai)),g===e&&(t.charCodeAt(i)===61?(g=Me,i++):(g=e,u===0&&E(kt)))),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=Fe(),f!==e?(q=a,a=il(v,g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Hl(){var a,v,b,g,n,f,y,h,s=i*77+26,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Er(),v!==e){for(b=[],g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e;if(g!==e)for(;g!==e;){for(b.push(g),g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e}else b=e;b!==e?(q=a,a=ll(v,b)):(i=a,a=e)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function pr(){var a,v,b,g=i*77+27,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=Ue(),b!==e?(v=[v,b],a=v):(i=a,a=e)):(i=a,a=e),a===e&&(a=we()),k[g]={nextPos:i,result:a},a)}function ta(){var a,v,b=i*77+28,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===yt?(v=yt,i+=2):(v=e,u===0&&E(Ci)),v===e&&(t.substr(i,2)===vt?(v=vt,i+=2):(v=e,u===0&&E(_i)),v===e&&(t.substr(i,2)===Xe?(v=Xe,i+=2):(v=e,u===0&&E($a)),v===e&&(t.substr(i,2)===gt?(v=gt,i+=2):(v=e,u===0&&E(ma)),v===e&&(t.substr(i,2)===Zt?(v=Zt,i+=2):(v=e,u===0&&E(Pi)),v===e&&(t.substr(i,2)===er?(v=er,i+=2):(v=e,u===0&&E(ki)),v===e&&(v=t.charAt(i),lt.test(v)?i++:(v=e,u===0&&E(Mi)))))))),v!==e&&(q=a,v=fl()),a=v,k[b]={nextPos:i,result:a},a)}function Ul(){var a,v,b,g=i*77+29,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===33?(v=ht,i++):(v=e,u===0&&E(Ei)),v!==e?(b=Fe(),b!==e?(q=a,a=ul(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Bl(){var a,v,b,g,n=i*77+30,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=Ls(),v!==e){if(b=[],g=ra(),g===e&&(g=cn(),g===e&&(g=sa())),g!==e)for(;g!==e;)b.push(g),g=ra(),g===e&&(g=cn(),g===e&&(g=sa()));else b=e;b!==e?(q=a,a=ol(v,b)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function ra(){var a,v,b,g,n,f,y=i*77+31,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Jr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=cl(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Jr(){var a,v,b,g,n,f,y=i*77+32,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);q=a,a=hl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function cn(){var a,v,b,g,n,f,y=i*77+33,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Ma(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function sa(){var a,v,b,g=i*77+34,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===46?(v=Qt,i++):(v=e,u===0&&E(Fs)),v!==e?(b=Le(),b!==e?(q=a,a=pl(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Wr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+35,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===Pr?(v=Pr,i+=2):(v=e,u===0&&E(Pn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=_t(),f!==e){if(y=i,h=[],s=C(),s!==e)for(;s!==e;)h.push(s),s=C();else h=e;if(h!==e?(s=Tn(),s!==e?y=s:(i=y,y=e)):(i=y,y=e),y===e&&(y=null),h=i,s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;s!==e?(o=Ka(),o!==e?h=o:(i=h,h=e)):(i=h,h=e),h===e&&(h=null),q=a,a=vl(g,f,y,h)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Tn(){var a,v,b,g,n,f,y=i*77+36,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=tn(),v!==e){for(b=[],g=i,n=[],f=C();f!==e;)n.push(f),f=C();for(f=tn(),f!==e?g=f:(i=g,g=e);g!==e;){for(b.push(g),g=i,n=[],f=C();f!==e;)n.push(f),f=C();f=tn(),f!==e?g=f:(i=g,g=e)}q=a,a=gl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function tn(){var a,v,b,g,n,f,y,h=i*77+37,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,4)===Kt?(v=Kt,i+=4):(v=e,u===0&&E(xa)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=_t(),y!==e?(q=a,a=Ea(n,y)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Ka(){var a,v,b,g,n,f=i*77+38,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,4)===xr?(v=xr,i+=4):(v=e,u===0&&E(Si)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=_t(),n!==e?(q=a,a=dl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function Fn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+39,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.substr(i,5)===Or?(v=Or,i+=5):(v=e,u===0&&E(ba)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===123?(y=B,i++):(y=e,u===0&&E(ot)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=[],o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;if(o!==e)for(;o!==e;)if(s.push(o),o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;else s=e;if(s!==e){if(o=i,t.charCodeAt(i)===42?(w=Br,i++):(w=e,u===0&&E(Ti)),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();o=_}else i=o,o=e}else i=o,o=e}else i=o,o=e;for(o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();t.charCodeAt(i)===125?(p=W,i++):(p=e,u===0&&E(nt)),p!==e?(q=a,a=yl(n,s,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[R]={nextPos:i,result:a},a}function zl(){var a,v,b,g,n,f,y,h,s=i*77+40,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===sr?(v=sr,i+=4):(v=e,u===0&&E(Fi)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=wl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Ja(){var a,v,b,g,n=i*77+41,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,6)===br?(v=br,i+=6):(v=e,u===0&&E(Ni)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;b!==e?(g=Ms(),g!==e?(q=a,a=$l(g)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ms(){var a,v,b=i*77+42,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=Jl(),v!==e&&(q=a,v=ml(v)),a=v,k[b]={nextPos:i,result:a},a)}function na(){var a,v,b,g,n,f,y=i*77+43,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===96?(v=J,i++):(v=e,u===0&&E(es)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===96?(g=J,i++):(g=e,u===0&&E(es)),g!==e?(q=a,a=xl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function aa(){var a,v,b,g,n,f,y=i*77+44,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Fe(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?a=g:(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,v=[],b=Hs(),b!==e)for(;b!==e;)v.push(b),b=Hs();else v=e;v!==e&&(q=a,v=Sa(v)),a=v}return k[y]={nextPos:i,result:a},a}function Hs(){var a,v=i*77+45,b=k[v];return b?(i=b.nextPos,b.result):(a=ql(),a===e&&(a=t.charAt(i),Pt.test(a)?i++:(a=e,u===0&&E(Ns))),k[v]={nextPos:i,result:a},a)}function ql(){var a,v,b,g=i*77+46,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=t.charAt(i),dt.test(b)?i++:(b=e,u===0&&E(kn)),b!==e?a=b:(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Rs(){var a,v,b,g,n,f,y=i*77+47,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===34?(v=re,i++):(v=e,u===0&&E(xs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===34?(g=re,i++):(g=e,u===0&&E(xs)),g!==e?(q=a,a=Ta(b)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,t.charCodeAt(i)===39?(v=ue,i++):(v=e,u===0&&E(bs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===39?(g=ue,i++):(g=e,u===0&&E(bs)),g!==e?(q=a,a=bl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function hn(){var a,v,b=i*77+48,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===me?(v=me,i+=2):(v=e,u===0&&E(Oi)),v!==e&&(q=a,v=Al()),a=v,k[b]={nextPos:i,result:a},a)}function pn(){var a,v,b=i*77+49,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===he?(v=he,i+=2):(v=e,u===0&&E(Js)),v!==e&&(q=a,v=Fa()),a=v,k[b]={nextPos:i,result:a},a)}function vn(){var a,v=i*77+50,b=k[v];return b?(i=b.nextPos,b.result):(a=rn(),a===e&&(a=Nn()),k[v]={nextPos:i,result:a},a)}function rn(){var a,v,b,g,n,f,y,h=i*77+51,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;if(g!==e)if(t.charCodeAt(i)===46?(n=Qt,i++):(n=e,u===0&&E(Fs)),n!==e){if(f=[],y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt)),y!==e)for(;y!==e;)f.push(y),y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt));else f=e;f!==e?(q=a,a=Cl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e)if(t.charCodeAt(i)===46?(g=Qt,i++):(g=e,u===0&&E(Fs)),g!==e){if(n=[],f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt)),f!==e)for(;f!==e;)n.push(f),f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt));else n=e;n!==e?(q=a,a=Na()):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Nn(){var a,v,b,g,n,f=i*77+52,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;g!==e?(q=a,a=Oa()):(i=a,a=e)}else i=a,a=e;return a===e&&(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e?(q=a,a=_l()):(i=a,a=e)),k[f]={nextPos:i,result:a},a}function Us(){var a,v=i*77+53,b=k[v];return b?(i=b.nextPos,b.result):(a=Wa(),a===e&&(a=On()),k[v]={nextPos:i,result:a},a)}function Wa(){var a,v,b,g,n=i*77+54,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===Te?(v=Te,i+=4):(v=e,u===0&&E(Ws)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=ja()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function On(){var a,v,b,g,n=i*77+55,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ie?(v=Ie,i+=5):(v=e,u===0&&E(Gs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=Pl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function gn(){var a,v,b,g,n=i*77+56,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===xe?(v=xe,i+=4):(v=e,u===0&&E(Zs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=kl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function jn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+57,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Ml(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Ga(){var a,v,b,g,n,f,y,h,s,o,w=i*77+58,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=El(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function sn(){var a,v,b,g,n,f,y,h=i*77+59,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=Le(),v!==e){for(b=i,g=[],n=C();n!==e;)g.push(n),n=C();if(t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=Lt(),y!==e?b=y:(i=b,b=e)}else i=b,b=e;b===e&&(b=null),q=a,a=Sl(v,b)}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function dn(){var a,v,b,g,n,f,y=i*77+60,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=sn(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Ia(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function yn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+61,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.charCodeAt(i)===64?(v=Ee,i++):(v=e,u===0&&E(Qs)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(t.charCodeAt(i)===40?(f=T,i++):(f=e,u===0&&E(Ct)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=dn(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(t.charCodeAt(i)===41?(o=N,i++):(o=e,u===0&&E(cr)),o!==e){for(w=i,p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===58?(m=fe,i++):(m=e,u===0&&E(Ye)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=Lt(),_!==e?w=_:(i=w,w=e)}else i=w,w=e;for(w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===123?(m=B,i++):(m=e,u===0&&E(ot)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();for(_=qr(),_===e&&(_=null),A=[],S=C();S!==e;)A.push(S),S=C();t.charCodeAt(i)===125?(S=W,i++):(S=e,u===0&&E(nt)),S!==e?(q=a,a=Tl(b,g,n,h,w,_)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[R]={nextPos:i,result:a},a}function Vl(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$=i*77+62,_=k[$];if(_)return i=_.nextPos,_.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=i,h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===58?(s=fe,i++):(s=e,u===0&&E(Ye)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Lt(),w!==e?y=w:(i=y,y=e)}else i=y,y=e;for(y===e&&(y=null),h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===123?(s=B,i++):(s=e,u===0&&E(ot)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();for(w=qr(),w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();t.charCodeAt(i)===125?(m=W,i++):(m=e,u===0&&E(nt)),m!==e?(q=a,a=Ra(g,y,w)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[$]={nextPos:i,result:a},a}function In(){var a,v,b,g,n,f,y,h,s,o,w=i*77+63,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Fl(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Rn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+64,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Nl(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Lt(){var a,v=i*77+65,b=k[v];return b?(i=b.nextPos,b.result):(a=Kl(),a===e&&(a=Za()),k[v]={nextPos:i,result:a},a)}function Kl(){var a,v,b,g,n,f,y,h,s,o,w=i*77+66,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.substr(i,2)===Mt?(h=Mt,i+=2):(h=e,u===0&&E(us)),h!==e){for(s=[],o=C();o!==e;)s.push(o),o=C();o=Lt(),o!==e?(q=a,a=Ol(g,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Dn(){var a,v,b,g,n,f,y=i*77+67,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Lt(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Da(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Za(){var a,v,b,g,n,f,y,h,s=i*77+68,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Le(),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(t.charCodeAt(i)===60?(g=Ge,i++):(g=e,u===0&&E(Aa)),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(f=Lt(),f!==e){for(y=[],h=we();h!==e;)y.push(h),h=we();t.charCodeAt(i)===62?(h=rt,i++):(h=e,u===0&&E(ir)),h!==e?(q=a,a=jl(v,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return a===e&&(a=i,v=Le(),v!==e&&(q=a,v=La(v)),a=v),k[s]={nextPos:i,result:a},a}function Le(){var a,v,b,g,n=i*77+69,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=t.charAt(i),ls.test(v)?i++:(v=e,u===0&&E(Ca)),v!==e){for(b=[],g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));g!==e;)b.push(g),g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));q=a,a=Ha()}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Jl(){var a,v,b,g,n,f,y=i*77+70,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Le(),v!==e){for(b=[],g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=Il()}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Lr(){var a,v,b,g,n,f=i*77+71,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();if(t.charCodeAt(i)===44?(b=ee,i++):(b=e,u===0&&E(ar)),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();v=[v,b,g],a=v}else i=a,a=e;if(a===e)if(a=[],v=C(),v!==e)for(;v!==e;)a.push(v),v=C();else a=e;return k[f]={nextPos:i,result:a},a}function _t(){var a,v,b,g,n,f,y=i*77+72,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=qr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?(q=a,a=Ua(g)):(i=a,a=e)}else i=a,a=e;return a===e&&(a=Vr()),k[y]={nextPos:i,result:a},a}function Ue(){var a,v=i*77+73,b=k[v];return b?(i=b.nextPos,b.result):(t.substr(i,2)===tt?(a=tt,i+=2):(a=e,u===0&&E(ji)),a===e&&(a=t.charAt(i),bt.test(a)?i++:(a=e,u===0&&E(Xs))),k[v]={nextPos:i,result:a},a)}function ia(){var a,v,b=i*77+74,g=k[b];return g?(i=g.nextPos,g.result):(a=i,u++,t.length>i?(v=t.charAt(i),i++):(v=e,u===0&&E(Dt)),u--,v===e?a=void 0:(i=a,a=e),a===e&&(a=Ue()),k[b]={nextPos:i,result:a},a)}function C(){var a,v=i*77+75,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),Rt.test(a)?i++:(a=e,u===0&&E(Ii)),k[v]={nextPos:i,result:a},a)}function we(){var a,v=i*77+76,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),an.test(a)?i++:(a=e,u===0&&E(Os)),k[v]={nextPos:i,result:a},a)}function Y(a,v,b){const g={type:a};v.children=b;for(const f of Object.keys(v))v[f]!==void 0&&(g[f]=v[f]);const n=te();return g.loc={start:n.start.offset,end:n.end.offset-1},g}if(Ar=x(),r.peg$library)return{peg$result:Ar,peg$currPos:i,peg$FAILED:e,peg$maxFailExpected:_s,peg$maxFailPos:Tt};if(Ar!==e&&i===t.length)return Ar;throw Ar!==e&&i<t.length&&E(z()),pe(_s,Tt<t.length?t.charAt(Tt):null,Tt<t.length?le(Tt,Tt+1):le(Tt,Tt))}const Ux=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function Bx(t){return Ux.includes(t.type)}function M0(t){return"chain"in t&&t.chain!==null}function zx(t,r,e){return{type:"call",target:t,args:r,loc:e}}function qx(t,r,e){return{type:"index",target:t,index:r,loc:e}}function Vx(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Nt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Nt(e.expr,r);break}case"return":{e.expr=Nt(e.expr,r);break}case"each":{e.items=Nt(e.items,r),e.for=Nt(e.for,r);break}case"for":{e.from!=null&&(e.from=Nt(e.from,r)),e.to!=null&&(e.to=Nt(e.to,r)),e.times!=null&&(e.times=Nt(e.times,r)),e.for=Nt(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Nt(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Nt(e.expr,r),e.dest=Nt(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=Nt(e.operands[l],r);break}case"not":{e.expr=Nt(e.expr,r);break}case"if":{e.cond=Nt(e.cond,r),e.then=Nt(e.then,r);for(const l of e.elseif)l.cond=Nt(l.cond,r),l.then=Nt(l.then,r);e.else!=null&&(e.else=Nt(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=Nt(e.children[l],r);break}case"match":{e.about=Nt(e.about,r);for(const l of e.qs)l.q=Nt(l.q,r),l.a=Nt(l.a,r);e.default!=null&&(e.default=Nt(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Nt(e.statements[l],r);break}case"exists":{e.identifier=Nt(e.identifier,r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=Nt(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],Nt(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=Nt(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=Nt(e.args[l],r);break}case"indexChain":{e.index=Nt(e.index,r);break}case"call":{e.target=Nt(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=Nt(e.args[l],r);break}case"index":{e.target=Nt(e.target,r),e.index=Nt(e.index,r);break}case"prop":{e.target=Nt(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=Nt(e.members[l],r);break}case"or":case"and":{e.left=Nt(e.left,r),e.right=Nt(e.right,r);break}}if(M0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=Nt(e.chain[l],r);return e}const Zh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Qh(t){throw new Qu(`Reserved word "${t}" cannot be used as variable name.`)}function Kx(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Zh.includes(t.name)&&Qh(t.name);break}case"meta":{t.name!=null&&Zh.includes(t.name)&&Qh(t.name);break}case"fn":{for(const r of t.args)Zh.includes(r.name)&&Qh(r.name);break}}return t}function Jx(t){for(const r of t)Nt(r,Kx);return t}function qg(t){return{type:"simple",name:t}}function Wx(t,r){return{type:"generic",name:t,inners:r}}function Gx(t,r){return{type:"fn",args:t,result:r}}function Oc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Oc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Oc(l)).join(", "),e=Oc(t.result);return`@(${r}) { ${e} }`}}}function bo(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return qg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=bo(t.inner):r=qg("any"),Wx(t.name,[r])}}throw new Qu(`Unknown type: '${Oc(t)}'`)}else{const r=t.args.map(e=>bo(e));return Gx(r,bo(t.result))}}function Zx(t){switch(t.type){case"def":{t.varType!=null&&bo(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&bo(r.argType);t.retType!=null&&bo(t.retType);break}}return t}function Qx(t){for(const r of t)Nt(r,Zx);return t}function jc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=jc(l.expr.children)),r.push(l);else{if(e.length>0)throw new Qu("invalid attribute.");switch(l.type){case"fn":{l.children=jc(l.children);break}case"block":{l.statements=jc(l.statements);break}}r.push(l)}if(e.length>0)throw new Qu("invalid attribute.");return r}function Xx(t){if(Bx(t)&&M0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=zx(l,d.args,d.loc);break}case"indexChain":{l=qx(l,d.index,d.loc);break}case"propChain":{l=Vx(l,d.name,d.loc);break}}return l}return t}function Yx(t){for(let r=0;r<t.length;r++)t[r]=Nt(t[r],Xx);return t}function Ic(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function E0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Ic(t,r,e);{const{left:l,right:d,info:x}=t;return Ic(l,E0(d,r,e),x)}}function Eu(t){if(t.type!=="infixTree")return t;if(t.info.mapFn)return t.info.mapFn(t);{const r=Eu(t.left),e=Eu(t.right);return{type:"call",target:{type:"identifier",name:t.info.func,loc:t.info.opLoc},args:[r,e],loc:{start:r.loc.start,end:e.loc.end}}}}const eb={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>{const r=Eu(t.left),e=Eu(t.right);return{type:"and",left:r,right:e,loc:{start:r.loc.start,end:e.loc.end},operatorLoc:t.info.opLoc}},priority:3},"||":{mapFn:t=>{const r=Eu(t.left),e=Eu(t.right);return{type:"or",left:r,right:e,loc:{start:r.loc.start,end:e.loc.end},operatorLoc:t.info.opLoc}},priority:3}};function tb(t){const r=t.operators.map((l,d)=>{const x=eb[l];if(x==null)throw new Qu(`No such operator: ${l}.`);return{...x,opLoc:t.operatorLocs[d]}});let e=Ic(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=E0(e,t.operands[2+l],r[1+l]);return Eu(e)}function rb(t){for(let r=0;r<t.length;r++)t[r]=Nt(t[r],e=>e.type==="infix"?tb(e):e);return t}var Ef;let sb=(Ef=class{constructor(){be(this,"plugins");this.plugins={validate:[Jx,Qx],transform:[jc,Yx,rb]}}static parse(r){return Ef.instance==null&&(Ef.instance=new Ef),Ef.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=zg(r,{startRule:"Preprocess"});e=zg(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new Qu(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`,l):new Qu(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`,l):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Ef,"instance"),Ef);const nb="0.19.0",ab={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Hp=[],Uo=null;function ib(t){return Hp=sb.parse(t),JSON.stringify(Hp,null,"	")}async function lb(t){Uo==null||Uo.abort(),Uo=new ga({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:Rp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:Rp(e.val,!0),print:!1});break}}});try{await Uo.exec(Hp)}catch(r){t.err(r)}}const fb=Object.freeze(Object.defineProperty({__proto__:null,exec:lb,parse:ib,samples:ab,version:nb},Symbol.toStringTag,{value:"Module"}));function vs(t,r,e){let l=e.value;return{configurable:!0,get(){const d=l.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:d}),d},set(d){l=d}}}let Mh=class S0 extends Error{constructor(e,l){super(e);be(this,"name","AiScript");be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,S0)}},ub=class extends Mh{constructor(e){super(e.message??`${e}`,e);be(this,"name","Internal")}},Xu=class extends Mh{constructor(e,l){super(e,l);be(this,"name","Syntax")}},mr=class extends Mh{constructor(e,l){super(e,l);be(this,"name","Runtime")}},Vg=class extends mr{constructor(r,e){super(r,e)}};class ob extends mr{constructor(e,l){super(e,l);be(this,"name","")}}var zf=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let If=class Up{constructor(r=[],e,l,d){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});be(this,"nsName");this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>"),this.nsName=d}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new Up(l,this,e)}createChildNamespaceScope(r,e=new Map,l){const d=[e,...this.layerdStates];return new Up(d,this,l,r)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r).value;return this.log("read",{var:r,val:l}),l}throw new mr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new mr(`Variable '${r}' already exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null?this.onUpdated(r,e.value):this.nsName!=null&&this.parent.add(this.nsName+":"+r,e)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){const x=d.get(r);if(!x.isMutable)throw new mr(`Cannot assign to an immutable variable ${r}.`);x.value=e,this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new mr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};zf([vs],If.prototype,"log",null);zf([vs],If.prototype,"onUpdated",null);zf([vs],If.prototype,"createChildScope",null);zf([vs],If.prototype,"createChildNamespaceScope",null);zf([vs],If.prototype,"get",null);zf([vs],If.prototype,"exists",null);zf([vs],If.prototype,"getAll",null);zf([vs],If.prototype,"add",null);zf([vs],If.prototype,"assign",null);const lr={type:"null"},hi={type:"bool",value:!0},pi={type:"bool",value:!1},He=t=>({type:"num",value:t}),gr=t=>({type:"str",value:t}),Uu=t=>({type:"bool",value:t}),oh=t=>({type:"obj",value:t}),os=t=>({type:"arr",value:t}),cb=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),de=t=>({type:"fn",native:t}),hb=t=>({type:"return",value:t}),pb=()=>({type:"break",value:null}),vb=()=>({type:"continue",value:null}),gb=t=>t.type==="return"?t.value:t,Bp=(t,r)=>({type:"error",value:t,info:r});function vi(t){if(t==null)throw new mr("Expect anything, but got nothing.")}function qn(t){if(t==null)throw new mr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new mr(`Expect boolean, but got ${t.type}.`)}function _f(t){if(t==null)throw new mr("Expect function, but got nothing.");if(t.type!=="fn")throw new mr(`Expect function, but got ${t.type}.`)}function Es(t){if(t==null)throw new mr("Expect string, but got nothing.");if(t.type!=="str")throw new mr(`Expect string, but got ${t.type}.`)}function Oe(t){if(t==null)throw new mr("Expect number, but got nothing.");if(t.type!=="num")throw new mr(`Expect number, but got ${t.type}.`)}function wf(t){if(t==null)throw new mr("Expect object, but got nothing.");if(t.type!=="obj")throw new mr(`Expect object, but got ${t.type}.`)}function Bu(t){if(t==null)throw new mr("Expect array, but got nothing.");if(t.type!=="arr")throw new mr(`Expect array, but got ${t.type}.`)}function Xh(t){return t.type==="obj"}function Kg(t){return t.type==="arr"}function Ao(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function zp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>zp(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function qp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>qp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=qp(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Vp(t){if(t===null)return lr;if(typeof t=="boolean")return Uu(t);if(typeof t=="string")return gr(t);if(typeof t=="number")return He(t);if(Array.isArray(t))return os(t.map(r=>Vp(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,Vp(l));return oh(r)}return lr}function Co(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,l=>`\\${l}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const l=[];for(const d of t.value)l.push(Co(d,!0,e));return"[ "+l.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const l=[];for(const[d,x]of t.value)l.push(`${d}: ${Co(x,!0,e)}`);return"{ "+l.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const db={version:"0.18.0"},yb=db.version,wb=new TextEncoder,$b=new TextDecoder,mb={help:gr("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":gr(yb),"Core:ai":gr("kawaii"),"Core:not":de(([t])=>(qn(t),t.value?pi:hi)),"Core:eq":de(([t,r])=>(vi(t),vi(r),Ao(t,r)?hi:pi)),"Core:neq":de(([t,r])=>(vi(t),vi(r),Ao(t,r)?pi:hi)),"Core:and":de(([t,r])=>(qn(t),t.value?(qn(r),r.value?hi:pi):pi)),"Core:or":de(([t,r])=>(qn(t),t.value?hi:(qn(r),r.value?hi:pi))),"Core:add":de(([t,r])=>(Oe(t),Oe(r),He(t.value+r.value))),"Core:sub":de(([t,r])=>(Oe(t),Oe(r),He(t.value-r.value))),"Core:mul":de(([t,r])=>(Oe(t),Oe(r),He(t.value*r.value))),"Core:pow":de(([t,r])=>{Oe(t),Oe(r);const e=t.value**r.value;if(isNaN(e))throw new mr("Invalid operation.");return He(e)}),"Core:div":de(([t,r])=>{Oe(t),Oe(r);const e=t.value/r.value;if(isNaN(e))throw new mr("Invalid operation.");return He(e)}),"Core:mod":de(([t,r])=>(Oe(t),Oe(r),He(t.value%r.value))),"Core:gt":de(([t,r])=>(Oe(t),Oe(r),t.value>r.value?hi:pi)),"Core:lt":de(([t,r])=>(Oe(t),Oe(r),t.value<r.value?hi:pi)),"Core:gteq":de(([t,r])=>(Oe(t),Oe(r),t.value>=r.value?hi:pi)),"Core:lteq":de(([t,r])=>(Oe(t),Oe(r),t.value<=r.value?hi:pi)),"Core:type":de(([t])=>(vi(t),gr(t.type))),"Core:to_str":de(([t])=>(vi(t),gr(Co(t)))),"Core:range":de(([t,r])=>(Oe(t),Oe(r),t.value<r.value?os(Array.from({length:r.value-t.value+1},(e,l)=>He(l+t.value))):t.value>r.value?os(Array.from({length:t.value-r.value+1},(e,l)=>He(t.value-l))):os([t]))),"Core:sleep":de(async([t])=>(Oe(t),await new Promise(r=>setTimeout(r,t.value)),lr)),"Core:abort":de(async([t])=>{throw Es(t),new ob(t.value)}),"Util:uuid":de(()=>gr(vc())),"Json:stringify":de(([t])=>(vi(t),gr(JSON.stringify(qp(t))))),"Json:parse":de(([t])=>{Es(t);try{return Vp(JSON.parse(t.value))}catch{return Bp("not_json")}}),"Json:parsable":de(([t])=>{Es(t);try{JSON.parse(t.value)}catch{return Uu(!1)}return Uu(!0)}),"Date:now":de(()=>He(Date.now())),"Date:year":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:millisecond":de(([t])=>(t&&Oe(t),He(new Date((t==null?void 0:t.value)||Date.now()).getMilliseconds()))),"Date:parse":de(([t])=>(Es(t),He(new Date(t.value).getTime()))),"Date:to_iso_str":de(([t,r])=>{t&&Oe(t);const e=new Date((t==null?void 0:t.value)??Date.now());r&&Oe(r);const l=(r==null?void 0:r.value)??-e.getTimezoneOffset();let d;if(l===0)d="Z";else{const B=Math.sign(l),W=Math.floor(Math.abs(l)/60),ve=Math.abs(l)%60;e.setUTCHours(e.getUTCHours()+B*W),e.setUTCMinutes(e.getUTCMinutes()+B*ve);const ie=l>0?"+":"-",fe=W.toString().padStart(2,"0"),Me=ve.toString().padStart(2,"0");d=`${ie}${fe}:${Me}`}const x=e.getUTCFullYear().toString().padStart(4,"0"),P=(e.getUTCMonth()+1).toString().padStart(2,"0"),M=e.getUTCDate().toString().padStart(2,"0"),F=e.getUTCHours().toString().padStart(2,"0"),T=e.getUTCMinutes().toString().padStart(2,"0"),N=e.getUTCSeconds().toString().padStart(2,"0"),H=e.getUTCMilliseconds().toString().padStart(3,"0");return gr(`${x}-${P}-${M}T${F}:${T}:${N}.${H}${d}`)}),"Math:Infinity":He(1/0),"Math:E":He(Math.E),"Math:LN2":He(Math.LN2),"Math:LN10":He(Math.LN10),"Math:LOG2E":He(Math.LOG2E),"Math:LOG10E":He(Math.LOG10E),"Math:PI":He(Math.PI),"Math:SQRT1_2":He(Math.SQRT1_2),"Math:SQRT2":He(Math.SQRT2),"Math:abs":de(([t])=>(Oe(t),He(Math.abs(t.value)))),"Math:acos":de(([t])=>(Oe(t),He(Math.acos(t.value)))),"Math:acosh":de(([t])=>(Oe(t),He(Math.acosh(t.value)))),"Math:asin":de(([t])=>(Oe(t),He(Math.asin(t.value)))),"Math:asinh":de(([t])=>(Oe(t),He(Math.asinh(t.value)))),"Math:atan":de(([t])=>(Oe(t),He(Math.atan(t.value)))),"Math:atanh":de(([t])=>(Oe(t),He(Math.atanh(t.value)))),"Math:atan2":de(([t,r])=>(Oe(t),Oe(r),He(Math.atan2(t.value,r.value)))),"Math:cbrt":de(([t])=>(Oe(t),He(Math.cbrt(t.value)))),"Math:ceil":de(([t])=>(Oe(t),He(Math.ceil(t.value)))),"Math:clz32":de(([t])=>(Oe(t),He(Math.clz32(t.value)))),"Math:cos":de(([t])=>(Oe(t),He(Math.cos(t.value)))),"Math:cosh":de(([t])=>(Oe(t),He(Math.cosh(t.value)))),"Math:exp":de(([t])=>(Oe(t),He(Math.exp(t.value)))),"Math:expm1":de(([t])=>(Oe(t),He(Math.expm1(t.value)))),"Math:floor":de(([t])=>(Oe(t),He(Math.floor(t.value)))),"Math:fround":de(([t])=>(Oe(t),He(Math.fround(t.value)))),"Math:hypot":de(([t])=>{Bu(t);const r=[];for(const e of t.value)Oe(e),r.push(e.value);return He(Math.hypot(...r))}),"Math:imul":de(([t,r])=>(Oe(t),Oe(r),He(Math.imul(t.value,r.value)))),"Math:log":de(([t])=>(Oe(t),He(Math.log(t.value)))),"Math:log1p":de(([t])=>(Oe(t),He(Math.log1p(t.value)))),"Math:log10":de(([t])=>(Oe(t),He(Math.log10(t.value)))),"Math:log2":de(([t])=>(Oe(t),He(Math.log2(t.value)))),"Math:max":de(([t,r])=>(Oe(t),Oe(r),He(Math.max(t.value,r.value)))),"Math:min":de(([t,r])=>(Oe(t),Oe(r),He(Math.min(t.value,r.value)))),"Math:pow":de(([t,r])=>(Oe(t),Oe(r),He(Math.pow(t.value,r.value)))),"Math:round":de(([t])=>(Oe(t),He(Math.round(t.value)))),"Math:sign":de(([t])=>(Oe(t),He(Math.sign(t.value)))),"Math:sin":de(([t])=>(Oe(t),He(Math.sin(t.value)))),"Math:sinh":de(([t])=>(Oe(t),He(Math.sinh(t.value)))),"Math:sqrt":de(([t])=>{Oe(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new mr("Invalid operation.");return He(r)}),"Math:tan":de(([t])=>(Oe(t),He(Math.tan(t.value)))),"Math:tanh":de(([t])=>(Oe(t),He(Math.tanh(t.value)))),"Math:trunc":de(([t])=>(Oe(t),He(Math.trunc(t.value)))),"Math:rnd":de(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?He(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):He(Math.random())),"Math:gen_rng":de(([t])=>{if(vi(t),t.type!=="num"&&t.type!=="str")return lr;const r=no(t.value.toString());return de(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?He(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):He(r()))}),"Num:to_hex":de(([t])=>(Oe(t),gr(t.value.toString(16)))),"Num:from_hex":de(([t])=>(Es(t),He(parseInt(t.value,16)))),"Str:lf":gr(`
`),"Str:lt":de(([t,r])=>(Es(t),Es(r),t.value<r.value?He(-1):t.value===r.value?He(0):He(1))),"Str:gt":de(([t,r])=>(Es(t),Es(r),t.value>r.value?He(-1):t.value===r.value?He(0):He(1))),"Str:from_codepoint":de(([t])=>(Oe(t),gr(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":de(([t])=>(Bu(t),gr(Array.from(t.value.map(r=>(Oe(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":de(([t])=>(Bu(t),gr($b.decode(Uint8Array.from(t.value.map(r=>(Oe(r),r.value))))))),"Arr:create":de(([t,r])=>{Oe(t);try{return os(Array(t.value).fill(r??lr))}catch(e){throw t.value<0?new mr("Arr:create expected non-negative number, got negative"):Number.isInteger(t.value)?e:new mr("Arr:create expected integer, got non-integer")}}),"Obj:keys":de(([t])=>(wf(t),os(Array.from(t.value.keys()).map(r=>gr(r))))),"Obj:vals":de(([t])=>(wf(t),os(Array.from(t.value.values())))),"Obj:kvs":de(([t])=>(wf(t),os(Array.from(t.value.entries()).map(([r,e])=>os([gr(r),e]))))),"Obj:get":de(([t,r])=>(wf(t),Es(r),t.value.get(r.value)??lr)),"Obj:set":de(([t,r,e])=>(wf(t),Es(r),vi(e),t.value.set(r.value,e),lr)),"Obj:has":de(([t,r])=>(wf(t),Es(r),Uu(t.value.has(r.value)))),"Obj:copy":de(([t])=>(wf(t),oh(new Map(t.value)))),"Obj:merge":de(([t,r])=>(wf(t),wf(r),oh(new Map([...t.value,...r.value])))),"Error:create":de(([t,r])=>(Es(t),Bp(t.value,r))),"Async:interval":de(async([t,r,e],l)=>{Oe(t),_f(r),e&&(qn(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.topCall(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),de(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":de(async([t,r],e)=>{Oe(t),_f(r);const l=setTimeout(()=>{e.topCall(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),de(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},Jg={num:{to_str:t=>de(async(r,e)=>gr(t.value.toString()))},str:{to_num:t=>de(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?lr:He(l)}),to_arr:t=>de(async(r,e)=>os(Cn(t.value).map(l=>gr(l)))),to_unicode_arr:t=>de(async(r,e)=>os([...t.value].map(l=>gr(l)))),to_unicode_codepoint_arr:t=>de(async(r,e)=>os([...t.value].map(l=>{const d=l.codePointAt(0);return He(d??l.charCodeAt(0))}))),to_char_arr:t=>de(async(r,e)=>os(t.value.split("").map(l=>gr(l)))),to_charcode_arr:t=>de(async(r,e)=>os(t.value.split("").map(l=>He(l.charCodeAt(0))))),to_utf8_byte_arr:t=>de(async(r,e)=>os(Array.from(wb.encode(t.value)).map(l=>He(l)))),len:t=>He(io(t.value)),replace:t=>de(async([r,e],l)=>(Es(r),Es(e),gr(t.value.split(r.value).join(e.value)))),index_of:t=>de(async([r,e],l)=>{Es(r),e&&Oe(e);const d=e?e.value<0?t.value.length+e.value:e.value:void 0;return He(fo(t.value,r.value,d))}),incl:t=>de(async([r],e)=>(Es(r),t.value.includes(r.value)?hi:pi)),trim:t=>de(async(r,e)=>gr(t.value.trim())),upper:t=>de(async(r,e)=>gr(t.value.toUpperCase())),lower:t=>de(async(r,e)=>gr(t.value.toLowerCase())),split:t=>de(async([r],e)=>(r&&Es(r),os(r?t.value.split(r?r.value:"").map(l=>gr(l)):Cn(t.value).map(l=>gr(l))))),slice:t=>de(async([r,e],l)=>(Oe(r),Oe(e),gr(lo(t.value,r.value,e.value)))),pick:t=>de(async([r],e)=>{Oe(r);const d=Cn(t.value)[r.value];return d?gr(d):lr}),charcode_at:t=>de(([r],e)=>{Oe(r);const l=t.value.charCodeAt(r.value);return Number.isNaN(l)?lr:He(l)}),codepoint_at:t=>de(([r],e)=>{Oe(r);const l=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(l)?lr:He(l)})},arr:{len:t=>He(t.value.length),push:t=>de(async([r],e)=>(vi(r),t.value.push(r),t)),unshift:t=>de(async([r],e)=>(vi(r),t.value.unshift(r),t)),pop:t=>de(async(r,e)=>t.value.pop()??lr),shift:t=>de(async(r,e)=>t.value.shift()??lr),concat:t=>de(async([r],e)=>(Bu(r),os(t.value.concat(r.value)))),slice:t=>de(async([r,e],l)=>(Oe(r),Oe(e),os(t.value.slice(r.value,e.value)))),join:t=>de(async([r],e)=>(r&&Es(r),gr(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>de(async([r],e)=>{_f(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,He(x)]));return os(await Promise.all(l))}),filter:t=>de(async([r],e)=>{_f(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,He(d)]);qn(P),P.value&&l.push(x)}return os(l)}),reduce:t=>de(async([r,e],l)=>{_f(r);const d=e!=null;let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,He(P)])}return x}),find:t=>de(async([r],e)=>{_f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,He(l)]);if(qn(x),x.value)return d}return lr}),incl:t=>de(async([r],e)=>(vi(r),t.value.some(l=>Ao(r,l))?hi:pi)),index_of:t=>de(async([r,e],l)=>{if(vi(r),e){Oe(e);const d=t.value.slice(0,e.value).length,x=t.value.slice(e.value).findIndex(P=>Ao(P,r));return He(x<0?x:x+d)}else return He(t.value.findIndex(d=>Ao(d,r)))}),reverse:t=>de(async(r,e)=>(t.value.reverse(),lr)),copy:t=>de(async(r,e)=>os([...t.value])),sort:t=>de(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=await l(x.slice(0,M),P),T=await l(x.slice(M),P);return d(F,T,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);Oe(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return _f(r),Bu(t),t.value=await l(t.value,r),t}),fill:t=>de(async([r,e,l],d)=>{const x=r??lr,P=e&&(Oe(e),e.value),M=l&&(Oe(l),l.value);return t.value.fill(x,P,M),t}),repeat:t=>de(async([r],e)=>{Oe(r);try{return os(Array(r.value).fill(t.value).flat())}catch(l){throw r.value<0?new mr("arr.repeat expected non-negative number, got negative"):Number.isInteger(r.value)?l:new mr("arr.repeat expected integer, got non-integer")}}),every:t=>de(async([r],e)=>{_f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,He(l)]);if(qn(x),!x.value)return pi}return hi}),some:t=>de(async([r],e)=>{_f(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,He(l)]);if(qn(x),x.value)return hi}return pi})},error:{name:t=>gr(t.value),info:t=>t.info??lr}};function xb(t,r){if(Object.hasOwn(Jg,t.type)){const e=Jg[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new mr(`No such prop (${r}) in ${t.type}.`)}else throw new mr(`Cannot read prop of ${t.type}. (reading ${r})`)}const bb={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var fi=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const T0=300,Ab=T0-1;let da=class{constructor(r,e={}){be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);be(this,"vars",{});this.opts=e;const l={print:de(([d])=>{vi(d),this.opts.out&&this.opts.out(d)}),readline:de(async d=>{const x=d[0];if(Es(x),this.opts.in==null)return lr;const P=await this.opts.in(x.value);return gr(P)})};this.vars=Object.fromEntries(Object.entries({...r,...mb,...l}).map(([d,x])=>[d,bb.const(x)])),this.scope=new If([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(l=>(this.handleError(l),Bp("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof Mh?this.opts.err(r):this.opts.err(new ub(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r,e=this.scope){for(const l of r)switch(l.type){case"ns":{await this.collectNsMember(l,e);break}}}async collectNsMember(r,e=this.scope){const l=e.createChildNamespaceScope(r.name);await this.collectNs(r.members,l);for(const d of r.members)switch(d.type){case"def":{if(d.mut)throw new Error("Namespaces cannot include mutable variable: "+d.name);const x={isMutable:d.mut,value:await this._eval(d.expr,l)};l.add(d.name,x);break}case"ns":break;default:throw new Error("invalid ns member type: "+d.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??lr;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],{isMutable:!0,value:e[x]});const d=r.scope.createChildScope(l);return gb(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return lr;if(this.stepCount%T0===Ab&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new mr("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);_f(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(qn(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(qn(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return lr}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(Ao(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):lr}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return lr}case"for":{if(r.times){const l=await this._eval(r.times,e);Oe(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);Oe(l),Oe(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:He(x)}]])));if(P.type==="break")break;if(P.type==="return")return P}}return lr}case"each":{const l=await this._eval(r.items,e);Bu(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:d}]])));if(x.type==="break")break;if(x.type==="return")return x}return lr}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,{isMutable:r.mut,value:l}),lr}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),lr}case"addAssign":{const l=await this._eval(r.dest,e);Oe(l);const d=await this._eval(r.expr,e);return Oe(d),await this.assign(e,r.dest,He(l.value+d.value)),lr}case"subAssign":{const l=await this._eval(r.dest,e);Oe(l);const d=await this._eval(r.expr,e);return Oe(d),await this.assign(e,r.dest,He(l.value-d.value)),lr}case"null":return lr;case"bool":return Uu(r.value);case"num":return He(r.value);case"str":return gr(r.value);case"arr":return os(await Promise.all(r.value.map(l=>this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return oh(l)}case"prop":{const l=await this._eval(r.target,e);return Xh(l)?l.value.has(r.name)?l.value.get(r.name):lr:xb(l,r.name)}case"index":{const l=await this._eval(r.target,e),d=await this._eval(r.index,e);if(Kg(l)){Oe(d);const x=l.value[d.value];if(x===void 0)throw new Vg(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}else{if(Xh(l))return Es(d),l.value.has(d.value)?l.value.get(d.value):lr;throw new mr(`Cannot read prop (${Co(d)}) of ${l.type}.`)}}case"not":{const l=await this._eval(r.expr,e);return qn(l),Uu(!l.value)}case"fn":return cb(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Uu(e.exists(r.identifier.name));case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);l+=Co(x)}return gr(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),hb(l)}case"break":return this.log("block:break",{scope:e.name}),pb();case"continue":return this.log("block:continue",{scope:e.name}),vb();case"ns":return lr;case"meta":return lr;case"and":{const l=await this._eval(r.left,e);if(qn(l),l.value){const d=await this._eval(r.right,e);return qn(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(qn(l),l.value)return l;{const d=await this._eval(r.right,e);return qn(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=lr;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r),x=await this._eval(e.index,r);if(Kg(d)){if(Oe(x),d.value[x.value]===void 0)throw new Vg(`Index out of range. index: ${x.value} max: ${d.value.length-1}`);d.value[x.value]=l}else if(Xh(d))Es(x),d.value.set(x.value,l);else throw new mr(`Cannot read prop (${Co(x)}) of ${d.type}.`)}else if(e.type==="prop"){const d=await this._eval(e.target,r);wf(d),d.value.set(e.name,l)}else if(e.type==="arr")Bu(l),await Promise.all(e.value.map((d,x)=>this.assign(r,d,l.value[x]??lr)));else if(e.type==="obj")wf(l),await Promise.all([...e.value].map(([d,x])=>this.assign(r,x,l.value.get(d)??lr)));else throw new mr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};fi([vs],da.prototype,"exec",null);fi([vs],da.prototype,"execFn",null);fi([vs],da.prototype,"execFnSimple",null);fi([vs],da.prototype,"handleError",null);fi([vs],da.prototype,"log",null);fi([vs],da.prototype,"collectNs",null);fi([vs],da.prototype,"collectNsMember",null);fi([vs],da.prototype,"_fn",null);fi([vs],da.prototype,"_eval",null);fi([vs],da.prototype,"_run",null);fi([vs],da.prototype,"registerAbortHandler",null);fi([vs],da.prototype,"unregisterAbortHandler",null);fi([vs],da.prototype,"abort",null);fi([vs],da.prototype,"assign",null);fi([vs],da,"collectMetadata",null);function Cb(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function zu(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,zu.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}Cb(zu,Error);function Yh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}zu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=Yh("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+Yh("",d.column-1," ")+Yh("",H,"^")}else r+=`
 at `+P}return r};zu.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function Wg(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:tr,Main:Ba},x=tr,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="!",_r="[",Qt=".",Pr="if",Kt="elif",xr="else",Or="match",Mt="=>",Br="*",sr="eval",br="exists",J="`",re='"',ue="'",me='\\"',he="\\'",Te="true",Ie="false",xe="null",Ee="@",ye="@(",Ge="<",rt=">",tt=`\r
`,Ve=/^[A-Z0-9_:]/i,lt=/^[%*-+\-\/<>\^]/,Pt=/^[^`{]/,dt=/^[{}`]/,wt=/^[+\-]/,At=/^[1-9]/,at=/^[0-9]/,is=/^[,;]/,ls=/^[A-Z_]/i,zr=/^[A-Z0-9_]/i,bt=/^[\r\n]/,Rt=/^[ \t\r\n]/,an=/^[ \t]/,Dt=O(),xi=j("//",!1),bi=j("/*",!1),nr=j("*/",!1),Ct=j("(",!1),cr=j(")",!1),_n=j("::",!1),ot=j("{",!1),nt=j("}",!1),kr=j("###",!1),Et=j("let",!1),Ye=j(":",!1),kt=j("=",!1),gs=j("var",!1),Ut=j("<:",!1),Bt=j("#[",!1),Mr=j("]",!1),Vn=j("each",!1),ar=j(",",!1),jr=j("for",!1),Ts=j("return",!1),it=ft([["A","Z"],["0","9"],"_",":"],!1,!0),St=j("loop",!1),Vs=j("break",!1),Fr=j("continue",!1),Nr=j("+=",!1),Ai=j("-=",!1),Kn=j("\\",!1),Ci=j("||",!1),_i=j("&&",!1),$a=j("==",!1),ma=j("!=",!1),Pi=j("<=",!1),ki=j(">=",!1),Mi=ft(["%",["*","+"],"-","/","<",">","^"],!1,!1),Ei=j("!",!1),Ks=j("[",!1),Fs=j(".",!1),Pn=j("if",!1),xa=j("elif",!1),Si=j("else",!1),ba=j("match",!1),us=j("=>",!1),Ti=j("*",!1),Fi=j("eval",!1),Ni=j("exists",!1),es=j("`",!1),Ns=ft(["`","{"],!0,!1),kn=ft(["{","}","`"],!1,!1),xs=j('"',!1),bs=j("'",!1),Oi=j('\\"',!1),Js=j("\\'",!1),Ir=ft(["+","-"],!1,!1),As=ft([["1","9"]],!1,!1),Jt=ft([["0","9"]],!1,!1),Ws=j("true",!1),Gs=j("false",!1),Zs=j("null",!1),Rr=ft([",",";"],!1,!1),Qs=j("@",!1),Cs=j("@(",!1),Aa=j("<",!1),ir=j(">",!1),Ca=ft([["A","Z"],"_"],!1,!0),hr=ft([["A","Z"],["0","9"],"_"],!1,!0),ji=j(`\r
`,!1),Xs=ft(["\r",`
`],!1,!1),Ii=ft([" ","	","\r",`
`],!1,!1),Os=ft([" ","	"],!1,!1),Ri=function(a){return a.join("")},Mn=function(){return c()},Di=function(){return c()},_a=function(){return""},Li=function(){return""},Hi=function(a){return a??[]},Jn=function(a,v){return v},Ui=function(a,v){return[a,...v]},Wn=function(a,v){return v},Bi=function(a,v){return[a,...v]},Gn=function(a,v){return v},zi=function(a,v){return[a,...v]},Pa=function(a){return a},qi=function(a,v){return Y("ns",{name:a,members:v})},En=function(a,v){return Y("meta",{name:a,value:v})},Vi=function(a){return Y("meta",{name:null,value:a})},Sn=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!1,attr:[]})},Ki=function(a,v,b){return Y("def",{name:a,varType:v,expr:b,mut:!0,attr:[]})},ka=function(a){return Y("identifier",{name:"print",chain:[Y("callChain",{args:[a]})]})},Ji=function(a,v){return Y("attr",{name:a,value:v??Y("bool",{value:!0})})},Wi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Gi=function(a,v,b){return Y("each",{var:a,items:v,for:b})},Zi=function(a,v){return v},Qi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},Xi=function(a,v){return v},Yi=function(a,v,b,g){return Y("for",{var:a,from:v??Y("num",{value:0}),to:b,for:g})},el=function(a,v){return Y("for",{times:a,for:v})},tl=function(a,v){return Y("for",{times:a,for:v})},rl=function(a){return Y("return",{expr:a})},sl=function(a){return Y("loop",{statements:a})},nl=function(){return Y("break",{})},al=function(){return Y("continue",{})},il=function(a,v,b){return v==="+="?Y("addAssign",{dest:a,expr:b}):v==="-="?Y("subAssign",{dest:a,expr:b}):Y("assign",{dest:a,expr:b})},Zn=function(a,v,b){return{op:v,term:b}},ll=function(a,v){return Y("infix",{operands:[a,...v.map(b=>b.term)],operators:v.map(b=>b.op)})},fl=function(){return c()},ul=function(a){return Y("not",{expr:a})},ol=function(a,v){return a.chain?{...a,chain:[...a.chain,...v]}:{...a,chain:v}},cl=function(a){return Y("callChain",{args:a??[]})},ln=function(a,v){return v},hl=function(a,v){return[a,...v]},Ma=function(a){return Y("indexChain",{index:a})},pl=function(a){return Y("propChain",{name:a})},vl=function(a,v,b,g){return Y("if",{cond:a,then:v,elseif:b??[],else:g})},gl=function(a,v){return[a,...v]},Ea=function(a,v){return{cond:a,then:v}},dl=function(a){return a},fn=function(a,v,b){return{q:v,a:b}},yl=function(a,v,b){return Y("match",{about:a,qs:v??[],default:b})},wl=function(a){return Y("block",{statements:a})},$l=function(a){return Y("exists",{identifier:a})},ml=function(a){return Y("identifier",{name:a})},xl=function(a){return Y("tmpl",{tmpl:a})},Sa=function(a){return a.join("")},Qn=function(a){return a},Ta=function(a){return Y("str",{value:a.join("")})},Xn=function(a){return a},bl=function(a){return Y("str",{value:a.join("")})},Al=function(){return'"'},Fa=function(){return"'"},Cl=function(){return Y("num",{value:parseFloat(c())})},Na=function(){return Y("num",{value:parseFloat(c())})},Oa=function(){return Y("num",{value:parseInt(c(),10)})},_l=function(){return Y("num",{value:parseInt(c(),10)})},ja=function(){return Y("bool",{value:!0})},Pl=function(){return Y("bool",{value:!1})},kl=function(){return Y("null",{})},Yn=function(a,v){return{k:a,v}},Ml=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},ea=function(a){return a},El=function(a){return Y("arr",{value:a})},Sl=function(a,v){return{name:a,argType:v}},Ia=function(a,v){return[a,...v]},Tl=function(a,v,b,g,n,f){return(a.length>0||b.length>0)&&I("Cannot use spaces before or after the function name."),Y("def",{name:v,expr:Y("fn",{args:g??[],retType:n},f??[]),mut:!1,attr:[]})},Ra=function(a,v,b){return Y("fn",{args:a??[],retType:v},b??[])},un=function(a){return a},Fl=function(a){return Y("arr",{value:a})},on=function(a,v){return{k:a,v}},Nl=function(a){const v=new Map;for(const b of a)v.set(b.k,b.v);return Y("obj",{value:v})},Ol=function(a,v){return Y("fnTypeSource",{args:a??[],result:v})},Da=function(a,v){return[a,...v]},jl=function(a,v){return Y("namedTypeSource",{name:a,inner:v})},La=function(a){return Y("namedTypeSource",{name:a,inner:null})},Ha=function(){return c()},Il=function(){return c()},Ua=function(a){return Y("block",{statements:a??[]})},i=r.peg$currPos|0,q=i,Dr=[{line:1,column:1}],Tt=i,_s=r.peg$maxFailExpected||[],u=r.peg$silentFails|0,k={},Ar;if(r.startRule){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function c(){return t.substring(q,i)}function te(){return le(q,i)}function I(a,v){throw v=v!==void 0?v:le(q,i),Rl(a,v)}function j(a,v){return{type:"literal",text:a,ignoreCase:v}}function ft(a,v,b){return{type:"class",parts:a,inverted:v,ignoreCase:b}}function O(){return{type:"any"}}function z(){return{type:"end"}}function Ps(a){var v=Dr[a],b;if(v)return v;if(a>=Dr.length)b=Dr.length-1;else for(b=a;!Dr[--b];);for(v=Dr[b],v={line:v.line,column:v.column};b<a;)t.charCodeAt(b)===10?(v.line++,v.column=1):v.column++,b++;return Dr[a]=v,v}function le(a,v,b){var g=Ps(a),n=Ps(v),f={source:l,start:{offset:a,line:g.line,column:g.column},end:{offset:v,line:n.line,column:n.column}};return f}function E(a){i<Tt||(i>Tt&&(Tt=i,_s=[]),_s.push(a))}function Rl(a,v){return new zu(a,null,null,v)}function pe(a,v,b){return new zu(zu.buildMessage(a,v),a,v,b)}function tr(){var a,v,b,g=i*77+0,n=k[g];if(n)return i=n.nextPos,n.result;for(a=i,v=[],b=ks();b!==e;)v.push(b),b=ks();return q=a,v=Ri(v),a=v,k[g]={nextPos:i,result:a},a}function ks(){var a,v,b=i*77+1,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=na(),v!==e&&(q=a,v=Mn()),a=v,a===e&&(a=i,v=Rs(),v!==e&&(q=a,v=Di()),a=v,a===e&&(a=L(),a===e&&(t.length>i?(a=t.charAt(i),i++):(a=e,u===0&&E(Dt))))),k[b]={nextPos:i,result:a},a)}function L(){var a,v,b,g,n,f,y=i*77+2,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,2)===P?(v=P,i+=2):(v=e,u===0&&E(xi)),v!==e){for(b=[],g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,f=ia(),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=_a()}else i=a,a=e;if(a===e)if(a=i,t.substr(i,2)===M?(v=M,i+=2):(v=e,u===0&&E(bi)),v!==e){for(b=[],g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.substr(i,2)===F?(f=F,i+=2):(f=e,u===0&&E(nr)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt)),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);t.substr(i,2)===F?(g=F,i+=2):(g=e,u===0&&E(nr)),g!==e?(q=a,a=Li()):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Ba(){var a,v,b,g,n,f=i*77+3,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();for(b=Ys(),b===e&&(b=null),g=[],n=C();n!==e;)g.push(n),n=C();return q=a,a=Hi(b),k[f]={nextPos:i,result:a},a}function Ys(){var a,v,b,g,n,f,y,h,s=i*77+4,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=en(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=en(),h!==e?(q=g,g=Jn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Ui(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function D(){var a,v,b,g,n,f,y,h,s=i*77+5,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=js(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=js(),h!==e?(q=g,g=Wn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=Bi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function qr(){var a,v,b,g,n,f,y,h,s=i*77+6,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Vr(),v!==e){for(b=[],g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e;for(;g!==e;){for(b.push(g),g=i,n=[],f=we();f!==e;)n.push(f),f=we();if(f=Ue(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=Vr(),h!==e?(q=g,g=Gn(v,h)):(i=g,g=e)}else i=g,g=e}q=a,a=zi(v,b)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function en(){var a,v=i*77+7,b=k[v];return b?(i=b.nextPos,b.result):(a=yr(),a===e&&(a=et(),a===e&&(a=Vr())),k[v]={nextPos:i,result:a},a)}function js(){var a,v=i*77+8,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=yr())),k[v]={nextPos:i,result:a},a)}function Vr(){var a,v=i*77+9,b=k[v];return b?(i=b.nextPos,b.result):(a=ts(),a===e&&(a=yn(),a===e&&(a=ds(),a===e&&(a=Kr(),a===e&&(a=Ke(),a===e&&(a=Is(),a===e&&(a=za(),a===e&&(a=qa(),a===e&&(a=Dl(),a===e&&(a=Va(),a===e&&(a=Ll(),a===e&&(a=Fe()))))))))))),k[v]={nextPos:i,result:a},a)}function Fe(){var a,v=i*77+10,b=k[v];return b?(i=b.nextPos,b.result):(a=Hl(),a===e&&(a=Er()),k[v]={nextPos:i,result:a},a)}function Er(){var a,v=i*77+11,b=k[v];return b?(i=b.nextPos,b.result):(a=Wr(),a===e&&(a=Vl(),a===e&&(a=Bl(),a===e&&(a=Ls()))),k[v]={nextPos:i,result:a},a)}function Ls(){var a,v,b,g,n,f,y=i*77+12,h=k[y];if(h)return i=h.nextPos,h.result;if(a=Fn(),a===e&&(a=zl(),a===e&&(a=Ja(),a===e&&(a=na(),a===e&&(a=Rs(),a===e&&(a=vn(),a===e&&(a=Us(),a===e&&(a=gn(),a===e&&(a=jn(),a===e&&(a=Ga(),a===e&&(a=Ul(),a===e&&(a=Ms(),a===e))))))))))))if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=Pa(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function fr(){var a,v=i*77+13,b=k[v];return b?(i=b.nextPos,b.result):(a=vn(),a===e&&(a=Rs(),a===e&&(a=Us(),a===e&&(a=In(),a===e&&(a=Rn(),a===e&&(a=gn()))))),k[v]={nextPos:i,result:a},a)}function yr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+14,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===H?(v=H,i+=2):(v=e,u===0&&E(_n)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(t.charCodeAt(i)===123?(f=B,i++):(f=e,u===0&&E(ot)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=D(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();t.charCodeAt(i)===125?(o=W,i++):(o=e,u===0&&E(nt)),o!==e?(q=a,a=qi(g,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function et(){var a,v,b,g,n,f,y=i*77+15,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=fr(),f!==e?(q=a,a=En(g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ve?(v=ve,i+=3):(v=e,u===0&&E(kr)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();g=fr(),g!==e?(q=a,a=Vi(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function ts(){var a,v,b,g,n,f,y,h,s,o=i*77+16,w=k[o];if(w)return i=w.nextPos,w.result;if(a=i,t.substr(i,3)===ie?(v=ie,i+=3):(v=e,u===0&&E(Et)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Sn(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===G?(v=G,i+=3):(v=e,u===0&&E(gs)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===58?(y=fe,i++):(y=e,u===0&&E(Ye)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Lt(),s!==e?n=s:(i=n,n=e)}else i=n,n=e;for(n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===61?(y=Me,i++):(y=e,u===0&&E(kt)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();s=Fe(),s!==e?(q=a,a=Ki(g,n,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[o]={nextPos:i,result:a},a}function ds(){var a,v,b,g,n=i*77+17,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,2)===K?(v=K,i+=2):(v=e,u===0&&E(Ut)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();g=Fe(),g!==e?(q=a,a=ka(g)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ke(){var a,v,b,g,n,f,y,h=i*77+18,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,2)===Q?(v=Q,i+=2):(v=e,u===0&&E(Bt)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Le(),g!==e){for(n=i,f=[],y=C();y!==e;)f.push(y),y=C();for(y=fr(),y!==e?n=y:(i=n,n=e),n===e&&(n=null),f=[],y=C();y!==e;)f.push(y),y=C();t.charCodeAt(i)===93?(y=X,i++):(y=e,u===0&&E(Mr)),y!==e?(q=a,a=Ji(g,n)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Is(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+19,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();for(t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e)if(t.charCodeAt(i)===41?(p=N,i++):(p=e,u===0&&E(cr)),p!==e){for(m=[],$=C();$!==e;)m.push($),$=C();$=_t(),$!==e?(q=a,a=Wi(y,w,$)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,4)===Z?(v=Z,i+=4):(v=e,u===0&&E(Vn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(o=Fe(),o!==e){if(w=[],p=C(),p!==e)for(;p!==e;)w.push(p),p=C();else w=e;w!==e?(p=_t(),p!==e?(q=a,a=Gi(f,o,p)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function za(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A=i*77+20,S=k[A];if(S)return i=S.nextPos,S.result;if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(t.substr(i,3)===ie?(n=ie,i+=3):(n=e,u===0&&E(Et)),n!==e){if(f=[],y=C(),y!==e)for(;y!==e;)f.push(y),y=C();else f=e;if(f!==e)if(y=Le(),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=i,t.charCodeAt(i)===61?(o=Me,i++):(o=e,u===0&&E(kt)),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();p=Fe(),p!==e?(q=s,s=Zi(y,p)):(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),t.charCodeAt(i)===44?(o=ee,i++):(o=e,u===0&&E(ar)),o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();if(p=Fe(),p!==e)if(t.charCodeAt(i)===41?(m=N,i++):(m=e,u===0&&E(cr)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=_t(),_!==e?(q=a,a=Qi(y,s,p,_)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(t.substr(i,3)===ie?(g=ie,i+=3):(g=e,u===0&&E(Et)),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(h=i,t.charCodeAt(i)===61?(s=Me,i++):(s=e,u===0&&E(kt)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Fe(),w!==e?(q=h,h=Xi(f,w)):(i=h,h=e)}else i=h,h=e;for(h===e&&(h=null),t.charCodeAt(i)===44?(s=ee,i++):(s=e,u===0&&E(ar)),s===e&&(s=null),o=[],w=C();w!==e;)o.push(w),w=C();if(w=Fe(),w!==e){if(p=[],m=C(),m!==e)for(;m!==e;)p.push(m),m=C();else p=e;p!==e?(m=_t(),m!==e?(q=a,a=Yi(f,h,w,m)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===40?(g=T,i++):(g=e,u===0&&E(Ct)),g!==e)if(n=Fe(),n!==e)if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();h=_t(),h!==e?(q=a,a=el(n,h)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ae?(v=ae,i+=3):(v=e,u===0&&E(jr)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;n!==e?(f=_t(),f!==e?(q=a,a=tl(g,f)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e}}return k[A]={nextPos:i,result:a},a}function Kr(){var a,v,b,g,n,f=i*77+21,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,6)===ne?(v=ne,i+=6):(v=e,u===0&&E(Ts)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=Fe(),n!==e?(q=a,a=rl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function qa(){var a,v,b,g,n,f,y,h,s=i*77+22,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===Se?(v=Se,i+=4):(v=e,u===0&&E(St)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=sl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Dl(){var a,v,b,g,n=i*77+23,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ne?(v=Ne,i+=5):(v=e,u===0&&E(Vs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=nl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Va(){var a,v,b,g,n=i*77+24,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,8)===Ce?(v=Ce,i+=8):(v=e,u===0&&E(Fr)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=al()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function Ll(){var a,v,b,g,n,f,y=i*77+25,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.substr(i,2)===st?(g=st,i+=2):(g=e,u===0&&E(Nr)),g===e&&(t.substr(i,2)===ct?(g=ct,i+=2):(g=e,u===0&&E(Ai)),g===e&&(t.charCodeAt(i)===61?(g=Me,i++):(g=e,u===0&&E(kt)))),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();f=Fe(),f!==e?(q=a,a=il(v,g,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Hl(){var a,v,b,g,n,f,y,h,s=i*77+26,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Er(),v!==e){for(b=[],g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e;if(g!==e)for(;g!==e;){for(b.push(g),g=i,n=[],f=pr();f!==e;)n.push(f),f=pr();if(f=ta(),f!==e){for(y=[],h=pr();h!==e;)y.push(h),h=pr();h=Er(),h!==e?(q=g,g=Zn(v,f,h)):(i=g,g=e)}else i=g,g=e}else b=e;b!==e?(q=a,a=ll(v,b)):(i=a,a=e)}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function pr(){var a,v,b,g=i*77+27,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=Ue(),b!==e?(v=[v,b],a=v):(i=a,a=e)):(i=a,a=e),a===e&&(a=we()),k[g]={nextPos:i,result:a},a)}function ta(){var a,v,b=i*77+28,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===yt?(v=yt,i+=2):(v=e,u===0&&E(Ci)),v===e&&(t.substr(i,2)===vt?(v=vt,i+=2):(v=e,u===0&&E(_i)),v===e&&(t.substr(i,2)===Xe?(v=Xe,i+=2):(v=e,u===0&&E($a)),v===e&&(t.substr(i,2)===gt?(v=gt,i+=2):(v=e,u===0&&E(ma)),v===e&&(t.substr(i,2)===Zt?(v=Zt,i+=2):(v=e,u===0&&E(Pi)),v===e&&(t.substr(i,2)===er?(v=er,i+=2):(v=e,u===0&&E(ki)),v===e&&(v=t.charAt(i),lt.test(v)?i++:(v=e,u===0&&E(Mi)))))))),v!==e&&(q=a,v=fl()),a=v,k[b]={nextPos:i,result:a},a)}function Ul(){var a,v,b,g=i*77+29,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===33?(v=ht,i++):(v=e,u===0&&E(Ei)),v!==e?(b=Fe(),b!==e?(q=a,a=ul(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Bl(){var a,v,b,g,n=i*77+30,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=Ls(),v!==e){if(b=[],g=ra(),g===e&&(g=cn(),g===e&&(g=sa())),g!==e)for(;g!==e;)b.push(g),g=ra(),g===e&&(g=cn(),g===e&&(g=sa()));else b=e;b!==e?(q=a,a=ol(v,b)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function ra(){var a,v,b,g,n,f,y=i*77+31,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===40?(v=T,i++):(v=e,u===0&&E(Ct)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Jr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e?(q=a,a=cl(g)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Jr(){var a,v,b,g,n,f,y=i*77+32,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Fe(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Fe(),f!==e?(q=g,g=ln(v,f)):(i=g,g=e)):(i=g,g=e);q=a,a=hl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function cn(){var a,v,b,g,n,f,y=i*77+33,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=Fe(),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Ma(g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function sa(){var a,v,b,g=i*77+34,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===46?(v=Qt,i++):(v=e,u===0&&E(Fs)),v!==e?(b=Le(),b!==e?(q=a,a=pl(b)):(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Wr(){var a,v,b,g,n,f,y,h,s,o,w=i*77+35,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===Pr?(v=Pr,i+=2):(v=e,u===0&&E(Pn)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;if(b!==e)if(g=Fe(),g!==e){if(n=[],f=C(),f!==e)for(;f!==e;)n.push(f),f=C();else n=e;if(n!==e)if(f=_t(),f!==e){if(y=i,h=[],s=C(),s!==e)for(;s!==e;)h.push(s),s=C();else h=e;if(h!==e?(s=Tn(),s!==e?y=s:(i=y,y=e)):(i=y,y=e),y===e&&(y=null),h=i,s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;s!==e?(o=Ka(),o!==e?h=o:(i=h,h=e)):(i=h,h=e),h===e&&(h=null),q=a,a=vl(g,f,y,h)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Tn(){var a,v,b,g,n,f,y=i*77+36,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=tn(),v!==e){for(b=[],g=i,n=[],f=C();f!==e;)n.push(f),f=C();for(f=tn(),f!==e?g=f:(i=g,g=e);g!==e;){for(b.push(g),g=i,n=[],f=C();f!==e;)n.push(f),f=C();f=tn(),f!==e?g=f:(i=g,g=e)}q=a,a=gl(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function tn(){var a,v,b,g,n,f,y,h=i*77+37,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,t.substr(i,4)===Kt?(v=Kt,i+=4):(v=e,u===0&&E(xa)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=_t(),y!==e?(q=a,a=Ea(n,y)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Ka(){var a,v,b,g,n,f=i*77+38,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,t.substr(i,4)===xr?(v=xr,i+=4):(v=e,u===0&&E(Si)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();n=_t(),n!==e?(q=a,a=dl(n)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[f]={nextPos:i,result:a},a}function Fn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+39,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.substr(i,5)===Or?(v=Or,i+=5):(v=e,u===0&&E(ba)),v!==e)if(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();if(n=Fe(),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();if(t.charCodeAt(i)===123?(y=B,i++):(y=e,u===0&&E(ot)),y!==e){for(h=[],s=C();s!==e;)h.push(s),s=C();if(s=[],o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;if(o!==e)for(;o!==e;)if(s.push(o),o=i,w=Fe(),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();q=o,o=fn(n,w,_)}else i=o,o=e}else i=o,o=e}else i=o,o=e;else s=e;if(s!==e){if(o=i,t.charCodeAt(i)===42?(w=Br,i++):(w=e,u===0&&E(Ti)),w!==e){for(p=[],m=C();m!==e;)p.push(m),m=C();if(t.substr(i,2)===Mt?(m=Mt,i+=2):(m=e,u===0&&E(us)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();if(_=_t(),_!==e){for(A=[],S=C();S!==e;)A.push(S),S=C();o=_}else i=o,o=e}else i=o,o=e}else i=o,o=e;for(o===e&&(o=null),w=[],p=C();p!==e;)w.push(p),p=C();t.charCodeAt(i)===125?(p=W,i++):(p=e,u===0&&E(nt)),p!==e?(q=a,a=yl(n,s,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;else i=a,a=e;return k[R]={nextPos:i,result:a},a}function zl(){var a,v,b,g,n,f,y,h,s=i*77+40,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,t.substr(i,4)===sr?(v=sr,i+=4):(v=e,u===0&&E(Fi)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(t.charCodeAt(i)===123?(g=B,i++):(g=e,u===0&&E(ot)),g!==e){for(n=[],f=C();f!==e;)n.push(f),f=C();if(f=qr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();t.charCodeAt(i)===125?(h=W,i++):(h=e,u===0&&E(nt)),h!==e?(q=a,a=wl(f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[s]={nextPos:i,result:a},a}function Ja(){var a,v,b,g,n=i*77+41,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,6)===br?(v=br,i+=6):(v=e,u===0&&E(Ni)),v!==e){if(b=[],g=C(),g!==e)for(;g!==e;)b.push(g),g=C();else b=e;b!==e?(g=Ms(),g!==e?(q=a,a=$l(g)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Ms(){var a,v,b=i*77+42,g=k[b];return g?(i=g.nextPos,g.result):(a=i,v=Jl(),v!==e&&(q=a,v=ml(v)),a=v,k[b]={nextPos:i,result:a},a)}function na(){var a,v,b,g,n,f,y=i*77+43,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===96?(v=J,i++):(v=e,u===0&&E(es)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===96?(f=J,i++):(f=e,u===0&&E(es)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=aa(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===96?(g=J,i++):(g=e,u===0&&E(es)),g!==e?(q=a,a=xl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function aa(){var a,v,b,g,n,f,y=i*77+44,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Fe(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?a=g:(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,v=[],b=Hs(),b!==e)for(;b!==e;)v.push(b),b=Hs();else v=e;v!==e&&(q=a,v=Sa(v)),a=v}return k[y]={nextPos:i,result:a},a}function Hs(){var a,v=i*77+45,b=k[v];return b?(i=b.nextPos,b.result):(a=ql(),a===e&&(a=t.charAt(i),Pt.test(a)?i++:(a=e,u===0&&E(Ns))),k[v]={nextPos:i,result:a},a)}function ql(){var a,v,b,g=i*77+46,n=k[g];return n?(i=n.nextPos,n.result):(a=i,t.charCodeAt(i)===92?(v=rr,i++):(v=e,u===0&&E(Kn)),v!==e?(b=t.charAt(i),dt.test(b)?i++:(b=e,u===0&&E(kn)),b!==e?a=b:(i=a,a=e)):(i=a,a=e),k[g]={nextPos:i,result:a},a)}function Rs(){var a,v,b,g,n,f,y=i*77+47,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===34?(v=re,i++):(v=e,u===0&&E(xs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===34?(f=re,i++):(f=e,u===0&&E(xs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=hn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Qn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===34?(g=re,i++):(g=e,u===0&&E(xs)),g!==e?(q=a,a=Ta(b)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,t.charCodeAt(i)===39?(v=ue,i++):(v=e,u===0&&E(bs)),v!==e){for(b=[],g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=i,u++,t.charCodeAt(i)===39?(f=ue,i++):(f=e,u===0&&E(bs)),u--,f===e?n=void 0:(i=n,n=e),n!==e?(f=pn(),f===e&&(t.length>i?(f=t.charAt(i),i++):(f=e,u===0&&E(Dt))),f!==e?(q=g,g=Xn(f)):(i=g,g=e)):(i=g,g=e);t.charCodeAt(i)===39?(g=ue,i++):(g=e,u===0&&E(bs)),g!==e?(q=a,a=bl(b)):(i=a,a=e)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function hn(){var a,v,b=i*77+48,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===me?(v=me,i+=2):(v=e,u===0&&E(Oi)),v!==e&&(q=a,v=Al()),a=v,k[b]={nextPos:i,result:a},a)}function pn(){var a,v,b=i*77+49,g=k[b];return g?(i=g.nextPos,g.result):(a=i,t.substr(i,2)===he?(v=he,i+=2):(v=e,u===0&&E(Js)),v!==e&&(q=a,v=Fa()),a=v,k[b]={nextPos:i,result:a},a)}function vn(){var a,v=i*77+50,b=k[v];return b?(i=b.nextPos,b.result):(a=rn(),a===e&&(a=Nn()),k[v]={nextPos:i,result:a},a)}function rn(){var a,v,b,g,n,f,y,h=i*77+51,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;if(g!==e)if(t.charCodeAt(i)===46?(n=Qt,i++):(n=e,u===0&&E(Fs)),n!==e){if(f=[],y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt)),y!==e)for(;y!==e;)f.push(y),y=t.charAt(i),at.test(y)?i++:(y=e,u===0&&E(Jt));else f=e;f!==e?(q=a,a=Cl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e)if(t.charCodeAt(i)===46?(g=Qt,i++):(g=e,u===0&&E(Fs)),g!==e){if(n=[],f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt)),f!==e)for(;f!==e;)n.push(f),f=t.charAt(i),at.test(f)?i++:(f=e,u===0&&E(Jt));else n=e;n!==e?(q=a,a=Na()):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return k[h]={nextPos:i,result:a},a}function Nn(){var a,v,b,g,n,f=i*77+52,y=k[f];if(y)return i=y.nextPos,y.result;if(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),At.test(b)?i++:(b=e,u===0&&E(As)),b!==e){if(g=[],n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt)),n!==e)for(;n!==e;)g.push(n),n=t.charAt(i),at.test(n)?i++:(n=e,u===0&&E(Jt));else g=e;g!==e?(q=a,a=Oa()):(i=a,a=e)}else i=a,a=e;return a===e&&(a=i,v=t.charAt(i),wt.test(v)?i++:(v=e,u===0&&E(Ir)),v===e&&(v=null),b=t.charAt(i),at.test(b)?i++:(b=e,u===0&&E(Jt)),b!==e?(q=a,a=_l()):(i=a,a=e)),k[f]={nextPos:i,result:a},a}function Us(){var a,v=i*77+53,b=k[v];return b?(i=b.nextPos,b.result):(a=Wa(),a===e&&(a=On()),k[v]={nextPos:i,result:a},a)}function Wa(){var a,v,b,g,n=i*77+54,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===Te?(v=Te,i+=4):(v=e,u===0&&E(Ws)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=ja()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function On(){var a,v,b,g,n=i*77+55,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,5)===Ie?(v=Ie,i+=5):(v=e,u===0&&E(Gs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=Pl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function gn(){var a,v,b,g,n=i*77+56,f=k[n];return f?(i=f.nextPos,f.result):(a=i,t.substr(i,4)===xe?(v=xe,i+=4):(v=e,u===0&&E(Zs)),v!==e?(b=i,u++,g=t.charAt(i),Ve.test(g)?i++:(g=e,u===0&&E(it)),u--,g===e?b=void 0:(i=b,b=e),b!==e?(q=a,a=kl()):(i=a,a=e)):(i=a,a=e),k[n]={nextPos:i,result:a},a)}function jn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+57,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=Fe(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=Yn(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Ml(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Ga(){var a,v,b,g,n,f,y,h,s,o,w=i*77+58,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Fe(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=ea(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=El(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function sn(){var a,v,b,g,n,f,y,h=i*77+59,s=k[h];if(s)return i=s.nextPos,s.result;if(a=i,v=Le(),v!==e){for(b=i,g=[],n=C();n!==e;)g.push(n),n=C();if(t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e){for(f=[],y=C();y!==e;)f.push(y),y=C();y=Lt(),y!==e?b=y:(i=b,b=e)}else i=b,b=e;b===e&&(b=null),q=a,a=Sl(v,b)}else i=a,a=e;return k[h]={nextPos:i,result:a},a}function dn(){var a,v,b,g,n,f,y=i*77+60,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=sn(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=sn(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Ia(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function yn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_,A,S,R=i*77+61,U=k[R];if(U)return i=U.nextPos,U.result;if(a=i,t.charCodeAt(i)===64?(v=Ee,i++):(v=e,u===0&&E(Qs)),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(g=Le(),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(t.charCodeAt(i)===40?(f=T,i++):(f=e,u===0&&E(Ct)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(h=dn(),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();if(t.charCodeAt(i)===41?(o=N,i++):(o=e,u===0&&E(cr)),o!==e){for(w=i,p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===58?(m=fe,i++):(m=e,u===0&&E(Ye)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();_=Lt(),_!==e?w=_:(i=w,w=e)}else i=w,w=e;for(w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();if(t.charCodeAt(i)===123?(m=B,i++):(m=e,u===0&&E(ot)),m!==e){for($=[],_=C();_!==e;)$.push(_),_=C();for(_=qr(),_===e&&(_=null),A=[],S=C();S!==e;)A.push(S),S=C();t.charCodeAt(i)===125?(S=W,i++):(S=e,u===0&&E(nt)),S!==e?(q=a,a=Tl(b,g,n,h,w,_)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[R]={nextPos:i,result:a},a}function Vl(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$=i*77+62,_=k[$];if(_)return i=_.nextPos,_.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=i,h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===58?(s=fe,i++):(s=e,u===0&&E(Ye)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();w=Lt(),w!==e?y=w:(i=y,y=e)}else i=y,y=e;for(y===e&&(y=null),h=[],s=C();s!==e;)h.push(s),s=C();if(t.charCodeAt(i)===123?(s=B,i++):(s=e,u===0&&E(ot)),s!==e){for(o=[],w=C();w!==e;)o.push(w),w=C();for(w=qr(),w===e&&(w=null),p=[],m=C();m!==e;)p.push(m),m=C();t.charCodeAt(i)===125?(m=W,i++):(m=e,u===0&&E(nt)),m!==e?(q=a,a=Ra(g,y,w)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[$]={nextPos:i,result:a},a}function In(){var a,v,b,g,n,f,y,h,s,o,w=i*77+63,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.charCodeAt(i)===91?(v=_r,i++):(v=e,u===0&&E(Ks)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=fr(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();for(t.charCodeAt(i)===44?(h=ee,i++):(h=e,u===0&&E(ar)),h===e&&(h=null),s=[],o=C();o!==e;)s.push(o),o=C();q=n,n=un(f)}else i=n,n=e;for(n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===93?(f=X,i++):(f=e,u===0&&E(Mr)),f!==e?(q=a,a=Fl(g)):(i=a,a=e)}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Rn(){var a,v,b,g,n,f,y,h,s,o,w,p,m,$,_=i*77+64,A=k[_];if(A)return i=A.nextPos,A.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();if(g=[],n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;for(;n!==e;)if(g.push(n),n=i,f=Le(),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.charCodeAt(i)===58?(h=fe,i++):(h=e,u===0&&E(Ye)),h!==e){if(s=[],o=C(),o!==e)for(;o!==e;)s.push(o),o=C();else s=e;if(s!==e)if(o=fr(),o!==e){for(w=[],p=C();p!==e;)w.push(p),p=C();for(p=t.charAt(i),is.test(p)?i++:(p=e,u===0&&E(Rr)),p===e&&(p=null),m=[],$=C();$!==e;)m.push($),$=C();q=n,n=on(f,o)}else i=n,n=e;else i=n,n=e}else i=n,n=e}else i=n,n=e;t.charCodeAt(i)===125?(n=W,i++):(n=e,u===0&&E(nt)),n!==e?(q=a,a=Nl(g)):(i=a,a=e)}else i=a,a=e;return k[_]={nextPos:i,result:a},a}function Lt(){var a,v=i*77+65,b=k[v];return b?(i=b.nextPos,b.result):(a=Kl(),a===e&&(a=Za()),k[v]={nextPos:i,result:a},a)}function Kl(){var a,v,b,g,n,f,y,h,s,o,w=i*77+66,p=k[w];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,2)===ye?(v=ye,i+=2):(v=e,u===0&&E(Cs)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=Dn(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();if(t.charCodeAt(i)===41?(f=N,i++):(f=e,u===0&&E(cr)),f!==e){for(y=[],h=C();h!==e;)y.push(h),h=C();if(t.substr(i,2)===Mt?(h=Mt,i+=2):(h=e,u===0&&E(us)),h!==e){for(s=[],o=C();o!==e;)s.push(o),o=C();o=Lt(),o!==e?(q=a,a=Ol(g,o)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return k[w]={nextPos:i,result:a},a}function Dn(){var a,v,b,g,n,f,y=i*77+67,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Lt(),v!==e){for(b=[],g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,n=Lr(),n!==e?(f=Lt(),f!==e?g=f:(i=g,g=e)):(i=g,g=e);q=a,a=Da(v,b)}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Za(){var a,v,b,g,n,f,y,h,s=i*77+68,o=k[s];if(o)return i=o.nextPos,o.result;if(a=i,v=Le(),v!==e){for(b=[],g=we();g!==e;)b.push(g),g=we();if(t.charCodeAt(i)===60?(g=Ge,i++):(g=e,u===0&&E(Aa)),g!==e){for(n=[],f=we();f!==e;)n.push(f),f=we();if(f=Lt(),f!==e){for(y=[],h=we();h!==e;)y.push(h),h=we();t.charCodeAt(i)===62?(h=rt,i++):(h=e,u===0&&E(ir)),h!==e?(q=a,a=jl(v,f)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return a===e&&(a=i,v=Le(),v!==e&&(q=a,v=La(v)),a=v),k[s]={nextPos:i,result:a},a}function Le(){var a,v,b,g,n=i*77+69,f=k[n];if(f)return i=f.nextPos,f.result;if(a=i,v=t.charAt(i),ls.test(v)?i++:(v=e,u===0&&E(Ca)),v!==e){for(b=[],g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));g!==e;)b.push(g),g=t.charAt(i),zr.test(g)?i++:(g=e,u===0&&E(hr));q=a,a=Ha()}else i=a,a=e;return k[n]={nextPos:i,result:a},a}function Jl(){var a,v,b,g,n,f,y=i*77+70,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,v=Le(),v!==e){for(b=[],g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);g!==e;)b.push(g),g=i,t.charCodeAt(i)===58?(n=fe,i++):(n=e,u===0&&E(Ye)),n!==e?(f=Le(),f!==e?(n=[n,f],g=n):(i=g,g=e)):(i=g,g=e);q=a,a=Il()}else i=a,a=e;return k[y]={nextPos:i,result:a},a}function Lr(){var a,v,b,g,n,f=i*77+71,y=k[f];if(y)return i=y.nextPos,y.result;for(a=i,v=[],b=C();b!==e;)v.push(b),b=C();if(t.charCodeAt(i)===44?(b=ee,i++):(b=e,u===0&&E(ar)),b!==e){for(g=[],n=C();n!==e;)g.push(n),n=C();v=[v,b,g],a=v}else i=a,a=e;if(a===e)if(a=[],v=C(),v!==e)for(;v!==e;)a.push(v),v=C();else a=e;return k[f]={nextPos:i,result:a},a}function _t(){var a,v,b,g,n,f,y=i*77+72,h=k[y];if(h)return i=h.nextPos,h.result;if(a=i,t.charCodeAt(i)===123?(v=B,i++):(v=e,u===0&&E(ot)),v!==e){for(b=[],g=C();g!==e;)b.push(g),g=C();for(g=qr(),g===e&&(g=null),n=[],f=C();f!==e;)n.push(f),f=C();t.charCodeAt(i)===125?(f=W,i++):(f=e,u===0&&E(nt)),f!==e?(q=a,a=Ua(g)):(i=a,a=e)}else i=a,a=e;return a===e&&(a=Vr()),k[y]={nextPos:i,result:a},a}function Ue(){var a,v=i*77+73,b=k[v];return b?(i=b.nextPos,b.result):(t.substr(i,2)===tt?(a=tt,i+=2):(a=e,u===0&&E(ji)),a===e&&(a=t.charAt(i),bt.test(a)?i++:(a=e,u===0&&E(Xs))),k[v]={nextPos:i,result:a},a)}function ia(){var a,v,b=i*77+74,g=k[b];return g?(i=g.nextPos,g.result):(a=i,u++,t.length>i?(v=t.charAt(i),i++):(v=e,u===0&&E(Dt)),u--,v===e?a=void 0:(i=a,a=e),a===e&&(a=Ue()),k[b]={nextPos:i,result:a},a)}function C(){var a,v=i*77+75,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),Rt.test(a)?i++:(a=e,u===0&&E(Ii)),k[v]={nextPos:i,result:a},a)}function we(){var a,v=i*77+76,b=k[v];return b?(i=b.nextPos,b.result):(a=t.charAt(i),an.test(a)?i++:(a=e,u===0&&E(Os)),k[v]={nextPos:i,result:a},a)}function Y(a,v,b){const g={type:a};v.children=b;for(const f of Object.keys(v))v[f]!==void 0&&(g[f]=v[f]);const n=te();return g.loc={start:n.start.offset,end:n.end.offset-1},g}if(Ar=x(),r.peg$library)return{peg$result:Ar,peg$currPos:i,peg$FAILED:e,peg$maxFailExpected:_s,peg$maxFailPos:Tt};if(Ar!==e&&i===t.length)return Ar;throw Ar!==e&&i<t.length&&E(z()),pe(_s,Tt<t.length?t.charAt(Tt):null,Tt<t.length?le(Tt,Tt+1):le(Tt,Tt))}const _b=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function Pb(t){return _b.includes(t.type)}function F0(t){return"chain"in t&&t.chain!==null}function kb(t,r,e){return{type:"call",target:t,args:r,loc:e}}function Mb(t,r,e){return{type:"index",target:t,index:r,loc:e}}function Eb(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Ot(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Ot(e.expr,r);break}case"return":{e.expr=Ot(e.expr,r);break}case"each":{e.items=Ot(e.items,r),e.for=Ot(e.for,r);break}case"for":{e.from!=null&&(e.from=Ot(e.from,r)),e.to!=null&&(e.to=Ot(e.to,r)),e.times!=null&&(e.times=Ot(e.times,r)),e.for=Ot(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ot(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Ot(e.expr,r),e.dest=Ot(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=Ot(e.operands[l],r);break}case"not":{e.expr=Ot(e.expr,r);break}case"if":{e.cond=Ot(e.cond,r),e.then=Ot(e.then,r);for(const l of e.elseif)l.cond=Ot(l.cond,r),l.then=Ot(l.then,r);e.else!=null&&(e.else=Ot(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=Ot(e.children[l],r);break}case"match":{e.about=Ot(e.about,r);for(const l of e.qs)l.q=Ot(l.q,r),l.a=Ot(l.a,r);e.default!=null&&(e.default=Ot(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ot(e.statements[l],r);break}case"exists":{e.identifier=Ot(e.identifier,r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=Ot(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],Ot(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=Ot(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=Ot(e.args[l],r);break}case"indexChain":{e.index=Ot(e.index,r);break}case"call":{e.target=Ot(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=Ot(e.args[l],r);break}case"index":{e.target=Ot(e.target,r),e.index=Ot(e.index,r);break}case"prop":{e.target=Ot(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=Ot(e.members[l],r);break}case"or":case"and":{e.left=Ot(e.left,r),e.right=Ot(e.right,r);break}}if(F0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=Ot(e.chain[l],r);return e}const ep=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function tp(t){throw new Xu(`Reserved word "${t}" cannot be used as variable name.`)}function Sb(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{ep.includes(t.name)&&tp(t.name);break}case"meta":{t.name!=null&&ep.includes(t.name)&&tp(t.name);break}case"fn":{for(const r of t.args)ep.includes(r.name)&&tp(r.name);break}}return t}function Tb(t){for(const r of t)Ot(r,Sb);return t}function Gg(t){return{type:"simple",name:t}}function Fb(t,r){return{type:"generic",name:t,inners:r}}function Nb(t,r){return{type:"fn",args:t,result:r}}function Rc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Rc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Rc(l)).join(", "),e=Rc(t.result);return`@(${r}) { ${e} }`}}}function _o(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return Gg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=_o(t.inner):r=Gg("any"),Fb(t.name,[r])}}throw new Xu(`Unknown type: '${Rc(t)}'`)}else{const r=t.args.map(e=>_o(e));return Nb(r,_o(t.result))}}function Ob(t){switch(t.type){case"def":{t.varType!=null&&_o(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&_o(r.argType);t.retType!=null&&_o(t.retType);break}}return t}function jb(t){for(const r of t)Ot(r,Ob);return t}function Dc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=Dc(l.expr.children)),r.push(l);else{if(e.length>0)throw new Xu("invalid attribute.");switch(l.type){case"fn":{l.children=Dc(l.children);break}case"block":{l.statements=Dc(l.statements);break}}r.push(l)}if(e.length>0)throw new Xu("invalid attribute.");return r}function Ib(t){if(Pb(t)&&F0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=kb(l,d.args,d.loc);break}case"indexChain":{l=Mb(l,d.index,d.loc);break}case"propChain":{l=Eb(l,d.name,d.loc);break}}return l}return t}function Rb(t){for(let r=0;r<t.length;r++)t[r]=Ot(t[r],Ib);return t}function Lc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function N0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Lc(t,r,e);{const{left:l,right:d,info:x}=t;return Lc(l,N0(d,r,e),x)}}function Su(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Su(t.left),Su(t.right)]}}const Db={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Su(t.left),right:Su(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Su(t.left),right:Su(t.right)}),priority:3}};function Lb(t){const r=t.operators.map(l=>{const d=Db[l];if(d==null)throw new Xu(`No such operator: ${l}.`);return d});let e=Lc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=N0(e,t.operands[2+l],r[1+l]);return Su(e)}function Hb(t){for(let r=0;r<t.length;r++)t[r]=Ot(t[r],e=>e.type==="infix"?Lb(e):e);return t}var Sf;let Ub=(Sf=class{constructor(){be(this,"plugins");this.plugins={validate:[Tb,jb],transform:[Dc,Rb,Hb]}}static parse(r){return Sf.instance==null&&(Sf.instance=new Sf),Sf.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=Wg(r,{startRule:"Preprocess"});e=Wg(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new Xu(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`,l):new Xu(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`,l):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Sf,"instance"),Sf);const Bb="0.18.0",zb={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Kp=[],Bo=null;function qb(t){return Kp=Ub.parse(t),JSON.stringify(Kp,null,"	")}async function Vb(t){Bo==null||Bo.abort(),Bo=new da({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:zp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:zp(e.val,!0),print:!1});break}}});try{await Bo.exec(Kp)}catch(r){t.err(r)}}const Kb=Object.freeze(Object.defineProperty({__proto__:null,exec:Vb,parse:qb,samples:zb,version:Bb},Symbol.toStringTag,{value:"Module"}));function $s(t,r,e){let l=e.value;return{configurable:!0,get(){const d=l.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:d}),d},set(d){l=d}}}let Eh=class O0 extends Error{constructor(e,l){super(e);be(this,"name","AiScript");be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,O0)}},Jb=class extends Eh{constructor(e){super(e.message??`${e}`,e);be(this,"name","Internal")}},Yu=class extends Eh{constructor(e,l){super(e,l);be(this,"name","Syntax")}},Xr=class extends Eh{constructor(e,l){super(e,l);be(this,"name","Runtime")}},Zg=class extends Xr{constructor(r,e){super(r,e)}};var du=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let qf=class j0{constructor(r=[],e,l){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new j0(l,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r).value;return this.log("read",{var:r,val:l}),l}throw new Xr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new Xr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){const x=d.get(r);if(!x.isMutable)throw new Xr(`Cannot assign to an immutable variable ${r}.`);x.value=e,this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new Xr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};du([$s],qf.prototype,"log",null);du([$s],qf.prototype,"onUpdated",null);du([$s],qf.prototype,"createChildScope",null);du([$s],qf.prototype,"get",null);du([$s],qf.prototype,"exists",null);du([$s],qf.prototype,"getAll",null);du([$s],qf.prototype,"add",null);du([$s],qf.prototype,"assign",null);const vr={type:"null"},lf={type:"bool",value:!0},Wl={type:"bool",value:!1},qe=t=>({type:"num",value:t}),$r=t=>({type:"str",value:t}),qu=t=>({type:"bool",value:t}),ch=t=>({type:"obj",value:t}),Ss=t=>({type:"arr",value:t}),Wb=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),$e=t=>({type:"fn",native:t}),Gb=t=>({type:"return",value:t}),Zb=()=>({type:"break",value:null}),Qb=()=>({type:"continue",value:null}),Xb=t=>t.type==="return"?t.value:t,Jp=(t,r)=>({type:"error",value:t,info:r});function Xl(t){if(t==null)throw new Xr("Expect anything, but got nothing.")}function ti(t){if(t==null)throw new Xr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Xr(`Expect boolean, but got ${t.type}.`)}function ru(t){if(t==null)throw new Xr("Expect function, but got nothing.");if(t.type!=="fn")throw new Xr(`Expect function, but got ${t.type}.`)}function Ds(t){if(t==null)throw new Xr("Expect string, but got nothing.");if(t.type!=="str")throw new Xr(`Expect string, but got ${t.type}.`)}function Be(t){if(t==null)throw new Xr("Expect number, but got nothing.");if(t.type!=="num")throw new Xr(`Expect number, but got ${t.type}.`)}function Cf(t){if(t==null)throw new Xr("Expect object, but got nothing.");if(t.type!=="obj")throw new Xr(`Expect object, but got ${t.type}.`)}function Po(t){if(t==null)throw new Xr("Expect array, but got nothing.");if(t.type!=="arr")throw new Xr(`Expect array, but got ${t.type}.`)}function rp(t){return t.type==="obj"}function Qg(t){return t.type==="arr"}function Wp(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function Gp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>Gp(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Zp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Zp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=Zp(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Qp(t){if(t===null)return vr;if(typeof t=="boolean")return qu(t);if(typeof t=="string")return $r(t);if(typeof t=="number")return qe(t);if(Array.isArray(t))return Ss(t.map(r=>Qp(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,Qp(l));return ch(r)}return vr}function ko(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,l=>`\\${l}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const l=[];for(const d of t.value)l.push(ko(d,!0,e));return"[ "+l.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const l=[];for(const[d,x]of t.value)l.push(`${d}: ${ko(x,!0,e)}`);return"{ "+l.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Yb={version:"0.17.0"},e1=Yb.version,t1=new TextEncoder,r1=new TextDecoder,s1={help:$r("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":$r(e1),"Core:ai":$r("kawaii"),"Core:not":$e(([t])=>(ti(t),t.value?Wl:lf)),"Core:eq":$e(([t,r])=>(Xl(t),Xl(r),Wp(t,r)?lf:Wl)),"Core:neq":$e(([t,r])=>(Xl(t),Xl(r),Wp(t,r)?Wl:lf)),"Core:and":$e(([t,r])=>(ti(t),t.value?(ti(r),r.value?lf:Wl):Wl)),"Core:or":$e(([t,r])=>(ti(t),t.value?lf:(ti(r),r.value?lf:Wl))),"Core:add":$e(([t,r])=>(Be(t),Be(r),qe(t.value+r.value))),"Core:sub":$e(([t,r])=>(Be(t),Be(r),qe(t.value-r.value))),"Core:mul":$e(([t,r])=>(Be(t),Be(r),qe(t.value*r.value))),"Core:pow":$e(([t,r])=>{Be(t),Be(r);const e=t.value**r.value;if(isNaN(e))throw new Xr("Invalid operation.");return qe(e)}),"Core:div":$e(([t,r])=>{Be(t),Be(r);const e=t.value/r.value;if(isNaN(e))throw new Xr("Invalid operation.");return qe(e)}),"Core:mod":$e(([t,r])=>(Be(t),Be(r),qe(t.value%r.value))),"Core:gt":$e(([t,r])=>(Be(t),Be(r),t.value>r.value?lf:Wl)),"Core:lt":$e(([t,r])=>(Be(t),Be(r),t.value<r.value?lf:Wl)),"Core:gteq":$e(([t,r])=>(Be(t),Be(r),t.value>=r.value?lf:Wl)),"Core:lteq":$e(([t,r])=>(Be(t),Be(r),t.value<=r.value?lf:Wl)),"Core:type":$e(([t])=>(Xl(t),$r(t.type))),"Core:to_str":$e(([t])=>(Xl(t),$r(ko(t)))),"Core:range":$e(([t,r])=>(Be(t),Be(r),t.value<r.value?Ss(Array.from({length:r.value-t.value+1},(e,l)=>qe(l+t.value))):t.value>r.value?Ss(Array.from({length:t.value-r.value+1},(e,l)=>qe(t.value-l))):Ss([t]))),"Core:sleep":$e(async([t])=>(Be(t),await new Promise(r=>setTimeout(r,t.value)),vr)),"Util:uuid":$e(()=>$r(vc())),"Json:stringify":$e(([t])=>(Xl(t),$r(JSON.stringify(Zp(t))))),"Json:parse":$e(([t])=>{Ds(t);try{return Qp(JSON.parse(t.value))}catch{return Jp("not_json")}}),"Json:parsable":$e(([t])=>{Ds(t);try{JSON.parse(t.value)}catch{return qu(!1)}return qu(!0)}),"Date:now":$e(()=>qe(Date.now())),"Date:year":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":$e(([t])=>(t&&Be(t),qe(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":$e(([t])=>(Ds(t),qe(new Date(t.value).getTime()))),"Math:Infinity":qe(1/0),"Math:E":qe(Math.E),"Math:LN2":qe(Math.LN2),"Math:LN10":qe(Math.LN10),"Math:LOG2E":qe(Math.LOG2E),"Math:LOG10E":qe(Math.LOG10E),"Math:PI":qe(Math.PI),"Math:SQRT1_2":qe(Math.SQRT1_2),"Math:SQRT2":qe(Math.SQRT2),"Math:abs":$e(([t])=>(Be(t),qe(Math.abs(t.value)))),"Math:acos":$e(([t])=>(Be(t),qe(Math.acos(t.value)))),"Math:acosh":$e(([t])=>(Be(t),qe(Math.acosh(t.value)))),"Math:asin":$e(([t])=>(Be(t),qe(Math.asin(t.value)))),"Math:asinh":$e(([t])=>(Be(t),qe(Math.asinh(t.value)))),"Math:atan":$e(([t])=>(Be(t),qe(Math.atan(t.value)))),"Math:atanh":$e(([t])=>(Be(t),qe(Math.atanh(t.value)))),"Math:atan2":$e(([t,r])=>(Be(t),Be(r),qe(Math.atan2(t.value,r.value)))),"Math:cbrt":$e(([t])=>(Be(t),qe(Math.cbrt(t.value)))),"Math:ceil":$e(([t])=>(Be(t),qe(Math.ceil(t.value)))),"Math:clz32":$e(([t])=>(Be(t),qe(Math.clz32(t.value)))),"Math:cos":$e(([t])=>(Be(t),qe(Math.cos(t.value)))),"Math:cosh":$e(([t])=>(Be(t),qe(Math.cosh(t.value)))),"Math:exp":$e(([t])=>(Be(t),qe(Math.exp(t.value)))),"Math:expm1":$e(([t])=>(Be(t),qe(Math.expm1(t.value)))),"Math:floor":$e(([t])=>(Be(t),qe(Math.floor(t.value)))),"Math:fround":$e(([t])=>(Be(t),qe(Math.fround(t.value)))),"Math:hypot":$e(([t])=>{Po(t);const r=[];for(const e of t.value)Be(e),r.push(e.value);return qe(Math.hypot(...r))}),"Math:imul":$e(([t,r])=>(Be(t),Be(r),qe(Math.imul(t.value,r.value)))),"Math:log":$e(([t])=>(Be(t),qe(Math.log(t.value)))),"Math:log1p":$e(([t])=>(Be(t),qe(Math.log1p(t.value)))),"Math:log10":$e(([t])=>(Be(t),qe(Math.log10(t.value)))),"Math:log2":$e(([t])=>(Be(t),qe(Math.log2(t.value)))),"Math:max":$e(([t,r])=>(Be(t),Be(r),qe(Math.max(t.value,r.value)))),"Math:min":$e(([t,r])=>(Be(t),Be(r),qe(Math.min(t.value,r.value)))),"Math:pow":$e(([t,r])=>(Be(t),Be(r),qe(Math.pow(t.value,r.value)))),"Math:round":$e(([t])=>(Be(t),qe(Math.round(t.value)))),"Math:sign":$e(([t])=>(Be(t),qe(Math.sign(t.value)))),"Math:sin":$e(([t])=>(Be(t),qe(Math.sin(t.value)))),"Math:sinh":$e(([t])=>(Be(t),qe(Math.sinh(t.value)))),"Math:sqrt":$e(([t])=>{Be(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Xr("Invalid operation.");return qe(r)}),"Math:tan":$e(([t])=>(Be(t),qe(Math.tan(t.value)))),"Math:tanh":$e(([t])=>(Be(t),qe(Math.tanh(t.value)))),"Math:trunc":$e(([t])=>(Be(t),qe(Math.trunc(t.value)))),"Math:rnd":$e(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?qe(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):qe(Math.random())),"Math:gen_rng":$e(([t])=>{if(Xl(t),t.type!=="num"&&t.type!=="str")return vr;const r=no(t.value.toString());return $e(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?qe(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):qe(r()))}),"Num:to_hex":$e(([t])=>(Be(t),$r(t.value.toString(16)))),"Num:from_hex":$e(([t])=>(Ds(t),qe(parseInt(t.value,16)))),"Str:lf":$r(`
`),"Str:lt":$e(([t,r])=>(Ds(t),Ds(r),t.value<r.value?qe(-1):t.value===r.value?qe(0):qe(1))),"Str:gt":$e(([t,r])=>(Ds(t),Ds(r),t.value>r.value?qe(-1):t.value===r.value?qe(0):qe(1))),"Str:from_codepoint":$e(([t])=>(Be(t),$r(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":$e(([t])=>(Po(t),$r(Array.from(t.value.map(r=>(Be(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":$e(([t])=>(Po(t),$r(r1.decode(Uint8Array.from(t.value.map(r=>(Be(r),r.value))))))),"Obj:keys":$e(([t])=>(Cf(t),Ss(Array.from(t.value.keys()).map(r=>$r(r))))),"Obj:vals":$e(([t])=>(Cf(t),Ss(Array.from(t.value.values())))),"Obj:kvs":$e(([t])=>(Cf(t),Ss(Array.from(t.value.entries()).map(([r,e])=>Ss([$r(r),e]))))),"Obj:get":$e(([t,r])=>(Cf(t),Ds(r),t.value.get(r.value)??vr)),"Obj:set":$e(([t,r,e])=>(Cf(t),Ds(r),Xl(e),t.value.set(r.value,e),vr)),"Obj:has":$e(([t,r])=>(Cf(t),Ds(r),qu(t.value.has(r.value)))),"Obj:copy":$e(([t])=>(Cf(t),ch(new Map(t.value)))),"Obj:merge":$e(([t,r])=>(Cf(t),Cf(r),ch(new Map([...t.value,...r.value])))),"Error:create":$e(([t,r])=>(Ds(t),Jp(t.value,r))),"Async:interval":$e(async([t,r,e],l)=>{Be(t),ru(r),e&&(ti(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.topCall(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),$e(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":$e(async([t,r],e)=>{Be(t),ru(r);const l=setTimeout(()=>{e.topCall(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),$e(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},Xg={num:{to_str:t=>$e(async(r,e)=>$r(t.value.toString()))},str:{to_num:t=>$e(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?vr:qe(l)}),to_arr:t=>$e(async(r,e)=>Ss(Cn(t.value).map(l=>$r(l)))),to_unicode_arr:t=>$e(async(r,e)=>Ss([...t.value].map(l=>$r(l)))),to_unicode_codepoint_arr:t=>$e(async(r,e)=>Ss([...t.value].map(l=>{const d=l.codePointAt(0);return qe(d??l.charCodeAt(0))}))),to_char_arr:t=>$e(async(r,e)=>Ss(t.value.split("").map(l=>$r(l)))),to_charcode_arr:t=>$e(async(r,e)=>Ss(t.value.split("").map(l=>qe(l.charCodeAt(0))))),to_utf8_byte_arr:t=>$e(async(r,e)=>Ss(Array.from(t1.encode(t.value)).map(l=>qe(l)))),len:t=>qe(io(t.value)),replace:t=>$e(async([r,e],l)=>(Ds(r),Ds(e),$r(t.value.split(r.value).join(e.value)))),index_of:t=>$e(async([r],e)=>(Ds(r),qe(fo(t.value,r.value)))),incl:t=>$e(async([r],e)=>(Ds(r),t.value.includes(r.value)?lf:Wl)),trim:t=>$e(async(r,e)=>$r(t.value.trim())),upper:t=>$e(async(r,e)=>$r(t.value.toUpperCase())),lower:t=>$e(async(r,e)=>$r(t.value.toLowerCase())),split:t=>$e(async([r],e)=>(r&&Ds(r),Ss(r?t.value.split(r?r.value:"").map(l=>$r(l)):Cn(t.value).map(l=>$r(l))))),slice:t=>$e(async([r,e],l)=>(Be(r),Be(e),$r(lo(t.value,r.value,e.value)))),pick:t=>$e(async([r],e)=>{Be(r);const d=Cn(t.value)[r.value];return d?$r(d):vr}),charcode_at:t=>$e(([r],e)=>{Be(r);const l=t.value.charCodeAt(r.value);return Number.isNaN(l)?vr:qe(l)}),codepoint_at:t=>$e(([r],e)=>{Be(r);const l=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(l)?vr:qe(l)})},arr:{len:t=>qe(t.value.length),push:t=>$e(async([r],e)=>(Xl(r),t.value.push(r),t)),unshift:t=>$e(async([r],e)=>(Xl(r),t.value.unshift(r),t)),pop:t=>$e(async(r,e)=>t.value.pop()??vr),shift:t=>$e(async(r,e)=>t.value.shift()??vr),concat:t=>$e(async([r],e)=>(Po(r),Ss(t.value.concat(r.value)))),slice:t=>$e(async([r,e],l)=>(Be(r),Be(e),Ss(t.value.slice(r.value,e.value)))),join:t=>$e(async([r],e)=>(r&&Ds(r),$r(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>$e(async([r],e)=>{ru(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,qe(x)]));return Ss(await Promise.all(l))}),filter:t=>$e(async([r],e)=>{ru(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,qe(d)]);ti(P),P.value&&l.push(x)}return Ss(l)}),reduce:t=>$e(async([r,e],l)=>{ru(r);const d=e!=null;let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,qe(P)])}return x}),find:t=>$e(async([r],e)=>{ru(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,qe(l)]);if(ti(x),x.value)return d}return vr}),incl:t=>$e(async([r],e)=>(Xl(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Wl:(d=>d.value.map(x=>x.type==="str"||x.type==="num"||x.type==="bool"?x.value:x.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?lf:Wl)),reverse:t=>$e(async(r,e)=>(t.value.reverse(),vr)),copy:t=>$e(async(r,e)=>Ss([...t.value])),sort:t=>$e(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=await l(x.slice(0,M),P),T=await l(x.slice(M),P);return d(F,T,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);Be(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return ru(r),Po(t),t.value=await l(t.value,r),t})},error:{name:t=>$r(t.value),info:t=>t.info??vr}};function n1(t,r){if(Object.hasOwn(Xg,t.type)){const e=Xg[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Xr(`No such prop (${r}) in ${t.type}.`)}else throw new Xr(`Cannot read prop of ${t.type}. (reading ${r})`)}const a1={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var ui=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const I0=300,i1=I0-1;let ya=class{constructor(r,e={}){be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);be(this,"vars",{});this.opts=e;const l={print:$e(([d])=>{Xl(d),this.opts.out&&this.opts.out(d)}),readline:$e(async d=>{const x=d[0];if(Ds(x),this.opts.in==null)return vr;const P=await this.opts.in(x.value);return $r(P)})};this.vars=Object.fromEntries(Object.entries({...r,...s1,...l}).map(([d,x])=>[d,a1.const(x)])),this.scope=new qf([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(l=>(this.handleError(l),Jp("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof Eh?this.opts.err(r):this.opts.err(new Jb(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const l of r.members)switch(l.type){case"def":{if(l.mut)throw new Error("Namespaces cannot include mutable variable: "+l.name);const d={isMutable:l.mut,value:await this._eval(l.expr,e)};e.add(l.name,d),this.scope.add(r.name+":"+l.name,d);break}case"ns":break;default:throw new Error("invalid ns member type: "+l.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??vr;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],{isMutable:!0,value:e[x]});const d=r.scope.createChildScope(l);return Xb(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return vr;if(this.stepCount%I0===i1&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Xr("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);ru(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(ti(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(ti(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return vr}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(Wp(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):vr}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return vr}case"for":{if(r.times){const l=await this._eval(r.times,e);Be(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);Be(l),Be(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:qe(x)}]])));if(P.type==="break")break;if(P.type==="return")return P}}return vr}case"each":{const l=await this._eval(r.items,e);Po(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:d}]])));if(x.type==="break")break;if(x.type==="return")return x}return vr}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,{isMutable:r.mut,value:l}),vr}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),vr}case"addAssign":{const l=await this._eval(r.dest,e);Be(l);const d=await this._eval(r.expr,e);return Be(d),await this.assign(e,r.dest,qe(l.value+d.value)),vr}case"subAssign":{const l=await this._eval(r.dest,e);Be(l);const d=await this._eval(r.expr,e);return Be(d),await this.assign(e,r.dest,qe(l.value-d.value)),vr}case"null":return vr;case"bool":return qu(r.value);case"num":return qe(r.value);case"str":return $r(r.value);case"arr":return Ss(await Promise.all(r.value.map(l=>this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return ch(l)}case"prop":{const l=await this._eval(r.target,e);return rp(l)?l.value.has(r.name)?l.value.get(r.name):vr:n1(l,r.name)}case"index":{const l=await this._eval(r.target,e),d=await this._eval(r.index,e);if(Qg(l)){Be(d);const x=l.value[d.value];if(x===void 0)throw new Zg(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}else{if(rp(l))return Ds(d),l.value.has(d.value)?l.value.get(d.value):vr;throw new Xr(`Cannot read prop (${ko(d)}) of ${l.type}.`)}}case"not":{const l=await this._eval(r.expr,e);return ti(l),qu(!l.value)}case"fn":return Wb(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return qu(e.exists(r.identifier.name));case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);l+=ko(x)}return $r(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),Gb(l)}case"break":return this.log("block:break",{scope:e.name}),Zb();case"continue":return this.log("block:continue",{scope:e.name}),Qb();case"ns":return vr;case"meta":return vr;case"and":{const l=await this._eval(r.left,e);if(ti(l),l.value){const d=await this._eval(r.right,e);return ti(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(ti(l),l.value)return l;{const d=await this._eval(r.right,e);return ti(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=vr;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r),x=await this._eval(e.index,r);if(Qg(d)){if(Be(x),d.value[x.value]===void 0)throw new Zg(`Index out of range. index: ${x.value} max: ${d.value.length-1}`);d.value[x.value]=l}else if(rp(d))Ds(x),d.value.set(x.value,l);else throw new Xr(`Cannot read prop (${ko(x)}) of ${d.type}.`)}else if(e.type==="prop"){const d=await this._eval(e.target,r);Cf(d),d.value.set(e.name,l)}else throw new Xr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};ui([$s],ya.prototype,"exec",null);ui([$s],ya.prototype,"execFn",null);ui([$s],ya.prototype,"execFnSimple",null);ui([$s],ya.prototype,"handleError",null);ui([$s],ya.prototype,"log",null);ui([$s],ya.prototype,"collectNs",null);ui([$s],ya.prototype,"collectNsMember",null);ui([$s],ya.prototype,"_fn",null);ui([$s],ya.prototype,"_eval",null);ui([$s],ya.prototype,"_run",null);ui([$s],ya.prototype,"registerAbortHandler",null);ui([$s],ya.prototype,"unregisterAbortHandler",null);ui([$s],ya.prototype,"abort",null);ui([$s],ya.prototype,"assign",null);ui([$s],ya,"collectMetadata",null);function l1(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Vu(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Vu.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}l1(Vu,Error);function sp(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Vu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=sp("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+sp("",d.column-1," ")+sp("",H,"^")}else r+=`
 at `+P}return r};Vu.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function Yg(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:js,Main:Er},x=js,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="<",_r=">",Qt="+",Pr="-",Kt="*",xr="^",Or="/",Mt="%",Br="!",sr="[",br=".",J="if",re="elif",ue="else",me="match",he="=>",Te="eval",Ie="exists",xe="`",Ee='"',ye="'",Ge='\\"',rt="\\'",tt="true",Ve="false",lt="null",Pt=";",dt="@",wt="@(",At=`\r
`,at=/^[A-Z0-9_:]/i,is=/^[^`{]/,ls=/^[{}`]/,zr=/^[+\-]/,bt=/^[1-9]/,Rt=/^[0-9]/,an=/^[A-Z_]/i,Dt=/^[A-Z0-9_]/i,xi=/^[\r\n]/,bi=/^[ \t\r\n]/,nr=/^[ \t]/,Ct=ks(),cr=pe("//",!1),_n=pe("/*",!1),ot=pe("*/",!1),nt=pe("(",!1),kr=pe(")",!1),Et=pe("::",!1),Ye=pe("{",!1),kt=pe("}",!1),gs=pe("###",!1),Ut=pe("let",!1),Bt=pe(":",!1),Mr=pe("=",!1),Vn=pe("var",!1),ar=pe("<:",!1),jr=pe("#[",!1),Ts=pe("]",!1),it=pe("each",!1),St=pe(",",!1),Vs=pe("for",!1),Fr=pe("return",!1),Nr=tr([["A","Z"],["0","9"],"_",":"],!1,!0),Ai=pe("loop",!1),Kn=pe("break",!1),Ci=pe("continue",!1),_i=pe("+=",!1),$a=pe("-=",!1),ma=pe("\\",!1),Pi=pe("||",!1),ki=pe("&&",!1),Mi=pe("==",!1),Ei=pe("!=",!1),Ks=pe("<=",!1),Fs=pe(">=",!1),Pn=pe("<",!1),xa=pe(">",!1),Si=pe("+",!1),ba=pe("-",!1),us=pe("*",!1),Ti=pe("^",!1),Fi=pe("/",!1),Ni=pe("%",!1),es=pe("!",!1),Ns=pe("[",!1),kn=pe(".",!1),xs=pe("if",!1),bs=pe("elif",!1),Oi=pe("else",!1),Js=pe("match",!1),Ir=pe("=>",!1),As=pe("eval",!1),Jt=pe("exists",!1),Ws=pe("`",!1),Gs=tr(["`","{"],!0,!1),Zs=tr(["{","}","`"],!1,!1),Rr=pe('"',!1),Qs=pe("'",!1),Cs=pe('\\"',!1),Aa=pe("\\'",!1),ir=tr(["+","-"],!1,!1),Ca=tr([["1","9"]],!1,!1),hr=tr([["0","9"]],!1,!1),ji=pe("true",!1),Xs=pe("false",!1),Ii=pe("null",!1),Os=pe(";",!1),Ri=pe("@",!1),Mn=pe("@(",!1),Di=tr([["A","Z"],"_"],!1,!0),_a=tr([["A","Z"],["0","9"],"_"],!1,!0),Li=pe(`\r
`,!1),Hi=tr(["\r",`
`],!1,!1),Jn=tr([" ","	","\r",`
`],!1,!1),Ui=tr([" ","	"],!1,!1),Wn=function(s){return s.join("")},Bi=function(){return le()},Gn=function(){return le()},zi=function(){return""},Pa=function(){return""},qi=function(s){return s??[]},En=function(s,o){return o},Vi=function(s,o){return[s,...o]},Sn=function(s,o){return o},Ki=function(s,o){return[s,...o]},ka=function(s,o){return o},Ji=function(s,o){return[s,...o]},Wi=function(s){return s},Gi=function(s,o){return h("ns",{name:s,members:o})},Zi=function(s,o){return h("meta",{name:s,value:o})},Qi=function(s){return h("meta",{name:null,value:s})},Xi=function(s,o,w){return h("def",{name:s,varType:o,expr:w,mut:!1,attr:[]})},Yi=function(s,o,w){return h("def",{name:s,varType:o,expr:w,mut:!0,attr:[]})},el=function(s){return h("identifier",{name:"print",chain:[h("callChain",{args:[s]})]})},tl=function(s,o){return h("attr",{name:s,value:o??h("bool",{value:!0})})},rl=function(s,o,w){return h("each",{var:s,items:o,for:w})},sl=function(s,o,w){return h("each",{var:s,items:o,for:w})},nl=function(s,o){return o},al=function(s,o,w,p){return h("for",{var:s,from:o??h("num",{value:0}),to:w,for:p})},il=function(s,o){return o},Zn=function(s,o,w,p){return h("for",{var:s,from:o??h("num",{value:0}),to:w,for:p})},ll=function(s,o){return h("for",{times:s,for:o})},fl=function(s,o){return h("for",{times:s,for:o})},ul=function(s){return h("return",{expr:s})},ol=function(s){return h("loop",{statements:s})},cl=function(){return h("break",{})},ln=function(){return h("continue",{})},hl=function(s,o,w){return o==="+="?h("addAssign",{dest:s,expr:w}):o==="-="?h("subAssign",{dest:s,expr:w}):h("assign",{dest:s,expr:w})},Ma=function(s,o,w){return{op:o,term:w}},pl=function(s,o){return h("infix",{operands:[s,...o.map(w=>w.term)],operators:o.map(w=>w.op)})},vl=function(){return le()},gl=function(s){return h("not",{expr:s})},Ea=function(s,o){return s.chain?{...s,chain:[...s.chain,...o]}:{...s,chain:o}},dl=function(s){return h("callChain",{args:s??[]})},fn=function(s,o){return o},yl=function(s,o){return[s,...o]},wl=function(s){return h("indexChain",{index:s})},$l=function(s){return h("propChain",{name:s})},ml=function(s,o,w,p){return h("if",{cond:s,then:o,elseif:w??[],else:p})},xl=function(s,o){return[s,...o]},Sa=function(s,o){return{cond:s,then:o}},Qn=function(s){return s},Ta=function(s,o,w){return{q:o,a:w}},Xn=function(s,o,w){return h("match",{about:s,qs:o??[],default:w})},bl=function(s){return h("block",{statements:s})},Al=function(s){return h("exists",{identifier:s})},Fa=function(s){return h("identifier",{name:s})},Cl=function(s){return h("tmpl",{tmpl:s})},Na=function(s){return s.join("")},Oa=function(s){return s},_l=function(s){return h("str",{value:s.join("")})},ja=function(s){return s},Pl=function(s){return h("str",{value:s.join("")})},kl=function(){return'"'},Yn=function(){return"'"},Ml=function(){return h("num",{value:parseFloat(le())})},ea=function(){return h("num",{value:parseFloat(le())})},El=function(){return h("num",{value:parseInt(le(),10)})},Sl=function(){return h("num",{value:parseInt(le(),10)})},Ia=function(){return h("bool",{value:!0})},Tl=function(){return h("bool",{value:!1})},Ra=function(){return h("null",{})},un=function(s,o){return{k:s,v:o}},Fl=function(s){const o=new Map;for(const w of s)o.set(w.k,w.v);return h("obj",{value:o})},on=function(s){return s},Nl=function(s){return h("arr",{value:s})},Ol=function(s,o){return{name:s,argType:o}},Da=function(s,o){return[s,...o]},jl=function(s,o,w,p,m,$){return(s.length>0||w.length>0)&&Rl("Cannot use spaces before or after the function name."),h("def",{name:o,expr:h("fn",{args:p??[],retType:m},$??[]),mut:!1,attr:[]})},La=function(s,o,w){return h("fn",{args:s??[],retType:o},w??[])},Ha=function(s){return s},Il=function(s){return h("arr",{value:s})},Ua=function(s,o){return{k:s,v:o}},i=function(s){const o=new Map;for(const w of s)o.set(w.k,w.v);return h("obj",{value:o})},q=function(s,o){return h("fnTypeSource",{args:s??[],result:o})},Dr=function(s,o){return[s,...o]},Tt=function(s,o){return h("namedTypeSource",{name:s,inner:o})},_s=function(s){return h("namedTypeSource",{name:s,inner:null})},u=function(){return le()},k=function(){return le()},Ar=function(s){return h("block",{statements:s??[]})},c=0,te=0,I=[{line:1,column:1}],j=0,ft=[],O=0,z={},Ps;if("startRule"in r){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function le(){return t.substring(te,c)}function E(){return Ys(te,c)}function Rl(s,o){throw o=o!==void 0?o:Ys(te,c),qr(s,o)}function pe(s,o){return{type:"literal",text:s,ignoreCase:o}}function tr(s,o,w){return{type:"class",parts:s,inverted:o,ignoreCase:w}}function ks(){return{type:"any"}}function L(){return{type:"end"}}function Ba(s){var o=I[s],w;if(o)return o;for(w=s-1;!I[w];)w--;for(o=I[w],o={line:o.line,column:o.column};w<s;)t.charCodeAt(w)===10?(o.line++,o.column=1):o.column++,w++;return I[s]=o,o}function Ys(s,o,w){var p=Ba(s),m=Ba(o),$={source:l,start:{offset:s,line:p.line,column:p.column},end:{offset:o,line:m.line,column:m.column}};return $}function D(s){c<j||(c>j&&(j=c,ft=[]),ft.push(s))}function qr(s,o){return new Vu(s,null,null,o)}function en(s,o,w){return new Vu(Vu.buildMessage(s,o),s,o,w)}function js(){var s,o,w,p=c*77+0,m=z[p];if(m)return c=m.nextPos,m.result;for(s=c,o=[],w=Vr();w!==e;)o.push(w),w=Vr();return te=s,o=Wn(o),s=o,z[p]={nextPos:c,result:s},s}function Vr(){var s,o,w=c*77+1,p=z[w];return p?(c=p.nextPos,p.result):(s=c,o=rn(),o!==e&&(te=s,o=Bi()),s=o,s===e&&(s=c,o=On(),o!==e&&(te=s,o=Gn()),s=o,s===e&&(s=Fe(),s===e&&(t.length>c?(s=t.charAt(c),c++):(s=e,O===0&&D(Ct))))),z[w]={nextPos:c,result:s},s)}function Fe(){var s,o,w,p,m,$,_=c*77+2,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.substr(c,2)===P?(o=P,c+=2):(o=e,O===0&&D(cr)),o!==e){for(w=[],p=c,m=c,O++,$=n(),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,$=n(),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);te=s,s=zi()}else c=s,s=e;if(s===e)if(s=c,t.substr(c,2)===M?(o=M,c+=2):(o=e,O===0&&D(_n)),o!==e){for(w=[],p=c,m=c,O++,t.substr(c,2)===F?($=F,c+=2):($=e,O===0&&D(ot)),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.substr(c,2)===F?($=F,c+=2):($=e,O===0&&D(ot)),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);t.substr(c,2)===F?(p=F,c+=2):(p=e,O===0&&D(ot)),p!==e?(te=s,s=Pa()):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Er(){var s,o,w,p,m,$=c*77+3,_=z[$];if(_)return c=_.nextPos,_.result;for(s=c,o=[],w=f();w!==e;)o.push(w),w=f();for(w=Ls(),w===e&&(w=null),p=[],m=f();m!==e;)p.push(m),m=f();return te=s,s=qi(w),z[$]={nextPos:c,result:s},s}function Ls(){var s,o,w,p,m,$,_,A,S=c*77+4,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=et(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=et(),A!==e?(te=p,p=En(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=et(),A!==e?(te=p,p=En(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Vi(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function fr(){var s,o,w,p,m,$,_,A,S=c*77+5,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=ts(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ts(),A!==e?(te=p,p=Sn(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ts(),A!==e?(te=p,p=Sn(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Ki(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function yr(){var s,o,w,p,m,$,_,A,S=c*77+6,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=ds(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ds(),A!==e?(te=p,p=ka(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ds(),A!==e?(te=p,p=ka(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Ji(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function et(){var s,o=c*77+7,w=z[o];return w?(c=w.nextPos,w.result):(s=qa(),s===e&&(s=Dl(),s===e&&(s=ds())),z[o]={nextPos:c,result:s},s)}function ts(){var s,o=c*77+8,w=z[o];return w?(c=w.nextPos,w.result):(s=Va(),s===e&&(s=Le(),s===e&&(s=qa())),z[o]={nextPos:c,result:s},s)}function ds(){var s,o=c*77+9,w=z[o];return w?(c=w.nextPos,w.result):(s=Va(),s===e&&(s=Le(),s===e&&(s=Ll(),s===e&&(s=Ul(),s===e&&(s=Hl(),s===e&&(s=pr(),s===e&&(s=ta(),s===e&&(s=Bl(),s===e&&(s=ra(),s===e&&(s=Jr(),s===e&&(s=cn(),s===e&&(s=Ke()))))))))))),z[o]={nextPos:c,result:s},s)}function Ke(){var s,o=c*77+10,w=z[o];return w?(c=w.nextPos,w.result):(s=sa(),s===e&&(s=Is()),z[o]={nextPos:c,result:s},s)}function Is(){var s,o=c*77+11,w=z[o];return w?(c=w.nextPos,w.result):(s=na(),s===e&&(s=Jl(),s===e&&(s=Ka(),s===e&&(s=za()))),z[o]={nextPos:c,result:s},s)}function za(){var s,o,w,p,m,$,_=c*77+12,A=z[_];if(A)return c=A.nextPos,A.result;if(s=Rs(),s===e&&(s=hn(),s===e&&(s=pn(),s===e&&(s=rn(),s===e&&(s=On(),s===e&&(s=Ga(),s===e&&(s=yn(),s===e&&(s=Rn(),s===e&&(s=Lt(),s===e&&(s=Kl(),s===e&&(s=tn(),s===e&&(s=vn(),s===e))))))))))))if(s=c,t.charCodeAt(c)===40?(o=T,c++):(o=e,O===0&&D(nt)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Ke(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e?(te=s,s=Wi(p)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Kr(){var s,o=c*77+13,w=z[o];return w?(c=w.nextPos,w.result):(s=Ga(),s===e&&(s=On(),s===e&&(s=yn(),s===e&&(s=Lr(),s===e&&(s=_t(),s===e&&(s=Rn()))))),z[o]={nextPos:c,result:s},s)}function qa(){var s,o,w,p,m,$,_,A,S,R,U=c*77+14,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===H?(o=H,c+=2):(o=e,O===0&&D(Et)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if(t.charCodeAt(c)===123?($=B,c++):($=e,O===0&&D(Ye)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(A=fr(),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();t.charCodeAt(c)===125?(R=W,c++):(R=e,O===0&&D(kt)),R!==e?(te=s,s=Gi(p,A)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function Dl(){var s,o,w,p,m,$,_=c*77+15,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.substr(c,3)===ve?(o=ve,c+=3):(o=e,O===0&&D(gs)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Y(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();$=Kr(),$!==e?(te=s,s=Zi(p,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===ve?(o=ve,c+=3):(o=e,O===0&&D(gs)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();p=Kr(),p!==e?(te=s,s=Qi(p)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Va(){var s,o,w,p,m,$,_,A,S,R=c*77+16,U=z[R];if(U)return c=U.nextPos,U.result;if(s=c,t.substr(c,3)===ie?(o=ie,c+=3):(o=e,O===0&&D(Ut)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===58?(_=fe,c++):(_=e,O===0&&D(Bt)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ue(),S!==e?m=S:(c=m,m=e)}else c=m,m=e;for(m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===61?(_=Me,c++):(_=e,O===0&&D(Mr)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ke(),S!==e?(te=s,s=Xi(p,m,S)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===G?(o=G,c+=3):(o=e,O===0&&D(Vn)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===58?(_=fe,c++):(_=e,O===0&&D(Bt)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ue(),S!==e?m=S:(c=m,m=e)}else c=m,m=e;for(m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===61?(_=Me,c++):(_=e,O===0&&D(Mr)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ke(),S!==e?(te=s,s=Yi(p,m,S)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[R]={nextPos:c,result:s},s}function Ll(){var s,o,w,p,m=c*77+17,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,t.substr(c,2)===K?(o=K,c+=2):(o=e,O===0&&D(ar)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();p=Ke(),p!==e?(te=s,s=el(p)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function Hl(){var s,o,w,p,m,$,_,A=c*77+18,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,t.substr(c,2)===Q?(o=Q,c+=2):(o=e,O===0&&D(jr)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();for(_=Kr(),_!==e?m=_:(c=m,m=e),m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();t.charCodeAt(c)===93?(_=X,c++):(_=e,O===0&&D(Ts)),_!==e?(te=s,s=tl(p,m)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[A]={nextPos:c,result:s},s}function pr(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+19,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.substr(c,4)===Z?(o=Z,c+=4):(o=e,O===0&&D(it)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(t.substr(c,3)===ie?(m=ie,c+=3):(m=e,O===0&&D(Ut)),m!==e){if($=[],_=f(),_!==e)for(;_!==e;)$.push(_),_=f();else $=e;if($!==e)if(_=Y(),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();for(t.charCodeAt(c)===44?(S=ee,c++):(S=e,O===0&&D(St)),S===e&&(S=null),R=[],U=f();U!==e;)R.push(U),U=f();if(U=Ke(),U!==e)if(t.charCodeAt(c)===41?(V=N,c++):(V=e,O===0&&D(kr)),V!==e){for(se=[],je=f();je!==e;)se.push(je),je=f();je=b(),je!==e?(te=s,s=rl(_,U,je)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,4)===Z?(o=Z,c+=4):(o=e,O===0&&D(it)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(t.substr(c,3)===ie?(p=ie,c+=3):(p=e,O===0&&D(Ut)),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();if(R=Ke(),R!==e){if(U=[],V=f(),V!==e)for(;V!==e;)U.push(V),V=f();else U=e;U!==e?(V=b(),V!==e?(te=s,s=sl($,R,V)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function ta(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t=c*77+20,mt=z[$t];if(mt)return c=mt.nextPos,mt.result;if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(t.substr(c,3)===ie?(m=ie,c+=3):(m=e,O===0&&D(Ut)),m!==e){if($=[],_=f(),_!==e)for(;_!==e;)$.push(_),_=f();else $=e;if($!==e)if(_=Y(),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();if(S=c,t.charCodeAt(c)===61?(R=Me,c++):(R=e,O===0&&D(Mr)),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();V=Ke(),V!==e?(te=S,S=nl(_,V)):(c=S,S=e)}else c=S,S=e;for(S===e&&(S=null),t.charCodeAt(c)===44?(R=ee,c++):(R=e,O===0&&D(St)),R===e&&(R=null),U=[],V=f();V!==e;)U.push(V),V=f();if(V=Ke(),V!==e)if(t.charCodeAt(c)===41?(se=N,c++):(se=e,O===0&&D(kr)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();ge=b(),ge!==e?(te=s,s=al(_,S,V,ge)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(t.substr(c,3)===ie?(p=ie,c+=3):(p=e,O===0&&D(Ut)),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(A=c,t.charCodeAt(c)===61?(S=Me,c++):(S=e,O===0&&D(Mr)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();U=Ke(),U!==e?(te=A,A=il($,U)):(c=A,A=e)}else c=A,A=e;for(A===e&&(A=null),t.charCodeAt(c)===44?(S=ee,c++):(S=e,O===0&&D(St)),S===e&&(S=null),R=[],U=f();U!==e;)R.push(U),U=f();if(U=Ke(),U!==e){if(V=[],se=f(),se!==e)for(;se!==e;)V.push(se),se=f();else V=e;V!==e?(se=b(),se!==e?(te=s,s=Zn($,A,U,se)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(m=Ke(),m!==e)if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=b(),A!==e?(te=s,s=ll(m,A)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Ke(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;m!==e?($=b(),$!==e?(te=s,s=fl(p,$)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e}}return z[$t]={nextPos:c,result:s},s}function Ul(){var s,o,w,p,m,$=c*77+21,_=z[$];if(_)return c=_.nextPos,_.result;if(s=c,t.substr(c,6)===ne?(o=ne,c+=6):(o=e,O===0&&D(Fr)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();m=Ke(),m!==e?(te=s,s=ul(m)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[$]={nextPos:c,result:s},s}function Bl(){var s,o,w,p,m,$,_,A,S=c*77+22,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,t.substr(c,4)===Se?(o=Se,c+=4):(o=e,O===0&&D(Ai)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===123?(p=B,c++):(p=e,O===0&&D(Ye)),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();if($=yr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();t.charCodeAt(c)===125?(A=W,c++):(A=e,O===0&&D(kt)),A!==e?(te=s,s=ol($)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function ra(){var s,o,w,p,m=c*77+23,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,5)===Ne?(o=Ne,c+=5):(o=e,O===0&&D(Kn)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=cl()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Jr(){var s,o,w,p,m=c*77+24,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,8)===Ce?(o=Ce,c+=8):(o=e,O===0&&D(Ci)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=ln()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function cn(){var s,o,w,p,m,$,_=c*77+25,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ke(),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.substr(c,2)===st?(p=st,c+=2):(p=e,O===0&&D(_i)),p===e&&(t.substr(c,2)===ct?(p=ct,c+=2):(p=e,O===0&&D($a)),p===e&&(t.charCodeAt(c)===61?(p=Me,c++):(p=e,O===0&&D(Mr)))),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();$=Ke(),$!==e?(te=s,s=hl(o,p,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function sa(){var s,o,w,p,m,$,_,A,S=c*77+26,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=Is(),o!==e){for(w=[],p=c,m=[],$=Wr();$!==e;)m.push($),$=Wr();if($=Tn(),$!==e){for(_=[],A=Wr();A!==e;)_.push(A),A=Wr();A=Is(),A!==e?(te=p,p=Ma(o,$,A)):(c=p,p=e)}else c=p,p=e;if(p!==e)for(;p!==e;){for(w.push(p),p=c,m=[],$=Wr();$!==e;)m.push($),$=Wr();if($=Tn(),$!==e){for(_=[],A=Wr();A!==e;)_.push(A),A=Wr();A=Is(),A!==e?(te=p,p=Ma(o,$,A)):(c=p,p=e)}else c=p,p=e}else w=e;w!==e?(te=s,s=pl(o,w)):(c=s,s=e)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function Wr(){var s,o,w,p=c*77+27,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===92?(o=rr,c++):(o=e,O===0&&D(ma)),o!==e?(w=g(),w!==e?(o=[o,w],s=o):(c=s,s=e)):(c=s,s=e),s===e&&(s=y()),z[p]={nextPos:c,result:s},s)}function Tn(){var s,o,w=c*77+28,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===yt?(o=yt,c+=2):(o=e,O===0&&D(Pi)),o===e&&(t.substr(c,2)===vt?(o=vt,c+=2):(o=e,O===0&&D(ki)),o===e&&(t.substr(c,2)===Xe?(o=Xe,c+=2):(o=e,O===0&&D(Mi)),o===e&&(t.substr(c,2)===gt?(o=gt,c+=2):(o=e,O===0&&D(Ei)),o===e&&(t.substr(c,2)===Zt?(o=Zt,c+=2):(o=e,O===0&&D(Ks)),o===e&&(t.substr(c,2)===er?(o=er,c+=2):(o=e,O===0&&D(Fs)),o===e&&(t.charCodeAt(c)===60?(o=ht,c++):(o=e,O===0&&D(Pn)),o===e&&(t.charCodeAt(c)===62?(o=_r,c++):(o=e,O===0&&D(xa)),o===e&&(t.charCodeAt(c)===43?(o=Qt,c++):(o=e,O===0&&D(Si)),o===e&&(t.charCodeAt(c)===45?(o=Pr,c++):(o=e,O===0&&D(ba)),o===e&&(t.charCodeAt(c)===42?(o=Kt,c++):(o=e,O===0&&D(us)),o===e&&(t.charCodeAt(c)===94?(o=xr,c++):(o=e,O===0&&D(Ti)),o===e&&(t.charCodeAt(c)===47?(o=Or,c++):(o=e,O===0&&D(Fi)),o===e&&(t.charCodeAt(c)===37?(o=Mt,c++):(o=e,O===0&&D(Ni))))))))))))))),o!==e&&(te=s,o=vl()),s=o,z[w]={nextPos:c,result:s},s)}function tn(){var s,o,w,p=c*77+29,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===33?(o=Br,c++):(o=e,O===0&&D(es)),o!==e?(w=Ke(),w!==e?(te=s,s=gl(w)):(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function Ka(){var s,o,w,p,m=c*77+30,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,o=za(),o!==e){if(w=[],p=Fn(),p===e&&(p=Ja(),p===e&&(p=Ms())),p!==e)for(;p!==e;)w.push(p),p=Fn(),p===e&&(p=Ja(),p===e&&(p=Ms()));else w=e;w!==e?(te=s,s=Ea(o,w)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function Fn(){var s,o,w,p,m,$,_=c*77+31,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===40?(o=T,c++):(o=e,O===0&&D(nt)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=zl(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e?(te=s,s=dl(p)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function zl(){var s,o,w,p,m,$,_=c*77+32,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ke(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Ke(),$!==e?(te=p,p=fn(o,$)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Ke(),$!==e?(te=p,p=fn(o,$)):(c=p,p=e)):(c=p,p=e);te=s,s=yl(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Ja(){var s,o,w,p,m,$,_=c*77+33,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Ke(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=wl(p)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Ms(){var s,o,w,p=c*77+34,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===46?(o=br,c++):(o=e,O===0&&D(kn)),o!==e?(w=Y(),w!==e?(te=s,s=$l(w)):(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function na(){var s,o,w,p,m,$,_,A,S,R,U=c*77+35,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===J?(o=J,c+=2):(o=e,O===0&&D(xs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Ke(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=b(),$!==e){if(_=c,A=[],S=f(),S!==e)for(;S!==e;)A.push(S),S=f();else A=e;if(A!==e?(S=aa(),S!==e?_=S:(c=_,_=e)):(c=_,_=e),_===e&&(_=null),A=c,S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;S!==e?(R=ql(),R!==e?A=R:(c=A,A=e)):(c=A,A=e),A===e&&(A=null),te=s,s=ml(p,$,_,A)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function aa(){var s,o,w,p,m,$,_=c*77+36,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Hs(),o!==e){for(w=[],p=c,m=[],$=f();$!==e;)m.push($),$=f();for($=Hs(),$!==e?p=$:(c=p,p=e);p!==e;){for(w.push(p),p=c,m=[],$=f();$!==e;)m.push($),$=f();$=Hs(),$!==e?p=$:(c=p,p=e)}te=s,s=xl(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Hs(){var s,o,w,p,m,$,_,A=c*77+37,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,t.substr(c,4)===re?(o=re,c+=4):(o=e,O===0&&D(bs)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();if(m=Ke(),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();_=b(),_!==e?(te=s,s=Sa(m,_)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e;return z[A]={nextPos:c,result:s},s}function ql(){var s,o,w,p,m,$=c*77+38,_=z[$];if(_)return c=_.nextPos,_.result;if(s=c,t.substr(c,4)===ue?(o=ue,c+=4):(o=e,O===0&&D(Oi)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();m=b(),m!==e?(te=s,s=Qn(m)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[$]={nextPos:c,result:s},s}function Rs(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t,mt,vf=c*77+39,Qa=z[vf];if(Qa)return c=Qa.nextPos,Qa.result;if(s=c,t.substr(c,5)===me?(o=me,c+=5):(o=e,O===0&&D(Js)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();if(m=Ke(),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===123?(_=B,c++):(_=e,O===0&&D(Ye)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();if(S=[],R=c,U=Ke(),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();te=R,R=Ta(m,U,ge)}else c=R,R=e}else c=R,R=e}else c=R,R=e;if(R!==e)for(;R!==e;)if(S.push(R),R=c,U=Ke(),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();te=R,R=Ta(m,U,ge)}else c=R,R=e}else c=R,R=e}else c=R,R=e;else S=e;if(S!==e){if(R=c,t.charCodeAt(c)===42?(U=Kt,c++):(U=e,O===0&&D(us)),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();R=ge}else c=R,R=e}else c=R,R=e}else c=R,R=e;for(R===e&&(R=null),U=[],V=f();V!==e;)U.push(V),V=f();t.charCodeAt(c)===125?(V=W,c++):(V=e,O===0&&D(kt)),V!==e?(te=s,s=Xn(m,S,R)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e;else c=s,s=e;return z[vf]={nextPos:c,result:s},s}function hn(){var s,o,w,p,m,$,_,A,S=c*77+40,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,t.substr(c,4)===Te?(o=Te,c+=4):(o=e,O===0&&D(As)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===123?(p=B,c++):(p=e,O===0&&D(Ye)),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();if($=yr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();t.charCodeAt(c)===125?(A=W,c++):(A=e,O===0&&D(kt)),A!==e?(te=s,s=bl($)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function pn(){var s,o,w,p,m=c*77+41,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,t.substr(c,6)===Ie?(o=Ie,c+=6):(o=e,O===0&&D(Jt)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;w!==e?(p=vn(),p!==e?(te=s,s=Al(p)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function vn(){var s,o,w=c*77+42,p=z[w];return p?(c=p.nextPos,p.result):(s=c,o=a(),o!==e&&(te=s,o=Fa(o)),s=o,z[w]={nextPos:c,result:s},s)}function rn(){var s,o,w,p,m,$,_=c*77+43,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===96?(o=xe,c++):(o=e,O===0&&D(Ws)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===96?($=xe,c++):($=e,O===0&&D(Ws)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=Nn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===96?($=xe,c++):($=e,O===0&&D(Ws)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=Nn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===96?(p=xe,c++):(p=e,O===0&&D(Ws)),p!==e?(te=s,s=Cl(w)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Nn(){var s,o,w,p,m,$,_=c*77+44,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Ke(),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();t.charCodeAt(c)===125?($=W,c++):($=e,O===0&&D(kt)),$!==e?s=p:(c=s,s=e)}else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,o=[],w=Us(),w!==e)for(;w!==e;)o.push(w),w=Us();else o=e;o!==e&&(te=s,o=Na(o)),s=o}return z[_]={nextPos:c,result:s},s}function Us(){var s,o=c*77+45,w=z[o];return w?(c=w.nextPos,w.result):(s=Wa(),s===e&&(is.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Gs))),z[o]={nextPos:c,result:s},s)}function Wa(){var s,o,w,p=c*77+46,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===92?(o=rr,c++):(o=e,O===0&&D(ma)),o!==e?(ls.test(t.charAt(c))?(w=t.charAt(c),c++):(w=e,O===0&&D(Zs)),w!==e?s=w:(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function On(){var s,o,w,p,m,$,_=c*77+47,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===34?(o=Ee,c++):(o=e,O===0&&D(Rr)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===34?($=Ee,c++):($=e,O===0&&D(Rr)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=gn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=Oa($)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===34?($=Ee,c++):($=e,O===0&&D(Rr)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=gn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=Oa($)):(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===34?(p=Ee,c++):(p=e,O===0&&D(Rr)),p!==e?(te=s,s=_l(w)):(c=s,s=e)}else c=s,s=e;if(s===e)if(s=c,t.charCodeAt(c)===39?(o=ye,c++):(o=e,O===0&&D(Qs)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===39?($=ye,c++):($=e,O===0&&D(Qs)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=jn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=ja($)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===39?($=ye,c++):($=e,O===0&&D(Qs)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=jn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=ja($)):(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===39?(p=ye,c++):(p=e,O===0&&D(Qs)),p!==e?(te=s,s=Pl(w)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function gn(){var s,o,w=c*77+48,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===Ge?(o=Ge,c+=2):(o=e,O===0&&D(Cs)),o!==e&&(te=s,o=kl()),s=o,z[w]={nextPos:c,result:s},s)}function jn(){var s,o,w=c*77+49,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===rt?(o=rt,c+=2):(o=e,O===0&&D(Aa)),o!==e&&(te=s,o=Yn()),s=o,z[w]={nextPos:c,result:s},s)}function Ga(){var s,o=c*77+50,w=z[o];return w?(c=w.nextPos,w.result):(s=sn(),s===e&&(s=dn()),z[o]={nextPos:c,result:s},s)}function sn(){var s,o,w,p,m,$,_=c*77+51,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),bt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Ca)),o!==e){if(w=[],Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr)),p!==e)for(;p!==e;)w.push(p),Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr));else w=e;if(w!==e)if(t.charCodeAt(c)===46?(p=br,c++):(p=e,O===0&&D(kn)),p!==e){if(m=[],Rt.test(t.charAt(c))?($=t.charAt(c),c++):($=e,O===0&&D(hr)),$!==e)for(;$!==e;)m.push($),Rt.test(t.charAt(c))?($=t.charAt(c),c++):($=e,O===0&&D(hr));else m=e;m!==e?(te=s,s=Ml()):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),Rt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(hr)),o!==e)if(t.charCodeAt(c)===46?(w=br,c++):(w=e,O===0&&D(kn)),w!==e){if(p=[],Rt.test(t.charAt(c))?(m=t.charAt(c),c++):(m=e,O===0&&D(hr)),m!==e)for(;m!==e;)p.push(m),Rt.test(t.charAt(c))?(m=t.charAt(c),c++):(m=e,O===0&&D(hr));else p=e;p!==e?(te=s,s=ea()):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[_]={nextPos:c,result:s},s}function dn(){var s,o,w,p,m=c*77+52,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),bt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Ca)),o!==e){if(w=[],Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr)),p!==e)for(;p!==e;)w.push(p),Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr));else w=e;w!==e?(te=s,s=El()):(c=s,s=e)}else c=s,s=e;return s===e&&(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),Rt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(hr)),o!==e?(te=s,s=Sl()):(c=s,s=e)),z[m]={nextPos:c,result:s},s}function yn(){var s,o=c*77+53,w=z[o];return w?(c=w.nextPos,w.result):(s=Vl(),s===e&&(s=In()),z[o]={nextPos:c,result:s},s)}function Vl(){var s,o,w,p,m=c*77+54,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,4)===tt?(o=tt,c+=4):(o=e,O===0&&D(ji)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Ia()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function In(){var s,o,w,p,m=c*77+55,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,5)===Ve?(o=Ve,c+=5):(o=e,O===0&&D(Xs)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Tl()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Rn(){var s,o,w,p,m=c*77+56,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,4)===lt?(o=lt,c+=4):(o=e,O===0&&D(Ii)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Ra()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Lt(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+57,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Ke(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=un($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Ke(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=un($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;t.charCodeAt(c)===125?(m=W,c++):(m=e,O===0&&D(kt)),m!==e?(te=s,s=Fl(p)):(c=s,s=e)}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function Kl(){var s,o,w,p,m,$,_,A,S,R,U=c*77+58,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Ke(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=on($)}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Ke(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=on($)}else c=m,m=e;for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=Nl(p)):(c=s,s=e)}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function Dn(){var s,o,w,p,m,$,_,A=c*77+59,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,o=Y(),o!==e){for(w=c,p=[],m=f();m!==e;)p.push(m),m=f();if(t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();_=Ue(),_!==e?w=_:(c=w,w=e)}else c=w,w=e;w===e&&(w=null),te=s,s=Ol(o,w)}else c=s,s=e;return z[A]={nextPos:c,result:s},s}function Za(){var s,o,w,p,m,$,_=c*77+60,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Dn(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Dn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Dn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);te=s,s=Da(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Le(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t,mt,vf=c*77+61,Qa=z[vf];if(Qa)return c=Qa.nextPos,Qa.result;if(s=c,t.charCodeAt(c)===64?(o=dt,c++):(o=e,O===0&&D(Ri)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Y(),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();if(t.charCodeAt(c)===40?($=T,c++):($=e,O===0&&D(nt)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(A=Za(),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();if(t.charCodeAt(c)===41?(R=N,c++):(R=e,O===0&&D(kr)),R!==e){for(U=c,V=[],se=f();se!==e;)V.push(se),se=f();if(t.charCodeAt(c)===58?(se=fe,c++):(se=e,O===0&&D(Bt)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();ge=Ue(),ge!==e?U=ge:(c=U,U=e)}else c=U,U=e;for(U===e&&(U=null),V=[],se=f();se!==e;)V.push(se),se=f();if(t.charCodeAt(c)===123?(se=B,c++):(se=e,O===0&&D(Ye)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();for(ge=yr(),ge===e&&(ge=null),$t=[],mt=f();mt!==e;)$t.push(mt),mt=f();t.charCodeAt(c)===125?(mt=W,c++):(mt=e,O===0&&D(kt)),mt!==e?(te=s,s=jl(w,p,m,A,U,ge)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[vf]={nextPos:c,result:s},s}function Jl(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je=c*77+62,ge=z[je];if(ge)return c=ge.nextPos,ge.result;if(s=c,t.substr(c,2)===wt?(o=wt,c+=2):(o=e,O===0&&D(Mn)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=Za(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=c,A=[],S=f();S!==e;)A.push(S),S=f();if(t.charCodeAt(c)===58?(S=fe,c++):(S=e,O===0&&D(Bt)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();U=Ue(),U!==e?_=U:(c=_,_=e)}else c=_,_=e;for(_===e&&(_=null),A=[],S=f();S!==e;)A.push(S),S=f();if(t.charCodeAt(c)===123?(S=B,c++):(S=e,O===0&&D(Ye)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();for(U=yr(),U===e&&(U=null),V=[],se=f();se!==e;)V.push(se),se=f();t.charCodeAt(c)===125?(se=W,c++):(se=e,O===0&&D(kt)),se!==e?(te=s,s=La(p,_,U)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[je]={nextPos:c,result:s},s}function Lr(){var s,o,w,p,m,$,_,A,S,R,U=c*77+63,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Kr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=Ha($)}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Kr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=Ha($)}else c=m,m=e;for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=Il(p)):(c=s,s=e)}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function _t(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+64,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Kr(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=Ua($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Kr(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=Ua($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;t.charCodeAt(c)===125?(m=W,c++):(m=e,O===0&&D(kt)),m!==e?(te=s,s=i(p)):(c=s,s=e)}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function Ue(){var s,o=c*77+65,w=z[o];return w?(c=w.nextPos,w.result):(s=ia(),s===e&&(s=we()),z[o]={nextPos:c,result:s},s)}function ia(){var s,o,w,p,m,$,_,A,S,R,U=c*77+66,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===wt?(o=wt,c+=2):(o=e,O===0&&D(Mn)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=C(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.substr(c,2)===he?(A=he,c+=2):(A=e,O===0&&D(Ir)),A!==e){for(S=[],R=f();R!==e;)S.push(R),R=f();R=Ue(),R!==e?(te=s,s=q(p,R)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function C(){var s,o,w,p,m,$,_=c*77+67,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ue(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Ue(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Ue(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);te=s,s=Dr(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function we(){var s,o,w,p,m,$,_,A,S=c*77+68,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=Y(),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(t.charCodeAt(c)===60?(p=ht,c++):(p=e,O===0&&D(Pn)),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();if($=Ue(),$!==e){for(_=[],A=y();A!==e;)_.push(A),A=y();t.charCodeAt(c)===62?(A=_r,c++):(A=e,O===0&&D(xa)),A!==e?(te=s,s=Tt(o,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return s===e&&(s=c,o=Y(),o!==e&&(te=s,o=_s(o)),s=o),z[S]={nextPos:c,result:s},s}function Y(){var s,o,w,p,m=c*77+69,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,an.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Di)),o!==e){for(w=[],Dt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(_a));p!==e;)w.push(p),Dt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(_a));te=s,s=u()}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function a(){var s,o,w,p,m,$,_=c*77+70,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Y(),o!==e){for(w=[],p=c,t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e?($=Y(),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e?($=Y(),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);te=s,s=k()}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function v(){var s,o,w,p,m,$=c*77+71,_=z[$];if(_)return c=_.nextPos,_.result;for(s=c,o=[],w=f();w!==e;)o.push(w),w=f();if(t.charCodeAt(c)===44?(w=ee,c++):(w=e,O===0&&D(St)),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();o=[o,w,p],s=o}else c=s,s=e;if(s===e)if(s=[],o=f(),o!==e)for(;o!==e;)s.push(o),o=f();else s=e;return z[$]={nextPos:c,result:s},s}function b(){var s,o,w,p,m,$,_=c*77+72,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=yr(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===125?($=W,c++):($=e,O===0&&D(kt)),$!==e?(te=s,s=Ar(p)):(c=s,s=e)}else c=s,s=e;return s===e&&(s=ds()),z[_]={nextPos:c,result:s},s}function g(){var s,o=c*77+73,w=z[o];return w?(c=w.nextPos,w.result):(t.substr(c,2)===At?(s=At,c+=2):(s=e,O===0&&D(Li)),s===e&&(xi.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Hi))),z[o]={nextPos:c,result:s},s)}function n(){var s,o,w=c*77+74,p=z[w];return p?(c=p.nextPos,p.result):(s=c,O++,t.length>c?(o=t.charAt(c),c++):(o=e,O===0&&D(Ct)),O--,o===e?s=void 0:(c=s,s=e),s===e&&(s=g()),z[w]={nextPos:c,result:s},s)}function f(){var s,o=c*77+75,w=z[o];return w?(c=w.nextPos,w.result):(bi.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Jn)),z[o]={nextPos:c,result:s},s)}function y(){var s,o=c*77+76,w=z[o];return w?(c=w.nextPos,w.result):(nr.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Ui)),z[o]={nextPos:c,result:s},s)}function h(s,o,w){const p={type:s};o.children=w;for(const $ of Object.keys(o))o[$]!==void 0&&(p[$]=o[$]);const m=E();return p.loc={start:m.start.offset,end:m.end.offset-1},p}if(Ps=x(),Ps!==e&&c===t.length)return Ps;throw Ps!==e&&c<t.length&&D(L()),en(ft,j<t.length?t.charAt(j):null,j<t.length?Ys(j,j+1):Ys(j,j))}const f1=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function u1(t){return f1.includes(t.type)}function R0(t){return"chain"in t&&t.chain!==null}function o1(t,r,e){return{type:"call",target:t,args:r,loc:e}}function c1(t,r,e){return{type:"index",target:t,index:r,loc:e}}function h1(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function jt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=jt(e.expr,r);break}case"return":{e.expr=jt(e.expr,r);break}case"each":{e.items=jt(e.items,r),e.for=jt(e.for,r);break}case"for":{e.from!=null&&(e.from=jt(e.from,r)),e.to!=null&&(e.to=jt(e.to,r)),e.times!=null&&(e.times=jt(e.times,r)),e.for=jt(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=jt(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=jt(e.expr,r),e.dest=jt(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=jt(e.operands[l],r);break}case"not":{e.expr=jt(e.expr,r);break}case"if":{e.cond=jt(e.cond,r),e.then=jt(e.then,r);for(const l of e.elseif)l.cond=jt(l.cond,r),l.then=jt(l.then,r);e.else!=null&&(e.else=jt(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=jt(e.children[l],r);break}case"match":{e.about=jt(e.about,r);for(const l of e.qs)l.q=jt(l.q,r),l.a=jt(l.a,r);e.default!=null&&(e.default=jt(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=jt(e.statements[l],r);break}case"exists":{e.identifier=jt(e.identifier,r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=jt(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],jt(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=jt(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=jt(e.args[l],r);break}case"indexChain":{e.index=jt(e.index,r);break}case"call":{e.target=jt(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=jt(e.args[l],r);break}case"index":{e.target=jt(e.target,r),e.index=jt(e.index,r);break}case"prop":{e.target=jt(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=jt(e.members[l],r);break}case"or":case"and":{e.left=jt(e.left,r),e.right=jt(e.right,r);break}}if(R0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=jt(e.chain[l],r);return e}const np=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function ap(t){throw new Yu(`Reserved word "${t}" cannot be used as variable name.`)}function p1(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{np.includes(t.name)&&ap(t.name);break}case"meta":{t.name!=null&&np.includes(t.name)&&ap(t.name);break}case"fn":{for(const r of t.args)np.includes(r.name)&&ap(r.name);break}}return t}function v1(t){for(const r of t)jt(r,p1);return t}function ed(t){return{type:"simple",name:t}}function g1(t,r){return{type:"generic",name:t,inners:r}}function d1(t,r){return{type:"fn",args:t,result:r}}function Hc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Hc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Hc(l)).join(", "),e=Hc(t.result);return`@(${r}) { ${e} }`}}}function Mo(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return ed(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Mo(t.inner):r=ed("any"),g1(t.name,[r])}}throw new Yu(`Unknown type: '${Hc(t)}'`)}else{const r=t.args.map(e=>Mo(e));return d1(r,Mo(t.result))}}function y1(t){switch(t.type){case"def":{t.varType!=null&&Mo(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Mo(r.argType);t.retType!=null&&Mo(t.retType);break}}return t}function w1(t){for(const r of t)jt(r,y1);return t}function Uc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=Uc(l.expr.children)),r.push(l);else{if(e.length>0)throw new Yu("invalid attribute.");switch(l.type){case"fn":{l.children=Uc(l.children);break}case"block":{l.statements=Uc(l.statements);break}}r.push(l)}if(e.length>0)throw new Yu("invalid attribute.");return r}function $1(t){if(u1(t)&&R0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=o1(l,d.args,d.loc);break}case"indexChain":{l=c1(l,d.index,d.loc);break}case"propChain":{l=h1(l,d.name,d.loc);break}}return l}return t}function m1(t){for(let r=0;r<t.length;r++)t[r]=jt(t[r],$1);return t}function Bc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function D0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Bc(t,r,e);{const{left:l,right:d,info:x}=t;return Bc(l,D0(d,r,e),x)}}function Tu(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Tu(t.left),Tu(t.right)]}}const x1={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Tu(t.left),right:Tu(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Tu(t.left),right:Tu(t.right)}),priority:3}};function b1(t){const r=t.operators.map(l=>{const d=x1[l];if(d==null)throw new Yu(`No such operator: ${l}.`);return d});let e=Bc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=D0(e,t.operands[2+l],r[1+l]);return Tu(e)}function A1(t){for(let r=0;r<t.length;r++)t[r]=jt(t[r],e=>e.type==="infix"?b1(e):e);return t}var Tf;let C1=(Tf=class{constructor(){be(this,"plugins");this.plugins={validate:[v1,w1],transform:[Uc,m1,A1]}}static parse(r){return Tf.instance==null&&(Tf.instance=new Tf),Tf.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=Yg(r,{startRule:"Preprocess"});e=Yg(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new Yu(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`,l):new Yu(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`,l):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Tf,"instance"),Tf);const _1="0.17.0",P1={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Xp=[],zo=null;function k1(t){return Xp=C1.parse(t),JSON.stringify(Xp,null,"	")}async function M1(t){zo==null||zo.abort(),zo=new ya({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:Gp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:Gp(e.val,!0),print:!1});break}}});try{await zo.exec(Xp)}catch(r){t.err(r)}}const E1=Object.freeze(Object.defineProperty({__proto__:null,exec:M1,parse:k1,samples:P1,version:_1},Symbol.toStringTag,{value:"Module"}));function ms(t,r,e){let l=e.value;return{configurable:!0,get(){const d=l.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:d}),d},set(d){l=d}}}let Sh=class L0 extends Error{constructor(e,l){super(e);be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,L0)}};class S1 extends Sh{constructor(r){super(`Internal Error. ${r}`,r)}}class eo extends Sh{constructor(r,e){super(r,e)}}class Yr extends Sh{constructor(r,e){super(r,e)}}class T1 extends Yr{constructor(r,e){super(r,e)}}var yu=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let Vf=class H0{constructor(r=[],e,l){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new H0(l,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r).value;return this.log("read",{var:r,val:l}),l}throw new Yr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new Yr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){const x=d.get(r);if(!x.isMutable)throw new Yr(`Cannot assign to an immutable variable ${r}.`);x.value=e,this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new Yr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};yu([ms],Vf.prototype,"log",null);yu([ms],Vf.prototype,"onUpdated",null);yu([ms],Vf.prototype,"createChildScope",null);yu([ms],Vf.prototype,"get",null);yu([ms],Vf.prototype,"exists",null);yu([ms],Vf.prototype,"getAll",null);yu([ms],Vf.prototype,"add",null);yu([ms],Vf.prototype,"assign",null);const wr={type:"null"},ff={type:"bool",value:!0},Gl={type:"bool",value:!1},Ze=t=>({type:"num",value:t}),Qr=t=>({type:"str",value:t}),Ku=t=>({type:"bool",value:t}),Bv=t=>({type:"obj",value:t}),la=t=>({type:"arr",value:t}),F1=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),Ae=t=>({type:"fn",native:t}),N1=t=>({type:"return",value:t}),O1=()=>({type:"break",value:null}),j1=()=>({type:"continue",value:null}),I1=t=>t.type==="return"?t.value:t,U0=(t,r)=>({type:"error",value:t,info:r});function Yl(t){if(t==null)throw new Yr("Expect anything, but got nothing.")}function ri(t){if(t==null)throw new Yr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Yr(`Expect boolean, but got ${t.type}.`)}function su(t){if(t==null)throw new Yr("Expect function, but got nothing.");if(t.type!=="fn")throw new Yr(`Expect function, but got ${t.type}.`)}function Bs(t){if(t==null)throw new Yr("Expect string, but got nothing.");if(t.type!=="str")throw new Yr(`Expect string, but got ${t.type}.`)}function ze(t){if(t==null)throw new Yr("Expect number, but got nothing.");if(t.type!=="num")throw new Yr(`Expect number, but got ${t.type}.`)}function Zf(t){if(t==null)throw new Yr("Expect object, but got nothing.");if(t.type!=="obj")throw new Yr(`Expect object, but got ${t.type}.`)}function hh(t){if(t==null)throw new Yr("Expect array, but got nothing.");if(t.type!=="arr")throw new Yr(`Expect array, but got ${t.type}.`)}function ip(t){return t.type==="obj"}function td(t){return t.type==="arr"}function Yp(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function ev(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>ev(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function tv(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>tv(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=tv(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function rv(t){if(t===null)return wr;if(typeof t=="boolean")return Ku(t);if(typeof t=="string")return Qr(t);if(typeof t=="number")return Ze(t);if(Array.isArray(t))return la(t.map(r=>rv(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,rv(l));return Bv(r)}return wr}function Eo(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,l=>`\\${l}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const l=[];for(const d of t.value)l.push(Eo(d,!0,e));return"[ "+l.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const l=[];for(const[d,x]of t.value)l.push(`${d}: ${Eo(x,!0,e)}`);return"{ "+l.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const R1={help:Qr("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Qr("0.16.0"),"Core:ai":Qr("kawaii"),"Core:not":Ae(([t])=>(ri(t),t.value?Gl:ff)),"Core:eq":Ae(([t,r])=>(Yl(t),Yl(r),Yp(t,r)?ff:Gl)),"Core:neq":Ae(([t,r])=>(Yl(t),Yl(r),Yp(t,r)?Gl:ff)),"Core:and":Ae(([t,r])=>(ri(t),t.value?(ri(r),r.value?ff:Gl):Gl)),"Core:or":Ae(([t,r])=>(ri(t),t.value?ff:(ri(r),r.value?ff:Gl))),"Core:add":Ae(([t,r])=>(ze(t),ze(r),Ze(t.value+r.value))),"Core:sub":Ae(([t,r])=>(ze(t),ze(r),Ze(t.value-r.value))),"Core:mul":Ae(([t,r])=>(ze(t),ze(r),Ze(t.value*r.value))),"Core:pow":Ae(([t,r])=>{ze(t),ze(r);const e=t.value**r.value;if(isNaN(e))throw new Yr("Invalid operation.");return Ze(e)}),"Core:div":Ae(([t,r])=>{ze(t),ze(r);const e=t.value/r.value;if(isNaN(e))throw new Yr("Invalid operation.");return Ze(e)}),"Core:mod":Ae(([t,r])=>(ze(t),ze(r),Ze(t.value%r.value))),"Core:gt":Ae(([t,r])=>(ze(t),ze(r),t.value>r.value?ff:Gl)),"Core:lt":Ae(([t,r])=>(ze(t),ze(r),t.value<r.value?ff:Gl)),"Core:gteq":Ae(([t,r])=>(ze(t),ze(r),t.value>=r.value?ff:Gl)),"Core:lteq":Ae(([t,r])=>(ze(t),ze(r),t.value<=r.value?ff:Gl)),"Core:type":Ae(([t])=>(Yl(t),Qr(t.type))),"Core:to_str":Ae(([t])=>(Yl(t),Qr(Eo(t)))),"Core:range":Ae(([t,r])=>(ze(t),ze(r),t.value<r.value?la(Array.from({length:r.value-t.value+1},(e,l)=>Ze(l+t.value))):t.value>r.value?la(Array.from({length:t.value-r.value+1},(e,l)=>Ze(t.value-l))):la([t]))),"Core:sleep":Ae(async([t])=>(ze(t),await new Promise(r=>setTimeout(r,t.value)),wr)),"Util:uuid":Ae(()=>Qr(vc())),"Json:stringify":Ae(([t])=>(Yl(t),Qr(JSON.stringify(tv(t))))),"Json:parse":Ae(([t])=>{Bs(t);try{return rv(JSON.parse(t.value))}catch{return U0("not_json")}}),"Json:parsable":Ae(([t])=>{Bs(t);try{JSON.parse(t.value)}catch{return Ku(!1)}return Ku(!0)}),"Date:now":Ae(()=>Ze(Date.now())),"Date:year":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":Ae(([t])=>(t&&ze(t),Ze(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":Ae(([t])=>(Bs(t),Ze(new Date(t.value).getTime()))),"Math:Infinity":Ze(1/0),"Math:E":Ze(Math.E),"Math:LN2":Ze(Math.LN2),"Math:LN10":Ze(Math.LN10),"Math:LOG2E":Ze(Math.LOG2E),"Math:LOG10E":Ze(Math.LOG10E),"Math:PI":Ze(Math.PI),"Math:SQRT1_2":Ze(Math.SQRT1_2),"Math:SQRT2":Ze(Math.SQRT2),"Math:abs":Ae(([t])=>(ze(t),Ze(Math.abs(t.value)))),"Math:acos":Ae(([t])=>(ze(t),Ze(Math.acos(t.value)))),"Math:acosh":Ae(([t])=>(ze(t),Ze(Math.acosh(t.value)))),"Math:asin":Ae(([t])=>(ze(t),Ze(Math.asin(t.value)))),"Math:asinh":Ae(([t])=>(ze(t),Ze(Math.asinh(t.value)))),"Math:atan":Ae(([t])=>(ze(t),Ze(Math.atan(t.value)))),"Math:atanh":Ae(([t])=>(ze(t),Ze(Math.atanh(t.value)))),"Math:atan2":Ae(([t,r])=>(ze(t),ze(r),Ze(Math.atan2(t.value,r.value)))),"Math:cbrt":Ae(([t])=>(ze(t),Ze(Math.cbrt(t.value)))),"Math:ceil":Ae(([t])=>(ze(t),Ze(Math.ceil(t.value)))),"Math:clz32":Ae(([t])=>(ze(t),Ze(Math.clz32(t.value)))),"Math:cos":Ae(([t])=>(ze(t),Ze(Math.cos(t.value)))),"Math:cosh":Ae(([t])=>(ze(t),Ze(Math.cosh(t.value)))),"Math:exp":Ae(([t])=>(ze(t),Ze(Math.exp(t.value)))),"Math:expm1":Ae(([t])=>(ze(t),Ze(Math.expm1(t.value)))),"Math:floor":Ae(([t])=>(ze(t),Ze(Math.floor(t.value)))),"Math:fround":Ae(([t])=>(ze(t),Ze(Math.fround(t.value)))),"Math:hypot":Ae(([t])=>{hh(t);const r=[];for(const e of t.value)ze(e),r.push(e.value);return Ze(Math.hypot(...r))}),"Math:imul":Ae(([t,r])=>(ze(t),ze(r),Ze(Math.imul(t.value,r.value)))),"Math:log":Ae(([t])=>(ze(t),Ze(Math.log(t.value)))),"Math:log1p":Ae(([t])=>(ze(t),Ze(Math.log1p(t.value)))),"Math:log10":Ae(([t])=>(ze(t),Ze(Math.log10(t.value)))),"Math:log2":Ae(([t])=>(ze(t),Ze(Math.log2(t.value)))),"Math:max":Ae(([t,r])=>(ze(t),ze(r),Ze(Math.max(t.value,r.value)))),"Math:min":Ae(([t,r])=>(ze(t),ze(r),Ze(Math.min(t.value,r.value)))),"Math:pow":Ae(([t,r])=>(ze(t),ze(r),Ze(Math.pow(t.value,r.value)))),"Math:round":Ae(([t])=>(ze(t),Ze(Math.round(t.value)))),"Math:sign":Ae(([t])=>(ze(t),Ze(Math.sign(t.value)))),"Math:sin":Ae(([t])=>(ze(t),Ze(Math.sin(t.value)))),"Math:sinh":Ae(([t])=>(ze(t),Ze(Math.sinh(t.value)))),"Math:sqrt":Ae(([t])=>{ze(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Yr("Invalid operation.");return Ze(r)}),"Math:tan":Ae(([t])=>(ze(t),Ze(Math.tan(t.value)))),"Math:tanh":Ae(([t])=>(ze(t),Ze(Math.tanh(t.value)))),"Math:trunc":Ae(([t])=>(ze(t),Ze(Math.trunc(t.value)))),"Math:rnd":Ae(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Ze(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Ze(Math.random())),"Math:gen_rng":Ae(([t])=>{if(Yl(t),t.type!=="num"&&t.type!=="str")return wr;const r=no(t.value.toString());return Ae(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?Ze(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Ze(r()))}),"Num:to_hex":Ae(([t])=>(ze(t),Qr(t.value.toString(16)))),"Num:from_hex":Ae(([t])=>(Bs(t),Ze(parseInt(t.value,16)))),"Str:lf":Qr(`
`),"Str:lt":Ae(([t,r])=>(Bs(t),Bs(r),t.value<r.value?Ze(-1):t.value===r.value?Ze(0):Ze(1))),"Str:gt":Ae(([t,r])=>(Bs(t),Bs(r),t.value>r.value?Ze(-1):t.value===r.value?Ze(0):Ze(1))),"Str:from_codepoint":Ae(([t])=>(ze(t),Qr(String.fromCodePoint(t.value)))),"Obj:keys":Ae(([t])=>(Zf(t),la(Array.from(t.value.keys()).map(r=>Qr(r))))),"Obj:vals":Ae(([t])=>(Zf(t),la(Array.from(t.value.values())))),"Obj:kvs":Ae(([t])=>(Zf(t),la(Array.from(t.value.entries()).map(([r,e])=>la([Qr(r),e]))))),"Obj:get":Ae(([t,r])=>(Zf(t),Bs(r),t.value.get(r.value)??wr)),"Obj:set":Ae(([t,r,e])=>(Zf(t),Bs(r),Yl(e),t.value.set(r.value,e),wr)),"Obj:has":Ae(([t,r])=>(Zf(t),Bs(r),Ku(t.value.has(r.value)))),"Obj:copy":Ae(([t])=>(Zf(t),Bv(new Map(t.value)))),"Async:interval":Ae(async([t,r,e],l)=>{ze(t),su(r),e&&(ri(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.topCall(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),Ae(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":Ae(async([t,r],e)=>{ze(t),su(r);const l=setTimeout(()=>{e.topCall(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),Ae(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},rd={num:{to_str:t=>Ae(async(r,e)=>Qr(t.value.toString()))},str:{to_num:t=>Ae(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?wr:Ze(l)}),len:t=>Ze(io(t.value)),replace:t=>Ae(async([r,e],l)=>(Bs(r),Bs(e),Qr(t.value.split(r.value).join(e.value)))),index_of:t=>Ae(async([r],e)=>(Bs(r),Ze(fo(t.value,r.value)))),incl:t=>Ae(async([r],e)=>(Bs(r),t.value.includes(r.value)?ff:Gl)),trim:t=>Ae(async(r,e)=>Qr(t.value.trim())),upper:t=>Ae(async(r,e)=>Qr(t.value.toUpperCase())),lower:t=>Ae(async(r,e)=>Qr(t.value.toLowerCase())),split:t=>Ae(async([r],e)=>(r&&Bs(r),la(r?t.value.split(r?r.value:"").map(l=>Qr(l)):Cn(t.value).map(l=>Qr(l))))),slice:t=>Ae(async([r,e],l)=>(ze(r),ze(e),Qr(lo(t.value,r.value,e.value)))),pick:t=>Ae(async([r],e)=>{ze(r);const d=Cn(t.value)[r.value];return d?Qr(d):wr}),codepoint_at:t=>Ae(([r],e)=>{ze(r);const l=t.value.charCodeAt(r.value);return Number.isNaN(l)?wr:Ze(l)})},arr:{len:t=>Ze(t.value.length),push:t=>Ae(async([r],e)=>(Yl(r),t.value.push(r),t)),unshift:t=>Ae(async([r],e)=>(Yl(r),t.value.unshift(r),t)),pop:t=>Ae(async(r,e)=>t.value.pop()??wr),shift:t=>Ae(async(r,e)=>t.value.shift()??wr),concat:t=>Ae(async([r],e)=>(hh(r),la(t.value.concat(r.value)))),slice:t=>Ae(async([r,e],l)=>(ze(r),ze(e),la(t.value.slice(r.value,e.value)))),join:t=>Ae(async([r],e)=>(r&&Bs(r),Qr(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>Ae(async([r],e)=>{su(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,Ze(x)]));return la(await Promise.all(l))}),filter:t=>Ae(async([r],e)=>{su(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,Ze(d)]);ri(P),P.value&&l.push(x)}return la(l)}),reduce:t=>Ae(async([r,e],l)=>{su(r);const d=e!=null;let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,Ze(P)])}return x}),find:t=>Ae(async([r],e)=>{su(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,Ze(l)]);if(ri(x),x.value)return d}return wr}),incl:t=>Ae(async([r],e)=>(Yl(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Gl:(d=>d.value.map(x=>x.type==="str"||x.type==="num"||x.type==="bool"?x.value:x.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?ff:Gl)),reverse:t=>Ae(async(r,e)=>(t.value.reverse(),wr)),copy:t=>Ae(async(r,e)=>la([...t.value])),sort:t=>Ae(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=await l(x.slice(0,M),P),T=await l(x.slice(M),P);return d(F,T,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);ze(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return su(r),hh(t),t.value=await l(t.value,r),t})},error:{name:t=>Qr(t.value),info:t=>t.info??wr}};function D1(t,r){if(Object.hasOwn(rd,t.type)){const e=rd[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Yr(`No such prop (${r}) in ${t.type}.`)}else throw new Yr(`Cannot read prop of ${t.type}. (reading ${r})`)}const L1={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var oi=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const B0=300,H1=B0-1;let wa=class{constructor(r,e={}){be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);be(this,"vars",{});this.opts=e;const l={print:Ae(([d])=>{Yl(d),this.opts.out&&this.opts.out(d)}),readline:Ae(async d=>{const x=d[0];if(Bs(x),this.opts.in==null)return wr;const P=await this.opts.in(x.value);return Qr(P)})};this.vars=Object.fromEntries(Object.entries({...r,...R1,...l}).map(([d,x])=>[d,L1.const(x)])),this.scope=new Vf([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(l=>(this.handleError(l),U0("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof Sh?this.opts.err(r):this.opts.err(new S1(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const l of r.members)switch(l.type){case"def":{if(l.mut)throw new Error("Namespaces cannot include mutable variable: "+l.name);const d={isMutable:l.mut,value:await this._eval(l.expr,e)};e.add(l.name,d),this.scope.add(r.name+":"+l.name,d);break}case"ns":break;default:throw new Error("invalid ns member type: "+l.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??wr;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],{isMutable:!0,value:e[x]});const d=r.scope.createChildScope(l);return I1(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return wr;if(this.stepCount%B0===H1&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Yr("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);su(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(ri(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(ri(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return wr}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(Yp(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):wr}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return wr}case"for":{if(r.times){const l=await this._eval(r.times,e);ze(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);ze(l),ze(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Ze(x)}]])));if(P.type==="break")break;if(P.type==="return")return P}}return wr}case"each":{const l=await this._eval(r.items,e);hh(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:d}]])));if(x.type==="break")break;if(x.type==="return")return x}return wr}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,{isMutable:r.mut,value:l}),wr}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),wr}case"addAssign":{const l=await this._eval(r.dest,e);ze(l);const d=await this._eval(r.expr,e);return ze(d),await this.assign(e,r.dest,Ze(l.value+d.value)),wr}case"subAssign":{const l=await this._eval(r.dest,e);ze(l);const d=await this._eval(r.expr,e);return ze(d),await this.assign(e,r.dest,Ze(l.value-d.value)),wr}case"null":return wr;case"bool":return Ku(r.value);case"num":return Ze(r.value);case"str":return Qr(r.value);case"arr":return la(await Promise.all(r.value.map(l=>this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return Bv(l)}case"prop":{const l=await this._eval(r.target,e);return ip(l)?l.value.has(r.name)?l.value.get(r.name):wr:D1(l,r.name)}case"index":{const l=await this._eval(r.target,e),d=await this._eval(r.index,e);if(td(l)){ze(d);const x=l.value[d.value];if(x===void 0)throw new T1(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}else{if(ip(l))return Bs(d),l.value.has(d.value)?l.value.get(d.value):wr;throw new Yr(`Cannot read prop (${Eo(d)}) of ${l.type}.`)}}case"not":{const l=await this._eval(r.expr,e);return ri(l),Ku(!l.value)}case"fn":return F1(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Ku(e.exists(r.identifier.name));case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);l+=Eo(x)}return Qr(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),N1(l)}case"break":return this.log("block:break",{scope:e.name}),O1();case"continue":return this.log("block:continue",{scope:e.name}),j1();case"ns":return wr;case"meta":return wr;case"and":{const l=await this._eval(r.left,e);if(ri(l),l.value){const d=await this._eval(r.right,e);return ri(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(ri(l),l.value)return l;{const d=await this._eval(r.right,e);return ri(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=wr;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r),x=await this._eval(e.index,r);if(td(d))ze(x),d.value[x.value]=l;else if(ip(d))Bs(x),d.value.set(x.value,l);else throw new Yr(`Cannot read prop (${Eo(x)}) of ${d.type}.`)}else if(e.type==="prop"){const d=await this._eval(e.target,r);Zf(d),d.value.set(e.name,l)}else throw new Yr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};oi([ms],wa.prototype,"exec",null);oi([ms],wa.prototype,"execFn",null);oi([ms],wa.prototype,"execFnSimple",null);oi([ms],wa.prototype,"handleError",null);oi([ms],wa.prototype,"log",null);oi([ms],wa.prototype,"collectNs",null);oi([ms],wa.prototype,"collectNsMember",null);oi([ms],wa.prototype,"_fn",null);oi([ms],wa.prototype,"_eval",null);oi([ms],wa.prototype,"_run",null);oi([ms],wa.prototype,"registerAbortHandler",null);oi([ms],wa.prototype,"unregisterAbortHandler",null);oi([ms],wa.prototype,"abort",null);oi([ms],wa.prototype,"assign",null);oi([ms],wa,"collectMetadata",null);function U1(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Ju(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Ju.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}U1(Ju,Error);function lp(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Ju.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=lp("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+lp("",d.column-1," ")+lp("",H,"^")}else r+=`
 at `+P}return r};Ju.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function sd(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:js,Main:Er},x=js,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="<",_r=">",Qt="+",Pr="-",Kt="*",xr="^",Or="/",Mt="%",Br="!",sr="[",br=".",J="if",re="elif",ue="else",me="match",he="=>",Te="eval",Ie="exists",xe="`",Ee='"',ye="'",Ge='\\"',rt="\\'",tt="true",Ve="false",lt="null",Pt=";",dt="@",wt="@(",At=`\r
`,at=/^[A-Z0-9_:]/i,is=/^[^`{]/,ls=/^[{}`]/,zr=/^[+\-]/,bt=/^[1-9]/,Rt=/^[0-9]/,an=/^[A-Z_]/i,Dt=/^[A-Z0-9_]/i,xi=/^[\r\n]/,bi=/^[ \t\r\n]/,nr=/^[ \t]/,Ct=ks(),cr=pe("//",!1),_n=pe("/*",!1),ot=pe("*/",!1),nt=pe("(",!1),kr=pe(")",!1),Et=pe("::",!1),Ye=pe("{",!1),kt=pe("}",!1),gs=pe("###",!1),Ut=pe("let",!1),Bt=pe(":",!1),Mr=pe("=",!1),Vn=pe("var",!1),ar=pe("<:",!1),jr=pe("#[",!1),Ts=pe("]",!1),it=pe("each",!1),St=pe(",",!1),Vs=pe("for",!1),Fr=pe("return",!1),Nr=tr([["A","Z"],["0","9"],"_",":"],!1,!0),Ai=pe("loop",!1),Kn=pe("break",!1),Ci=pe("continue",!1),_i=pe("+=",!1),$a=pe("-=",!1),ma=pe("\\",!1),Pi=pe("||",!1),ki=pe("&&",!1),Mi=pe("==",!1),Ei=pe("!=",!1),Ks=pe("<=",!1),Fs=pe(">=",!1),Pn=pe("<",!1),xa=pe(">",!1),Si=pe("+",!1),ba=pe("-",!1),us=pe("*",!1),Ti=pe("^",!1),Fi=pe("/",!1),Ni=pe("%",!1),es=pe("!",!1),Ns=pe("[",!1),kn=pe(".",!1),xs=pe("if",!1),bs=pe("elif",!1),Oi=pe("else",!1),Js=pe("match",!1),Ir=pe("=>",!1),As=pe("eval",!1),Jt=pe("exists",!1),Ws=pe("`",!1),Gs=tr(["`","{"],!0,!1),Zs=tr(["{","}","`"],!1,!1),Rr=pe('"',!1),Qs=pe("'",!1),Cs=pe('\\"',!1),Aa=pe("\\'",!1),ir=tr(["+","-"],!1,!1),Ca=tr([["1","9"]],!1,!1),hr=tr([["0","9"]],!1,!1),ji=pe("true",!1),Xs=pe("false",!1),Ii=pe("null",!1),Os=pe(";",!1),Ri=pe("@",!1),Mn=pe("@(",!1),Di=tr([["A","Z"],"_"],!1,!0),_a=tr([["A","Z"],["0","9"],"_"],!1,!0),Li=pe(`\r
`,!1),Hi=tr(["\r",`
`],!1,!1),Jn=tr([" ","	","\r",`
`],!1,!1),Ui=tr([" ","	"],!1,!1),Wn=function(s){return s.join("")},Bi=function(){return le()},Gn=function(){return le()},zi=function(){return""},Pa=function(){return""},qi=function(s){return s??[]},En=function(s,o){return o},Vi=function(s,o){return[s,...o]},Sn=function(s,o){return o},Ki=function(s,o){return[s,...o]},ka=function(s,o){return o},Ji=function(s,o){return[s,...o]},Wi=function(s){return s},Gi=function(s,o){return h("ns",{name:s,members:o})},Zi=function(s,o){return h("meta",{name:s,value:o})},Qi=function(s){return h("meta",{name:null,value:s})},Xi=function(s,o,w){return h("def",{name:s,varType:o,expr:w,mut:!1,attr:[]})},Yi=function(s,o,w){return h("def",{name:s,varType:o,expr:w,mut:!0,attr:[]})},el=function(s){return h("identifier",{name:"print",chain:[h("callChain",{args:[s]})]})},tl=function(s,o){return h("attr",{name:s,value:o??h("bool",{value:!0})})},rl=function(s,o,w){return h("each",{var:s,items:o,for:w})},sl=function(s,o,w){return h("each",{var:s,items:o,for:w})},nl=function(s,o){return o},al=function(s,o,w,p){return h("for",{var:s,from:o??h("num",{value:0}),to:w,for:p})},il=function(s,o){return o},Zn=function(s,o,w,p){return h("for",{var:s,from:o??h("num",{value:0}),to:w,for:p})},ll=function(s,o){return h("for",{times:s,for:o})},fl=function(s,o){return h("for",{times:s,for:o})},ul=function(s){return h("return",{expr:s})},ol=function(s){return h("loop",{statements:s})},cl=function(){return h("break",{})},ln=function(){return h("continue",{})},hl=function(s,o,w){return o==="+="?h("addAssign",{dest:s,expr:w}):o==="-="?h("subAssign",{dest:s,expr:w}):h("assign",{dest:s,expr:w})},Ma=function(s,o,w){return{op:o,term:w}},pl=function(s,o){return h("infix",{operands:[s,...o.map(w=>w.term)],operators:o.map(w=>w.op)})},vl=function(){return le()},gl=function(s){return h("not",{expr:s})},Ea=function(s,o){return{...s,chain:o}},dl=function(s){return h("callChain",{args:s??[]})},fn=function(s,o){return o},yl=function(s,o){return[s,...o]},wl=function(s){return h("indexChain",{index:s})},$l=function(s){return h("propChain",{name:s})},ml=function(s,o,w,p){return h("if",{cond:s,then:o,elseif:w??[],else:p})},xl=function(s,o){return[s,...o]},Sa=function(s,o){return{cond:s,then:o}},Qn=function(s){return s},Ta=function(s,o,w){return{q:o,a:w}},Xn=function(s,o,w){return h("match",{about:s,qs:o??[],default:w})},bl=function(s){return h("block",{statements:s})},Al=function(s){return h("exists",{identifier:s})},Fa=function(s){return h("identifier",{name:s})},Cl=function(s){return h("tmpl",{tmpl:s})},Na=function(s){return s.join("")},Oa=function(s){return s},_l=function(s){return h("str",{value:s.join("")})},ja=function(s){return s},Pl=function(s){return h("str",{value:s.join("")})},kl=function(){return'"'},Yn=function(){return"'"},Ml=function(){return h("num",{value:parseFloat(le())})},ea=function(){return h("num",{value:parseFloat(le())})},El=function(){return h("num",{value:parseInt(le(),10)})},Sl=function(){return h("num",{value:parseInt(le(),10)})},Ia=function(){return h("bool",{value:!0})},Tl=function(){return h("bool",{value:!1})},Ra=function(){return h("null",{})},un=function(s,o){return{k:s,v:o}},Fl=function(s){const o=new Map;for(const w of s)o.set(w.k,w.v);return h("obj",{value:o})},on=function(s){return s},Nl=function(s){return h("arr",{value:s})},Ol=function(s,o){return{name:s,argType:o}},Da=function(s,o){return[s,...o]},jl=function(s,o,w,p,m,$){return(s.length>0||w.length>0)&&Rl("Cannot use spaces before or after the function name."),h("def",{name:o,expr:h("fn",{args:p??[],retType:m},$??[]),mut:!1,attr:[]})},La=function(s,o,w){return h("fn",{args:s??[],retType:o},w??[])},Ha=function(s){return s},Il=function(s){return h("arr",{value:s})},Ua=function(s,o){return{k:s,v:o}},i=function(s){const o=new Map;for(const w of s)o.set(w.k,w.v);return h("obj",{value:o})},q=function(s,o){return h("fnTypeSource",{args:s??[],result:o})},Dr=function(s,o){return[s,...o]},Tt=function(s,o){return h("namedTypeSource",{name:s,inner:o})},_s=function(s){return h("namedTypeSource",{name:s,inner:null})},u=function(){return le()},k=function(){return le()},Ar=function(s){return h("block",{statements:s??[]})},c=0,te=0,I=[{line:1,column:1}],j=0,ft=[],O=0,z={},Ps;if("startRule"in r){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function le(){return t.substring(te,c)}function E(){return Ys(te,c)}function Rl(s,o){throw o=o!==void 0?o:Ys(te,c),qr(s,o)}function pe(s,o){return{type:"literal",text:s,ignoreCase:o}}function tr(s,o,w){return{type:"class",parts:s,inverted:o,ignoreCase:w}}function ks(){return{type:"any"}}function L(){return{type:"end"}}function Ba(s){var o=I[s],w;if(o)return o;for(w=s-1;!I[w];)w--;for(o=I[w],o={line:o.line,column:o.column};w<s;)t.charCodeAt(w)===10?(o.line++,o.column=1):o.column++,w++;return I[s]=o,o}function Ys(s,o,w){var p=Ba(s),m=Ba(o),$={source:l,start:{offset:s,line:p.line,column:p.column},end:{offset:o,line:m.line,column:m.column}};return $}function D(s){c<j||(c>j&&(j=c,ft=[]),ft.push(s))}function qr(s,o){return new Ju(s,null,null,o)}function en(s,o,w){return new Ju(Ju.buildMessage(s,o),s,o,w)}function js(){var s,o,w,p=c*77+0,m=z[p];if(m)return c=m.nextPos,m.result;for(s=c,o=[],w=Vr();w!==e;)o.push(w),w=Vr();return te=s,o=Wn(o),s=o,z[p]={nextPos:c,result:s},s}function Vr(){var s,o,w=c*77+1,p=z[w];return p?(c=p.nextPos,p.result):(s=c,o=rn(),o!==e&&(te=s,o=Bi()),s=o,s===e&&(s=c,o=On(),o!==e&&(te=s,o=Gn()),s=o,s===e&&(s=Fe(),s===e&&(t.length>c?(s=t.charAt(c),c++):(s=e,O===0&&D(Ct))))),z[w]={nextPos:c,result:s},s)}function Fe(){var s,o,w,p,m,$,_=c*77+2,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.substr(c,2)===P?(o=P,c+=2):(o=e,O===0&&D(cr)),o!==e){for(w=[],p=c,m=c,O++,$=n(),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,$=n(),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);te=s,s=zi()}else c=s,s=e;if(s===e)if(s=c,t.substr(c,2)===M?(o=M,c+=2):(o=e,O===0&&D(_n)),o!==e){for(w=[],p=c,m=c,O++,t.substr(c,2)===F?($=F,c+=2):($=e,O===0&&D(ot)),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.substr(c,2)===F?($=F,c+=2):($=e,O===0&&D(ot)),O--,$===e?m=void 0:(c=m,m=e),m!==e?(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct)),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);t.substr(c,2)===F?(p=F,c+=2):(p=e,O===0&&D(ot)),p!==e?(te=s,s=Pa()):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Er(){var s,o,w,p,m,$=c*77+3,_=z[$];if(_)return c=_.nextPos,_.result;for(s=c,o=[],w=f();w!==e;)o.push(w),w=f();for(w=Ls(),w===e&&(w=null),p=[],m=f();m!==e;)p.push(m),m=f();return te=s,s=qi(w),z[$]={nextPos:c,result:s},s}function Ls(){var s,o,w,p,m,$,_,A,S=c*77+4,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=et(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=et(),A!==e?(te=p,p=En(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=et(),A!==e?(te=p,p=En(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Vi(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function fr(){var s,o,w,p,m,$,_,A,S=c*77+5,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=ts(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ts(),A!==e?(te=p,p=Sn(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ts(),A!==e?(te=p,p=Sn(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Ki(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function yr(){var s,o,w,p,m,$,_,A,S=c*77+6,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=ds(),o!==e){for(w=[],p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ds(),A!==e?(te=p,p=ka(o,A)):(c=p,p=e)}else c=p,p=e;for(;p!==e;){for(w.push(p),p=c,m=[],$=y();$!==e;)m.push($),$=y();if($=g(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=ds(),A!==e?(te=p,p=ka(o,A)):(c=p,p=e)}else c=p,p=e}te=s,s=Ji(o,w)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function et(){var s,o=c*77+7,w=z[o];return w?(c=w.nextPos,w.result):(s=qa(),s===e&&(s=Dl(),s===e&&(s=ds())),z[o]={nextPos:c,result:s},s)}function ts(){var s,o=c*77+8,w=z[o];return w?(c=w.nextPos,w.result):(s=Va(),s===e&&(s=Le(),s===e&&(s=qa())),z[o]={nextPos:c,result:s},s)}function ds(){var s,o=c*77+9,w=z[o];return w?(c=w.nextPos,w.result):(s=Va(),s===e&&(s=Le(),s===e&&(s=Ll(),s===e&&(s=Ul(),s===e&&(s=Hl(),s===e&&(s=pr(),s===e&&(s=ta(),s===e&&(s=Bl(),s===e&&(s=ra(),s===e&&(s=Jr(),s===e&&(s=cn(),s===e&&(s=Ke()))))))))))),z[o]={nextPos:c,result:s},s)}function Ke(){var s,o=c*77+10,w=z[o];return w?(c=w.nextPos,w.result):(s=sa(),s===e&&(s=Is()),z[o]={nextPos:c,result:s},s)}function Is(){var s,o=c*77+11,w=z[o];return w?(c=w.nextPos,w.result):(s=na(),s===e&&(s=Jl(),s===e&&(s=Ka(),s===e&&(s=za()))),z[o]={nextPos:c,result:s},s)}function za(){var s,o,w,p,m,$,_=c*77+12,A=z[_];if(A)return c=A.nextPos,A.result;if(s=Rs(),s===e&&(s=hn(),s===e&&(s=pn(),s===e&&(s=rn(),s===e&&(s=On(),s===e&&(s=Ga(),s===e&&(s=yn(),s===e&&(s=Rn(),s===e&&(s=Lt(),s===e&&(s=Kl(),s===e&&(s=tn(),s===e&&(s=vn(),s===e))))))))))))if(s=c,t.charCodeAt(c)===40?(o=T,c++):(o=e,O===0&&D(nt)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Ke(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e?(te=s,s=Wi(p)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Kr(){var s,o=c*77+13,w=z[o];return w?(c=w.nextPos,w.result):(s=Ga(),s===e&&(s=On(),s===e&&(s=yn(),s===e&&(s=Lr(),s===e&&(s=_t(),s===e&&(s=Rn()))))),z[o]={nextPos:c,result:s},s)}function qa(){var s,o,w,p,m,$,_,A,S,R,U=c*77+14,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===H?(o=H,c+=2):(o=e,O===0&&D(Et)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if(t.charCodeAt(c)===123?($=B,c++):($=e,O===0&&D(Ye)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(A=fr(),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();t.charCodeAt(c)===125?(R=W,c++):(R=e,O===0&&D(kt)),R!==e?(te=s,s=Gi(p,A)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function Dl(){var s,o,w,p,m,$,_=c*77+15,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.substr(c,3)===ve?(o=ve,c+=3):(o=e,O===0&&D(gs)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Y(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();$=Kr(),$!==e?(te=s,s=Zi(p,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===ve?(o=ve,c+=3):(o=e,O===0&&D(gs)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();p=Kr(),p!==e?(te=s,s=Qi(p)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Va(){var s,o,w,p,m,$,_,A,S,R=c*77+16,U=z[R];if(U)return c=U.nextPos,U.result;if(s=c,t.substr(c,3)===ie?(o=ie,c+=3):(o=e,O===0&&D(Ut)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===58?(_=fe,c++):(_=e,O===0&&D(Bt)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ue(),S!==e?m=S:(c=m,m=e)}else c=m,m=e;for(m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===61?(_=Me,c++):(_=e,O===0&&D(Mr)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ke(),S!==e?(te=s,s=Xi(p,m,S)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===G?(o=G,c+=3):(o=e,O===0&&D(Vn)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===58?(_=fe,c++):(_=e,O===0&&D(Bt)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ue(),S!==e?m=S:(c=m,m=e)}else c=m,m=e;for(m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===61?(_=Me,c++):(_=e,O===0&&D(Mr)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();S=Ke(),S!==e?(te=s,s=Yi(p,m,S)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[R]={nextPos:c,result:s},s}function Ll(){var s,o,w,p,m=c*77+17,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,t.substr(c,2)===K?(o=K,c+=2):(o=e,O===0&&D(ar)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();p=Ke(),p!==e?(te=s,s=el(p)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function Hl(){var s,o,w,p,m,$,_,A=c*77+18,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,t.substr(c,2)===Q?(o=Q,c+=2):(o=e,O===0&&D(jr)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Y(),p!==e){for(m=c,$=[],_=f();_!==e;)$.push(_),_=f();for(_=Kr(),_!==e?m=_:(c=m,m=e),m===e&&(m=null),$=[],_=f();_!==e;)$.push(_),_=f();t.charCodeAt(c)===93?(_=X,c++):(_=e,O===0&&D(Ts)),_!==e?(te=s,s=tl(p,m)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[A]={nextPos:c,result:s},s}function pr(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+19,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.substr(c,4)===Z?(o=Z,c+=4):(o=e,O===0&&D(it)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(t.substr(c,3)===ie?(m=ie,c+=3):(m=e,O===0&&D(Ut)),m!==e){if($=[],_=f(),_!==e)for(;_!==e;)$.push(_),_=f();else $=e;if($!==e)if(_=Y(),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();for(t.charCodeAt(c)===44?(S=ee,c++):(S=e,O===0&&D(St)),S===e&&(S=null),R=[],U=f();U!==e;)R.push(U),U=f();if(U=Ke(),U!==e)if(t.charCodeAt(c)===41?(V=N,c++):(V=e,O===0&&D(kr)),V!==e){for(se=[],je=f();je!==e;)se.push(je),je=f();je=b(),je!==e?(te=s,s=rl(_,U,je)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,4)===Z?(o=Z,c+=4):(o=e,O===0&&D(it)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(t.substr(c,3)===ie?(p=ie,c+=3):(p=e,O===0&&D(Ut)),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();if(R=Ke(),R!==e){if(U=[],V=f(),V!==e)for(;V!==e;)U.push(V),V=f();else U=e;U!==e?(V=b(),V!==e?(te=s,s=sl($,R,V)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function ta(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t=c*77+20,mt=z[$t];if(mt)return c=mt.nextPos,mt.result;if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(t.substr(c,3)===ie?(m=ie,c+=3):(m=e,O===0&&D(Ut)),m!==e){if($=[],_=f(),_!==e)for(;_!==e;)$.push(_),_=f();else $=e;if($!==e)if(_=Y(),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();if(S=c,t.charCodeAt(c)===61?(R=Me,c++):(R=e,O===0&&D(Mr)),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();V=Ke(),V!==e?(te=S,S=nl(_,V)):(c=S,S=e)}else c=S,S=e;for(S===e&&(S=null),t.charCodeAt(c)===44?(R=ee,c++):(R=e,O===0&&D(St)),R===e&&(R=null),U=[],V=f();V!==e;)U.push(V),V=f();if(V=Ke(),V!==e)if(t.charCodeAt(c)===41?(se=N,c++):(se=e,O===0&&D(kr)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();ge=b(),ge!==e?(te=s,s=al(_,S,V,ge)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(t.substr(c,3)===ie?(p=ie,c+=3):(p=e,O===0&&D(Ut)),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(A=c,t.charCodeAt(c)===61?(S=Me,c++):(S=e,O===0&&D(Mr)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();U=Ke(),U!==e?(te=A,A=il($,U)):(c=A,A=e)}else c=A,A=e;for(A===e&&(A=null),t.charCodeAt(c)===44?(S=ee,c++):(S=e,O===0&&D(St)),S===e&&(S=null),R=[],U=f();U!==e;)R.push(U),U=f();if(U=Ke(),U!==e){if(V=[],se=f(),se!==e)for(;se!==e;)V.push(se),se=f();else V=e;V!==e?(se=b(),se!==e?(te=s,s=Zn($,A,U,se)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===40?(p=T,c++):(p=e,O===0&&D(nt)),p!==e)if(m=Ke(),m!==e)if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();A=b(),A!==e?(te=s,s=ll(m,A)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,t.substr(c,3)===ae?(o=ae,c+=3):(o=e,O===0&&D(Vs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Ke(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;m!==e?($=b(),$!==e?(te=s,s=fl(p,$)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e}}return z[$t]={nextPos:c,result:s},s}function Ul(){var s,o,w,p,m,$=c*77+21,_=z[$];if(_)return c=_.nextPos,_.result;if(s=c,t.substr(c,6)===ne?(o=ne,c+=6):(o=e,O===0&&D(Fr)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();m=Ke(),m!==e?(te=s,s=ul(m)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[$]={nextPos:c,result:s},s}function Bl(){var s,o,w,p,m,$,_,A,S=c*77+22,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,t.substr(c,4)===Se?(o=Se,c+=4):(o=e,O===0&&D(Ai)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===123?(p=B,c++):(p=e,O===0&&D(Ye)),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();if($=yr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();t.charCodeAt(c)===125?(A=W,c++):(A=e,O===0&&D(kt)),A!==e?(te=s,s=ol($)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function ra(){var s,o,w,p,m=c*77+23,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,5)===Ne?(o=Ne,c+=5):(o=e,O===0&&D(Kn)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=cl()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Jr(){var s,o,w,p,m=c*77+24,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,8)===Ce?(o=Ce,c+=8):(o=e,O===0&&D(Ci)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=ln()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function cn(){var s,o,w,p,m,$,_=c*77+25,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ke(),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.substr(c,2)===st?(p=st,c+=2):(p=e,O===0&&D(_i)),p===e&&(t.substr(c,2)===ct?(p=ct,c+=2):(p=e,O===0&&D($a)),p===e&&(t.charCodeAt(c)===61?(p=Me,c++):(p=e,O===0&&D(Mr)))),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();$=Ke(),$!==e?(te=s,s=hl(o,p,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function sa(){var s,o,w,p,m,$,_,A,S=c*77+26,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=Is(),o!==e){for(w=[],p=c,m=[],$=Wr();$!==e;)m.push($),$=Wr();if($=Tn(),$!==e){for(_=[],A=Wr();A!==e;)_.push(A),A=Wr();A=Is(),A!==e?(te=p,p=Ma(o,$,A)):(c=p,p=e)}else c=p,p=e;if(p!==e)for(;p!==e;){for(w.push(p),p=c,m=[],$=Wr();$!==e;)m.push($),$=Wr();if($=Tn(),$!==e){for(_=[],A=Wr();A!==e;)_.push(A),A=Wr();A=Is(),A!==e?(te=p,p=Ma(o,$,A)):(c=p,p=e)}else c=p,p=e}else w=e;w!==e?(te=s,s=pl(o,w)):(c=s,s=e)}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function Wr(){var s,o,w,p=c*77+27,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===92?(o=rr,c++):(o=e,O===0&&D(ma)),o!==e?(w=g(),w!==e?(o=[o,w],s=o):(c=s,s=e)):(c=s,s=e),s===e&&(s=y()),z[p]={nextPos:c,result:s},s)}function Tn(){var s,o,w=c*77+28,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===yt?(o=yt,c+=2):(o=e,O===0&&D(Pi)),o===e&&(t.substr(c,2)===vt?(o=vt,c+=2):(o=e,O===0&&D(ki)),o===e&&(t.substr(c,2)===Xe?(o=Xe,c+=2):(o=e,O===0&&D(Mi)),o===e&&(t.substr(c,2)===gt?(o=gt,c+=2):(o=e,O===0&&D(Ei)),o===e&&(t.substr(c,2)===Zt?(o=Zt,c+=2):(o=e,O===0&&D(Ks)),o===e&&(t.substr(c,2)===er?(o=er,c+=2):(o=e,O===0&&D(Fs)),o===e&&(t.charCodeAt(c)===60?(o=ht,c++):(o=e,O===0&&D(Pn)),o===e&&(t.charCodeAt(c)===62?(o=_r,c++):(o=e,O===0&&D(xa)),o===e&&(t.charCodeAt(c)===43?(o=Qt,c++):(o=e,O===0&&D(Si)),o===e&&(t.charCodeAt(c)===45?(o=Pr,c++):(o=e,O===0&&D(ba)),o===e&&(t.charCodeAt(c)===42?(o=Kt,c++):(o=e,O===0&&D(us)),o===e&&(t.charCodeAt(c)===94?(o=xr,c++):(o=e,O===0&&D(Ti)),o===e&&(t.charCodeAt(c)===47?(o=Or,c++):(o=e,O===0&&D(Fi)),o===e&&(t.charCodeAt(c)===37?(o=Mt,c++):(o=e,O===0&&D(Ni))))))))))))))),o!==e&&(te=s,o=vl()),s=o,z[w]={nextPos:c,result:s},s)}function tn(){var s,o,w,p=c*77+29,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===33?(o=Br,c++):(o=e,O===0&&D(es)),o!==e?(w=Ke(),w!==e?(te=s,s=gl(w)):(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function Ka(){var s,o,w,p,m=c*77+30,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,o=za(),o!==e){if(w=[],p=Fn(),p===e&&(p=Ja(),p===e&&(p=Ms())),p!==e)for(;p!==e;)w.push(p),p=Fn(),p===e&&(p=Ja(),p===e&&(p=Ms()));else w=e;w!==e?(te=s,s=Ea(o,w)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function Fn(){var s,o,w,p,m,$,_=c*77+31,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===40?(o=T,c++):(o=e,O===0&&D(nt)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=zl(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e?(te=s,s=dl(p)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function zl(){var s,o,w,p,m,$,_=c*77+32,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ke(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Ke(),$!==e?(te=p,p=fn(o,$)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Ke(),$!==e?(te=p,p=fn(o,$)):(c=p,p=e)):(c=p,p=e);te=s,s=yl(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Ja(){var s,o,w,p,m,$,_=c*77+33,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=Ke(),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=wl(p)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Ms(){var s,o,w,p=c*77+34,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===46?(o=br,c++):(o=e,O===0&&D(kn)),o!==e?(w=Y(),w!==e?(te=s,s=$l(w)):(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function na(){var s,o,w,p,m,$,_,A,S,R,U=c*77+35,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===J?(o=J,c+=2):(o=e,O===0&&D(xs)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;if(w!==e)if(p=Ke(),p!==e){if(m=[],$=f(),$!==e)for(;$!==e;)m.push($),$=f();else m=e;if(m!==e)if($=b(),$!==e){if(_=c,A=[],S=f(),S!==e)for(;S!==e;)A.push(S),S=f();else A=e;if(A!==e?(S=aa(),S!==e?_=S:(c=_,_=e)):(c=_,_=e),_===e&&(_=null),A=c,S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;S!==e?(R=ql(),R!==e?A=R:(c=A,A=e)):(c=A,A=e),A===e&&(A=null),te=s,s=ml(p,$,_,A)}else c=s,s=e;else c=s,s=e}else c=s,s=e;else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function aa(){var s,o,w,p,m,$,_=c*77+36,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Hs(),o!==e){for(w=[],p=c,m=[],$=f();$!==e;)m.push($),$=f();for($=Hs(),$!==e?p=$:(c=p,p=e);p!==e;){for(w.push(p),p=c,m=[],$=f();$!==e;)m.push($),$=f();$=Hs(),$!==e?p=$:(c=p,p=e)}te=s,s=xl(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Hs(){var s,o,w,p,m,$,_,A=c*77+37,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,t.substr(c,4)===re?(o=re,c+=4):(o=e,O===0&&D(bs)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();if(m=Ke(),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();_=b(),_!==e?(te=s,s=Sa(m,_)):(c=s,s=e)}else c=s,s=e}else c=s,s=e;else c=s,s=e;return z[A]={nextPos:c,result:s},s}function ql(){var s,o,w,p,m,$=c*77+38,_=z[$];if(_)return c=_.nextPos,_.result;if(s=c,t.substr(c,4)===ue?(o=ue,c+=4):(o=e,O===0&&D(Oi)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();m=b(),m!==e?(te=s,s=Qn(m)):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[$]={nextPos:c,result:s},s}function Rs(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t,mt,vf=c*77+39,Qa=z[vf];if(Qa)return c=Qa.nextPos,Qa.result;if(s=c,t.substr(c,5)===me?(o=me,c+=5):(o=e,O===0&&D(Js)),o!==e)if(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();if(m=Ke(),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();if(t.charCodeAt(c)===123?(_=B,c++):(_=e,O===0&&D(Ye)),_!==e){for(A=[],S=f();S!==e;)A.push(S),S=f();if(S=[],R=c,U=Ke(),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();te=R,R=Ta(m,U,ge)}else c=R,R=e}else c=R,R=e}else c=R,R=e;if(R!==e)for(;R!==e;)if(S.push(R),R=c,U=Ke(),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();te=R,R=Ta(m,U,ge)}else c=R,R=e}else c=R,R=e}else c=R,R=e;else S=e;if(S!==e){if(R=c,t.charCodeAt(c)===42?(U=Kt,c++):(U=e,O===0&&D(us)),U!==e){for(V=[],se=f();se!==e;)V.push(se),se=f();if(t.substr(c,2)===he?(se=he,c+=2):(se=e,O===0&&D(Ir)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();if(ge=b(),ge!==e){for($t=[],mt=f();mt!==e;)$t.push(mt),mt=f();R=ge}else c=R,R=e}else c=R,R=e}else c=R,R=e;for(R===e&&(R=null),U=[],V=f();V!==e;)U.push(V),V=f();t.charCodeAt(c)===125?(V=W,c++):(V=e,O===0&&D(kt)),V!==e?(te=s,s=Xn(m,S,R)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e;else c=s,s=e;return z[vf]={nextPos:c,result:s},s}function hn(){var s,o,w,p,m,$,_,A,S=c*77+40,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,t.substr(c,4)===Te?(o=Te,c+=4):(o=e,O===0&&D(As)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(t.charCodeAt(c)===123?(p=B,c++):(p=e,O===0&&D(Ye)),p!==e){for(m=[],$=f();$!==e;)m.push($),$=f();if($=yr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();t.charCodeAt(c)===125?(A=W,c++):(A=e,O===0&&D(kt)),A!==e?(te=s,s=bl($)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[S]={nextPos:c,result:s},s}function pn(){var s,o,w,p,m=c*77+41,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,t.substr(c,6)===Ie?(o=Ie,c+=6):(o=e,O===0&&D(Jt)),o!==e){if(w=[],p=f(),p!==e)for(;p!==e;)w.push(p),p=f();else w=e;w!==e?(p=vn(),p!==e?(te=s,s=Al(p)):(c=s,s=e)):(c=s,s=e)}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function vn(){var s,o,w=c*77+42,p=z[w];return p?(c=p.nextPos,p.result):(s=c,o=a(),o!==e&&(te=s,o=Fa(o)),s=o,z[w]={nextPos:c,result:s},s)}function rn(){var s,o,w,p,m,$,_=c*77+43,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===96?(o=xe,c++):(o=e,O===0&&D(Ws)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===96?($=xe,c++):($=e,O===0&&D(Ws)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=Nn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===96?($=xe,c++):($=e,O===0&&D(Ws)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=Nn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===96?(p=xe,c++):(p=e,O===0&&D(Ws)),p!==e?(te=s,s=Cl(w)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Nn(){var s,o,w,p,m,$,_=c*77+44,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Ke(),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();t.charCodeAt(c)===125?($=W,c++):($=e,O===0&&D(kt)),$!==e?s=p:(c=s,s=e)}else c=s,s=e}else c=s,s=e;if(s===e){if(s=c,o=[],w=Us(),w!==e)for(;w!==e;)o.push(w),w=Us();else o=e;o!==e&&(te=s,o=Na(o)),s=o}return z[_]={nextPos:c,result:s},s}function Us(){var s,o=c*77+45,w=z[o];return w?(c=w.nextPos,w.result):(s=Wa(),s===e&&(is.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Gs))),z[o]={nextPos:c,result:s},s)}function Wa(){var s,o,w,p=c*77+46,m=z[p];return m?(c=m.nextPos,m.result):(s=c,t.charCodeAt(c)===92?(o=rr,c++):(o=e,O===0&&D(ma)),o!==e?(ls.test(t.charAt(c))?(w=t.charAt(c),c++):(w=e,O===0&&D(Zs)),w!==e?s=w:(c=s,s=e)):(c=s,s=e),z[p]={nextPos:c,result:s},s)}function On(){var s,o,w,p,m,$,_=c*77+47,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===34?(o=Ee,c++):(o=e,O===0&&D(Rr)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===34?($=Ee,c++):($=e,O===0&&D(Rr)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=gn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=Oa($)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===34?($=Ee,c++):($=e,O===0&&D(Rr)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=gn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=Oa($)):(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===34?(p=Ee,c++):(p=e,O===0&&D(Rr)),p!==e?(te=s,s=_l(w)):(c=s,s=e)}else c=s,s=e;if(s===e)if(s=c,t.charCodeAt(c)===39?(o=ye,c++):(o=e,O===0&&D(Qs)),o!==e){for(w=[],p=c,m=c,O++,t.charCodeAt(c)===39?($=ye,c++):($=e,O===0&&D(Qs)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=jn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=ja($)):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=c,O++,t.charCodeAt(c)===39?($=ye,c++):($=e,O===0&&D(Qs)),O--,$===e?m=void 0:(c=m,m=e),m!==e?($=jn(),$===e&&(t.length>c?($=t.charAt(c),c++):($=e,O===0&&D(Ct))),$!==e?(te=p,p=ja($)):(c=p,p=e)):(c=p,p=e);t.charCodeAt(c)===39?(p=ye,c++):(p=e,O===0&&D(Qs)),p!==e?(te=s,s=Pl(w)):(c=s,s=e)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function gn(){var s,o,w=c*77+48,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===Ge?(o=Ge,c+=2):(o=e,O===0&&D(Cs)),o!==e&&(te=s,o=kl()),s=o,z[w]={nextPos:c,result:s},s)}function jn(){var s,o,w=c*77+49,p=z[w];return p?(c=p.nextPos,p.result):(s=c,t.substr(c,2)===rt?(o=rt,c+=2):(o=e,O===0&&D(Aa)),o!==e&&(te=s,o=Yn()),s=o,z[w]={nextPos:c,result:s},s)}function Ga(){var s,o=c*77+50,w=z[o];return w?(c=w.nextPos,w.result):(s=sn(),s===e&&(s=dn()),z[o]={nextPos:c,result:s},s)}function sn(){var s,o,w,p,m,$,_=c*77+51,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),bt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Ca)),o!==e){if(w=[],Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr)),p!==e)for(;p!==e;)w.push(p),Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr));else w=e;if(w!==e)if(t.charCodeAt(c)===46?(p=br,c++):(p=e,O===0&&D(kn)),p!==e){if(m=[],Rt.test(t.charAt(c))?($=t.charAt(c),c++):($=e,O===0&&D(hr)),$!==e)for(;$!==e;)m.push($),Rt.test(t.charAt(c))?($=t.charAt(c),c++):($=e,O===0&&D(hr));else m=e;m!==e?(te=s,s=Ml()):(c=s,s=e)}else c=s,s=e;else c=s,s=e}else c=s,s=e;if(s===e)if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),Rt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(hr)),o!==e)if(t.charCodeAt(c)===46?(w=br,c++):(w=e,O===0&&D(kn)),w!==e){if(p=[],Rt.test(t.charAt(c))?(m=t.charAt(c),c++):(m=e,O===0&&D(hr)),m!==e)for(;m!==e;)p.push(m),Rt.test(t.charAt(c))?(m=t.charAt(c),c++):(m=e,O===0&&D(hr));else p=e;p!==e?(te=s,s=ea()):(c=s,s=e)}else c=s,s=e;else c=s,s=e;return z[_]={nextPos:c,result:s},s}function dn(){var s,o,w,p,m=c*77+52,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),bt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Ca)),o!==e){if(w=[],Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr)),p!==e)for(;p!==e;)w.push(p),Rt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(hr));else w=e;w!==e?(te=s,s=El()):(c=s,s=e)}else c=s,s=e;return s===e&&(s=c,zr.test(t.charAt(c))?(t.charAt(c),c++):O===0&&D(ir),Rt.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(hr)),o!==e?(te=s,s=Sl()):(c=s,s=e)),z[m]={nextPos:c,result:s},s}function yn(){var s,o=c*77+53,w=z[o];return w?(c=w.nextPos,w.result):(s=Vl(),s===e&&(s=In()),z[o]={nextPos:c,result:s},s)}function Vl(){var s,o,w,p,m=c*77+54,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,4)===tt?(o=tt,c+=4):(o=e,O===0&&D(ji)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Ia()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function In(){var s,o,w,p,m=c*77+55,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,5)===Ve?(o=Ve,c+=5):(o=e,O===0&&D(Xs)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Tl()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Rn(){var s,o,w,p,m=c*77+56,$=z[m];return $?(c=$.nextPos,$.result):(s=c,t.substr(c,4)===lt?(o=lt,c+=4):(o=e,O===0&&D(Ii)),o!==e?(w=c,O++,at.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(Nr)),O--,p===e?w=void 0:(c=w,w=e),w!==e?(te=s,s=Ra()):(c=s,s=e)):(c=s,s=e),z[m]={nextPos:c,result:s},s)}function Lt(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+57,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Ke(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=un($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Ke(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=un($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;t.charCodeAt(c)===125?(m=W,c++):(m=e,O===0&&D(kt)),m!==e?(te=s,s=Fl(p)):(c=s,s=e)}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function Kl(){var s,o,w,p,m,$,_,A,S,R,U=c*77+58,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Ke(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=on($)}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Ke(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=on($)}else c=m,m=e;for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=Nl(p)):(c=s,s=e)}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function Dn(){var s,o,w,p,m,$,_,A=c*77+59,S=z[A];if(S)return c=S.nextPos,S.result;if(s=c,o=Y(),o!==e){for(w=c,p=[],m=f();m!==e;)p.push(m),m=f();if(t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e){for($=[],_=f();_!==e;)$.push(_),_=f();_=Ue(),_!==e?w=_:(c=w,w=e)}else c=w,w=e;w===e&&(w=null),te=s,s=Ol(o,w)}else c=s,s=e;return z[A]={nextPos:c,result:s},s}function Za(){var s,o,w,p,m,$,_=c*77+60,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Dn(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Dn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Dn(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);te=s,s=Da(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function Le(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge,$t,mt,vf=c*77+61,Qa=z[vf];if(Qa)return c=Qa.nextPos,Qa.result;if(s=c,t.charCodeAt(c)===64?(o=dt,c++):(o=e,O===0&&D(Ri)),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(p=Y(),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();if(t.charCodeAt(c)===40?($=T,c++):($=e,O===0&&D(nt)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(A=Za(),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();if(t.charCodeAt(c)===41?(R=N,c++):(R=e,O===0&&D(kr)),R!==e){for(U=c,V=[],se=f();se!==e;)V.push(se),se=f();if(t.charCodeAt(c)===58?(se=fe,c++):(se=e,O===0&&D(Bt)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();ge=Ue(),ge!==e?U=ge:(c=U,U=e)}else c=U,U=e;for(U===e&&(U=null),V=[],se=f();se!==e;)V.push(se),se=f();if(t.charCodeAt(c)===123?(se=B,c++):(se=e,O===0&&D(Ye)),se!==e){for(je=[],ge=f();ge!==e;)je.push(ge),ge=f();for(ge=yr(),ge===e&&(ge=null),$t=[],mt=f();mt!==e;)$t.push(mt),mt=f();t.charCodeAt(c)===125?(mt=W,c++):(mt=e,O===0&&D(kt)),mt!==e?(te=s,s=jl(w,p,m,A,U,ge)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[vf]={nextPos:c,result:s},s}function Jl(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je=c*77+62,ge=z[je];if(ge)return c=ge.nextPos,ge.result;if(s=c,t.substr(c,2)===wt?(o=wt,c+=2):(o=e,O===0&&D(Mn)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=Za(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=c,A=[],S=f();S!==e;)A.push(S),S=f();if(t.charCodeAt(c)===58?(S=fe,c++):(S=e,O===0&&D(Bt)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();U=Ue(),U!==e?_=U:(c=_,_=e)}else c=_,_=e;for(_===e&&(_=null),A=[],S=f();S!==e;)A.push(S),S=f();if(t.charCodeAt(c)===123?(S=B,c++):(S=e,O===0&&D(Ye)),S!==e){for(R=[],U=f();U!==e;)R.push(U),U=f();for(U=yr(),U===e&&(U=null),V=[],se=f();se!==e;)V.push(se),se=f();t.charCodeAt(c)===125?(se=W,c++):(se=e,O===0&&D(kt)),se!==e?(te=s,s=La(p,_,U)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[je]={nextPos:c,result:s},s}function Lr(){var s,o,w,p,m,$,_,A,S,R,U=c*77+63,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.charCodeAt(c)===91?(o=sr,c++):(o=e,O===0&&D(Ns)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Kr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=Ha($)}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Kr(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();for(t.charCodeAt(c)===44?(A=ee,c++):(A=e,O===0&&D(St)),A===e&&(A=null),S=[],R=f();R!==e;)S.push(R),R=f();te=m,m=Ha($)}else c=m,m=e;for(m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===93?($=X,c++):($=e,O===0&&D(Ts)),$!==e?(te=s,s=Il(p)):(c=s,s=e)}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function _t(){var s,o,w,p,m,$,_,A,S,R,U,V,se,je,ge=c*77+64,$t=z[ge];if($t)return c=$t.nextPos,$t.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();if(p=[],m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Kr(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=Ua($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;for(;m!==e;)if(p.push(m),m=c,$=Y(),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.charCodeAt(c)===58?(A=fe,c++):(A=e,O===0&&D(Bt)),A!==e){if(S=[],R=f(),R!==e)for(;R!==e;)S.push(R),R=f();else S=e;if(S!==e)if(R=Kr(),R!==e){for(U=[],V=f();V!==e;)U.push(V),V=f();for(t.charCodeAt(c)===44?(V=ee,c++):(V=e,O===0&&D(St)),V===e&&(t.charCodeAt(c)===59?(V=Pt,c++):(V=e,O===0&&D(Os))),V===e&&(V=null),se=[],je=f();je!==e;)se.push(je),je=f();te=m,m=Ua($,R)}else c=m,m=e;else c=m,m=e}else c=m,m=e}else c=m,m=e;t.charCodeAt(c)===125?(m=W,c++):(m=e,O===0&&D(kt)),m!==e?(te=s,s=i(p)):(c=s,s=e)}else c=s,s=e;return z[ge]={nextPos:c,result:s},s}function Ue(){var s,o=c*77+65,w=z[o];return w?(c=w.nextPos,w.result):(s=ia(),s===e&&(s=we()),z[o]={nextPos:c,result:s},s)}function ia(){var s,o,w,p,m,$,_,A,S,R,U=c*77+66,V=z[U];if(V)return c=V.nextPos,V.result;if(s=c,t.substr(c,2)===wt?(o=wt,c+=2):(o=e,O===0&&D(Mn)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=C(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();if(t.charCodeAt(c)===41?($=N,c++):($=e,O===0&&D(kr)),$!==e){for(_=[],A=f();A!==e;)_.push(A),A=f();if(t.substr(c,2)===he?(A=he,c+=2):(A=e,O===0&&D(Ir)),A!==e){for(S=[],R=f();R!==e;)S.push(R),R=f();R=Ue(),R!==e?(te=s,s=q(p,R)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return z[U]={nextPos:c,result:s},s}function C(){var s,o,w,p,m,$,_=c*77+67,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Ue(),o!==e){for(w=[],p=c,m=v(),m!==e?($=Ue(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,m=v(),m!==e?($=Ue(),$!==e?p=$:(c=p,p=e)):(c=p,p=e);te=s,s=Dr(o,w)}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function we(){var s,o,w,p,m,$,_,A,S=c*77+68,R=z[S];if(R)return c=R.nextPos,R.result;if(s=c,o=Y(),o!==e){for(w=[],p=y();p!==e;)w.push(p),p=y();if(t.charCodeAt(c)===60?(p=ht,c++):(p=e,O===0&&D(Pn)),p!==e){for(m=[],$=y();$!==e;)m.push($),$=y();if($=Ue(),$!==e){for(_=[],A=y();A!==e;)_.push(A),A=y();t.charCodeAt(c)===62?(A=_r,c++):(A=e,O===0&&D(xa)),A!==e?(te=s,s=Tt(o,$)):(c=s,s=e)}else c=s,s=e}else c=s,s=e}else c=s,s=e;return s===e&&(s=c,o=Y(),o!==e&&(te=s,o=_s(o)),s=o),z[S]={nextPos:c,result:s},s}function Y(){var s,o,w,p,m=c*77+69,$=z[m];if($)return c=$.nextPos,$.result;if(s=c,an.test(t.charAt(c))?(o=t.charAt(c),c++):(o=e,O===0&&D(Di)),o!==e){for(w=[],Dt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(_a));p!==e;)w.push(p),Dt.test(t.charAt(c))?(p=t.charAt(c),c++):(p=e,O===0&&D(_a));te=s,s=u()}else c=s,s=e;return z[m]={nextPos:c,result:s},s}function a(){var s,o,w,p,m,$,_=c*77+70,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,o=Y(),o!==e){for(w=[],p=c,t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e?($=Y(),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);p!==e;)w.push(p),p=c,t.charCodeAt(c)===58?(m=fe,c++):(m=e,O===0&&D(Bt)),m!==e?($=Y(),$!==e?(m=[m,$],p=m):(c=p,p=e)):(c=p,p=e);te=s,s=k()}else c=s,s=e;return z[_]={nextPos:c,result:s},s}function v(){var s,o,w,p,m,$=c*77+71,_=z[$];if(_)return c=_.nextPos,_.result;for(s=c,o=[],w=f();w!==e;)o.push(w),w=f();if(t.charCodeAt(c)===44?(w=ee,c++):(w=e,O===0&&D(St)),w!==e){for(p=[],m=f();m!==e;)p.push(m),m=f();o=[o,w,p],s=o}else c=s,s=e;if(s===e)if(s=[],o=f(),o!==e)for(;o!==e;)s.push(o),o=f();else s=e;return z[$]={nextPos:c,result:s},s}function b(){var s,o,w,p,m,$,_=c*77+72,A=z[_];if(A)return c=A.nextPos,A.result;if(s=c,t.charCodeAt(c)===123?(o=B,c++):(o=e,O===0&&D(Ye)),o!==e){for(w=[],p=f();p!==e;)w.push(p),p=f();for(p=yr(),p===e&&(p=null),m=[],$=f();$!==e;)m.push($),$=f();t.charCodeAt(c)===125?($=W,c++):($=e,O===0&&D(kt)),$!==e?(te=s,s=Ar(p)):(c=s,s=e)}else c=s,s=e;return s===e&&(s=ds()),z[_]={nextPos:c,result:s},s}function g(){var s,o=c*77+73,w=z[o];return w?(c=w.nextPos,w.result):(t.substr(c,2)===At?(s=At,c+=2):(s=e,O===0&&D(Li)),s===e&&(xi.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Hi))),z[o]={nextPos:c,result:s},s)}function n(){var s,o,w=c*77+74,p=z[w];return p?(c=p.nextPos,p.result):(s=c,O++,t.length>c?(o=t.charAt(c),c++):(o=e,O===0&&D(Ct)),O--,o===e?s=void 0:(c=s,s=e),s===e&&(s=g()),z[w]={nextPos:c,result:s},s)}function f(){var s,o=c*77+75,w=z[o];return w?(c=w.nextPos,w.result):(bi.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Jn)),z[o]={nextPos:c,result:s},s)}function y(){var s,o=c*77+76,w=z[o];return w?(c=w.nextPos,w.result):(nr.test(t.charAt(c))?(s=t.charAt(c),c++):(s=e,O===0&&D(Ui)),z[o]={nextPos:c,result:s},s)}function h(s,o,w){const p={type:s};o.children=w;for(const $ of Object.keys(o))o[$]!==void 0&&(p[$]=o[$]);const m=E();return p.loc={start:m.start.offset,end:m.end.offset-1},p}if(Ps=x(),Ps!==e&&c===t.length)return Ps;throw Ps!==e&&c<t.length&&D(L()),en(ft,j<t.length?t.charAt(j):null,j<t.length?Ys(j,j+1):Ys(j,j))}const B1=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function z1(t){return B1.includes(t.type)}function z0(t){return"chain"in t&&t.chain!==null}function q1(t,r,e){return{type:"call",target:t,args:r,loc:e}}function V1(t,r,e){return{type:"index",target:t,index:r,loc:e}}function K1(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function It(t,r){const e=r(t);switch(e.type){case"def":{e.expr=It(e.expr,r);break}case"return":{e.expr=It(e.expr,r);break}case"each":{e.items=It(e.items,r),e.for=It(e.for,r);break}case"for":{e.from!=null&&(e.from=It(e.from,r)),e.to!=null&&(e.to=It(e.to,r)),e.times!=null&&(e.times=It(e.times,r)),e.for=It(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=It(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=It(e.expr,r),e.dest=It(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=It(e.operands[l],r);break}case"not":{e.expr=It(e.expr,r);break}case"if":{e.cond=It(e.cond,r),e.then=It(e.then,r);for(const l of e.elseif)l.cond=It(l.cond,r),l.then=It(l.then,r);e.else!=null&&(e.else=It(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=It(e.children[l],r);break}case"match":{e.about=It(e.about,r);for(const l of e.qs)l.q=It(l.q,r),l.a=It(l.a,r);e.default!=null&&(e.default=It(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=It(e.statements[l],r);break}case"exists":{e.identifier=It(e.identifier,r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=It(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],It(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=It(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=It(e.args[l],r);break}case"indexChain":{e.index=It(e.index,r);break}case"call":{e.target=It(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=It(e.args[l],r);break}case"index":{e.target=It(e.target,r),e.index=It(e.index,r);break}case"prop":{e.target=It(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=It(e.members[l],r);break}case"or":case"and":{e.left=It(e.left,r),e.right=It(e.right,r);break}}if(z0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=It(e.chain[l],r);return e}const fp=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function up(t){throw new eo(`Reserved word "${t}" cannot be used as variable name.`)}function J1(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{fp.includes(t.name)&&up(t.name);break}case"meta":{t.name!=null&&fp.includes(t.name)&&up(t.name);break}case"fn":{for(const r of t.args)fp.includes(r.name)&&up(r.name);break}}return t}function W1(t){for(const r of t)It(r,J1);return t}function nd(t){return{type:"simple",name:t}}function G1(t,r){return{type:"generic",name:t,inners:r}}function Z1(t,r){return{type:"fn",args:t,result:r}}function zc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=zc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>zc(l)).join(", "),e=zc(t.result);return`@(${r}) { ${e} }`}}}function So(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return nd(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=So(t.inner):r=nd("any"),G1(t.name,[r])}}throw new eo(`Unknown type: '${zc(t)}'`)}else{const r=t.args.map(e=>So(e));return Z1(r,So(t.result))}}function Q1(t){switch(t.type){case"def":{t.varType!=null&&So(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&So(r.argType);t.retType!=null&&So(t.retType);break}}return t}function X1(t){for(const r of t)It(r,Q1);return t}function qc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=qc(l.expr.children)),r.push(l);else{if(e.length>0)throw new eo("invalid attribute.");switch(l.type){case"fn":{l.children=qc(l.children);break}case"block":{l.statements=qc(l.statements);break}}r.push(l)}if(e.length>0)throw new eo("invalid attribute.");return r}function Y1(t){if(z1(t)&&z0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=q1(l,d.args,d.loc);break}case"indexChain":{l=V1(l,d.index,d.loc);break}case"propChain":{l=K1(l,d.name,d.loc);break}}return l}return t}function eA(t){for(let r=0;r<t.length;r++)t[r]=It(t[r],Y1);return t}function Vc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function q0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Vc(t,r,e);{const{left:l,right:d,info:x}=t;return Vc(l,q0(d,r,e),x)}}function Fu(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Fu(t.left),Fu(t.right)]}}const tA={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Fu(t.left),right:Fu(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Fu(t.left),right:Fu(t.right)}),priority:3}};function rA(t){const r=t.operators.map(l=>{const d=tA[l];if(d==null)throw new eo(`No such operator: ${l}.`);return d});let e=Vc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=q0(e,t.operands[2+l],r[1+l]);return Fu(e)}function sA(t){for(let r=0;r<t.length;r++)t[r]=It(t[r],e=>e.type==="infix"?rA(e):e);return t}var Ff;let nA=(Ff=class{constructor(){be(this,"plugins");this.plugins={validate:[W1,X1],transform:[qc,eA,sA]}}static parse(r){return Ff.instance==null&&(Ff.instance=new Ff),Ff.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=sd(r,{startRule:"Preprocess"});e=sd(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new eo(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`,l):new eo(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`,l):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Ff,"instance"),Ff);const aA="0.16.0",iA={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let sv=[],qo=null;function lA(t){return sv=nA.parse(t),JSON.stringify(sv,null,"	")}async function fA(t){qo==null||qo.abort(),qo=new wa({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:ev(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:ev(e.val,!0),print:!1});break}}});try{await qo.exec(sv)}catch(r){t.err(r)}}const uA=Object.freeze(Object.defineProperty({__proto__:null,exec:fA,parse:lA,samples:iA,version:aA},Symbol.toStringTag,{value:"Module"}));function Kc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kc=function(e){return typeof e}:Kc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function V0(t,r,e){var l=e.value;if(typeof l!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(Kc(l)));var d=!1;return{configurable:!0,get:function(){if(d||this===t.prototype||this.hasOwnProperty(r)||typeof l!="function")return l;var P=l.bind(this);return d=!0,Object.defineProperty(this,r,{configurable:!0,get:function(){return P},set:function(F){l=F,delete this[r]}}),d=!1,P},set:function(P){l=P}}}function oA(t){var r;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?r=Reflect.ownKeys(t.prototype):(r=Object.getOwnPropertyNames(t.prototype),typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t.prototype)))),r.forEach(function(e){if(e!=="constructor"){var l=Object.getOwnPropertyDescriptor(t.prototype,e);typeof l.value=="function"&&Object.defineProperty(t.prototype,e,V0(t,e,l))}}),t}function Gt(){return arguments.length===1?oA.apply(void 0,arguments):V0.apply(void 0,arguments)}let K0=class J0 extends Error{constructor(e,l){super(e);be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,J0)}},to=class extends K0{constructor(r,e){super(r,e)}},ns=class extends K0{constructor(r,e){super(r,e)}},cA=class extends ns{constructor(r,e){super(r,e)}};var uo=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};let wu=class W0{constructor(r=[],e,l){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new W0(l,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r);return this.log("read",{var:r,val:l}),l}throw new ns(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new ns(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){d.set(r,e),this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new ns(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};uo([Gt],wu.prototype,"log",null);uo([Gt],wu.prototype,"onUpdated",null);uo([Gt],wu.prototype,"createChildScope",null);uo([Gt],wu.prototype,"get",null);uo([Gt],wu.prototype,"getAll",null);uo([Gt],wu.prototype,"add",null);uo([Gt],wu.prototype,"assign",null);let Cc;const hA=new Uint8Array(16);function pA(){if(!Cc&&(Cc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cc(hA)}const Hn=[];for(let t=0;t<256;++t)Hn.push((t+256).toString(16).slice(1));function vA(t,r=0){return(Hn[t[r+0]]+Hn[t[r+1]]+Hn[t[r+2]]+Hn[t[r+3]]+"-"+Hn[t[r+4]]+Hn[t[r+5]]+"-"+Hn[t[r+6]]+Hn[t[r+7]]+"-"+Hn[t[r+8]]+Hn[t[r+9]]+"-"+Hn[t[r+10]]+Hn[t[r+11]]+Hn[t[r+12]]+Hn[t[r+13]]+Hn[t[r+14]]+Hn[t[r+15]]).toLowerCase()}const gA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ad={randomUUID:gA};function dA(t,r,e){if(ad.randomUUID&&!r&&!t)return ad.randomUUID();t=t||{};const l=t.random||(t.rng||pA)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,vA(l)}const Hr={type:"null"},uf={type:"bool",value:!0},Zl={type:"bool",value:!1},Qe=t=>({type:"num",value:t}),rs=t=>({type:"str",value:t}),To=t=>({type:"bool",value:t}),zv=t=>({type:"obj",value:t}),fa=t=>({type:"arr",value:t}),yA=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),_e=t=>({type:"fn",native:t}),wA=t=>({type:"return",value:t}),$A=()=>({type:"break",value:null}),mA=()=>({type:"continue",value:null}),xA=t=>t.type==="return"?t.value:t;function ef(t){if(t==null)throw new ns("Expect anything, but got nothing.")}function si(t){if(t==null)throw new ns("Expect boolean, but got nothing.");if(t.type!=="bool")throw new ns(`Expect boolean, but got ${t.type}.`)}function nu(t){if(t==null)throw new ns("Expect function, but got nothing.");if(t.type!=="fn")throw new ns(`Expect function, but got ${t.type}.`)}function wn(t){if(t==null)throw new ns("Expect string, but got nothing.");if(t.type!=="str")throw new ns(`Expect string, but got ${t.type}.`)}function Je(t){if(t==null)throw new ns("Expect number, but got nothing.");if(t.type!=="num")throw new ns(`Expect number, but got ${t.type}.`)}function Qf(t){if(t==null)throw new ns("Expect object, but got nothing.");if(t.type!=="obj")throw new ns(`Expect object, but got ${t.type}.`)}function Fo(t){if(t==null)throw new ns("Expect array, but got nothing.");if(t.type!=="arr")throw new ns(`Expect array, but got ${t.type}.`)}function bA(t){return t.type==="str"}function AA(t){return t.type==="num"}function CA(t){return t.type==="obj"}function _A(t){return t.type==="arr"}function nv(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function av(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>av(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function iv(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>iv(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=iv(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function lv(t){if(t===null)return Hr;if(typeof t=="boolean")return To(t);if(typeof t=="string")return rs(t);if(typeof t=="number")return Qe(t);if(Array.isArray(t))return fa(t.map(r=>lv(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,lv(l));return zv(r)}return Hr}const PA={help:rs("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":rs("0.14.1"),"Core:ai":rs("kawaii"),"Core:not":_e(([t])=>(si(t),t.value?Zl:uf)),"Core:eq":_e(([t,r])=>(ef(t),ef(r),nv(t,r)?uf:Zl)),"Core:neq":_e(([t,r])=>(ef(t),ef(r),nv(t,r)?Zl:uf)),"Core:and":_e(([t,r])=>(si(t),t.value?(si(r),r.value?uf:Zl):Zl)),"Core:or":_e(([t,r])=>(si(t),t.value?uf:(si(r),r.value?uf:Zl))),"Core:add":_e(([t,r])=>(Je(t),Je(r),Qe(t.value+r.value))),"Core:sub":_e(([t,r])=>(Je(t),Je(r),Qe(t.value-r.value))),"Core:mul":_e(([t,r])=>(Je(t),Je(r),Qe(t.value*r.value))),"Core:pow":_e(([t,r])=>{Je(t),Je(r);const e=t.value**r.value;if(isNaN(e))throw new ns("Invalid operation.");return Qe(e)}),"Core:div":_e(([t,r])=>{Je(t),Je(r);const e=t.value/r.value;if(isNaN(e))throw new ns("Invalid operation.");return Qe(e)}),"Core:mod":_e(([t,r])=>(Je(t),Je(r),Qe(t.value%r.value))),"Core:gt":_e(([t,r])=>(Je(t),Je(r),t.value>r.value?uf:Zl)),"Core:lt":_e(([t,r])=>(Je(t),Je(r),t.value<r.value?uf:Zl)),"Core:gteq":_e(([t,r])=>(Je(t),Je(r),t.value>=r.value?uf:Zl)),"Core:lteq":_e(([t,r])=>(Je(t),Je(r),t.value<=r.value?uf:Zl)),"Core:type":_e(([t])=>(ef(t),rs(t.type))),"Core:to_str":_e(([t])=>(ef(t),t.type==="str"?t:t.type==="num"?rs(t.value.toString()):rs("?"))),"Core:range":_e(([t,r])=>(Je(t),Je(r),t.value<r.value?fa(Array.from({length:r.value-t.value+1},(e,l)=>Qe(l+t.value))):t.value>r.value?fa(Array.from({length:t.value-r.value+1},(e,l)=>Qe(t.value-l))):fa([t]))),"Util:uuid":_e(()=>rs(dA())),"Json:stringify":_e(([t])=>(ef(t),rs(JSON.stringify(iv(t))))),"Json:parse":_e(([t])=>(wn(t),lv(JSON.parse(t.value)))),"Json:parsable":_e(([t])=>{wn(t);try{JSON.parse(t.value)}catch{return To(!1)}return To(!0)}),"Date:now":_e(()=>Qe(Date.now())),"Date:year":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":_e(([t])=>(t&&Je(t),Qe(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":_e(([t])=>(wn(t),Qe(new Date(t.value).getTime()))),"Math:Infinity":Qe(1/0),"Math:E":Qe(Math.E),"Math:LN2":Qe(Math.LN2),"Math:LN10":Qe(Math.LN10),"Math:LOG2E":Qe(Math.LOG2E),"Math:LOG10E":Qe(Math.LOG10E),"Math:PI":Qe(Math.PI),"Math:SQRT1_2":Qe(Math.SQRT1_2),"Math:SQRT2":Qe(Math.SQRT2),"Math:abs":_e(([t])=>(Je(t),Qe(Math.abs(t.value)))),"Math:acos":_e(([t])=>(Je(t),Qe(Math.acos(t.value)))),"Math:acosh":_e(([t])=>(Je(t),Qe(Math.acosh(t.value)))),"Math:asin":_e(([t])=>(Je(t),Qe(Math.asin(t.value)))),"Math:asinh":_e(([t])=>(Je(t),Qe(Math.asinh(t.value)))),"Math:atan":_e(([t])=>(Je(t),Qe(Math.atan(t.value)))),"Math:atanh":_e(([t])=>(Je(t),Qe(Math.atanh(t.value)))),"Math:atan2":_e(([t,r])=>(Je(t),Je(r),Qe(Math.atan2(t.value,r.value)))),"Math:cbrt":_e(([t])=>(Je(t),Qe(Math.cbrt(t.value)))),"Math:ceil":_e(([t])=>(Je(t),Qe(Math.ceil(t.value)))),"Math:clz32":_e(([t])=>(Je(t),Qe(Math.clz32(t.value)))),"Math:cos":_e(([t])=>(Je(t),Qe(Math.cos(t.value)))),"Math:cosh":_e(([t])=>(Je(t),Qe(Math.cosh(t.value)))),"Math:exp":_e(([t])=>(Je(t),Qe(Math.exp(t.value)))),"Math:expm1":_e(([t])=>(Je(t),Qe(Math.expm1(t.value)))),"Math:floor":_e(([t])=>(Je(t),Qe(Math.floor(t.value)))),"Math:fround":_e(([t])=>(Je(t),Qe(Math.fround(t.value)))),"Math:hypot":_e(([t])=>{Fo(t);const r=[];for(const e of t.value)Je(e),r.push(e.value);return Qe(Math.hypot(...r))}),"Math:imul":_e(([t,r])=>(Je(t),Je(r),Qe(Math.imul(t.value,r.value)))),"Math:log":_e(([t])=>(Je(t),Qe(Math.log(t.value)))),"Math:log1p":_e(([t])=>(Je(t),Qe(Math.log1p(t.value)))),"Math:log10":_e(([t])=>(Je(t),Qe(Math.log10(t.value)))),"Math:log2":_e(([t])=>(Je(t),Qe(Math.log2(t.value)))),"Math:max":_e(([t,r])=>(Je(t),Je(r),Qe(Math.max(t.value,r.value)))),"Math:min":_e(([t,r])=>(Je(t),Je(r),Qe(Math.min(t.value,r.value)))),"Math:pow":_e(([t,r])=>(Je(t),Je(r),Qe(Math.pow(t.value,r.value)))),"Math:round":_e(([t])=>(Je(t),Qe(Math.round(t.value)))),"Math:sign":_e(([t])=>(Je(t),Qe(Math.sign(t.value)))),"Math:sin":_e(([t])=>(Je(t),Qe(Math.sin(t.value)))),"Math:sinh":_e(([t])=>(Je(t),Qe(Math.sinh(t.value)))),"Math:sqrt":_e(([t])=>{Je(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new ns("Invalid operation.");return Qe(r)}),"Math:tan":_e(([t])=>(Je(t),Qe(Math.tan(t.value)))),"Math:tanh":_e(([t])=>(Je(t),Qe(Math.tanh(t.value)))),"Math:trunc":_e(([t])=>(Je(t),Qe(Math.trunc(t.value)))),"Math:rnd":_e(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Qe(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Qe(Math.random())),"Math:gen_rng":_e(([t])=>{if(ef(t),t.type!=="num"&&t.type!=="str")return Hr;const r=no(t.value.toString());return _e(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?Qe(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Qe(r()))}),"Num:to_hex":_e(([t])=>(Je(t),rs(t.value.toString(16)))),"Num:from_hex":_e(([t])=>(wn(t),Qe(parseInt(t.value,16)))),"Str:lf":rs(`
`),"Str:lt":_e(([t,r])=>(wn(t),wn(r),t.value<r.value?Qe(-1):t.value===r.value?Qe(0):Qe(1))),"Str:gt":_e(([t,r])=>(wn(t),wn(r),t.value>r.value?Qe(-1):t.value===r.value?Qe(0):Qe(1))),"Obj:keys":_e(([t])=>(Qf(t),fa(Array.from(t.value.keys()).map(r=>rs(r))))),"Obj:vals":_e(([t])=>(Qf(t),fa(Array.from(t.value.values())))),"Obj:kvs":_e(([t])=>(Qf(t),fa(Array.from(t.value.entries()).map(([r,e])=>fa([rs(r),e]))))),"Obj:get":_e(([t,r])=>(Qf(t),wn(r),t.value.get(r.value)??Hr)),"Obj:set":_e(([t,r,e])=>(Qf(t),wn(r),ef(e),t.value.set(r.value,e),Hr)),"Obj:has":_e(([t,r])=>(Qf(t),wn(r),To(t.value.has(r.value)))),"Obj:copy":_e(([t])=>(Qf(t),zv(new Map(t.value)))),"Async:interval":_e(async([t,r,e],l)=>{Je(t),nu(r),e&&(si(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.call(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),_e(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":_e(async([t,r],e)=>{Je(t),nu(r);const l=setTimeout(()=>{e.call(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),_e(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},co={num:{to_str:t=>_e(async(r,e)=>rs(t.value.toString()))},str:{to_num:t=>_e(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?Hr:Qe(l)}),len:t=>Qe(io(t.value)),replace:t=>_e(async([r,e],l)=>(wn(r),wn(e),rs(t.value.split(r.value).join(e.value)))),index_of:t=>_e(async([r],e)=>(wn(r),Qe(fo(t.value,r.value)))),incl:t=>_e(async([r],e)=>(wn(r),t.value.includes(r.value)?uf:Zl)),trim:t=>_e(async(r,e)=>rs(t.value.trim())),upper:t=>_e(async(r,e)=>rs(t.value.toUpperCase())),lower:t=>_e(async(r,e)=>rs(t.value.toLowerCase())),split:t=>_e(async([r],e)=>(r&&wn(r),fa(r?t.value.split(r?r.value:"").map(l=>rs(l)):Cn(t.value).map(l=>rs(l))))),slice:t=>_e(async([r,e],l)=>(Je(r),Je(e),rs(lo(t.value,r.value,e.value)))),pick:t=>_e(async([r],e)=>{Je(r);const d=Cn(t.value)[r.value];return d?rs(d):Hr})},arr:{len:t=>Qe(t.value.length),push:t=>_e(async([r],e)=>(ef(r),t.value.push(r),t)),unshift:t=>_e(async([r],e)=>(ef(r),t.value.unshift(r),t)),pop:t=>_e(async(r,e)=>t.value.pop()??Hr),shift:t=>_e(async(r,e)=>t.value.shift()??Hr),concat:t=>_e(async([r],e)=>(Fo(r),fa(t.value.concat(r.value)))),slice:t=>_e(async([r,e],l)=>(Je(r),Je(e),fa(t.value.slice(r.value,e.value)))),join:t=>_e(async([r],e)=>(r&&wn(r),rs(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>_e(async([r],e)=>{nu(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,Qe(x)]));return fa(await Promise.all(l))}),filter:t=>_e(async([r],e)=>{nu(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,Qe(d)]);si(P),P.value&&l.push(x)}return fa(l)}),reduce:t=>_e(async([r,e],l)=>{nu(r);const d=e!=null;let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,Qe(P)])}return x}),find:t=>_e(async([r],e)=>{nu(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,Qe(l)]);if(si(x),x.value)return d}return Hr}),incl:t=>_e(async([r],e)=>(ef(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Zl:(d=>d.value.map(x=>x.type==="str"||x.type==="num"||x.type==="bool"?x.value:x.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?uf:Zl)),reverse:t=>_e(async(r,e)=>(t.value.reverse(),Hr)),copy:t=>_e(async(r,e)=>fa([...t.value])),sort:t=>_e(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=await l(x.slice(0,M),P),T=await l(x.slice(M),P);return d(F,T,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);Je(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return nu(r),Fo(t),t.value=await l(t.value,r),t})}};var sf=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const G0=300,kA=G0-1;let $i=class{constructor(r,e){be(this,"vars");be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);this.opts=e??{};const l={print:_e(([d])=>{ef(d),this.opts.out&&this.opts.out(d)}),readline:_e(async d=>{const x=d[0];if(wn(x),this.opts.in==null)return Hr;const P=await this.opts.in(x.value);return rs(P)})};this.vars={...r,...PA,...l},this.scope=new wu([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const l of r.members)switch(l.type){case"def":{const d=await this._eval(l.expr,e);e.add(l.name,d),this.scope.add(r.name+":"+l.name,d);break}case"ns":break;default:throw new Error("invalid ns member type: "+l.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Hr;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],e[x]);const d=r.scope.createChildScope(l);return xA(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return Hr;if(this.stepCount%G0===kA&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new ns("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);nu(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(si(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(si(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Hr}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(nv(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):Hr}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return Hr}case"for":{if(r.times){const l=await this._eval(r.times,e);Je(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);Je(l),Je(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,Qe(x)]])));if(P.type==="break")break;if(P.type==="return")return P}}return Hr}case"each":{const l=await this._eval(r.items,e);Fo(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,d]])));if(x.type==="break")break;if(x.type==="return")return x}return Hr}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,l),Hr}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),Hr}case"addAssign":{const l=await this._eval(r.dest,e);Je(l);const d=await this._eval(r.expr,e);return Je(d),await this.assign(e,r.dest,Qe(l.value+d.value)),Hr}case"subAssign":{const l=await this._eval(r.dest,e);Je(l);const d=await this._eval(r.expr,e);return Je(d),await this.assign(e,r.dest,Qe(l.value-d.value)),Hr}case"null":return Hr;case"bool":return To(r.value);case"num":return Qe(r.value);case"str":return rs(r.value);case"arr":return fa(await Promise.all(r.value.map(async l=>await this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return zv(l)}case"prop":{const l=await this._eval(r.target,e);if(CA(l))return l.value.has(r.name)?l.value.get(r.name):Hr;if(AA(l)){if(Object.hasOwn(co.num,r.name))return co.num[r.name](l);throw new ns(`No such prop (${r.name}) in ${l.type}.`)}else if(bA(l)){if(Object.hasOwn(co.str,r.name))return co.str[r.name](l);throw new ns(`No such prop (${r.name}) in ${l.type}.`)}else if(_A(l)){if(Object.hasOwn(co.arr,r.name))return co.arr[r.name](l);throw new ns(`No such prop (${r.name}) in ${l.type}.`)}else throw new ns(`Cannot read prop (${r.name}) of ${l.type}.`)}case"index":{const l=await this._eval(r.target,e);Fo(l);const d=await this._eval(r.index,e);Je(d);const x=l.value[d.value];if(x===void 0)throw new cA(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}case"not":{const l=await this._eval(r.expr,e);return si(l),To(!l.value)}case"fn":return yA(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);let P="";x.type==="str"?P=x.value:x.type==="num"&&(P=x.value.toString()),l+=P}return rs(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),wA(l)}case"break":return this.log("block:break",{scope:e.name}),$A();case"continue":return this.log("block:continue",{scope:e.name}),mA();case"ns":return Hr;case"meta":return Hr;case"and":{const l=await this._eval(r.left,e);if(si(l),l.value){const d=await this._eval(r.right,e);return si(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(si(l),l.value)return l;{const d=await this._eval(r.right,e);return si(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=Hr;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r);Fo(d);const x=await this._eval(e.index,r);Je(x),d.value[x.value]=l}else if(e.type==="prop"){const d=await this._eval(e.target,r);Qf(d),d.value.set(e.name,l)}else throw new ns("The left-hand side of an assignment expression must be a variable or a property/index access.")}};sf([Gt],$i.prototype,"exec",null);sf([Gt],$i.prototype,"execFn",null);sf([Gt],$i.prototype,"log",null);sf([Gt],$i.prototype,"collectNs",null);sf([Gt],$i.prototype,"collectNsMember",null);sf([Gt],$i.prototype,"_fn",null);sf([Gt],$i.prototype,"_eval",null);sf([Gt],$i.prototype,"_run",null);sf([Gt],$i.prototype,"registerAbortHandler",null);sf([Gt],$i.prototype,"unregisterAbortHandler",null);sf([Gt],$i.prototype,"abort",null);sf([Gt],$i.prototype,"assign",null);sf([Gt],$i,"collectMetadata",null);function MA(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Wu(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Wu.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}MA(Wu,Error);function op(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Wu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=op("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+op("",d.column-1," ")+op("",H,"^")}else r+=`
 at `+P}return r};Wu.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function id(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:D,Main:js},x=D,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="<",_r=">",Qt="+",Pr="-",Kt="*",xr="^",Or="/",Mt="%",Br="!",sr="[",br=".",J="if",re="elif",ue="else",me="match",he="=>",Te="eval",Ie="`",xe='"',Ee="'",ye='\\"',Ge="\\'",rt="true",tt="false",Ve="null",lt=";",Pt="@",dt="@(",wt=`\r
`,At=/^[A-Z0-9_:]/i,at=/^[^`{]/,is=/^[{}`]/,ls=/^[+\-]/,zr=/^[1-9]/,bt=/^[0-9]/,Rt=/^[A-Z_]/i,an=/^[A-Z0-9_]/i,Dt=/^[\r\n]/,xi=/^[ \t\r\n]/,bi=/^[ \t]/,nr=Rl(),Ct=le("//",!1),cr=le("/*",!1),_n=le("*/",!1),ot=le("(",!1),nt=le(")",!1),kr=le("::",!1),Et=le("{",!1),Ye=le("}",!1),kt=le("###",!1),gs=le("let",!1),Ut=le(":",!1),Bt=le("=",!1),Mr=le("var",!1),Vn=le("<:",!1),ar=le("#[",!1),jr=le("]",!1),Ts=le("each",!1),it=le(",",!1),St=le("for",!1),Vs=le("return",!1),Fr=E([["A","Z"],["0","9"],"_",":"],!1,!0),Nr=le("loop",!1),Ai=le("break",!1),Kn=le("continue",!1),Ci=le("+=",!1),_i=le("-=",!1),$a=le("\\",!1),ma=le("||",!1),Pi=le("&&",!1),ki=le("==",!1),Mi=le("!=",!1),Ei=le("<=",!1),Ks=le(">=",!1),Fs=le("<",!1),Pn=le(">",!1),xa=le("+",!1),Si=le("-",!1),ba=le("*",!1),us=le("^",!1),Ti=le("/",!1),Fi=le("%",!1),Ni=le("!",!1),es=le("[",!1),Ns=le(".",!1),kn=le("if",!1),xs=le("elif",!1),bs=le("else",!1),Oi=le("match",!1),Js=le("=>",!1),Ir=le("eval",!1),As=le("`",!1),Jt=E(["`","{"],!0,!1),Ws=E(["{","}","`"],!1,!1),Gs=le('"',!1),Zs=le("'",!1),Rr=le('\\"',!1),Qs=le("\\'",!1),Cs=E(["+","-"],!1,!1),Aa=E([["1","9"]],!1,!1),ir=E([["0","9"]],!1,!1),Ca=le("true",!1),hr=le("false",!1),ji=le("null",!1),Xs=le(";",!1),Ii=le("@",!1),Os=le("@(",!1),Ri=E([["A","Z"],"_"],!1,!0),Mn=E([["A","Z"],["0","9"],"_"],!1,!0),Di=le(`\r
`,!1),_a=E(["\r",`
`],!1,!1),Li=E([" ","	","\r",`
`],!1,!1),Hi=E([" ","	"],!1,!1),Jn=function(n){return n.join("")},Ui=function(){return O()},Wn=function(){return O()},Bi=function(){return""},Gn=function(){return""},zi=function(n){return n??[]},Pa=function(n,f){return f},qi=function(n,f){return[n,...f]},En=function(n,f){return f},Vi=function(n,f){return[n,...f]},Sn=function(n,f){return f},Ki=function(n,f){return[n,...f]},ka=function(n){return n},Ji=function(n,f){return g("ns",{name:n,members:f})},Wi=function(n,f){return g("meta",{name:n,value:f})},Gi=function(n){return g("meta",{name:null,value:n})},Zi=function(n,f,y){return g("def",{name:n,varType:f,expr:y,mut:!1,attr:[]})},Qi=function(n,f,y){return g("def",{name:n,varType:f,expr:y,mut:!0,attr:[]})},Xi=function(n){return g("identifier",{name:"print",chain:[g("callChain",{args:[n]})]})},Yi=function(n,f){return g("attr",{name:n,value:f??g("bool",{value:!0})})},el=function(n,f,y){return g("each",{var:n,items:f,for:y})},tl=function(n,f,y){return g("each",{var:n,items:f,for:y})},rl=function(n,f){return f},sl=function(n,f,y,h){return g("for",{var:n,from:f??g("num",{value:0}),to:y,for:h})},nl=function(n,f){return f},al=function(n,f,y,h){return g("for",{var:n,from:f??g("num",{value:0}),to:y,for:h})},il=function(n,f){return g("for",{times:n,for:f})},Zn=function(n,f){return g("for",{times:n,for:f})},ll=function(n){return g("return",{expr:n})},fl=function(n){return g("loop",{statements:n})},ul=function(){return g("break",{})},ol=function(){return g("continue",{})},cl=function(n,f,y){return f==="+="?g("addAssign",{dest:n,expr:y}):f==="-="?g("subAssign",{dest:n,expr:y}):g("assign",{dest:n,expr:y})},ln=function(n,f,y){return{op:f,term:y}},hl=function(n,f){return g("infix",{operands:[n,...f.map(y=>y.term)],operators:f.map(y=>y.op)})},Ma=function(){return O()},pl=function(n){return g("not",{expr:n})},vl=function(n,f){return{...n,chain:f}},gl=function(n){return g("callChain",{args:n??[]})},Ea=function(n,f){return f},dl=function(n,f){return[n,...f]},fn=function(n){return g("indexChain",{index:n})},yl=function(n){return g("propChain",{name:n})},wl=function(n,f,y,h){return g("if",{cond:n,then:f,elseif:y??[],else:h})},$l=function(n,f){return[n,...f]},ml=function(n,f){return{cond:n,then:f}},xl=function(n){return n},Sa=function(n,f,y){return{q:f,a:y}},Qn=function(n,f,y){return g("match",{about:n,qs:f??[],default:y})},Ta=function(n){return g("block",{statements:n})},Xn=function(n){return g("identifier",{name:n})},bl=function(n){return g("tmpl",{tmpl:n})},Al=function(n){return n.join("")},Fa=function(n){return n},Cl=function(n){return g("str",{value:n.join("")})},Na=function(n){return n},Oa=function(n){return g("str",{value:n.join("")})},_l=function(){return'"'},ja=function(){return"'"},Pl=function(){return g("num",{value:parseFloat(O())})},kl=function(){return g("num",{value:parseFloat(O())})},Yn=function(){return g("num",{value:parseInt(O(),10)})},Ml=function(){return g("num",{value:parseInt(O(),10)})},ea=function(){return g("bool",{value:!0})},El=function(){return g("bool",{value:!1})},Sl=function(){return g("null",{})},Ia=function(n,f){return{k:n,v:f}},Tl=function(n){const f=new Map;for(const y of n)f.set(y.k,y.v);return g("obj",{value:f})},Ra=function(n){return n},un=function(n){return g("arr",{value:n})},Fl=function(n,f){return{name:n,argType:f}},on=function(n,f){return[n,...f]},Nl=function(n,f,y,h,s,o){return(n.length>0||y.length>0)&&Ps("Cannot use spaces before or after the function name."),g("def",{name:f,expr:g("fn",{args:h??[],retType:s},o??[]),mut:!1,attr:[]})},Ol=function(n,f,y){return g("fn",{args:n??[],retType:f},y??[])},Da=function(n){return n},jl=function(n){return g("arr",{value:n})},La=function(n,f){return{k:n,v:f}},Ha=function(n){const f=new Map;for(const y of n)f.set(y.k,y.v);return g("obj",{value:f})},Il=function(n,f){return g("fnTypeSource",{args:n??[],result:f})},Ua=function(n,f){return[n,...f]},i=function(n,f){return g("namedTypeSource",{name:n,inner:f})},q=function(n){return g("namedTypeSource",{name:n,inner:null})},Dr=function(){return O()},Tt=function(){return O()},_s=function(n){return g("block",{statements:n??[]})},u=0,k=0,Ar=[{line:1,column:1}],c=0,te=[],I=0,j={},ft;if("startRule"in r){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function O(){return t.substring(k,u)}function z(){return ks(k,u)}function Ps(n,f){throw f=f!==void 0?f:ks(k,u),Ba(n,f)}function le(n,f){return{type:"literal",text:n,ignoreCase:f}}function E(n,f,y){return{type:"class",parts:n,inverted:f,ignoreCase:y}}function Rl(){return{type:"any"}}function pe(){return{type:"end"}}function tr(n){var f=Ar[n],y;if(f)return f;for(y=n-1;!Ar[y];)y--;for(f=Ar[y],f={line:f.line,column:f.column};y<n;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return Ar[n]=f,f}function ks(n,f,y){var h=tr(n),s=tr(f),o={source:l,start:{offset:n,line:h.line,column:h.column},end:{offset:f,line:s.line,column:s.column}};return o}function L(n){u<c||(u>c&&(c=u,te=[]),te.push(n))}function Ba(n,f){return new Wu(n,null,null,f)}function Ys(n,f,y){return new Wu(Wu.buildMessage(n,f),n,f,y)}function D(){var n,f,y,h=u*76+0,s=j[h];if(s)return u=s.nextPos,s.result;for(n=u,f=[],y=qr();y!==e;)f.push(y),y=qr();return k=n,f=Jn(f),n=f,j[h]={nextPos:u,result:n},n}function qr(){var n,f,y=u*76+1,h=j[y];return h?(u=h.nextPos,h.result):(n=u,f=Rs(),f!==e&&(k=n,f=Ui()),n=f,n===e&&(n=u,f=rn(),f!==e&&(k=n,f=Wn()),n=f,n===e&&(n=en(),n===e&&(t.length>u?(n=t.charAt(u),u++):(n=e,I===0&&L(nr))))),j[y]={nextPos:u,result:n},n)}function en(){var n,f,y,h,s,o,w=u*76+2,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.substr(u,2)===P?(f=P,u+=2):(f=e,I===0&&L(Ct)),f!==e){for(y=[],h=u,s=u,I++,o=a(),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,o=a(),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);k=n,n=Bi()}else u=n,n=e;if(n===e)if(n=u,t.substr(u,2)===M?(f=M,u+=2):(f=e,I===0&&L(cr)),f!==e){for(y=[],h=u,s=u,I++,t.substr(u,2)===F?(o=F,u+=2):(o=e,I===0&&L(_n)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.substr(u,2)===F?(o=F,u+=2):(o=e,I===0&&L(_n)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);t.substr(u,2)===F?(h=F,u+=2):(h=e,I===0&&L(_n)),h!==e?(k=n,n=Gn()):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function js(){var n,f,y,h,s,o=u*76+3,w=j[o];if(w)return u=w.nextPos,w.result;for(n=u,f=[],y=v();y!==e;)f.push(y),y=v();for(y=Vr(),y===e&&(y=null),h=[],s=v();s!==e;)h.push(s),s=v();return k=n,n=zi(y),j[o]={nextPos:u,result:n},n}function Vr(){var n,f,y,h,s,o,w,p,m=u*76+4,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=Ls(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=Ls(),p!==e?(k=h,h=Pa(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=Ls(),p!==e?(k=h,h=Pa(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=qi(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Fe(){var n,f,y,h,s,o,w,p,m=u*76+5,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=fr(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=fr(),p!==e?(k=h,h=En(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=fr(),p!==e?(k=h,h=En(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=Vi(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Er(){var n,f,y,h,s,o,w,p,m=u*76+6,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=yr(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=yr(),p!==e?(k=h,h=Sn(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=yr(),p!==e?(k=h,h=Sn(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=Ki(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Ls(){var n,f=u*76+7,y=j[f];return y?(u=y.nextPos,y.result):(n=Is(),n===e&&(n=za(),n===e&&(n=yr())),j[f]={nextPos:u,result:n},n)}function fr(){var n,f=u*76+8,y=j[f];return y?(u=y.nextPos,y.result):(n=Kr(),n===e&&(n=Lt(),n===e&&(n=Is())),j[f]={nextPos:u,result:n},n)}function yr(){var n,f=u*76+9,y=j[f];return y?(u=y.nextPos,y.result):(n=Kr(),n===e&&(n=Lt(),n===e&&(n=qa(),n===e&&(n=Hl(),n===e&&(n=Dl(),n===e&&(n=Va(),n===e&&(n=Ll(),n===e&&(n=pr(),n===e&&(n=ta(),n===e&&(n=Ul(),n===e&&(n=Bl(),n===e&&(n=et()))))))))))),j[f]={nextPos:u,result:n},n)}function et(){var n,f=u*76+10,y=j[f];return y?(u=y.nextPos,y.result):(n=ra(),n===e&&(n=ts()),j[f]={nextPos:u,result:n},n)}function ts(){var n,f=u*76+11,y=j[f];return y?(u=y.nextPos,y.result):(n=zl(),n===e&&(n=Kl(),n===e&&(n=Wr(),n===e&&(n=ds()))),j[f]={nextPos:u,result:n},n)}function ds(){var n,f,y,h,s,o,w=u*76+12,p=j[w];if(p)return u=p.nextPos,p.result;if(n=aa(),n===e&&(n=Hs(),n===e&&(n=Rs(),n===e&&(n=rn(),n===e&&(n=Wa(),n===e&&(n=jn(),n===e&&(n=dn(),n===e&&(n=yn(),n===e&&(n=Vl(),n===e&&(n=sa(),n===e&&(n=ql(),n===e)))))))))))if(n=u,t.charCodeAt(u)===40?(f=T,u++):(f=e,I===0&&L(ot)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=et(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e?(k=n,n=ka(h)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ke(){var n,f=u*76+13,y=j[f];return y?(u=y.nextPos,y.result):(n=Wa(),n===e&&(n=rn(),n===e&&(n=jn(),n===e&&(n=Dn(),n===e&&(n=Za(),n===e&&(n=dn()))))),j[f]={nextPos:u,result:n},n)}function Is(){var n,f,y,h,s,o,w,p,m,$,_=u*76+14,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===H?(f=H,u+=2):(f=e,I===0&&L(kr)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(t.charCodeAt(u)===123?(o=B,u++):(o=e,I===0&&L(Et)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(p=Fe(),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();t.charCodeAt(u)===125?($=W,u++):($=e,I===0&&L(Ye)),$!==e?(k=n,n=Ji(h,p)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function za(){var n,f,y,h,s,o,w=u*76+15,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.substr(u,3)===ve?(f=ve,u+=3):(f=e,I===0&&L(kt)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=Ue(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();o=Ke(),o!==e?(k=n,n=Wi(h,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===ve?(f=ve,u+=3):(f=e,I===0&&L(kt)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();h=Ke(),h!==e?(k=n,n=Gi(h)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Kr(){var n,f,y,h,s,o,w,p,m,$=u*76+16,_=j[$];if(_)return u=_.nextPos,_.result;if(n=u,t.substr(u,3)===ie?(f=ie,u+=3):(f=e,I===0&&L(gs)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===58?(w=fe,u++):(w=e,I===0&&L(Ut)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=Le(),m!==e?s=m:(u=s,s=e)}else u=s,s=e;for(s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===61?(w=Me,u++):(w=e,I===0&&L(Bt)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=et(),m!==e?(k=n,n=Zi(h,s,m)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===G?(f=G,u+=3):(f=e,I===0&&L(Mr)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===58?(w=fe,u++):(w=e,I===0&&L(Ut)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=Le(),m!==e?s=m:(u=s,s=e)}else u=s,s=e;for(s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===61?(w=Me,u++):(w=e,I===0&&L(Bt)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=et(),m!==e?(k=n,n=Qi(h,s,m)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[$]={nextPos:u,result:n},n}function qa(){var n,f,y,h,s=u*76+17,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,t.substr(u,2)===K?(f=K,u+=2):(f=e,I===0&&L(Vn)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();h=et(),h!==e?(k=n,n=Xi(h)):(u=n,n=e)}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function Dl(){var n,f,y,h,s,o,w,p=u*76+18,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,t.substr(u,2)===Q?(f=Q,u+=2):(f=e,I===0&&L(ar)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();for(w=Ke(),w!==e?s=w:(u=s,s=e),s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();t.charCodeAt(u)===93?(w=X,u++):(w=e,I===0&&L(jr)),w!==e?(k=n,n=Yi(h,s)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[p]={nextPos:u,result:n},n}function Va(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+19,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.substr(u,4)===Z?(f=Z,u+=4):(f=e,I===0&&L(Ts)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(t.substr(u,3)===ie?(s=ie,u+=3):(s=e,I===0&&L(gs)),s!==e){if(o=[],w=v(),w!==e)for(;w!==e;)o.push(w),w=v();else o=e;if(o!==e)if(w=Ue(),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();for(t.charCodeAt(u)===44?(m=ee,u++):(m=e,I===0&&L(it)),m===e&&(m=null),$=[],_=v();_!==e;)$.push(_),_=v();if(_=et(),_!==e)if(t.charCodeAt(u)===41?(A=N,u++):(A=e,I===0&&L(nt)),A!==e){for(S=[],R=v();R!==e;)S.push(R),R=v();R=we(),R!==e?(k=n,n=el(w,_,R)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,4)===Z?(f=Z,u+=4):(f=e,I===0&&L(Ts)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(t.substr(u,3)===ie?(h=ie,u+=3):(h=e,I===0&&L(gs)),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();if($=et(),$!==e){if(_=[],A=v(),A!==e)for(;A!==e;)_.push(A),A=v();else _=e;_!==e?(A=we(),A!==e?(k=n,n=tl(o,$,A)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Ll(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V=u*76+20,se=j[V];if(se)return u=se.nextPos,se.result;if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(t.substr(u,3)===ie?(s=ie,u+=3):(s=e,I===0&&L(gs)),s!==e){if(o=[],w=v(),w!==e)for(;w!==e;)o.push(w),w=v();else o=e;if(o!==e)if(w=Ue(),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();if(m=u,t.charCodeAt(u)===61?($=Me,u++):($=e,I===0&&L(Bt)),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();A=et(),A!==e?(k=m,m=rl(w,A)):(u=m,m=e)}else u=m,m=e;for(m===e&&(m=null),t.charCodeAt(u)===44?($=ee,u++):($=e,I===0&&L(it)),$===e&&($=null),_=[],A=v();A!==e;)_.push(A),A=v();if(A=et(),A!==e)if(t.charCodeAt(u)===41?(S=N,u++):(S=e,I===0&&L(nt)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();U=we(),U!==e?(k=n,n=sl(w,m,A,U)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(t.substr(u,3)===ie?(h=ie,u+=3):(h=e,I===0&&L(gs)),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(p=u,t.charCodeAt(u)===61?(m=Me,u++):(m=e,I===0&&L(Bt)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();_=et(),_!==e?(k=p,p=nl(o,_)):(u=p,p=e)}else u=p,p=e;for(p===e&&(p=null),t.charCodeAt(u)===44?(m=ee,u++):(m=e,I===0&&L(it)),m===e&&(m=null),$=[],_=v();_!==e;)$.push(_),_=v();if(_=et(),_!==e){if(A=[],S=v(),S!==e)for(;S!==e;)A.push(S),S=v();else A=e;A!==e?(S=we(),S!==e?(k=n,n=al(o,p,_,S)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(s=et(),s!==e)if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=we(),p!==e?(k=n,n=il(s,p)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=et(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;s!==e?(o=we(),o!==e?(k=n,n=Zn(h,o)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e}}return j[V]={nextPos:u,result:n},n}function Hl(){var n,f,y,h,s,o=u*76+21,w=j[o];if(w)return u=w.nextPos,w.result;if(n=u,t.substr(u,6)===ne?(f=ne,u+=6):(f=e,I===0&&L(Vs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();s=et(),s!==e?(k=n,n=ll(s)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[o]={nextPos:u,result:n},n}function pr(){var n,f,y,h,s,o,w,p,m=u*76+22,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,t.substr(u,4)===Se?(f=Se,u+=4):(f=e,I===0&&L(Nr)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===123?(h=B,u++):(h=e,I===0&&L(Et)),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();if(o=Er(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();t.charCodeAt(u)===125?(p=W,u++):(p=e,I===0&&L(Ye)),p!==e?(k=n,n=fl(o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function ta(){var n,f,y,h,s=u*76+23,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,5)===Ne?(f=Ne,u+=5):(f=e,I===0&&L(Ai)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ul()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function Ul(){var n,f,y,h,s=u*76+24,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,8)===Ce?(f=Ce,u+=8):(f=e,I===0&&L(Kn)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ol()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function Bl(){var n,f,y,h,s,o,w=u*76+25,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=et(),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.substr(u,2)===st?(h=st,u+=2):(h=e,I===0&&L(Ci)),h===e&&(t.substr(u,2)===ct?(h=ct,u+=2):(h=e,I===0&&L(_i)),h===e&&(t.charCodeAt(u)===61?(h=Me,u++):(h=e,I===0&&L(Bt)))),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();o=et(),o!==e?(k=n,n=cl(f,h,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function ra(){var n,f,y,h,s,o,w,p,m=u*76+26,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=ts(),f!==e){for(y=[],h=u,s=[],o=Jr();o!==e;)s.push(o),o=Jr();if(o=cn(),o!==e){for(w=[],p=Jr();p!==e;)w.push(p),p=Jr();p=ts(),p!==e?(k=h,h=ln(f,o,p)):(u=h,h=e)}else u=h,h=e;if(h!==e)for(;h!==e;){for(y.push(h),h=u,s=[],o=Jr();o!==e;)s.push(o),o=Jr();if(o=cn(),o!==e){for(w=[],p=Jr();p!==e;)w.push(p),p=Jr();p=ts(),p!==e?(k=h,h=ln(f,o,p)):(u=h,h=e)}else u=h,h=e}else y=e;y!==e?(k=n,n=hl(f,y)):(u=n,n=e)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Jr(){var n,f,y,h=u*76+27,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===92?(f=rr,u++):(f=e,I===0&&L($a)),f!==e?(y=Y(),y!==e?(f=[f,y],n=f):(u=n,n=e)):(u=n,n=e),n===e&&(n=b()),j[h]={nextPos:u,result:n},n)}function cn(){var n,f,y=u*76+28,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===yt?(f=yt,u+=2):(f=e,I===0&&L(ma)),f===e&&(t.substr(u,2)===vt?(f=vt,u+=2):(f=e,I===0&&L(Pi)),f===e&&(t.substr(u,2)===Xe?(f=Xe,u+=2):(f=e,I===0&&L(ki)),f===e&&(t.substr(u,2)===gt?(f=gt,u+=2):(f=e,I===0&&L(Mi)),f===e&&(t.substr(u,2)===Zt?(f=Zt,u+=2):(f=e,I===0&&L(Ei)),f===e&&(t.substr(u,2)===er?(f=er,u+=2):(f=e,I===0&&L(Ks)),f===e&&(t.charCodeAt(u)===60?(f=ht,u++):(f=e,I===0&&L(Fs)),f===e&&(t.charCodeAt(u)===62?(f=_r,u++):(f=e,I===0&&L(Pn)),f===e&&(t.charCodeAt(u)===43?(f=Qt,u++):(f=e,I===0&&L(xa)),f===e&&(t.charCodeAt(u)===45?(f=Pr,u++):(f=e,I===0&&L(Si)),f===e&&(t.charCodeAt(u)===42?(f=Kt,u++):(f=e,I===0&&L(ba)),f===e&&(t.charCodeAt(u)===94?(f=xr,u++):(f=e,I===0&&L(us)),f===e&&(t.charCodeAt(u)===47?(f=Or,u++):(f=e,I===0&&L(Ti)),f===e&&(t.charCodeAt(u)===37?(f=Mt,u++):(f=e,I===0&&L(Fi))))))))))))))),f!==e&&(k=n,f=Ma()),n=f,j[y]={nextPos:u,result:n},n)}function sa(){var n,f,y,h=u*76+29,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===33?(f=Br,u++):(f=e,I===0&&L(Ni)),f!==e?(y=et(),y!==e?(k=n,n=pl(y)):(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function Wr(){var n,f,y,h,s=u*76+30,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,f=ds(),f!==e){if(y=[],h=Tn(),h===e&&(h=Ka(),h===e&&(h=Fn())),h!==e)for(;h!==e;)y.push(h),h=Tn(),h===e&&(h=Ka(),h===e&&(h=Fn()));else y=e;y!==e?(k=n,n=vl(f,y)):(u=n,n=e)}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function Tn(){var n,f,y,h,s,o,w=u*76+31,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===40?(f=T,u++):(f=e,I===0&&L(ot)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=tn(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e?(k=n,n=gl(h)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function tn(){var n,f,y,h,s,o,w=u*76+32,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=et(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=et(),o!==e?(k=h,h=Ea(f,o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=et(),o!==e?(k=h,h=Ea(f,o)):(u=h,h=e)):(u=h,h=e);k=n,n=dl(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ka(){var n,f,y,h,s,o,w=u*76+33,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=et(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=fn(h)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Fn(){var n,f,y,h=u*76+34,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===46?(f=br,u++):(f=e,I===0&&L(Ns)),f!==e?(y=Ue(),y!==e?(k=n,n=yl(y)):(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function zl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+35,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===J?(f=J,u+=2):(f=e,I===0&&L(kn)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=et(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=we(),o!==e){if(w=u,p=[],m=v(),m!==e)for(;m!==e;)p.push(m),m=v();else p=e;if(p!==e?(m=Ja(),m!==e?w=m:(u=w,w=e)):(u=w,w=e),w===e&&(w=null),p=u,m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;m!==e?($=na(),$!==e?p=$:(u=p,p=e)):(u=p,p=e),p===e&&(p=null),k=n,n=wl(h,o,w,p)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Ja(){var n,f,y,h,s,o,w=u*76+36,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Ms(),f!==e){for(y=[],h=u,s=[],o=v();o!==e;)s.push(o),o=v();for(o=Ms(),o!==e?h=o:(u=h,h=e);h!==e;){for(y.push(h),h=u,s=[],o=v();o!==e;)s.push(o),o=v();o=Ms(),o!==e?h=o:(u=h,h=e)}k=n,n=$l(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ms(){var n,f,y,h,s,o,w,p=u*76+37,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,t.substr(u,4)===re?(f=re,u+=4):(f=e,I===0&&L(xs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();if(s=et(),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();w=we(),w!==e?(k=n,n=ml(s,w)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e;return j[p]={nextPos:u,result:n},n}function na(){var n,f,y,h,s,o=u*76+38,w=j[o];if(w)return u=w.nextPos,w.result;if(n=u,t.substr(u,4)===ue?(f=ue,u+=4):(f=e,I===0&&L(bs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();s=we(),s!==e?(k=n,n=xl(s)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[o]={nextPos:u,result:n},n}function aa(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V,se,je=u*76+39,ge=j[je];if(ge)return u=ge.nextPos,ge.result;if(n=u,t.substr(u,5)===me?(f=me,u+=5):(f=e,I===0&&L(Oi)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();if(s=et(),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===123?(w=B,u++):(w=e,I===0&&L(Et)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();if(m=[],$=u,_=et(),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();k=$,$=Sa(s,_,U)}else u=$,$=e}else u=$,$=e}else u=$,$=e;if($!==e)for(;$!==e;)if(m.push($),$=u,_=et(),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();k=$,$=Sa(s,_,U)}else u=$,$=e}else u=$,$=e}else u=$,$=e;else m=e;if(m!==e){if($=u,t.charCodeAt(u)===42?(_=Kt,u++):(_=e,I===0&&L(ba)),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();$=U}else u=$,$=e}else u=$,$=e}else u=$,$=e;for($===e&&($=null),_=[],A=v();A!==e;)_.push(A),A=v();t.charCodeAt(u)===125?(A=W,u++):(A=e,I===0&&L(Ye)),A!==e?(k=n,n=Qn(s,m,$)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e;else u=n,n=e;return j[je]={nextPos:u,result:n},n}function Hs(){var n,f,y,h,s,o,w,p,m=u*76+40,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,t.substr(u,4)===Te?(f=Te,u+=4):(f=e,I===0&&L(Ir)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===123?(h=B,u++):(h=e,I===0&&L(Et)),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();if(o=Er(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();t.charCodeAt(u)===125?(p=W,u++):(p=e,I===0&&L(Ye)),p!==e?(k=n,n=Ta(o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function ql(){var n,f,y=u*76+41,h=j[y];return h?(u=h.nextPos,h.result):(n=u,f=ia(),f!==e&&(k=n,f=Xn(f)),n=f,j[y]={nextPos:u,result:n},n)}function Rs(){var n,f,y,h,s,o,w=u*76+42,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===96?(f=Ie,u++):(f=e,I===0&&L(As)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===96?(o=Ie,u++):(o=e,I===0&&L(As)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=hn(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===96?(o=Ie,u++):(o=e,I===0&&L(As)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=hn(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===96?(h=Ie,u++):(h=e,I===0&&L(As)),h!==e?(k=n,n=bl(y)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function hn(){var n,f,y,h,s,o,w=u*76+43,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=et(),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();t.charCodeAt(u)===125?(o=W,u++):(o=e,I===0&&L(Ye)),o!==e?n=h:(u=n,n=e)}else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,f=[],y=pn(),y!==e)for(;y!==e;)f.push(y),y=pn();else f=e;f!==e&&(k=n,f=Al(f)),n=f}return j[w]={nextPos:u,result:n},n}function pn(){var n,f=u*76+44,y=j[f];return y?(u=y.nextPos,y.result):(n=vn(),n===e&&(at.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Jt))),j[f]={nextPos:u,result:n},n)}function vn(){var n,f,y,h=u*76+45,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===92?(f=rr,u++):(f=e,I===0&&L($a)),f!==e?(is.test(t.charAt(u))?(y=t.charAt(u),u++):(y=e,I===0&&L(Ws)),y!==e?n=y:(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function rn(){var n,f,y,h,s,o,w=u*76+46,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===34?(f=xe,u++):(f=e,I===0&&L(Gs)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===34?(o=xe,u++):(o=e,I===0&&L(Gs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Nn(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Fa(o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===34?(o=xe,u++):(o=e,I===0&&L(Gs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Nn(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Fa(o)):(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===34?(h=xe,u++):(h=e,I===0&&L(Gs)),h!==e?(k=n,n=Cl(y)):(u=n,n=e)}else u=n,n=e;if(n===e)if(n=u,t.charCodeAt(u)===39?(f=Ee,u++):(f=e,I===0&&L(Zs)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===39?(o=Ee,u++):(o=e,I===0&&L(Zs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Us(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Na(o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===39?(o=Ee,u++):(o=e,I===0&&L(Zs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Us(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Na(o)):(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===39?(h=Ee,u++):(h=e,I===0&&L(Zs)),h!==e?(k=n,n=Oa(y)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Nn(){var n,f,y=u*76+47,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===ye?(f=ye,u+=2):(f=e,I===0&&L(Rr)),f!==e&&(k=n,f=_l()),n=f,j[y]={nextPos:u,result:n},n)}function Us(){var n,f,y=u*76+48,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===Ge?(f=Ge,u+=2):(f=e,I===0&&L(Qs)),f!==e&&(k=n,f=ja()),n=f,j[y]={nextPos:u,result:n},n)}function Wa(){var n,f=u*76+49,y=j[f];return y?(u=y.nextPos,y.result):(n=On(),n===e&&(n=gn()),j[f]={nextPos:u,result:n},n)}function On(){var n,f,y,h,s,o,w=u*76+50,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),zr.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Aa)),f!==e){if(y=[],bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir)),h!==e)for(;h!==e;)y.push(h),bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir));else y=e;if(y!==e)if(t.charCodeAt(u)===46?(h=br,u++):(h=e,I===0&&L(Ns)),h!==e){if(s=[],bt.test(t.charAt(u))?(o=t.charAt(u),u++):(o=e,I===0&&L(ir)),o!==e)for(;o!==e;)s.push(o),bt.test(t.charAt(u))?(o=t.charAt(u),u++):(o=e,I===0&&L(ir));else s=e;s!==e?(k=n,n=Pl()):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),bt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(ir)),f!==e)if(t.charCodeAt(u)===46?(y=br,u++):(y=e,I===0&&L(Ns)),y!==e){if(h=[],bt.test(t.charAt(u))?(s=t.charAt(u),u++):(s=e,I===0&&L(ir)),s!==e)for(;s!==e;)h.push(s),bt.test(t.charAt(u))?(s=t.charAt(u),u++):(s=e,I===0&&L(ir));else h=e;h!==e?(k=n,n=kl()):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[w]={nextPos:u,result:n},n}function gn(){var n,f,y,h,s=u*76+51,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),zr.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Aa)),f!==e){if(y=[],bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir)),h!==e)for(;h!==e;)y.push(h),bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir));else y=e;y!==e?(k=n,n=Yn()):(u=n,n=e)}else u=n,n=e;return n===e&&(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),bt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(ir)),f!==e?(k=n,n=Ml()):(u=n,n=e)),j[s]={nextPos:u,result:n},n}function jn(){var n,f=u*76+52,y=j[f];return y?(u=y.nextPos,y.result):(n=Ga(),n===e&&(n=sn()),j[f]={nextPos:u,result:n},n)}function Ga(){var n,f,y,h,s=u*76+53,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,4)===rt?(f=rt,u+=4):(f=e,I===0&&L(Ca)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ea()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function sn(){var n,f,y,h,s=u*76+54,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,5)===tt?(f=tt,u+=5):(f=e,I===0&&L(hr)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=El()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function dn(){var n,f,y,h,s=u*76+55,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,4)===Ve?(f=Ve,u+=4):(f=e,I===0&&L(ji)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=Sl()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function yn(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+56,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=et(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=Ia(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=et(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=Ia(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;t.charCodeAt(u)===125?(s=W,u++):(s=e,I===0&&L(Ye)),s!==e?(k=n,n=Tl(h)):(u=n,n=e)}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Vl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+57,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=et(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Ra(o)}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=et(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Ra(o)}else u=s,s=e;for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=un(h)):(u=n,n=e)}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function In(){var n,f,y,h,s,o,w,p=u*76+58,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,f=Ue(),f!==e){for(y=u,h=[],s=v();s!==e;)h.push(s),s=v();if(t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();w=Le(),w!==e?y=w:(u=y,y=e)}else u=y,y=e;y===e&&(y=null),k=n,n=Fl(f,y)}else u=n,n=e;return j[p]={nextPos:u,result:n},n}function Rn(){var n,f,y,h,s,o,w=u*76+59,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=In(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=In(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=In(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);k=n,n=on(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Lt(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V,se,je=u*76+60,ge=j[je];if(ge)return u=ge.nextPos,ge.result;if(n=u,t.charCodeAt(u)===64?(f=Pt,u++):(f=e,I===0&&L(Ii)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=Ue(),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();if(t.charCodeAt(u)===40?(o=T,u++):(o=e,I===0&&L(ot)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(p=Rn(),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();if(t.charCodeAt(u)===41?($=N,u++):($=e,I===0&&L(nt)),$!==e){for(_=u,A=[],S=v();S!==e;)A.push(S),S=v();if(t.charCodeAt(u)===58?(S=fe,u++):(S=e,I===0&&L(Ut)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();U=Le(),U!==e?_=U:(u=_,_=e)}else u=_,_=e;for(_===e&&(_=null),A=[],S=v();S!==e;)A.push(S),S=v();if(t.charCodeAt(u)===123?(S=B,u++):(S=e,I===0&&L(Et)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();for(U=Er(),U===e&&(U=null),V=[],se=v();se!==e;)V.push(se),se=v();t.charCodeAt(u)===125?(se=W,u++):(se=e,I===0&&L(Ye)),se!==e?(k=n,n=Nl(y,h,s,p,_,U)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[je]={nextPos:u,result:n},n}function Kl(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R=u*76+61,U=j[R];if(U)return u=U.nextPos,U.result;if(n=u,t.substr(u,2)===dt?(f=dt,u+=2):(f=e,I===0&&L(Os)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Rn(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=u,p=[],m=v();m!==e;)p.push(m),m=v();if(t.charCodeAt(u)===58?(m=fe,u++):(m=e,I===0&&L(Ut)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();_=Le(),_!==e?w=_:(u=w,w=e)}else u=w,w=e;for(w===e&&(w=null),p=[],m=v();m!==e;)p.push(m),m=v();if(t.charCodeAt(u)===123?(m=B,u++):(m=e,I===0&&L(Et)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();for(_=Er(),_===e&&(_=null),A=[],S=v();S!==e;)A.push(S),S=v();t.charCodeAt(u)===125?(S=W,u++):(S=e,I===0&&L(Ye)),S!==e?(k=n,n=Ol(h,w,_)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[R]={nextPos:u,result:n},n}function Dn(){var n,f,y,h,s,o,w,p,m,$,_=u*76+62,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ke(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Da(o)}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ke(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Da(o)}else u=s,s=e;for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=jl(h)):(u=n,n=e)}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Za(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+63,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=Ke(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=La(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=Ke(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=La(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;t.charCodeAt(u)===125?(s=W,u++):(s=e,I===0&&L(Ye)),s!==e?(k=n,n=Ha(h)):(u=n,n=e)}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Le(){var n,f=u*76+64,y=j[f];return y?(u=y.nextPos,y.result):(n=Jl(),n===e&&(n=_t()),j[f]={nextPos:u,result:n},n)}function Jl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+65,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===dt?(f=dt,u+=2):(f=e,I===0&&L(Os)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Lr(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.substr(u,2)===he?(p=he,u+=2):(p=e,I===0&&L(Js)),p!==e){for(m=[],$=v();$!==e;)m.push($),$=v();$=Le(),$!==e?(k=n,n=Il(h,$)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Lr(){var n,f,y,h,s,o,w=u*76+66,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Le(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=Le(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=Le(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);k=n,n=Ua(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function _t(){var n,f,y,h,s,o,w,p,m=u*76+67,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=Ue(),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(t.charCodeAt(u)===60?(h=ht,u++):(h=e,I===0&&L(Fs)),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();if(o=Le(),o!==e){for(w=[],p=b();p!==e;)w.push(p),p=b();t.charCodeAt(u)===62?(p=_r,u++):(p=e,I===0&&L(Pn)),p!==e?(k=n,n=i(f,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return n===e&&(n=u,f=Ue(),f!==e&&(k=n,f=q(f)),n=f),j[m]={nextPos:u,result:n},n}function Ue(){var n,f,y,h,s=u*76+68,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,Rt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Ri)),f!==e){for(y=[],an.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Mn));h!==e;)y.push(h),an.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Mn));k=n,n=Dr()}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function ia(){var n,f,y,h,s,o,w=u*76+69,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Ue(),f!==e){for(y=[],h=u,t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e?(o=Ue(),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e?(o=Ue(),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);k=n,n=Tt()}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function C(){var n,f,y,h,s,o=u*76+70,w=j[o];if(w)return u=w.nextPos,w.result;for(n=u,f=[],y=v();y!==e;)f.push(y),y=v();if(t.charCodeAt(u)===44?(y=ee,u++):(y=e,I===0&&L(it)),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();f=[f,y,h],n=f}else u=n,n=e;if(n===e)if(n=[],f=v(),f!==e)for(;f!==e;)n.push(f),f=v();else n=e;return j[o]={nextPos:u,result:n},n}function we(){var n,f,y,h,s,o,w=u*76+71,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Er(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===125?(o=W,u++):(o=e,I===0&&L(Ye)),o!==e?(k=n,n=_s(h)):(u=n,n=e)}else u=n,n=e;return n===e&&(n=yr()),j[w]={nextPos:u,result:n},n}function Y(){var n,f=u*76+72,y=j[f];return y?(u=y.nextPos,y.result):(t.substr(u,2)===wt?(n=wt,u+=2):(n=e,I===0&&L(Di)),n===e&&(Dt.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(_a))),j[f]={nextPos:u,result:n},n)}function a(){var n,f,y=u*76+73,h=j[y];return h?(u=h.nextPos,h.result):(n=u,I++,t.length>u?(f=t.charAt(u),u++):(f=e,I===0&&L(nr)),I--,f===e?n=void 0:(u=n,n=e),n===e&&(n=Y()),j[y]={nextPos:u,result:n},n)}function v(){var n,f=u*76+74,y=j[f];return y?(u=y.nextPos,y.result):(xi.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Li)),j[f]={nextPos:u,result:n},n)}function b(){var n,f=u*76+75,y=j[f];return y?(u=y.nextPos,y.result):(bi.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Hi)),j[f]={nextPos:u,result:n},n)}function g(n,f,y){const h={type:n};f.children=y;for(const o of Object.keys(f))f[o]!==void 0&&(h[o]=f[o]);const s=z();return h.loc={start:s.start.offset,end:s.end.offset-1},h}if(ft=x(),ft!==e&&u===t.length)return ft;throw ft!==e&&u<t.length&&L(pe()),Ys(te,c<t.length?t.charAt(c):null,c<t.length?ks(c,c+1):ks(c,c))}const EA=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function SA(t){return EA.includes(t.type)}function Z0(t){return"chain"in t&&t.chain!==null}function TA(t,r,e){return{type:"call",target:t,args:r,loc:e}}function FA(t,r,e){return{type:"index",target:t,index:r,loc:e}}function NA(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Ht(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Ht(e.expr,r);break}case"return":{e.expr=Ht(e.expr,r);break}case"each":{e.items=Ht(e.items,r),e.for=Ht(e.for,r);break}case"for":{e.from!=null&&(e.from=Ht(e.from,r)),e.to!=null&&(e.to=Ht(e.to,r)),e.times!=null&&(e.times=Ht(e.times,r)),e.for=Ht(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ht(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Ht(e.expr,r),e.dest=Ht(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=Ht(e.operands[l],r);break}case"not":{e.expr=Ht(e.expr,r);break}case"if":{e.cond=Ht(e.cond,r),e.then=Ht(e.then,r);for(const l of e.elseif)l.cond=Ht(l.cond,r),l.then=Ht(l.then,r);e.else!=null&&(e.else=Ht(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=Ht(e.children[l],r);break}case"match":{e.about=Ht(e.about,r);for(const l of e.qs)l.q=Ht(l.q,r),l.a=Ht(l.a,r);e.default!=null&&(e.default=Ht(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Ht(e.statements[l],r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=Ht(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],Ht(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=Ht(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=Ht(e.args[l],r);break}case"indexChain":{e.index=Ht(e.index,r);break}case"call":{e.target=Ht(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=Ht(e.args[l],r);break}case"index":{e.target=Ht(e.target,r),e.index=Ht(e.index,r);break}case"prop":{e.target=Ht(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=Ht(e.members[l],r);break}case"or":case"and":{e.left=Ht(e.left,r),e.right=Ht(e.right,r);break}}if(Z0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=Ht(e.chain[l],r);return e}const cp=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function hp(t){throw new to(`Reserved word "${t}" cannot be used as variable name.`)}function OA(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{cp.includes(t.name)&&hp(t.name);break}case"meta":{t.name!=null&&cp.includes(t.name)&&hp(t.name);break}case"fn":{for(const r of t.args)cp.includes(r.name)&&hp(r.name);break}}return t}function jA(t){for(const r of t)Ht(r,OA);return t}function ld(t){return{type:"simple",name:t}}function IA(t,r){return{type:"generic",name:t,inners:r}}function RA(t,r){return{type:"fn",args:t,result:r}}function Jc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Jc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Jc(l)).join(", "),e=Jc(t.result);return`@(${r}) { ${e} }`}}}function No(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return ld(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=No(t.inner):r=ld("any"),IA(t.name,[r])}}throw new to(`Unknown type: '${Jc(t)}'`)}else{const r=t.args.map(e=>No(e));return RA(r,No(t.result))}}function DA(t){switch(t.type){case"def":{t.varType!=null&&No(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&No(r.argType);t.retType!=null&&No(t.retType);break}}return t}function LA(t){for(const r of t)Ht(r,DA);return t}function Wc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=Wc(l.expr.children)),r.push(l);else{if(e.length>0)throw new to("invalid attribute.");switch(l.type){case"fn":{l.children=Wc(l.children);break}case"block":{l.statements=Wc(l.statements);break}}r.push(l)}if(e.length>0)throw new to("invalid attribute.");return r}function HA(t){if(SA(t)&&Z0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=TA(l,d.args,d.loc);break}case"indexChain":{l=FA(l,d.index,d.loc);break}case"propChain":{l=NA(l,d.name,d.loc);break}}return l}return t}function UA(t){for(let r=0;r<t.length;r++)t[r]=Ht(t[r],HA);return t}function Gc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function Q0(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Gc(t,r,e);{const{left:l,right:d,info:x}=t;return Gc(l,Q0(d,r,e),x)}}function Nu(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Nu(t.left),Nu(t.right)]}}const BA={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Nu(t.left),right:Nu(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Nu(t.left),right:Nu(t.right)}),priority:3}};function zA(t){const r=t.operators.map(l=>{const d=BA[l];if(d==null)throw new to(`No such operator: ${l}.`);return d});let e=Gc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=Q0(e,t.operands[2+l],r[1+l]);return Nu(e)}function qA(t){for(let r=0;r<t.length;r++)t[r]=Ht(t[r],e=>e.type==="infix"?zA(e):e);return t}var Nf;let VA=(Nf=class{constructor(){be(this,"plugins");this.plugins={validate:[jA,LA],transform:[Wc,UA,qA]}}static parse(r){return Nf.instance==null&&(Nf.instance=new Nf),Nf.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=id(r,{startRule:"Preprocess"});e=id(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new to(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`):new to(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}},be(Nf,"instance"),Nf);const KA="0.15.0",JA={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let fv=[],Vo=null;function WA(t){return fv=VA.parse(t),JSON.stringify(fv,null,"	")}async function GA(t){Vo==null||Vo.abort(),Vo=new $i({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:av(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:av(e.val,!0),print:!1});break}}});try{await Vo.exec(fv)}catch(r){t.err(r)}}const ZA=Object.freeze(Object.defineProperty({__proto__:null,exec:GA,parse:WA,samples:JA,version:KA},Symbol.toStringTag,{value:"Module"}));class Th extends Error{constructor(e,l){super(e);be(this,"info");this.info=l,Error.captureStackTrace&&Error.captureStackTrace(this,Th)}}class ro extends Th{constructor(r,e){super(r,e)}}class as extends Th{constructor(r,e){super(r,e)}}class QA extends as{constructor(r,e){super(r,e)}}var oo=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};class Rf{constructor(r=[],e,l){be(this,"parent");be(this,"layerdStates");be(this,"name");be(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=l||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const l=[r,...this.layerdStates];return new Rf(l,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const l=e.get(r);return this.log("read",{var:r,val:l}),l}throw new as(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,l)=>[...e,...l],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const l=this.layerdStates[0];if(l.has(r))throw new as(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});l.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let l=1;for(const d of this.layerdStates){if(d.has(r)){d.set(r,e),this.log("assign",{var:r,val:e}),l===this.layerdStates.length&&this.onUpdated(r,e);return}l++}throw new as(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}}oo([Gt],Rf.prototype,"log",null);oo([Gt],Rf.prototype,"onUpdated",null);oo([Gt],Rf.prototype,"createChildScope",null);oo([Gt],Rf.prototype,"get",null);oo([Gt],Rf.prototype,"getAll",null);oo([Gt],Rf.prototype,"add",null);oo([Gt],Rf.prototype,"assign",null);let _c;const XA=new Uint8Array(16);function YA(){if(!_c&&(_c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _c(XA)}const Un=[];for(let t=0;t<256;++t)Un.push((t+256).toString(16).slice(1));function e2(t,r=0){return(Un[t[r+0]]+Un[t[r+1]]+Un[t[r+2]]+Un[t[r+3]]+"-"+Un[t[r+4]]+Un[t[r+5]]+"-"+Un[t[r+6]]+Un[t[r+7]]+"-"+Un[t[r+8]]+Un[t[r+9]]+"-"+Un[t[r+10]]+Un[t[r+11]]+Un[t[r+12]]+Un[t[r+13]]+Un[t[r+14]]+Un[t[r+15]]).toLowerCase()}const t2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fd={randomUUID:t2};function r2(t,r,e){if(fd.randomUUID&&!r&&!t)return fd.randomUUID();t=t||{};const l=t.random||(t.rng||YA)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,e2(l)}const Ur={type:"null"},of={type:"bool",value:!0},Ql={type:"bool",value:!1},pt=t=>({type:"num",value:t}),ss=t=>({type:"str",value:t}),Oo=t=>({type:"bool",value:t}),qv=t=>({type:"obj",value:t}),ua=t=>({type:"arr",value:t}),s2=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),We=t=>({type:"fn",native:t}),n2=t=>({type:"return",value:t}),a2=()=>({type:"break",value:null}),i2=()=>({type:"continue",value:null}),l2=t=>t.type==="return"?t.value:t;function tf(t){if(t==null)throw new as("Expect anything, but got nothing.")}function ni(t){if(t==null)throw new as("Expect boolean, but got nothing.");if(t.type!=="bool")throw new as(`Expect boolean, but got ${t.type}.`)}function au(t){if(t==null)throw new as("Expect function, but got nothing.");if(t.type!=="fn")throw new as(`Expect function, but got ${t.type}.`)}function $n(t){if(t==null)throw new as("Expect string, but got nothing.");if(t.type!=="str")throw new as(`Expect string, but got ${t.type}.`)}function ut(t){if(t==null)throw new as("Expect number, but got nothing.");if(t.type!=="num")throw new as(`Expect number, but got ${t.type}.`)}function Xf(t){if(t==null)throw new as("Expect object, but got nothing.");if(t.type!=="obj")throw new as(`Expect object, but got ${t.type}.`)}function sc(t){if(t==null)throw new as("Expect array, but got nothing.");if(t.type!=="arr")throw new as(`Expect array, but got ${t.type}.`)}function f2(t){return t.type==="str"}function u2(t){return t.type==="num"}function o2(t){return t.type==="obj"}function c2(t){return t.type==="arr"}function uv(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function ov(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(l=>ov(l,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function cv(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>cv(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,l]of t.value.entries())r[e]=cv(l);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function hv(t){if(t===null)return Ur;if(typeof t=="boolean")return Oo(t);if(typeof t=="string")return ss(t);if(typeof t=="number")return pt(t);if(Array.isArray(t))return ua(t.map(r=>hv(r)));if(typeof t=="object"){const r=new Map;for(const[e,l]of Object.entries(t))r.set(e,hv(l));return qv(r)}return Ur}const h2={help:ss("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":ss("0.14.1"),"Core:ai":ss("kawaii"),"Core:not":We(([t])=>(ni(t),t.value?Ql:of)),"Core:eq":We(([t,r])=>(tf(t),tf(r),uv(t,r)?of:Ql)),"Core:neq":We(([t,r])=>(tf(t),tf(r),uv(t,r)?Ql:of)),"Core:and":We(([t,r])=>(ni(t),t.value?(ni(r),r.value?of:Ql):Ql)),"Core:or":We(([t,r])=>(ni(t),t.value?of:(ni(r),r.value?of:Ql))),"Core:add":We(([t,r])=>(ut(t),ut(r),pt(t.value+r.value))),"Core:sub":We(([t,r])=>(ut(t),ut(r),pt(t.value-r.value))),"Core:mul":We(([t,r])=>(ut(t),ut(r),pt(t.value*r.value))),"Core:pow":We(([t,r])=>{ut(t),ut(r);const e=t.value**r.value;if(isNaN(e))throw new as("Invalid operation.");return pt(e)}),"Core:div":We(([t,r])=>{ut(t),ut(r);const e=t.value/r.value;if(isNaN(e))throw new as("Invalid operation.");return pt(e)}),"Core:mod":We(([t,r])=>(ut(t),ut(r),pt(t.value%r.value))),"Core:gt":We(([t,r])=>(ut(t),ut(r),t.value>r.value?of:Ql)),"Core:lt":We(([t,r])=>(ut(t),ut(r),t.value<r.value?of:Ql)),"Core:gteq":We(([t,r])=>(ut(t),ut(r),t.value>=r.value?of:Ql)),"Core:lteq":We(([t,r])=>(ut(t),ut(r),t.value<=r.value?of:Ql)),"Core:type":We(([t])=>(tf(t),ss(t.type))),"Core:to_str":We(([t])=>(tf(t),t.type==="str"?t:t.type==="num"?ss(t.value.toString()):ss("?"))),"Core:range":We(([t,r])=>(ut(t),ut(r),t.value<r.value?ua(Array.from({length:r.value-t.value+1},(e,l)=>pt(l+t.value))):t.value>r.value?ua(Array.from({length:t.value-r.value+1},(e,l)=>pt(t.value-l))):ua([t]))),"Util:uuid":We(()=>ss(r2())),"Json:stringify":We(([t])=>(tf(t),ss(JSON.stringify(cv(t))))),"Json:parse":We(([t])=>($n(t),hv(JSON.parse(t.value)))),"Json:parsable":We(([t])=>{$n(t);try{JSON.parse(t.value)}catch{return Oo(!1)}return Oo(!0)}),"Date:now":We(()=>pt(Date.now())),"Date:year":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":We(([t])=>(t&&ut(t),pt(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":We(([t])=>($n(t),pt(new Date(t.value).getTime()))),"Math:Infinity":pt(1/0),"Math:PI":pt(Math.PI),"Math:sin":We(([t])=>(ut(t),pt(Math.sin(t.value)))),"Math:cos":We(([t])=>(ut(t),pt(Math.cos(t.value)))),"Math:abs":We(([t])=>(ut(t),pt(Math.abs(t.value)))),"Math:sqrt":We(([t])=>{ut(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new as("Invalid operation.");return pt(r)}),"Math:round":We(([t])=>(ut(t),pt(Math.round(t.value)))),"Math:ceil":We(([t])=>(ut(t),pt(Math.ceil(t.value)))),"Math:floor":We(([t])=>(ut(t),pt(Math.floor(t.value)))),"Math:min":We(([t,r])=>(ut(t),ut(r),pt(Math.min(t.value,r.value)))),"Math:max":We(([t,r])=>(ut(t),ut(r),pt(Math.max(t.value,r.value)))),"Math:rnd":We(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?pt(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):pt(Math.random())),"Math:gen_rng":We(([t])=>{if(tf(t),t.type!=="num"&&t.type!=="str")return Ur;const r=no(t.value.toString());return We(([e,l])=>e&&e.type==="num"&&l&&l.type==="num"?pt(Math.floor(r()*(Math.floor(l.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):pt(r()))}),"Num:to_hex":We(([t])=>(ut(t),ss(t.value.toString(16)))),"Num:from_hex":We(([t])=>($n(t),pt(parseInt(t.value,16)))),"Str:lf":ss(`
`),"Str:lt":We(([t,r])=>($n(t),$n(r),t.value<r.value?pt(-1):t.value===r.value?pt(0):pt(1))),"Str:gt":We(([t,r])=>($n(t),$n(r),t.value>r.value?pt(-1):t.value===r.value?pt(0):pt(1))),"Obj:keys":We(([t])=>(Xf(t),ua(Array.from(t.value.keys()).map(r=>ss(r))))),"Obj:vals":We(([t])=>(Xf(t),ua(Array.from(t.value.values())))),"Obj:kvs":We(([t])=>(Xf(t),ua(Array.from(t.value.entries()).map(([r,e])=>ua([ss(r),e]))))),"Obj:get":We(([t,r])=>(Xf(t),$n(r),t.value.get(r.value)??Ur)),"Obj:set":We(([t,r,e])=>(Xf(t),$n(r),tf(e),t.value.set(r.value,e),Ur)),"Obj:has":We(([t,r])=>(Xf(t),$n(r),Oo(t.value.has(r.value)))),"Obj:copy":We(([t])=>(Xf(t),qv(new Map(t.value)))),"Async:interval":We(async([t,r,e],l)=>{ut(t),au(r),e&&(ni(e),e.value&&l.call(r,[]));const d=setInterval(()=>{l.call(r,[])},t.value),x=()=>{clearInterval(d)};return l.registerAbortHandler(x),We(([],P)=>{clearInterval(d),P.unregisterAbortHandler(x)})}),"Async:timeout":We(async([t,r],e)=>{ut(t),au(r);const l=setTimeout(()=>{e.call(r,[])},t.value),d=()=>{clearTimeout(l)};return e.registerAbortHandler(d),We(([],x)=>{clearTimeout(l),x.unregisterAbortHandler(d)})})},ho={num:{to_str:t=>We(async(r,e)=>ss(t.value.toString()))},str:{to_num:t=>We(async(r,e)=>{const l=parseInt(t.value,10);return isNaN(l)?Ur:pt(l)}),len:t=>pt(io(t.value)),replace:t=>We(async([r,e],l)=>($n(r),$n(e),ss(t.value.split(r.value).join(e.value)))),index_of:t=>We(async([r],e)=>($n(r),pt(fo(t.value,r.value)))),incl:t=>We(async([r],e)=>($n(r),t.value.includes(r.value)?of:Ql)),trim:t=>We(async(r,e)=>ss(t.value.trim())),upper:t=>We(async(r,e)=>ss(t.value.toUpperCase())),lower:t=>We(async(r,e)=>ss(t.value.toLowerCase())),split:t=>We(async([r],e)=>(r&&$n(r),ua(r?t.value.split(r?r.value:"").map(l=>ss(l)):Cn(t.value).map(l=>ss(l))))),slice:t=>We(async([r,e],l)=>(ut(r),ut(e),ss(lo(t.value,r.value,e.value)))),pick:t=>We(async([r],e)=>{ut(r);const d=Cn(t.value)[r.value];return d?ss(d):Ur})},arr:{len:t=>pt(t.value.length),push:t=>We(async([r],e)=>(tf(r),t.value.push(r),t)),unshift:t=>We(async([r],e)=>(tf(r),t.value.unshift(r),t)),pop:t=>We(async(r,e)=>t.value.pop()??Ur),shift:t=>We(async(r,e)=>t.value.shift()??Ur),concat:t=>We(async([r],e)=>(sc(r),ua(t.value.concat(r.value)))),slice:t=>We(async([r,e],l)=>(ut(r),ut(e),ua(t.value.slice(r.value,e.value)))),join:t=>We(async([r],e)=>(r&&$n(r),ss(t.value.map(l=>l.type==="str"?l.value:"").join(r?r.value:"")))),map:t=>We(async([r],e)=>{au(r);const l=t.value.map(async(d,x)=>await e.call(r,[d,pt(x)]));return ua(await Promise.all(l))}),filter:t=>We(async([r],e)=>{au(r);const l=[];for(let d=0;d<t.value.length;d++){const x=t.value[d],P=await e.call(r,[x,pt(d)]);ni(P),P.value&&l.push(x)}return ua(l)}),reduce:t=>We(async([r,e],l)=>{au(r);const d=e!=null;let x=d?e:t.value[0];for(let P=d?0:1;P<t.value.length;P++){const M=t.value[P];x=await l.call(r,[x,M,pt(P)])}return x}),find:t=>We(async([r],e)=>{au(r);for(let l=0;l<t.value.length;l++){const d=t.value[l],x=await e.call(r,[d,pt(l)]);if(ni(x),x.value)return d}return Ur}),incl:t=>We(async([r],e)=>(tf(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Ql:(d=>d.value.map(x=>x.type==="str"||x.type==="num"||x.type==="bool"?x.value:x.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?of:Ql)),reverse:t=>We(async(r,e)=>(t.value.reverse(),Ur)),copy:t=>We(async(r,e)=>ua([...t.value])),sort:t=>We(async([r],e)=>{const l=async(x,P)=>{if(x.length<=1)return x;const M=Math.floor(x.length/2),F=await l(x.slice(0,M),P),T=await l(x.slice(M),P);return d(F,T,P)},d=async(x,P,M)=>{const F=[];let T=0,N=0;for(;T<x.length&&N<P.length;){const H=x[T],B=P[N],W=await e.call(M,[H,B]);ut(W),W.value<0?(F.push(x[T]),T++):(F.push(P[N]),N++)}return F.concat(x.slice(T)).concat(P.slice(N))};return au(r),sc(t),t.value=await l(t.value,r),t})}};var nf=function(t,r,e,l){var d=arguments.length,x=d<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,e):l,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,r,e,l);else for(var M=t.length-1;M>=0;M--)(P=t[M])&&(x=(d<3?P(x):d>3?P(r,e,x):P(r,e))||x);return d>3&&x&&Object.defineProperty(r,e,x),x};const X0=300,p2=X0-1;class mi{constructor(r,e){be(this,"vars");be(this,"opts");be(this,"stepCount",0);be(this,"stop",!1);be(this,"scope");be(this,"abortHandlers",[]);this.opts=e??{};const l={print:We(([d])=>{tf(d),this.opts.out&&this.opts.out(d)}),readline:We(async d=>{const x=d[0];if($n(x),this.opts.in==null)return Ur;const P=await this.opts.in(x.value);return ss(P)})};this.vars={...r,...h2,...l},this.scope=new Rf([new Map(Object.entries(this.vars))]),this.scope.opts.log=(d,x)=>{switch(d){case"add":this.log("var:add",x);break;case"read":this.log("var:read",x);break;case"write":this.log("var:write",x);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(d){switch(d.type){case"arr":return d.value.map(x=>e(x));case"bool":return d.value;case"null":return null;case"num":return d.value;case"obj":{const x={};for(const[P,M]of d.value.entries())x[P]=e(M);return x}case"str":return d.value;default:return}}const l=new Map;for(const d of r)switch(d.type){case"meta":{l.set(d.name,e(d.value));break}}return l}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const l of r.members)switch(l.type){case"def":{const d=await this._eval(l.expr,e);e.add(l.name,d),this.scope.add(r.name+":"+l.name,d);break}case"ns":break;default:throw new Error("invalid ns member type: "+l.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Ur;{const l=new Map;for(let x=0;x<(r.args??[]).length;x++)l.set(r.args[x],e[x]);const d=r.scope.createChildScope(l);return l2(await this._run(r.statements,d))}}async _eval(r,e){if(this.stop)return Ur;if(this.stepCount%X0===p2&&await new Promise(l=>setTimeout(l,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new as("max step exceeded");switch(r.type){case"call":{const l=await this._eval(r.target,e);au(l);const d=await Promise.all(r.args.map(x=>this._eval(x,e)));return this._fn(l,d)}case"if":{const l=await this._eval(r.cond,e);if(ni(l),l.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const d of r.elseif){const x=await this._eval(d.cond,e);if(ni(x),x.value)return this._eval(d.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Ur}case"match":{const l=await this._eval(r.about,e);for(const d of r.qs){const x=await this._eval(d.q,e);if(uv(l,x))return await this._eval(d.a,e)}return r.default?await this._eval(r.default,e):Ur}case"loop":{for(;;){const l=await this._run(r.statements,e.createChildScope());if(l.type==="break")break;if(l.type==="return")return l}return Ur}case"for":{if(r.times){const l=await this._eval(r.times,e);ut(l);for(let d=0;d<l.value;d++){const x=await this._eval(r.for,e);if(x.type==="break")break;if(x.type==="return")return x}}else{const l=await this._eval(r.from,e),d=await this._eval(r.to,e);ut(l),ut(d);for(let x=l.value;x<l.value+d.value;x++){const P=await this._eval(r.for,e.createChildScope(new Map([[r.var,pt(x)]])));if(P.type==="break")break;if(P.type==="return")return P}}return Ur}case"each":{const l=await this._eval(r.items,e);sc(l);for(const d of l.value){const x=await this._eval(r.for,e.createChildScope(new Map([[r.var,d]])));if(x.type==="break")break;if(x.type==="return")return x}return Ur}case"def":{const l=await this._eval(r.expr,e);if(r.attr.length>0){const d=[];for(const x of r.attr)d.push({name:x.name,value:await this._eval(x.value,e)});l.attr=d}return e.add(r.name,l),Ur}case"identifier":return e.get(r.name);case"assign":{const l=await this._eval(r.expr,e);return await this.assign(e,r.dest,l),Ur}case"addAssign":{const l=await this._eval(r.dest,e);ut(l);const d=await this._eval(r.expr,e);return ut(d),await this.assign(e,r.dest,pt(l.value+d.value)),Ur}case"subAssign":{const l=await this._eval(r.dest,e);ut(l);const d=await this._eval(r.expr,e);return ut(d),await this.assign(e,r.dest,pt(l.value-d.value)),Ur}case"null":return Ur;case"bool":return Oo(r.value);case"num":return pt(r.value);case"str":return ss(r.value);case"arr":return ua(await Promise.all(r.value.map(async l=>await this._eval(l,e))));case"obj":{const l=new Map;for(const d of r.value.keys())l.set(d,await this._eval(r.value.get(d),e));return qv(l)}case"prop":{const l=await this._eval(r.target,e);if(o2(l))return l.value.has(r.name)?l.value.get(r.name):Ur;if(u2(l)){if(Object.hasOwn(ho.num,r.name))return ho.num[r.name](l);throw new as(`No such prop (${r.name}) in ${l.type}.`)}else if(f2(l)){if(Object.hasOwn(ho.str,r.name))return ho.str[r.name](l);throw new as(`No such prop (${r.name}) in ${l.type}.`)}else if(c2(l)){if(Object.hasOwn(ho.arr,r.name))return ho.arr[r.name](l);throw new as(`No such prop (${r.name}) in ${l.type}.`)}else throw new as(`Cannot read prop (${r.name}) of ${l.type}.`)}case"index":{const l=await this._eval(r.target,e);sc(l);const d=await this._eval(r.index,e);ut(d);const x=l.value[d.value];if(x===void 0)throw new QA(`Index out of range. index: ${d.value} max: ${l.value.length-1}`);return x}case"not":{const l=await this._eval(r.expr,e);return ni(l),Oo(!l.value)}case"fn":return s2(r.args.map(l=>l.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let l="";for(const d of r.tmpl)if(typeof d=="string")l+=d;else{const x=await this._eval(d,e);let P="";x.type==="str"?P=x.value:x.type==="num"&&(P=x.value.toString()),l+=P}return ss(l)}case"return":{const l=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:l}),n2(l)}case"break":return this.log("block:break",{scope:e.name}),a2();case"continue":return this.log("block:continue",{scope:e.name}),i2();case"ns":return Ur;case"meta":return Ur;case"and":{const l=await this._eval(r.left,e);if(ni(l),l.value){const d=await this._eval(r.right,e);return ni(d),d}else return l}case"or":{const l=await this._eval(r.left,e);if(ni(l),l.value)return l;{const d=await this._eval(r.right,e);return ni(d),d}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let l=Ur;for(let d=0;d<r.length;d++){const x=r[d];if(l=await this._eval(x,e),l.type==="return")return this.log("block:return",{scope:e.name,val:l.value}),l;if(l.type==="break")return this.log("block:break",{scope:e.name}),l;if(l.type==="continue")return this.log("block:continue",{scope:e.name}),l}return this.log("block:leave",{scope:e.name,val:l}),l}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,l){if(e.type==="identifier")r.assign(e.name,l);else if(e.type==="index"){const d=await this._eval(e.target,r);sc(d);const x=await this._eval(e.index,r);ut(x),d.value[x.value]=l}else if(e.type==="prop"){const d=await this._eval(e.target,r);Xf(d),d.value.set(e.name,l)}else throw new as("The left-hand side of an assignment expression must be a variable or a property/index access.")}}nf([Gt],mi.prototype,"exec",null);nf([Gt],mi.prototype,"execFn",null);nf([Gt],mi.prototype,"log",null);nf([Gt],mi.prototype,"collectNs",null);nf([Gt],mi.prototype,"collectNsMember",null);nf([Gt],mi.prototype,"_fn",null);nf([Gt],mi.prototype,"_eval",null);nf([Gt],mi.prototype,"_run",null);nf([Gt],mi.prototype,"registerAbortHandler",null);nf([Gt],mi.prototype,"unregisterAbortHandler",null);nf([Gt],mi.prototype,"abort",null);nf([Gt],mi.prototype,"assign",null);nf([Gt],mi,"collectMetadata",null);function v2(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Gu(t,r,e,l){var d=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(d,Gu.prototype),d.expected=r,d.found=e,d.location=l,d.name="SyntaxError",d}v2(Gu,Error);function pp(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Gu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,l;for(l=0;l<t.length;l++)if(t[l].source===this.location.source){e=t[l].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,P=this.location.source+":"+x.line+":"+x.column;if(e){var M=this.location.end,F=pp("",x.line.toString().length," "),T=e[d.line-1],N=d.line===M.line?M.column:T.length+1,H=N-d.column||1;r+=`
 --> `+P+`
`+F+` |
`+x.line+" | "+T+`
`+F+" | "+pp("",d.column-1," ")+pp("",H,"^")}else r+=`
 at `+P}return r};Gu.buildMessage=function(t,r){var e={literal:function(T){return'"'+d(T.text)+'"'},class:function(T){var N=T.parts.map(function(H){return Array.isArray(H)?x(H[0])+"-"+x(H[1]):x(H)});return"["+(T.inverted?"^":"")+N.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function l(T){return T.charCodeAt(0).toString(16).toUpperCase()}function d(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(N){return"\\x0"+l(N)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(N){return"\\x"+l(N)})}function P(T){return e[T.type](T)}function M(T){var N=T.map(P),H,B;if(N.sort(),N.length>0){for(H=1,B=1;H<N.length;H++)N[H-1]!==N[H]&&(N[B]=N[H],B++);N.length=B}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function F(T){return T?'"'+d(T)+'"':"end of input"}return"Expected "+M(t)+" but "+F(r)+" found."};function ud(t,r){r=r!==void 0?r:{};var e={},l=r.grammarSource,d={Preprocess:D,Main:js},x=D,P="//",M="/*",F="*/",T="(",N=")",H="::",B="{",W="}",ve="###",ie="let",fe=":",Me="=",G="var",K="<:",Q="#[",X="]",Z="each",ee=",",ae="for",ne="return",Se="loop",Ne="break",Ce="continue",st="+=",ct="-=",rr="\\",yt="||",vt="&&",Xe="==",gt="!=",Zt="<=",er=">=",ht="<",_r=">",Qt="+",Pr="-",Kt="*",xr="^",Or="/",Mt="%",Br="!",sr="[",br=".",J="if",re="elif",ue="else",me="match",he="=>",Te="eval",Ie="`",xe='"',Ee="'",ye='\\"',Ge="\\'",rt="true",tt="false",Ve="null",lt=";",Pt="@",dt="@(",wt=`\r
`,At=/^[A-Z0-9_:]/i,at=/^[^`{]/,is=/^[{}`]/,ls=/^[+\-]/,zr=/^[1-9]/,bt=/^[0-9]/,Rt=/^[A-Z_]/i,an=/^[A-Z0-9_]/i,Dt=/^[\r\n]/,xi=/^[ \t\r\n]/,bi=/^[ \t]/,nr=Rl(),Ct=le("//",!1),cr=le("/*",!1),_n=le("*/",!1),ot=le("(",!1),nt=le(")",!1),kr=le("::",!1),Et=le("{",!1),Ye=le("}",!1),kt=le("###",!1),gs=le("let",!1),Ut=le(":",!1),Bt=le("=",!1),Mr=le("var",!1),Vn=le("<:",!1),ar=le("#[",!1),jr=le("]",!1),Ts=le("each",!1),it=le(",",!1),St=le("for",!1),Vs=le("return",!1),Fr=E([["A","Z"],["0","9"],"_",":"],!1,!0),Nr=le("loop",!1),Ai=le("break",!1),Kn=le("continue",!1),Ci=le("+=",!1),_i=le("-=",!1),$a=le("\\",!1),ma=le("||",!1),Pi=le("&&",!1),ki=le("==",!1),Mi=le("!=",!1),Ei=le("<=",!1),Ks=le(">=",!1),Fs=le("<",!1),Pn=le(">",!1),xa=le("+",!1),Si=le("-",!1),ba=le("*",!1),us=le("^",!1),Ti=le("/",!1),Fi=le("%",!1),Ni=le("!",!1),es=le("[",!1),Ns=le(".",!1),kn=le("if",!1),xs=le("elif",!1),bs=le("else",!1),Oi=le("match",!1),Js=le("=>",!1),Ir=le("eval",!1),As=le("`",!1),Jt=E(["`","{"],!0,!1),Ws=E(["{","}","`"],!1,!1),Gs=le('"',!1),Zs=le("'",!1),Rr=le('\\"',!1),Qs=le("\\'",!1),Cs=E(["+","-"],!1,!1),Aa=E([["1","9"]],!1,!1),ir=E([["0","9"]],!1,!1),Ca=le("true",!1),hr=le("false",!1),ji=le("null",!1),Xs=le(";",!1),Ii=le("@",!1),Os=le("@(",!1),Ri=E([["A","Z"],"_"],!1,!0),Mn=E([["A","Z"],["0","9"],"_"],!1,!0),Di=le(`\r
`,!1),_a=E(["\r",`
`],!1,!1),Li=E([" ","	","\r",`
`],!1,!1),Hi=E([" ","	"],!1,!1),Jn=function(n){return n.join("")},Ui=function(){return O()},Wn=function(){return O()},Bi=function(){return""},Gn=function(){return""},zi=function(n){return n??[]},Pa=function(n,f){return f},qi=function(n,f){return[n,...f]},En=function(n,f){return f},Vi=function(n,f){return[n,...f]},Sn=function(n,f){return f},Ki=function(n,f){return[n,...f]},ka=function(n){return n},Ji=function(n,f){return g("ns",{name:n,members:f})},Wi=function(n,f){return g("meta",{name:n,value:f})},Gi=function(n){return g("meta",{name:null,value:n})},Zi=function(n,f,y){return g("def",{name:n,varType:f,expr:y,mut:!1,attr:[]})},Qi=function(n,f,y){return g("def",{name:n,varType:f,expr:y,mut:!0,attr:[]})},Xi=function(n){return g("identifier",{name:"print",chain:[g("callChain",{args:[n]})]})},Yi=function(n,f){return g("attr",{name:n,value:f??g("bool",{value:!0})})},el=function(n,f,y){return g("each",{var:n,items:f,for:y})},tl=function(n,f,y){return g("each",{var:n,items:f,for:y})},rl=function(n,f){return f},sl=function(n,f,y,h){return g("for",{var:n,from:f??g("num",{value:0}),to:y,for:h})},nl=function(n,f){return f},al=function(n,f,y,h){return g("for",{var:n,from:f??g("num",{value:0}),to:y,for:h})},il=function(n,f){return g("for",{times:n,for:f})},Zn=function(n,f){return g("for",{times:n,for:f})},ll=function(n){return g("return",{expr:n})},fl=function(n){return g("loop",{statements:n})},ul=function(){return g("break",{})},ol=function(){return g("continue",{})},cl=function(n,f,y){return f==="+="?g("addAssign",{dest:n,expr:y}):f==="-="?g("subAssign",{dest:n,expr:y}):g("assign",{dest:n,expr:y})},ln=function(n,f,y){return{op:f,term:y}},hl=function(n,f){return g("infix",{operands:[n,...f.map(y=>y.term)],operators:f.map(y=>y.op)})},Ma=function(){return O()},pl=function(n){return g("not",{expr:n})},vl=function(n,f){return{...n,chain:f}},gl=function(n){return g("callChain",{args:n??[]})},Ea=function(n,f){return f},dl=function(n,f){return[n,...f]},fn=function(n){return g("indexChain",{index:n})},yl=function(n){return g("propChain",{name:n})},wl=function(n,f,y,h){return g("if",{cond:n,then:f,elseif:y??[],else:h})},$l=function(n,f){return[n,...f]},ml=function(n,f){return{cond:n,then:f}},xl=function(n){return n},Sa=function(n,f,y){return{q:f,a:y}},Qn=function(n,f,y){return g("match",{about:n,qs:f??[],default:y})},Ta=function(n){return g("block",{statements:n})},Xn=function(n){return g("identifier",{name:n})},bl=function(n){return g("tmpl",{tmpl:n})},Al=function(n){return n.join("")},Fa=function(n){return n},Cl=function(n){return g("str",{value:n.join("")})},Na=function(n){return n},Oa=function(n){return g("str",{value:n.join("")})},_l=function(){return'"'},ja=function(){return"'"},Pl=function(){return g("num",{value:parseFloat(O())})},kl=function(){return g("num",{value:parseFloat(O())})},Yn=function(){return g("num",{value:parseInt(O(),10)})},Ml=function(){return g("num",{value:parseInt(O(),10)})},ea=function(){return g("bool",{value:!0})},El=function(){return g("bool",{value:!1})},Sl=function(){return g("null",{})},Ia=function(n,f){return{k:n,v:f}},Tl=function(n){const f=new Map;for(const y of n)f.set(y.k,y.v);return g("obj",{value:f})},Ra=function(n){return n},un=function(n){return g("arr",{value:n})},Fl=function(n,f){return{name:n,argType:f}},on=function(n,f){return[n,...f]},Nl=function(n,f,y,h,s,o){return(n.length>0||y.length>0)&&Ps("Cannot use spaces before or after the function name."),g("def",{name:f,expr:g("fn",{args:h??[],retType:s},o??[]),mut:!1,attr:[]})},Ol=function(n,f,y){return g("fn",{args:n??[],retType:f},y??[])},Da=function(n){return n},jl=function(n){return g("arr",{value:n})},La=function(n,f){return{k:n,v:f}},Ha=function(n){const f=new Map;for(const y of n)f.set(y.k,y.v);return g("obj",{value:f})},Il=function(n,f){return g("fnTypeSource",{args:n??[],result:f})},Ua=function(n,f){return[n,...f]},i=function(n,f){return g("namedTypeSource",{name:n,inner:f})},q=function(n){return g("namedTypeSource",{name:n,inner:null})},Dr=function(){return O()},Tt=function(){return O()},_s=function(n){return g("block",{statements:n??[]})},u=0,k=0,Ar=[{line:1,column:1}],c=0,te=[],I=0,j={},ft;if("startRule"in r){if(!(r.startRule in d))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');x=d[r.startRule]}function O(){return t.substring(k,u)}function z(){return ks(k,u)}function Ps(n,f){throw f=f!==void 0?f:ks(k,u),Ba(n,f)}function le(n,f){return{type:"literal",text:n,ignoreCase:f}}function E(n,f,y){return{type:"class",parts:n,inverted:f,ignoreCase:y}}function Rl(){return{type:"any"}}function pe(){return{type:"end"}}function tr(n){var f=Ar[n],y;if(f)return f;for(y=n-1;!Ar[y];)y--;for(f=Ar[y],f={line:f.line,column:f.column};y<n;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return Ar[n]=f,f}function ks(n,f,y){var h=tr(n),s=tr(f),o={source:l,start:{offset:n,line:h.line,column:h.column},end:{offset:f,line:s.line,column:s.column}};return o}function L(n){u<c||(u>c&&(c=u,te=[]),te.push(n))}function Ba(n,f){return new Gu(n,null,null,f)}function Ys(n,f,y){return new Gu(Gu.buildMessage(n,f),n,f,y)}function D(){var n,f,y,h=u*76+0,s=j[h];if(s)return u=s.nextPos,s.result;for(n=u,f=[],y=qr();y!==e;)f.push(y),y=qr();return k=n,f=Jn(f),n=f,j[h]={nextPos:u,result:n},n}function qr(){var n,f,y=u*76+1,h=j[y];return h?(u=h.nextPos,h.result):(n=u,f=Rs(),f!==e&&(k=n,f=Ui()),n=f,n===e&&(n=u,f=rn(),f!==e&&(k=n,f=Wn()),n=f,n===e&&(n=en(),n===e&&(t.length>u?(n=t.charAt(u),u++):(n=e,I===0&&L(nr))))),j[y]={nextPos:u,result:n},n)}function en(){var n,f,y,h,s,o,w=u*76+2,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.substr(u,2)===P?(f=P,u+=2):(f=e,I===0&&L(Ct)),f!==e){for(y=[],h=u,s=u,I++,o=a(),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,o=a(),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);k=n,n=Bi()}else u=n,n=e;if(n===e)if(n=u,t.substr(u,2)===M?(f=M,u+=2):(f=e,I===0&&L(cr)),f!==e){for(y=[],h=u,s=u,I++,t.substr(u,2)===F?(o=F,u+=2):(o=e,I===0&&L(_n)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.substr(u,2)===F?(o=F,u+=2):(o=e,I===0&&L(_n)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr)),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);t.substr(u,2)===F?(h=F,u+=2):(h=e,I===0&&L(_n)),h!==e?(k=n,n=Gn()):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function js(){var n,f,y,h,s,o=u*76+3,w=j[o];if(w)return u=w.nextPos,w.result;for(n=u,f=[],y=v();y!==e;)f.push(y),y=v();for(y=Vr(),y===e&&(y=null),h=[],s=v();s!==e;)h.push(s),s=v();return k=n,n=zi(y),j[o]={nextPos:u,result:n},n}function Vr(){var n,f,y,h,s,o,w,p,m=u*76+4,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=Ls(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=Ls(),p!==e?(k=h,h=Pa(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=Ls(),p!==e?(k=h,h=Pa(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=qi(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Fe(){var n,f,y,h,s,o,w,p,m=u*76+5,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=fr(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=fr(),p!==e?(k=h,h=En(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=fr(),p!==e?(k=h,h=En(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=Vi(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Er(){var n,f,y,h,s,o,w,p,m=u*76+6,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=yr(),f!==e){for(y=[],h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=yr(),p!==e?(k=h,h=Sn(f,p)):(u=h,h=e)}else u=h,h=e;for(;h!==e;){for(y.push(h),h=u,s=[],o=b();o!==e;)s.push(o),o=b();if(o=Y(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=yr(),p!==e?(k=h,h=Sn(f,p)):(u=h,h=e)}else u=h,h=e}k=n,n=Ki(f,y)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Ls(){var n,f=u*76+7,y=j[f];return y?(u=y.nextPos,y.result):(n=Is(),n===e&&(n=za(),n===e&&(n=yr())),j[f]={nextPos:u,result:n},n)}function fr(){var n,f=u*76+8,y=j[f];return y?(u=y.nextPos,y.result):(n=Kr(),n===e&&(n=Lt(),n===e&&(n=Is())),j[f]={nextPos:u,result:n},n)}function yr(){var n,f=u*76+9,y=j[f];return y?(u=y.nextPos,y.result):(n=Kr(),n===e&&(n=Lt(),n===e&&(n=qa(),n===e&&(n=Hl(),n===e&&(n=Dl(),n===e&&(n=Va(),n===e&&(n=Ll(),n===e&&(n=pr(),n===e&&(n=ta(),n===e&&(n=Ul(),n===e&&(n=Bl(),n===e&&(n=et()))))))))))),j[f]={nextPos:u,result:n},n)}function et(){var n,f=u*76+10,y=j[f];return y?(u=y.nextPos,y.result):(n=ra(),n===e&&(n=ts()),j[f]={nextPos:u,result:n},n)}function ts(){var n,f=u*76+11,y=j[f];return y?(u=y.nextPos,y.result):(n=zl(),n===e&&(n=Kl(),n===e&&(n=Wr(),n===e&&(n=ds()))),j[f]={nextPos:u,result:n},n)}function ds(){var n,f,y,h,s,o,w=u*76+12,p=j[w];if(p)return u=p.nextPos,p.result;if(n=aa(),n===e&&(n=Hs(),n===e&&(n=Rs(),n===e&&(n=rn(),n===e&&(n=Wa(),n===e&&(n=jn(),n===e&&(n=dn(),n===e&&(n=yn(),n===e&&(n=Vl(),n===e&&(n=sa(),n===e&&(n=ql(),n===e)))))))))))if(n=u,t.charCodeAt(u)===40?(f=T,u++):(f=e,I===0&&L(ot)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=et(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e?(k=n,n=ka(h)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ke(){var n,f=u*76+13,y=j[f];return y?(u=y.nextPos,y.result):(n=Wa(),n===e&&(n=rn(),n===e&&(n=jn(),n===e&&(n=Dn(),n===e&&(n=Za(),n===e&&(n=dn()))))),j[f]={nextPos:u,result:n},n)}function Is(){var n,f,y,h,s,o,w,p,m,$,_=u*76+14,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===H?(f=H,u+=2):(f=e,I===0&&L(kr)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(t.charCodeAt(u)===123?(o=B,u++):(o=e,I===0&&L(Et)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(p=Fe(),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();t.charCodeAt(u)===125?($=W,u++):($=e,I===0&&L(Ye)),$!==e?(k=n,n=Ji(h,p)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function za(){var n,f,y,h,s,o,w=u*76+15,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.substr(u,3)===ve?(f=ve,u+=3):(f=e,I===0&&L(kt)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=Ue(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();o=Ke(),o!==e?(k=n,n=Wi(h,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===ve?(f=ve,u+=3):(f=e,I===0&&L(kt)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();h=Ke(),h!==e?(k=n,n=Gi(h)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Kr(){var n,f,y,h,s,o,w,p,m,$=u*76+16,_=j[$];if(_)return u=_.nextPos,_.result;if(n=u,t.substr(u,3)===ie?(f=ie,u+=3):(f=e,I===0&&L(gs)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===58?(w=fe,u++):(w=e,I===0&&L(Ut)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=Le(),m!==e?s=m:(u=s,s=e)}else u=s,s=e;for(s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===61?(w=Me,u++):(w=e,I===0&&L(Bt)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=et(),m!==e?(k=n,n=Zi(h,s,m)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===G?(f=G,u+=3):(f=e,I===0&&L(Mr)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===58?(w=fe,u++):(w=e,I===0&&L(Ut)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=Le(),m!==e?s=m:(u=s,s=e)}else u=s,s=e;for(s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===61?(w=Me,u++):(w=e,I===0&&L(Bt)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();m=et(),m!==e?(k=n,n=Qi(h,s,m)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[$]={nextPos:u,result:n},n}function qa(){var n,f,y,h,s=u*76+17,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,t.substr(u,2)===K?(f=K,u+=2):(f=e,I===0&&L(Vn)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();h=et(),h!==e?(k=n,n=Xi(h)):(u=n,n=e)}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function Dl(){var n,f,y,h,s,o,w,p=u*76+18,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,t.substr(u,2)===Q?(f=Q,u+=2):(f=e,I===0&&L(ar)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=Ue(),h!==e){for(s=u,o=[],w=v();w!==e;)o.push(w),w=v();for(w=Ke(),w!==e?s=w:(u=s,s=e),s===e&&(s=null),o=[],w=v();w!==e;)o.push(w),w=v();t.charCodeAt(u)===93?(w=X,u++):(w=e,I===0&&L(jr)),w!==e?(k=n,n=Yi(h,s)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[p]={nextPos:u,result:n},n}function Va(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+19,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.substr(u,4)===Z?(f=Z,u+=4):(f=e,I===0&&L(Ts)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(t.substr(u,3)===ie?(s=ie,u+=3):(s=e,I===0&&L(gs)),s!==e){if(o=[],w=v(),w!==e)for(;w!==e;)o.push(w),w=v();else o=e;if(o!==e)if(w=Ue(),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();for(t.charCodeAt(u)===44?(m=ee,u++):(m=e,I===0&&L(it)),m===e&&(m=null),$=[],_=v();_!==e;)$.push(_),_=v();if(_=et(),_!==e)if(t.charCodeAt(u)===41?(A=N,u++):(A=e,I===0&&L(nt)),A!==e){for(S=[],R=v();R!==e;)S.push(R),R=v();R=we(),R!==e?(k=n,n=el(w,_,R)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,4)===Z?(f=Z,u+=4):(f=e,I===0&&L(Ts)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(t.substr(u,3)===ie?(h=ie,u+=3):(h=e,I===0&&L(gs)),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();if($=et(),$!==e){if(_=[],A=v(),A!==e)for(;A!==e;)_.push(A),A=v();else _=e;_!==e?(A=we(),A!==e?(k=n,n=tl(o,$,A)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Ll(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V=u*76+20,se=j[V];if(se)return u=se.nextPos,se.result;if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(t.substr(u,3)===ie?(s=ie,u+=3):(s=e,I===0&&L(gs)),s!==e){if(o=[],w=v(),w!==e)for(;w!==e;)o.push(w),w=v();else o=e;if(o!==e)if(w=Ue(),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();if(m=u,t.charCodeAt(u)===61?($=Me,u++):($=e,I===0&&L(Bt)),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();A=et(),A!==e?(k=m,m=rl(w,A)):(u=m,m=e)}else u=m,m=e;for(m===e&&(m=null),t.charCodeAt(u)===44?($=ee,u++):($=e,I===0&&L(it)),$===e&&($=null),_=[],A=v();A!==e;)_.push(A),A=v();if(A=et(),A!==e)if(t.charCodeAt(u)===41?(S=N,u++):(S=e,I===0&&L(nt)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();U=we(),U!==e?(k=n,n=sl(w,m,A,U)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(t.substr(u,3)===ie?(h=ie,u+=3):(h=e,I===0&&L(gs)),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(p=u,t.charCodeAt(u)===61?(m=Me,u++):(m=e,I===0&&L(Bt)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();_=et(),_!==e?(k=p,p=nl(o,_)):(u=p,p=e)}else u=p,p=e;for(p===e&&(p=null),t.charCodeAt(u)===44?(m=ee,u++):(m=e,I===0&&L(it)),m===e&&(m=null),$=[],_=v();_!==e;)$.push(_),_=v();if(_=et(),_!==e){if(A=[],S=v(),S!==e)for(;S!==e;)A.push(S),S=v();else A=e;A!==e?(S=we(),S!==e?(k=n,n=al(o,p,_,S)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===40?(h=T,u++):(h=e,I===0&&L(ot)),h!==e)if(s=et(),s!==e)if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();p=we(),p!==e?(k=n,n=il(s,p)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,t.substr(u,3)===ae?(f=ae,u+=3):(f=e,I===0&&L(St)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=et(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;s!==e?(o=we(),o!==e?(k=n,n=Zn(h,o)):(u=n,n=e)):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e}}return j[V]={nextPos:u,result:n},n}function Hl(){var n,f,y,h,s,o=u*76+21,w=j[o];if(w)return u=w.nextPos,w.result;if(n=u,t.substr(u,6)===ne?(f=ne,u+=6):(f=e,I===0&&L(Vs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();s=et(),s!==e?(k=n,n=ll(s)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[o]={nextPos:u,result:n},n}function pr(){var n,f,y,h,s,o,w,p,m=u*76+22,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,t.substr(u,4)===Se?(f=Se,u+=4):(f=e,I===0&&L(Nr)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===123?(h=B,u++):(h=e,I===0&&L(Et)),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();if(o=Er(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();t.charCodeAt(u)===125?(p=W,u++):(p=e,I===0&&L(Ye)),p!==e?(k=n,n=fl(o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function ta(){var n,f,y,h,s=u*76+23,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,5)===Ne?(f=Ne,u+=5):(f=e,I===0&&L(Ai)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ul()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function Ul(){var n,f,y,h,s=u*76+24,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,8)===Ce?(f=Ce,u+=8):(f=e,I===0&&L(Kn)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ol()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function Bl(){var n,f,y,h,s,o,w=u*76+25,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=et(),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.substr(u,2)===st?(h=st,u+=2):(h=e,I===0&&L(Ci)),h===e&&(t.substr(u,2)===ct?(h=ct,u+=2):(h=e,I===0&&L(_i)),h===e&&(t.charCodeAt(u)===61?(h=Me,u++):(h=e,I===0&&L(Bt)))),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();o=et(),o!==e?(k=n,n=cl(f,h,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function ra(){var n,f,y,h,s,o,w,p,m=u*76+26,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=ts(),f!==e){for(y=[],h=u,s=[],o=Jr();o!==e;)s.push(o),o=Jr();if(o=cn(),o!==e){for(w=[],p=Jr();p!==e;)w.push(p),p=Jr();p=ts(),p!==e?(k=h,h=ln(f,o,p)):(u=h,h=e)}else u=h,h=e;if(h!==e)for(;h!==e;){for(y.push(h),h=u,s=[],o=Jr();o!==e;)s.push(o),o=Jr();if(o=cn(),o!==e){for(w=[],p=Jr();p!==e;)w.push(p),p=Jr();p=ts(),p!==e?(k=h,h=ln(f,o,p)):(u=h,h=e)}else u=h,h=e}else y=e;y!==e?(k=n,n=hl(f,y)):(u=n,n=e)}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function Jr(){var n,f,y,h=u*76+27,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===92?(f=rr,u++):(f=e,I===0&&L($a)),f!==e?(y=Y(),y!==e?(f=[f,y],n=f):(u=n,n=e)):(u=n,n=e),n===e&&(n=b()),j[h]={nextPos:u,result:n},n)}function cn(){var n,f,y=u*76+28,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===yt?(f=yt,u+=2):(f=e,I===0&&L(ma)),f===e&&(t.substr(u,2)===vt?(f=vt,u+=2):(f=e,I===0&&L(Pi)),f===e&&(t.substr(u,2)===Xe?(f=Xe,u+=2):(f=e,I===0&&L(ki)),f===e&&(t.substr(u,2)===gt?(f=gt,u+=2):(f=e,I===0&&L(Mi)),f===e&&(t.substr(u,2)===Zt?(f=Zt,u+=2):(f=e,I===0&&L(Ei)),f===e&&(t.substr(u,2)===er?(f=er,u+=2):(f=e,I===0&&L(Ks)),f===e&&(t.charCodeAt(u)===60?(f=ht,u++):(f=e,I===0&&L(Fs)),f===e&&(t.charCodeAt(u)===62?(f=_r,u++):(f=e,I===0&&L(Pn)),f===e&&(t.charCodeAt(u)===43?(f=Qt,u++):(f=e,I===0&&L(xa)),f===e&&(t.charCodeAt(u)===45?(f=Pr,u++):(f=e,I===0&&L(Si)),f===e&&(t.charCodeAt(u)===42?(f=Kt,u++):(f=e,I===0&&L(ba)),f===e&&(t.charCodeAt(u)===94?(f=xr,u++):(f=e,I===0&&L(us)),f===e&&(t.charCodeAt(u)===47?(f=Or,u++):(f=e,I===0&&L(Ti)),f===e&&(t.charCodeAt(u)===37?(f=Mt,u++):(f=e,I===0&&L(Fi))))))))))))))),f!==e&&(k=n,f=Ma()),n=f,j[y]={nextPos:u,result:n},n)}function sa(){var n,f,y,h=u*76+29,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===33?(f=Br,u++):(f=e,I===0&&L(Ni)),f!==e?(y=et(),y!==e?(k=n,n=pl(y)):(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function Wr(){var n,f,y,h,s=u*76+30,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,f=ds(),f!==e){if(y=[],h=Tn(),h===e&&(h=Ka(),h===e&&(h=Fn())),h!==e)for(;h!==e;)y.push(h),h=Tn(),h===e&&(h=Ka(),h===e&&(h=Fn()));else y=e;y!==e?(k=n,n=vl(f,y)):(u=n,n=e)}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function Tn(){var n,f,y,h,s,o,w=u*76+31,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===40?(f=T,u++):(f=e,I===0&&L(ot)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=tn(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e?(k=n,n=gl(h)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function tn(){var n,f,y,h,s,o,w=u*76+32,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=et(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=et(),o!==e?(k=h,h=Ea(f,o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=et(),o!==e?(k=h,h=Ea(f,o)):(u=h,h=e)):(u=h,h=e);k=n,n=dl(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ka(){var n,f,y,h,s,o,w=u*76+33,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=et(),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=fn(h)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Fn(){var n,f,y,h=u*76+34,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===46?(f=br,u++):(f=e,I===0&&L(Ns)),f!==e?(y=Ue(),y!==e?(k=n,n=yl(y)):(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function zl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+35,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===J?(f=J,u+=2):(f=e,I===0&&L(kn)),f!==e){if(y=[],h=v(),h!==e)for(;h!==e;)y.push(h),h=v();else y=e;if(y!==e)if(h=et(),h!==e){if(s=[],o=v(),o!==e)for(;o!==e;)s.push(o),o=v();else s=e;if(s!==e)if(o=we(),o!==e){if(w=u,p=[],m=v(),m!==e)for(;m!==e;)p.push(m),m=v();else p=e;if(p!==e?(m=Ja(),m!==e?w=m:(u=w,w=e)):(u=w,w=e),w===e&&(w=null),p=u,m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;m!==e?($=na(),$!==e?p=$:(u=p,p=e)):(u=p,p=e),p===e&&(p=null),k=n,n=wl(h,o,w,p)}else u=n,n=e;else u=n,n=e}else u=n,n=e;else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Ja(){var n,f,y,h,s,o,w=u*76+36,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Ms(),f!==e){for(y=[],h=u,s=[],o=v();o!==e;)s.push(o),o=v();for(o=Ms(),o!==e?h=o:(u=h,h=e);h!==e;){for(y.push(h),h=u,s=[],o=v();o!==e;)s.push(o),o=v();o=Ms(),o!==e?h=o:(u=h,h=e)}k=n,n=$l(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Ms(){var n,f,y,h,s,o,w,p=u*76+37,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,t.substr(u,4)===re?(f=re,u+=4):(f=e,I===0&&L(xs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();if(s=et(),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();w=we(),w!==e?(k=n,n=ml(s,w)):(u=n,n=e)}else u=n,n=e}else u=n,n=e;else u=n,n=e;return j[p]={nextPos:u,result:n},n}function na(){var n,f,y,h,s,o=u*76+38,w=j[o];if(w)return u=w.nextPos,w.result;if(n=u,t.substr(u,4)===ue?(f=ue,u+=4):(f=e,I===0&&L(bs)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();s=we(),s!==e?(k=n,n=xl(s)):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[o]={nextPos:u,result:n},n}function aa(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V,se,je=u*76+39,ge=j[je];if(ge)return u=ge.nextPos,ge.result;if(n=u,t.substr(u,5)===me?(f=me,u+=5):(f=e,I===0&&L(Oi)),f!==e)if(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();if(s=et(),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();if(t.charCodeAt(u)===123?(w=B,u++):(w=e,I===0&&L(Et)),w!==e){for(p=[],m=v();m!==e;)p.push(m),m=v();if(m=[],$=u,_=et(),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();k=$,$=Sa(s,_,U)}else u=$,$=e}else u=$,$=e}else u=$,$=e;if($!==e)for(;$!==e;)if(m.push($),$=u,_=et(),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();k=$,$=Sa(s,_,U)}else u=$,$=e}else u=$,$=e}else u=$,$=e;else m=e;if(m!==e){if($=u,t.charCodeAt(u)===42?(_=Kt,u++):(_=e,I===0&&L(ba)),_!==e){for(A=[],S=v();S!==e;)A.push(S),S=v();if(t.substr(u,2)===he?(S=he,u+=2):(S=e,I===0&&L(Js)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();if(U=we(),U!==e){for(V=[],se=v();se!==e;)V.push(se),se=v();$=U}else u=$,$=e}else u=$,$=e}else u=$,$=e;for($===e&&($=null),_=[],A=v();A!==e;)_.push(A),A=v();t.charCodeAt(u)===125?(A=W,u++):(A=e,I===0&&L(Ye)),A!==e?(k=n,n=Qn(s,m,$)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e;else u=n,n=e;return j[je]={nextPos:u,result:n},n}function Hs(){var n,f,y,h,s,o,w,p,m=u*76+40,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,t.substr(u,4)===Te?(f=Te,u+=4):(f=e,I===0&&L(Ir)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(t.charCodeAt(u)===123?(h=B,u++):(h=e,I===0&&L(Et)),h!==e){for(s=[],o=v();o!==e;)s.push(o),o=v();if(o=Er(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();t.charCodeAt(u)===125?(p=W,u++):(p=e,I===0&&L(Ye)),p!==e?(k=n,n=Ta(o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[m]={nextPos:u,result:n},n}function ql(){var n,f,y=u*76+41,h=j[y];return h?(u=h.nextPos,h.result):(n=u,f=ia(),f!==e&&(k=n,f=Xn(f)),n=f,j[y]={nextPos:u,result:n},n)}function Rs(){var n,f,y,h,s,o,w=u*76+42,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===96?(f=Ie,u++):(f=e,I===0&&L(As)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===96?(o=Ie,u++):(o=e,I===0&&L(As)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=hn(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===96?(o=Ie,u++):(o=e,I===0&&L(As)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=hn(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===96?(h=Ie,u++):(h=e,I===0&&L(As)),h!==e?(k=n,n=bl(y)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function hn(){var n,f,y,h,s,o,w=u*76+43,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=et(),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();t.charCodeAt(u)===125?(o=W,u++):(o=e,I===0&&L(Ye)),o!==e?n=h:(u=n,n=e)}else u=n,n=e}else u=n,n=e;if(n===e){if(n=u,f=[],y=pn(),y!==e)for(;y!==e;)f.push(y),y=pn();else f=e;f!==e&&(k=n,f=Al(f)),n=f}return j[w]={nextPos:u,result:n},n}function pn(){var n,f=u*76+44,y=j[f];return y?(u=y.nextPos,y.result):(n=vn(),n===e&&(at.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Jt))),j[f]={nextPos:u,result:n},n)}function vn(){var n,f,y,h=u*76+45,s=j[h];return s?(u=s.nextPos,s.result):(n=u,t.charCodeAt(u)===92?(f=rr,u++):(f=e,I===0&&L($a)),f!==e?(is.test(t.charAt(u))?(y=t.charAt(u),u++):(y=e,I===0&&L(Ws)),y!==e?n=y:(u=n,n=e)):(u=n,n=e),j[h]={nextPos:u,result:n},n)}function rn(){var n,f,y,h,s,o,w=u*76+46,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===34?(f=xe,u++):(f=e,I===0&&L(Gs)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===34?(o=xe,u++):(o=e,I===0&&L(Gs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Nn(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Fa(o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===34?(o=xe,u++):(o=e,I===0&&L(Gs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Nn(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Fa(o)):(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===34?(h=xe,u++):(h=e,I===0&&L(Gs)),h!==e?(k=n,n=Cl(y)):(u=n,n=e)}else u=n,n=e;if(n===e)if(n=u,t.charCodeAt(u)===39?(f=Ee,u++):(f=e,I===0&&L(Zs)),f!==e){for(y=[],h=u,s=u,I++,t.charCodeAt(u)===39?(o=Ee,u++):(o=e,I===0&&L(Zs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Us(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Na(o)):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=u,I++,t.charCodeAt(u)===39?(o=Ee,u++):(o=e,I===0&&L(Zs)),I--,o===e?s=void 0:(u=s,s=e),s!==e?(o=Us(),o===e&&(t.length>u?(o=t.charAt(u),u++):(o=e,I===0&&L(nr))),o!==e?(k=h,h=Na(o)):(u=h,h=e)):(u=h,h=e);t.charCodeAt(u)===39?(h=Ee,u++):(h=e,I===0&&L(Zs)),h!==e?(k=n,n=Oa(y)):(u=n,n=e)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Nn(){var n,f,y=u*76+47,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===ye?(f=ye,u+=2):(f=e,I===0&&L(Rr)),f!==e&&(k=n,f=_l()),n=f,j[y]={nextPos:u,result:n},n)}function Us(){var n,f,y=u*76+48,h=j[y];return h?(u=h.nextPos,h.result):(n=u,t.substr(u,2)===Ge?(f=Ge,u+=2):(f=e,I===0&&L(Qs)),f!==e&&(k=n,f=ja()),n=f,j[y]={nextPos:u,result:n},n)}function Wa(){var n,f=u*76+49,y=j[f];return y?(u=y.nextPos,y.result):(n=On(),n===e&&(n=gn()),j[f]={nextPos:u,result:n},n)}function On(){var n,f,y,h,s,o,w=u*76+50,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),zr.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Aa)),f!==e){if(y=[],bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir)),h!==e)for(;h!==e;)y.push(h),bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir));else y=e;if(y!==e)if(t.charCodeAt(u)===46?(h=br,u++):(h=e,I===0&&L(Ns)),h!==e){if(s=[],bt.test(t.charAt(u))?(o=t.charAt(u),u++):(o=e,I===0&&L(ir)),o!==e)for(;o!==e;)s.push(o),bt.test(t.charAt(u))?(o=t.charAt(u),u++):(o=e,I===0&&L(ir));else s=e;s!==e?(k=n,n=Pl()):(u=n,n=e)}else u=n,n=e;else u=n,n=e}else u=n,n=e;if(n===e)if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),bt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(ir)),f!==e)if(t.charCodeAt(u)===46?(y=br,u++):(y=e,I===0&&L(Ns)),y!==e){if(h=[],bt.test(t.charAt(u))?(s=t.charAt(u),u++):(s=e,I===0&&L(ir)),s!==e)for(;s!==e;)h.push(s),bt.test(t.charAt(u))?(s=t.charAt(u),u++):(s=e,I===0&&L(ir));else h=e;h!==e?(k=n,n=kl()):(u=n,n=e)}else u=n,n=e;else u=n,n=e;return j[w]={nextPos:u,result:n},n}function gn(){var n,f,y,h,s=u*76+51,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),zr.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Aa)),f!==e){if(y=[],bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir)),h!==e)for(;h!==e;)y.push(h),bt.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(ir));else y=e;y!==e?(k=n,n=Yn()):(u=n,n=e)}else u=n,n=e;return n===e&&(n=u,ls.test(t.charAt(u))?(t.charAt(u),u++):I===0&&L(Cs),bt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(ir)),f!==e?(k=n,n=Ml()):(u=n,n=e)),j[s]={nextPos:u,result:n},n}function jn(){var n,f=u*76+52,y=j[f];return y?(u=y.nextPos,y.result):(n=Ga(),n===e&&(n=sn()),j[f]={nextPos:u,result:n},n)}function Ga(){var n,f,y,h,s=u*76+53,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,4)===rt?(f=rt,u+=4):(f=e,I===0&&L(Ca)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=ea()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function sn(){var n,f,y,h,s=u*76+54,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,5)===tt?(f=tt,u+=5):(f=e,I===0&&L(hr)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=El()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function dn(){var n,f,y,h,s=u*76+55,o=j[s];return o?(u=o.nextPos,o.result):(n=u,t.substr(u,4)===Ve?(f=Ve,u+=4):(f=e,I===0&&L(ji)),f!==e?(y=u,I++,At.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Fr)),I--,h===e?y=void 0:(u=y,y=e),y!==e?(k=n,n=Sl()):(u=n,n=e)):(u=n,n=e),j[s]={nextPos:u,result:n},n)}function yn(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+56,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=et(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=Ia(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=et(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=Ia(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;t.charCodeAt(u)===125?(s=W,u++):(s=e,I===0&&L(Ye)),s!==e?(k=n,n=Tl(h)):(u=n,n=e)}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Vl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+57,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=et(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Ra(o)}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=et(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Ra(o)}else u=s,s=e;for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=un(h)):(u=n,n=e)}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function In(){var n,f,y,h,s,o,w,p=u*76+58,m=j[p];if(m)return u=m.nextPos,m.result;if(n=u,f=Ue(),f!==e){for(y=u,h=[],s=v();s!==e;)h.push(s),s=v();if(t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e){for(o=[],w=v();w!==e;)o.push(w),w=v();w=Le(),w!==e?y=w:(u=y,y=e)}else u=y,y=e;y===e&&(y=null),k=n,n=Fl(f,y)}else u=n,n=e;return j[p]={nextPos:u,result:n},n}function Rn(){var n,f,y,h,s,o,w=u*76+59,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=In(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=In(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=In(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);k=n,n=on(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function Lt(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U,V,se,je=u*76+60,ge=j[je];if(ge)return u=ge.nextPos,ge.result;if(n=u,t.charCodeAt(u)===64?(f=Pt,u++):(f=e,I===0&&L(Ii)),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(h=Ue(),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();if(t.charCodeAt(u)===40?(o=T,u++):(o=e,I===0&&L(ot)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(p=Rn(),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();if(t.charCodeAt(u)===41?($=N,u++):($=e,I===0&&L(nt)),$!==e){for(_=u,A=[],S=v();S!==e;)A.push(S),S=v();if(t.charCodeAt(u)===58?(S=fe,u++):(S=e,I===0&&L(Ut)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();U=Le(),U!==e?_=U:(u=_,_=e)}else u=_,_=e;for(_===e&&(_=null),A=[],S=v();S!==e;)A.push(S),S=v();if(t.charCodeAt(u)===123?(S=B,u++):(S=e,I===0&&L(Et)),S!==e){for(R=[],U=v();U!==e;)R.push(U),U=v();for(U=Er(),U===e&&(U=null),V=[],se=v();se!==e;)V.push(se),se=v();t.charCodeAt(u)===125?(se=W,u++):(se=e,I===0&&L(Ye)),se!==e?(k=n,n=Nl(y,h,s,p,_,U)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[je]={nextPos:u,result:n},n}function Kl(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R=u*76+61,U=j[R];if(U)return u=U.nextPos,U.result;if(n=u,t.substr(u,2)===dt?(f=dt,u+=2):(f=e,I===0&&L(Os)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Rn(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=u,p=[],m=v();m!==e;)p.push(m),m=v();if(t.charCodeAt(u)===58?(m=fe,u++):(m=e,I===0&&L(Ut)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();_=Le(),_!==e?w=_:(u=w,w=e)}else u=w,w=e;for(w===e&&(w=null),p=[],m=v();m!==e;)p.push(m),m=v();if(t.charCodeAt(u)===123?(m=B,u++):(m=e,I===0&&L(Et)),m!==e){for($=[],_=v();_!==e;)$.push(_),_=v();for(_=Er(),_===e&&(_=null),A=[],S=v();S!==e;)A.push(S),S=v();t.charCodeAt(u)===125?(S=W,u++):(S=e,I===0&&L(Ye)),S!==e?(k=n,n=Ol(h,w,_)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[R]={nextPos:u,result:n},n}function Dn(){var n,f,y,h,s,o,w,p,m,$,_=u*76+62,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.charCodeAt(u)===91?(f=sr,u++):(f=e,I===0&&L(es)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ke(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Da(o)}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ke(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();for(t.charCodeAt(u)===44?(p=ee,u++):(p=e,I===0&&L(it)),p===e&&(p=null),m=[],$=v();$!==e;)m.push($),$=v();k=s,s=Da(o)}else u=s,s=e;for(s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===93?(o=X,u++):(o=e,I===0&&L(jr)),o!==e?(k=n,n=jl(h)):(u=n,n=e)}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Za(){var n,f,y,h,s,o,w,p,m,$,_,A,S,R,U=u*76+63,V=j[U];if(V)return u=V.nextPos,V.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();if(h=[],s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=Ke(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=La(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;for(;s!==e;)if(h.push(s),s=u,o=Ue(),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.charCodeAt(u)===58?(p=fe,u++):(p=e,I===0&&L(Ut)),p!==e){if(m=[],$=v(),$!==e)for(;$!==e;)m.push($),$=v();else m=e;if(m!==e)if($=Ke(),$!==e){for(_=[],A=v();A!==e;)_.push(A),A=v();for(t.charCodeAt(u)===44?(A=ee,u++):(A=e,I===0&&L(it)),A===e&&(t.charCodeAt(u)===59?(A=lt,u++):(A=e,I===0&&L(Xs))),A===e&&(A=null),S=[],R=v();R!==e;)S.push(R),R=v();k=s,s=La(o,$)}else u=s,s=e;else u=s,s=e}else u=s,s=e}else u=s,s=e;t.charCodeAt(u)===125?(s=W,u++):(s=e,I===0&&L(Ye)),s!==e?(k=n,n=Ha(h)):(u=n,n=e)}else u=n,n=e;return j[U]={nextPos:u,result:n},n}function Le(){var n,f=u*76+64,y=j[f];return y?(u=y.nextPos,y.result):(n=Jl(),n===e&&(n=_t()),j[f]={nextPos:u,result:n},n)}function Jl(){var n,f,y,h,s,o,w,p,m,$,_=u*76+65,A=j[_];if(A)return u=A.nextPos,A.result;if(n=u,t.substr(u,2)===dt?(f=dt,u+=2):(f=e,I===0&&L(Os)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Lr(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();if(t.charCodeAt(u)===41?(o=N,u++):(o=e,I===0&&L(nt)),o!==e){for(w=[],p=v();p!==e;)w.push(p),p=v();if(t.substr(u,2)===he?(p=he,u+=2):(p=e,I===0&&L(Js)),p!==e){for(m=[],$=v();$!==e;)m.push($),$=v();$=Le(),$!==e?(k=n,n=Il(h,$)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return j[_]={nextPos:u,result:n},n}function Lr(){var n,f,y,h,s,o,w=u*76+66,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Le(),f!==e){for(y=[],h=u,s=C(),s!==e?(o=Le(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,s=C(),s!==e?(o=Le(),o!==e?h=o:(u=h,h=e)):(u=h,h=e);k=n,n=Ua(f,y)}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function _t(){var n,f,y,h,s,o,w,p,m=u*76+67,$=j[m];if($)return u=$.nextPos,$.result;if(n=u,f=Ue(),f!==e){for(y=[],h=b();h!==e;)y.push(h),h=b();if(t.charCodeAt(u)===60?(h=ht,u++):(h=e,I===0&&L(Fs)),h!==e){for(s=[],o=b();o!==e;)s.push(o),o=b();if(o=Le(),o!==e){for(w=[],p=b();p!==e;)w.push(p),p=b();t.charCodeAt(u)===62?(p=_r,u++):(p=e,I===0&&L(Pn)),p!==e?(k=n,n=i(f,o)):(u=n,n=e)}else u=n,n=e}else u=n,n=e}else u=n,n=e;return n===e&&(n=u,f=Ue(),f!==e&&(k=n,f=q(f)),n=f),j[m]={nextPos:u,result:n},n}function Ue(){var n,f,y,h,s=u*76+68,o=j[s];if(o)return u=o.nextPos,o.result;if(n=u,Rt.test(t.charAt(u))?(f=t.charAt(u),u++):(f=e,I===0&&L(Ri)),f!==e){for(y=[],an.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Mn));h!==e;)y.push(h),an.test(t.charAt(u))?(h=t.charAt(u),u++):(h=e,I===0&&L(Mn));k=n,n=Dr()}else u=n,n=e;return j[s]={nextPos:u,result:n},n}function ia(){var n,f,y,h,s,o,w=u*76+69,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,f=Ue(),f!==e){for(y=[],h=u,t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e?(o=Ue(),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);h!==e;)y.push(h),h=u,t.charCodeAt(u)===58?(s=fe,u++):(s=e,I===0&&L(Ut)),s!==e?(o=Ue(),o!==e?(s=[s,o],h=s):(u=h,h=e)):(u=h,h=e);k=n,n=Tt()}else u=n,n=e;return j[w]={nextPos:u,result:n},n}function C(){var n,f,y,h,s,o=u*76+70,w=j[o];if(w)return u=w.nextPos,w.result;for(n=u,f=[],y=v();y!==e;)f.push(y),y=v();if(t.charCodeAt(u)===44?(y=ee,u++):(y=e,I===0&&L(it)),y!==e){for(h=[],s=v();s!==e;)h.push(s),s=v();f=[f,y,h],n=f}else u=n,n=e;if(n===e)if(n=[],f=v(),f!==e)for(;f!==e;)n.push(f),f=v();else n=e;return j[o]={nextPos:u,result:n},n}function we(){var n,f,y,h,s,o,w=u*76+71,p=j[w];if(p)return u=p.nextPos,p.result;if(n=u,t.charCodeAt(u)===123?(f=B,u++):(f=e,I===0&&L(Et)),f!==e){for(y=[],h=v();h!==e;)y.push(h),h=v();for(h=Er(),h===e&&(h=null),s=[],o=v();o!==e;)s.push(o),o=v();t.charCodeAt(u)===125?(o=W,u++):(o=e,I===0&&L(Ye)),o!==e?(k=n,n=_s(h)):(u=n,n=e)}else u=n,n=e;return n===e&&(n=yr()),j[w]={nextPos:u,result:n},n}function Y(){var n,f=u*76+72,y=j[f];return y?(u=y.nextPos,y.result):(t.substr(u,2)===wt?(n=wt,u+=2):(n=e,I===0&&L(Di)),n===e&&(Dt.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(_a))),j[f]={nextPos:u,result:n},n)}function a(){var n,f,y=u*76+73,h=j[y];return h?(u=h.nextPos,h.result):(n=u,I++,t.length>u?(f=t.charAt(u),u++):(f=e,I===0&&L(nr)),I--,f===e?n=void 0:(u=n,n=e),n===e&&(n=Y()),j[y]={nextPos:u,result:n},n)}function v(){var n,f=u*76+74,y=j[f];return y?(u=y.nextPos,y.result):(xi.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Li)),j[f]={nextPos:u,result:n},n)}function b(){var n,f=u*76+75,y=j[f];return y?(u=y.nextPos,y.result):(bi.test(t.charAt(u))?(n=t.charAt(u),u++):(n=e,I===0&&L(Hi)),j[f]={nextPos:u,result:n},n)}function g(n,f,y){const h={type:n};f.children=y;for(const o of Object.keys(f))f[o]!==void 0&&(h[o]=f[o]);const s=z();return h.loc={start:s.start.offset,end:s.end.offset-1},h}if(ft=x(),ft!==e&&u===t.length)return ft;throw ft!==e&&u<t.length&&L(pe()),Ys(te,c<t.length?t.charAt(c):null,c<t.length?ks(c,c+1):ks(c,c))}const g2=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function d2(t){return g2.includes(t.type)}function Y0(t){return"chain"in t&&t.chain!==null}function y2(t,r,e){return{type:"call",target:t,args:r,loc:e}}function w2(t,r,e){return{type:"index",target:t,index:r,loc:e}}function $2(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Wt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Wt(e.expr,r);break}case"return":{e.expr=Wt(e.expr,r);break}case"each":{e.items=Wt(e.items,r),e.for=Wt(e.for,r);break}case"for":{e.from!=null&&(e.from=Wt(e.from,r)),e.to!=null&&(e.to=Wt(e.to,r)),e.times!=null&&(e.times=Wt(e.times,r)),e.for=Wt(e.for,r);break}case"loop":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Wt(e.statements[l],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Wt(e.expr,r),e.dest=Wt(e.dest,r);break}case"infix":{for(let l=0;l<e.operands.length;l++)e.operands[l]=Wt(e.operands[l],r);break}case"not":{e.expr=Wt(e.expr,r);break}case"if":{e.cond=Wt(e.cond,r),e.then=Wt(e.then,r);for(const l of e.elseif)l.cond=Wt(l.cond,r),l.then=Wt(l.then,r);e.else!=null&&(e.else=Wt(e.else,r));break}case"fn":{for(let l=0;l<e.children.length;l++)e.children[l]=Wt(e.children[l],r);break}case"match":{e.about=Wt(e.about,r);for(const l of e.qs)l.q=Wt(l.q,r),l.a=Wt(l.a,r);e.default!=null&&(e.default=Wt(e.default,r));break}case"block":{for(let l=0;l<e.statements.length;l++)e.statements[l]=Wt(e.statements[l],r);break}case"tmpl":{for(let l=0;l<e.tmpl.length;l++){const d=e.tmpl[l];typeof d!="string"&&(e.tmpl[l]=Wt(d,r))}break}case"obj":{for(const l of e.value)e.value.set(l[0],Wt(l[1],r));break}case"arr":{for(let l=0;l<e.value.length;l++)e.value[l]=Wt(e.value[l],r);break}case"callChain":{for(let l=0;l<e.args.length;l++)e.args[l]=Wt(e.args[l],r);break}case"indexChain":{e.index=Wt(e.index,r);break}case"call":{e.target=Wt(e.target,r);for(let l=0;l<e.args.length;l++)e.args[l]=Wt(e.args[l],r);break}case"index":{e.target=Wt(e.target,r),e.index=Wt(e.index,r);break}case"prop":{e.target=Wt(e.target,r);break}case"ns":{for(let l=0;l<e.members.length;l++)e.members[l]=Wt(e.members[l],r);break}}if(Y0(e)&&e.chain!=null)for(let l=0;l<e.chain.length;l++)e.chain[l]=Wt(e.chain[l],r);return e}const vp=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function gp(t){throw new ro(`Reserved word "${t}" cannot be used as variable name.`)}function m2(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{vp.includes(t.name)&&gp(t.name);break}case"meta":{t.name!=null&&vp.includes(t.name)&&gp(t.name);break}case"fn":{for(const r of t.args)vp.includes(r.name)&&gp(r.name);break}}return t}function x2(t){for(const r of t)Wt(r,m2);return t}function od(t){return{type:"simple",name:t}}function b2(t,r){return{type:"generic",name:t,inners:r}}function A2(t,r){return{type:"fn",args:t,result:r}}function Zc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Zc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(l=>Zc(l)).join(", "),e=Zc(t.result);return`@(${r}) { ${e} }`}}}function jo(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return od(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=jo(t.inner):r=od("any"),b2(t.name,[r])}}throw new ro(`Unknown type: '${Zc(t)}'`)}else{const r=t.args.map(e=>jo(e));return A2(r,jo(t.result))}}function C2(t){switch(t.type){case"def":{t.varType!=null&&jo(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&jo(r.argType);t.retType!=null&&jo(t.retType);break}}return t}function _2(t){for(const r of t)Wt(r,C2);return t}function Qc(t){const r=[],e=[];for(const l of t)if(l.type==="attr")e.push(l);else if(l.type==="def")l.attr==null&&(l.attr=[]),l.attr.push(...e),e.splice(0,e.length),l.expr.type==="fn"&&(l.expr.children=Qc(l.expr.children)),r.push(l);else{if(e.length>0)throw new ro("invalid attribute.");switch(l.type){case"fn":{l.children=Qc(l.children);break}case"block":{l.statements=Qc(l.statements);break}}r.push(l)}if(e.length>0)throw new ro("invalid attribute.");return r}function P2(t){if(d2(t)&&Y0(t)&&t.chain!=null){const{chain:r,...e}=t;let l=e;for(const d of r)switch(d.type){case"callChain":{l=y2(l,d.args,d.loc);break}case"indexChain":{l=w2(l,d.index,d.loc);break}case"propChain":{l=$2(l,d.name,d.loc);break}}return l}return t}function k2(t){for(let r=0;r<t.length;r++)t[r]=Wt(t[r],P2);return t}function Xc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function ey(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Xc(t,r,e);{const{left:l,right:d,info:x}=t;return Xc(l,ey(d,r,e),x)}}function Ou(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Ou(t.left),Ou(t.right)]}}const M2={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Ou(t.left),right:Ou(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Ou(t.left),right:Ou(t.right)}),priority:3}};function E2(t){const r=t.operators.map(l=>{const d=M2[l];if(d==null)throw new ro(`No such operator: ${l}.`);return d});let e=Xc(t.operands[0],t.operands[1],r[0]);for(let l=0;l<r.length-1;l++)e=ey(e,t.operands[2+l],r[1+l]);return Ou(e)}function S2(t){for(let r=0;r<t.length;r++)t[r]=Wt(t[r],e=>e.type==="infix"?E2(e):e);return t}const Pu=class Pu{constructor(){be(this,"plugins");this.plugins={validate:[x2,_2],transform:[Qc,k2,S2]}}static parse(r){return Pu.instance==null&&(Pu.instance=new Pu),Pu.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const l=ud(r,{startRule:"Preprocess"});e=ud(l,{startRule:"Main"})}catch(l){throw l.location?l.expected?new ro(`Parsing error. (Line ${l.location.start.line}:${l.location.start.column})`):new ro(`${l.message} (Line ${l.location.start.line}:${l.location.start.column})`):l}for(const l of this.plugins.validate)e=l(e);for(const l of this.plugins.transform)e=l(e);return e}};be(Pu,"instance");let pv=Pu;const T2="0.14.1",F2={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let vv=[],Ko=null;function N2(t){return vv=pv.parse(t),JSON.stringify(vv,null,"	")}async function O2(t){Ko==null||Ko.abort(),Ko=new mi({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:ov(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:ov(e.val,!0),print:!1});break}}});try{await Ko.exec(vv)}catch(r){t.err(r)}}const j2=Object.freeze(Object.defineProperty({__proto__:null,exec:O2,parse:N2,samples:F2,version:T2},Symbol.toStringTag,{value:"Module"})),I2=t=>(Qy("data-v-6365c473"),t=t(),Xy(),t),R2={id:"root"},D2={id:"grid1"},L2={class:"type"},H2={id:"grid2"},U2=I2(()=>hf("header",null,null,-1)),cd=["develop","0.19.0","0.18.0","0.17.0","0.16.0","0.15.0","0.14.1"],hd="0.19.0",B2=cc({__name:"MainArea",props:{ver:{}},setup(t){const r=t,{parse:e,exec:l,version:d,samples:x}={develop:Cx,"0.19.0":fb,"0.18.0":Kb,"0.17.0":E1,"0.16.0":uA,"0.15.0":ZA,"0.14.1":j2}[r.ver],P=ku(window.localStorage.getItem(d)??'<: "Hello, AiScript!"'),M=ku([]),F=ku(""),T=ku(null);ec(P,()=>{window.localStorage.setItem(d,P.value);try{F.value=e(P.value),T.value=null}catch(H){const B=H;T.value=B.message,console.error("info"in B?B.info:B);return}},{immediate:!0});function N(){M.value=[],l({in:H=>new Promise(B=>{const W=window.prompt(H);B(W??"")}),out:H=>M.value.push(H),end:H=>M.value.push(H),err:H=>{console.error(H),window.alert(`${H}`)}})}return(H,B)=>(ys(),nn("div",R2,[hf("div",D2,[ws(vm,{modelValue:P.value,"onUpdate:modelValue":B[0]||(B[0]=W=>P.value=W),samples:ic(x),parseError:T.value,onRun:N},null,8,["modelValue","samples","parseError"]),ws(Wo,{id:"logs"},{header:gi(()=>[xf("Output")]),default:gi(()=>[(ys(!0),nn(oa,null,th(M.value,W=>(ys(),nn("div",{class:pa(["log",[{print:W.print},W.type]]),key:W.id},[hf("span",L2,iu(W.type),1),xf(" "+iu(W.text),1)],2))),128))]),_:1})]),hf("div",H2,[ws(Wo,{id:"ast"},{header:gi(()=>[xf("AST")]),default:gi(()=>[hf("pre",null,iu(F.value),1)]),_:1}),ws(Wo,{id:"bin"},{header:gi(()=>[xf("Bytecode")]),default:gi(()=>[U2]),_:1}),ws(Wo,{id:"debugger"},{header:gi(()=>[xf("Debugger")]),_:1})])]))}}),z2=pc(B2,[["__scopeId","data-v-6365c473"]]),q2={id:"wrapper"},V2=cc({__name:"App",setup(t){const r=ku(window.localStorage.getItem("version")??hd),e=Object.fromEntries(cd.map(d=>[d,d+(d==hd?"(latest)":"")]));function l(d){r.value=d,window.localStorage.setItem("version",r.value)}return(d,x)=>(ys(),nn("div",q2,[hf("h1",null,[xf(" AiScript ( "),ws($0,{id:"version",options:ic(e),onSelect:l},{default:gi(()=>[xf(iu(r.value),1)]),_:1},8,["options"]),xf(" ) Playground ")]),(ys(!0),nn(oa,null,th(ic(cd),P=>(ys(),nn("div",null,[P==r.value?(ys(),Ah(z2,{key:0,ver:P},null,8,["ver"])):Ro("",!0)]))),256))]))}}),K2=pc(V2,[["__scopeId","data-v-caf8f745"]]);E$(K2).mount("#app");
