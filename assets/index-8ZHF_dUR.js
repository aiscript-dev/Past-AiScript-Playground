var id=Object.defineProperty;var ld=(t,r,e)=>r in t?id(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var me=(t,r,e)=>(ld(t,typeof r!="symbol"?r+"":r,e),e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))n(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const $ of d.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&n($)}).observe(document,{childList:!0,subtree:!0});function e(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(h){if(h.ep)return;h.ep=!0;const d=e(h);fetch(h.href,d)}})();function jh(t,r){const e=new Set(t.split(","));return r?n=>e.has(n.toLowerCase()):n=>e.has(n)}const ir={},yu=[],cn=()=>{},od=()=>!1,ec=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rh=t=>t.startsWith("onUpdate:"),Fr=Object.assign,Dh=(t,r)=>{const e=t.indexOf(r);e>-1&&t.splice(e,1)},ud=Object.prototype.hasOwnProperty,$t=(t,r)=>ud.call(t,r),Ze=Array.isArray,wu=t=>tc(t)==="[object Map]",kv=t=>tc(t)==="[object Set]",ut=t=>typeof t=="function",Er=t=>typeof t=="string",Du=t=>typeof t=="symbol",ar=t=>t!==null&&typeof t=="object",Pv=t=>(ar(t)||ut(t))&&ut(t.then)&&ut(t.catch),Ev=Object.prototype.toString,tc=t=>Ev.call(t),fd=t=>tc(t).slice(8,-1),Mv=t=>tc(t)==="[object Object]",Lh=t=>Er(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cf=jh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rc=t=>{const r=Object.create(null);return e=>r[e]||(r[e]=t(e))},cd=/-(\w)/g,Ou=rc(t=>t.replace(cd,(r,e)=>e?e.toUpperCase():"")),hd=/\B([A-Z])/g,Lu=rc(t=>t.replace(hd,"-$1").toLowerCase()),Sv=rc(t=>t.charAt(0).toUpperCase()+t.slice(1)),wc=rc(t=>t?`on${Sv(t)}`:""),wi=(t,r)=>!Object.is(t,r),mc=(t,r)=>{for(let e=0;e<t.length;e++)t[e](r)},qf=(t,r,e)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value:e})},pd=t=>{const r=parseFloat(t);return isNaN(r)?t:r},vd=t=>{const r=Er(t)?Number(t):NaN;return isNaN(r)?t:r};let gp;const Fv=()=>gp||(gp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bh(t){if(Ze(t)){const r={};for(let e=0;e<t.length;e++){const n=t[e],h=Er(n)?wd(n):Bh(n);if(h)for(const d in h)r[d]=h[d]}return r}else if(Er(t)||ar(t))return t}const gd=/;(?![^(]*\))/g,dd=/:([^]+)/,yd=/\/\*[^]*?\*\//g;function wd(t){const r={};return t.replace(yd,"").split(gd).forEach(e=>{if(e){const n=e.split(dd);n.length>1&&(r[n[0].trim()]=n[1].trim())}}),r}function Yr(t){let r="";if(Er(t))r=t;else if(Ze(t))for(let e=0;e<t.length;e++){const n=Yr(t[e]);n&&(r+=n+" ")}else if(ar(t))for(const e in t)t[e]&&(r+=e+" ");return r.trim()}const md="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$d=jh(md);function Nv(t){return!!t||t===""}const zo=t=>Er(t)?t:t==null?"":Ze(t)||ar(t)&&(t.toString===Ev||!ut(t.toString))?JSON.stringify(t,Ov,2):String(t),Ov=(t,r)=>r&&r.__v_isRef?Ov(t,r.value):wu(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((e,[n,h],d)=>(e[$c(n,d)+" =>"]=h,e),{})}:kv(r)?{[`Set(${r.size})`]:[...r.values()].map(e=>$c(e))}:Du(r)?$c(r):ar(r)&&!Ze(r)&&!Mv(r)?String(r):r,$c=(t,r="")=>{var e;return Du(t)?`Symbol(${(e=t.description)!=null?e:r})`:t};let Ln;class xd{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ln,!r&&Ln&&(this.index=(Ln.scopes||(Ln.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const e=Ln;try{return Ln=this,r()}finally{Ln=e}}}on(){Ln=this}off(){Ln=this.parent}stop(r){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!r){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function bd(t,r=Ln){r&&r.active&&r.effects.push(t)}let Vo;class Hh{constructor(r,e,n,h){this.fn=r,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,bd(this,h)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,iu();for(const r of this.deps)if(r.computed&&(Ad(r.computed),this._dirtyLevel>=2))break;lu(),this._queryings--}return this._dirtyLevel>=2}set dirty(r){this._dirtyLevel=r?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let r=gi,e=Vo;try{return gi=!0,Vo=this,this._runnings++,dp(this),this.fn()}finally{yp(this),this._runnings--,Vo=e,gi=r}}stop(){var r;this.active&&(dp(this),yp(this),(r=this.onStop)==null||r.call(this),this.active=!1)}}function Ad(t){return t.value}function dp(t){t._trackId++,t._depsLength=0}function yp(t){if(t.deps&&t.deps.length>t._depsLength){for(let r=t._depsLength;r<t.deps.length;r++)Tv(t.deps[r],t);t.deps.length=t._depsLength}}function Tv(t,r){const e=t.get(r);e!==void 0&&r._trackId!==e&&(t.delete(r),t.size===0&&t.cleanup())}let gi=!0,Wc=0;const Iv=[];function iu(){Iv.push(gi),gi=!1}function lu(){const t=Iv.pop();gi=t===void 0?!0:t}function Uh(){Wc++}function qh(){for(Wc--;!Wc&&Kc.length;)Kc.shift()()}function jv(t,r,e){if(r.get(t)!==t._trackId){r.set(t,t._trackId);const n=t.deps[t._depsLength];n!==r?(n&&Tv(n,t),t.deps[t._depsLength++]=r):t._depsLength++}}const Kc=[];function Rv(t,r,e){Uh();for(const n of t.keys())if(!(!n.allowRecurse&&n._runnings)&&n._dirtyLevel<r&&(!n._runnings||r!==2)){const h=n._dirtyLevel;n._dirtyLevel=r,h===0&&(!n._queryings||r!==2)&&(n.trigger(),n.scheduler&&Kc.push(n.scheduler))}qh()}const Dv=(t,r)=>{const e=new Map;return e.cleanup=t,e.computed=r,e},Gc=new WeakMap,Wo=Symbol(""),Jc=Symbol("");function xs(t,r,e){if(gi&&Vo){let n=Gc.get(t);n||Gc.set(t,n=new Map);let h=n.get(e);h||n.set(e,h=Dv(()=>n.delete(e))),jv(Vo,h)}}function Ja(t,r,e,n,h,d){const $=Gc.get(t);if(!$)return;let b=[];if(r==="clear")b=[...$.values()];else if(e==="length"&&Ze(t)){const k=Number(n);$.forEach((E,F)=>{(F==="length"||!Du(F)&&F>=k)&&b.push(E)})}else switch(e!==void 0&&b.push($.get(e)),r){case"add":Ze(t)?Lh(e)&&b.push($.get("length")):(b.push($.get(Wo)),wu(t)&&b.push($.get(Jc)));break;case"delete":Ze(t)||(b.push($.get(Wo)),wu(t)&&b.push($.get(Jc)));break;case"set":wu(t)&&b.push($.get(Wo));break}Uh();for(const k of b)k&&Rv(k,3);qh()}const _d=jh("__proto__,__v_isRef,__isVue"),Lv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Du)),wp=Cd();function Cd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...e){const n=kt(this);for(let d=0,$=this.length;d<$;d++)xs(n,"get",d+"");const h=n[r](...e);return h===-1||h===!1?n[r](...e.map(kt)):h}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...e){iu(),Uh();const n=kt(this)[r].apply(this,e);return qh(),lu(),n}}),t}function kd(t){const r=kt(this);return xs(r,"has",t),r.hasOwnProperty(t)}class Bv{constructor(r=!1,e=!1){this._isReadonly=r,this._shallow=e}get(r,e,n){const h=this._isReadonly,d=this._shallow;if(e==="__v_isReactive")return!h;if(e==="__v_isReadonly")return h;if(e==="__v_isShallow")return d;if(e==="__v_raw")return n===(h?d?Ld:zv:d?qv:Uv).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(n)?r:void 0;const $=Ze(r);if(!h){if($&&$t(wp,e))return Reflect.get(wp,e,n);if(e==="hasOwnProperty")return kd}const b=Reflect.get(r,e,n);return(Du(e)?Lv.has(e):_d(e))||(h||xs(r,"get",e),d)?b:bs(b)?$&&Lh(e)?b:b.value:ar(b)?h?Vv(b):Wh(b):b}}class Hv extends Bv{constructor(r=!1){super(!1,r)}set(r,e,n,h){let d=r[e];if(!this._shallow){const k=Tu(d);if(!zf(n)&&!Tu(n)&&(d=kt(d),n=kt(n)),!Ze(r)&&bs(d)&&!bs(n))return k?!1:(d.value=n,!0)}const $=Ze(r)&&Lh(e)?Number(e)<r.length:$t(r,e),b=Reflect.set(r,e,n,h);return r===kt(h)&&($?wi(n,d)&&Ja(r,"set",e,n):Ja(r,"add",e,n)),b}deleteProperty(r,e){const n=$t(r,e);r[e];const h=Reflect.deleteProperty(r,e);return h&&n&&Ja(r,"delete",e,void 0),h}has(r,e){const n=Reflect.has(r,e);return(!Du(e)||!Lv.has(e))&&xs(r,"has",e),n}ownKeys(r){return xs(r,"iterate",Ze(r)?"length":Wo),Reflect.ownKeys(r)}}class Pd extends Bv{constructor(r=!1){super(!0,r)}set(r,e){return!0}deleteProperty(r,e){return!0}}const Ed=new Hv,Md=new Pd,Sd=new Hv(!0),zh=t=>t,sc=t=>Reflect.getPrototypeOf(t);function vf(t,r,e=!1,n=!1){t=t.__v_raw;const h=kt(t),d=kt(r);e||(wi(r,d)&&xs(h,"get",r),xs(h,"get",d));const{has:$}=sc(h),b=n?zh:e?Gh:ef;if($.call(h,r))return b(t.get(r));if($.call(h,d))return b(t.get(d));t!==h&&t.get(r)}function gf(t,r=!1){const e=this.__v_raw,n=kt(e),h=kt(t);return r||(wi(t,h)&&xs(n,"has",t),xs(n,"has",h)),t===h?e.has(t):e.has(t)||e.has(h)}function df(t,r=!1){return t=t.__v_raw,!r&&xs(kt(t),"iterate",Wo),Reflect.get(t,"size",t)}function mp(t){t=kt(t);const r=kt(this);return sc(r).has.call(r,t)||(r.add(t),Ja(r,"add",t,t)),this}function $p(t,r){r=kt(r);const e=kt(this),{has:n,get:h}=sc(e);let d=n.call(e,t);d||(t=kt(t),d=n.call(e,t));const $=h.call(e,t);return e.set(t,r),d?wi(r,$)&&Ja(e,"set",t,r):Ja(e,"add",t,r),this}function xp(t){const r=kt(this),{has:e,get:n}=sc(r);let h=e.call(r,t);h||(t=kt(t),h=e.call(r,t)),n&&n.call(r,t);const d=r.delete(t);return h&&Ja(r,"delete",t,void 0),d}function bp(){const t=kt(this),r=t.size!==0,e=t.clear();return r&&Ja(t,"clear",void 0,void 0),e}function yf(t,r){return function(n,h){const d=this,$=d.__v_raw,b=kt($),k=r?zh:t?Gh:ef;return!t&&xs(b,"iterate",Wo),$.forEach((E,F)=>n.call(h,k(E),k(F),d))}}function wf(t,r,e){return function(...n){const h=this.__v_raw,d=kt(h),$=wu(d),b=t==="entries"||t===Symbol.iterator&&$,k=t==="keys"&&$,E=h[t](...n),F=e?zh:r?Gh:ef;return!r&&xs(d,"iterate",k?Jc:Wo),{next(){const{value:j,done:D}=E.next();return D?{value:j,done:D}:{value:b?[F(j[0]),F(j[1])]:F(j),done:D}},[Symbol.iterator](){return this}}}}function ei(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function Fd(){const t={get(d){return vf(this,d)},get size(){return df(this)},has:gf,add:mp,set:$p,delete:xp,clear:bp,forEach:yf(!1,!1)},r={get(d){return vf(this,d,!1,!0)},get size(){return df(this)},has:gf,add:mp,set:$p,delete:xp,clear:bp,forEach:yf(!1,!0)},e={get(d){return vf(this,d,!0)},get size(){return df(this,!0)},has(d){return gf.call(this,d,!0)},add:ei("add"),set:ei("set"),delete:ei("delete"),clear:ei("clear"),forEach:yf(!0,!1)},n={get(d){return vf(this,d,!0,!0)},get size(){return df(this,!0)},has(d){return gf.call(this,d,!0)},add:ei("add"),set:ei("set"),delete:ei("delete"),clear:ei("clear"),forEach:yf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=wf(d,!1,!1),e[d]=wf(d,!0,!1),r[d]=wf(d,!1,!0),n[d]=wf(d,!0,!0)}),[t,e,r,n]}const[Nd,Od,Td,Id]=Fd();function Vh(t,r){const e=r?t?Id:Td:t?Od:Nd;return(n,h,d)=>h==="__v_isReactive"?!t:h==="__v_isReadonly"?t:h==="__v_raw"?n:Reflect.get($t(e,h)&&h in n?e:n,h,d)}const jd={get:Vh(!1,!1)},Rd={get:Vh(!1,!0)},Dd={get:Vh(!0,!1)},Uv=new WeakMap,qv=new WeakMap,zv=new WeakMap,Ld=new WeakMap;function Bd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hd(t){return t.__v_skip||!Object.isExtensible(t)?0:Bd(fd(t))}function Wh(t){return Tu(t)?t:Kh(t,!1,Ed,jd,Uv)}function Ud(t){return Kh(t,!1,Sd,Rd,qv)}function Vv(t){return Kh(t,!0,Md,Dd,zv)}function Kh(t,r,e,n,h){if(!ar(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const d=h.get(t);if(d)return d;const $=Hd(t);if($===0)return t;const b=new Proxy(t,$===2?n:e);return h.set(t,b),b}function mu(t){return Tu(t)?mu(t.__v_raw):!!(t&&t.__v_isReactive)}function Tu(t){return!!(t&&t.__v_isReadonly)}function zf(t){return!!(t&&t.__v_isShallow)}function Wv(t){return mu(t)||Tu(t)}function kt(t){const r=t&&t.__v_raw;return r?kt(r):t}function Kv(t){return qf(t,"__v_skip",!0),t}const ef=t=>ar(t)?Wh(t):t,Gh=t=>ar(t)?Vv(t):t;class Gv{constructor(r,e,n,h){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Hh(()=>r(this._value),()=>Zc(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=n}get value(){const r=kt(this);return Jv(r),(!r._cacheable||r.effect.dirty)&&wi(r._value,r._value=r.effect.run())&&Zc(r,2),r._value}set value(r){this._setter(r)}get _dirty(){return this.effect.dirty}set _dirty(r){this.effect.dirty=r}}function qd(t,r,e=!1){let n,h;const d=ut(t);return d?(n=t,h=cn):(n=t.get,h=t.set),new Gv(n,h,d||!h,e)}function Jv(t){gi&&Vo&&(t=kt(t),jv(Vo,t.dep||(t.dep=Dv(()=>t.dep=void 0,t instanceof Gv?t:void 0))))}function Zc(t,r=3,e){t=kt(t);const n=t.dep;n&&Rv(n,r)}function bs(t){return!!(t&&t.__v_isRef===!0)}function Lo(t){return zd(t,!1)}function zd(t,r){return bs(t)?t:new Vd(t,r)}class Vd{constructor(r,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?r:kt(r),this._value=e?r:ef(r)}get value(){return Jv(this),this._value}set value(r){const e=this.__v_isShallow||zf(r)||Tu(r);r=e?r:kt(r),wi(r,this._rawValue)&&(this._rawValue=r,this._value=e?r:ef(r),Zc(this,3))}}function tf(t){return bs(t)?t.value:t}const Wd={get:(t,r,e)=>tf(Reflect.get(t,r,e)),set:(t,r,e,n)=>{const h=t[r];return bs(h)&&!bs(e)?(h.value=e,!0):Reflect.set(t,r,e,n)}};function Zv(t){return mu(t)?t:new Proxy(t,Wd)}function di(t,r,e,n){let h;try{h=n?t(...n):t()}catch(d){nc(d,r,e)}return h}function pn(t,r,e,n){if(ut(t)){const d=di(t,r,e,n);return d&&Pv(d)&&d.catch($=>{nc($,r,e)}),d}const h=[];for(let d=0;d<t.length;d++)h.push(pn(t[d],r,e,n));return h}function nc(t,r,e,n=!0){const h=r?r.vnode:null;if(r){let d=r.parent;const $=r.proxy,b=`https://vuejs.org/errors/#runtime-${e}`;for(;d;){const E=d.ec;if(E){for(let F=0;F<E.length;F++)if(E[F](t,$,b)===!1)return}d=d.parent}const k=r.appContext.config.errorHandler;if(k){di(k,null,10,[t,$,b]);return}}Kd(t,e,h,n)}function Kd(t,r,e,n=!0){console.error(t)}let rf=!1,Qc=!1;const Qr=[];let qn=0;const $u=[];let za=null,jo=0;const Qv=Promise.resolve();let Jh=null;function Gd(t){const r=Jh||Qv;return t?r.then(this?t.bind(this):t):r}function Jd(t){let r=qn+1,e=Qr.length;for(;r<e;){const n=r+e>>>1,h=Qr[n],d=sf(h);d<t||d===t&&h.pre?r=n+1:e=n}return r}function Zh(t){(!Qr.length||!Qr.includes(t,rf&&t.allowRecurse?qn+1:qn))&&(t.id==null?Qr.push(t):Qr.splice(Jd(t.id),0,t),Xv())}function Xv(){!rf&&!Qc&&(Qc=!0,Jh=Qv.then(eg))}function Zd(t){const r=Qr.indexOf(t);r>qn&&Qr.splice(r,1)}function Qd(t){Ze(t)?$u.push(...t):(!za||!za.includes(t,t.allowRecurse?jo+1:jo))&&$u.push(t),Xv()}function Ap(t,r,e=rf?qn+1:0){for(;e<Qr.length;e++){const n=Qr[e];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Qr.splice(e,1),e--,n()}}}function Yv(t){if($u.length){const r=[...new Set($u)];if($u.length=0,za){za.push(...r);return}for(za=r,za.sort((e,n)=>sf(e)-sf(n)),jo=0;jo<za.length;jo++)za[jo]();za=null,jo=0}}const sf=t=>t.id==null?1/0:t.id,Xd=(t,r)=>{const e=sf(t)-sf(r);if(e===0){if(t.pre&&!r.pre)return-1;if(r.pre&&!t.pre)return 1}return e};function eg(t){Qc=!1,rf=!0,Qr.sort(Xd);try{for(qn=0;qn<Qr.length;qn++){const r=Qr[qn];r&&r.active!==!1&&di(r,null,14)}}finally{qn=0,Qr.length=0,Yv(),rf=!1,Jh=null,(Qr.length||$u.length)&&eg()}}function Yd(t,r,...e){if(t.isUnmounted)return;const n=t.vnode.props||ir;let h=e;const d=r.startsWith("update:"),$=d&&r.slice(7);if($&&$ in n){const F=`${$==="modelValue"?"model":$}Modifiers`,{number:j,trim:D}=n[F]||ir;D&&(h=e.map(W=>Er(W)?W.trim():W)),j&&(h=e.map(pd))}let b,k=n[b=wc(r)]||n[b=wc(Ou(r))];!k&&d&&(k=n[b=wc(Lu(r))]),k&&pn(k,t,6,h);const E=n[b+"Once"];if(E){if(!t.emitted)t.emitted={};else if(t.emitted[b])return;t.emitted[b]=!0,pn(E,t,6,h)}}function tg(t,r,e=!1){const n=r.emitsCache,h=n.get(t);if(h!==void 0)return h;const d=t.emits;let $={},b=!1;if(!ut(t)){const k=E=>{const F=tg(E,r,!0);F&&(b=!0,Fr($,F))};!e&&r.mixins.length&&r.mixins.forEach(k),t.extends&&k(t.extends),t.mixins&&t.mixins.forEach(k)}return!d&&!b?(ar(t)&&n.set(t,null),null):(Ze(d)?d.forEach(k=>$[k]=null):Fr($,d),ar(t)&&n.set(t,$),$)}function ac(t,r){return!t||!ec(r)?!1:(r=r.slice(2).replace(/Once$/,""),$t(t,r[0].toLowerCase()+r.slice(1))||$t(t,Lu(r))||$t(t,r))}let ds=null,ic=null;function Vf(t){const r=ds;return ds=t,ic=t&&t.type.__scopeId||null,r}function ey(t){ic=t}function ty(){ic=null}function $s(t,r=ds,e){if(!r||t._n)return t;const n=(...h)=>{n._d&&Tp(-1);const d=Vf(r);let $;try{$=t(...h)}finally{Vf(d),n._d&&Tp(1)}return $};return n._n=!0,n._c=!0,n._d=!0,n}function xc(t){const{type:r,vnode:e,proxy:n,withProxy:h,props:d,propsOptions:[$],slots:b,attrs:k,emit:E,render:F,renderCache:j,data:D,setupState:W,ctx:pe,inheritAttrs:te}=t;let le,Ae;const U=Vf(t);try{if(e.shapeFlag&4){const q=h||n,B=q;le=Un(F.call(B,q,j,d,W,D,pe)),Ae=k}else{const q=r;le=Un(q.length>1?q(d,{attrs:k,slots:b,emit:E}):q(d,null)),Ae=r.props?k:ry(k)}}catch(q){Qu.length=0,nc(q,t,1),le=hr(vn)}let L=le;if(Ae&&te!==!1){const q=Object.keys(Ae),{shapeFlag:B}=L;q.length&&B&7&&($&&q.some(Rh)&&(Ae=sy(Ae,$)),L=mi(L,Ae))}return e.dirs&&(L=mi(L),L.dirs=L.dirs?L.dirs.concat(e.dirs):e.dirs),e.transition&&(L.transition=e.transition),le=L,Vf(U),le}const ry=t=>{let r;for(const e in t)(e==="class"||e==="style"||ec(e))&&((r||(r={}))[e]=t[e]);return r},sy=(t,r)=>{const e={};for(const n in t)(!Rh(n)||!(n.slice(9)in r))&&(e[n]=t[n]);return e};function ny(t,r,e){const{props:n,children:h,component:d}=t,{props:$,children:b,patchFlag:k}=r,E=d.emitsOptions;if(r.dirs||r.transition)return!0;if(e&&k>=0){if(k&1024)return!0;if(k&16)return n?_p(n,$,E):!!$;if(k&8){const F=r.dynamicProps;for(let j=0;j<F.length;j++){const D=F[j];if($[D]!==n[D]&&!ac(E,D))return!0}}}else return(h||b)&&(!b||!b.$stable)?!0:n===$?!1:n?$?_p(n,$,E):!0:!!$;return!1}function _p(t,r,e){const n=Object.keys(r);if(n.length!==Object.keys(t).length)return!0;for(let h=0;h<n.length;h++){const d=n[h];if(r[d]!==t[d]&&!ac(e,d))return!0}return!1}function ay({vnode:t,parent:r},e){if(e)for(;r;){const n=r.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=r.vnode).el=e,r=r.parent;else break}}const iy=Symbol.for("v-ndc"),ly=t=>t.__isSuspense;function oy(t,r){r&&r.pendingBranch?Ze(t)?r.effects.push(...t):r.effects.push(t):Qd(t)}const uy=Symbol.for("v-scx"),fy=()=>Pf(uy),mf={};function Gu(t,r,e){return rg(t,r,e)}function rg(t,r,{immediate:e,deep:n,flush:h,once:d,onTrack:$,onTrigger:b}=ir){if(r&&d){const B=r;r=(...G)=>{B(...G),q()}}const k=Xr,E=B=>n===!0?B:du(B,n===!1?1:void 0);let F,j=!1,D=!1;if(bs(t)?(F=()=>t.value,j=zf(t)):mu(t)?(F=()=>E(t),j=!0):Ze(t)?(D=!0,j=t.some(B=>mu(B)||zf(B)),F=()=>t.map(B=>{if(bs(B))return B.value;if(mu(B))return E(B);if(ut(B))return di(B,k,2)})):ut(t)?r?F=()=>di(t,k,2):F=()=>(W&&W(),pn(t,k,3,[pe])):F=cn,r&&n){const B=F;F=()=>du(B())}let W,pe=B=>{W=L.onStop=()=>{di(B,k,4),W=L.onStop=void 0}},te;if(hc)if(pe=cn,r?e&&pn(r,k,3,[F(),D?[]:void 0,pe]):F(),h==="sync"){const B=fy();te=B.__watcherHandles||(B.__watcherHandles=[])}else return cn;let le=D?new Array(t.length).fill(mf):mf;const Ae=()=>{if(!(!L.active||!L.dirty))if(r){const B=L.run();(n||j||(D?B.some((G,J)=>wi(G,le[J])):wi(B,le)))&&(W&&W(),pn(r,k,3,[B,le===mf?void 0:D&&le[0]===mf?[]:le,pe]),le=B)}else L.run()};Ae.allowRecurse=!!r;let U;h==="sync"?U=Ae:h==="post"?U=()=>ms(Ae,k&&k.suspense):(Ae.pre=!0,k&&(Ae.id=k.uid),U=()=>Zh(Ae));const L=new Hh(F,cn,U),q=()=>{L.stop(),k&&k.scope&&Dh(k.scope.effects,L)};return r?e?Ae():le=L.run():h==="post"?ms(L.run.bind(L),k&&k.suspense):L.run(),te&&te.push(q),q}function cy(t,r,e){const n=this.proxy,h=Er(t)?t.includes(".")?sg(n,t):()=>n[t]:t.bind(n,n);let d;ut(r)?d=r:(d=r.handler,e=r);const $=Xr;ju(this);const b=rg(h,d.bind(n),e);return $?ju($):Ko(),b}function sg(t,r){const e=r.split(".");return()=>{let n=t;for(let h=0;h<e.length&&n;h++)n=n[e[h]];return n}}function du(t,r,e=0,n){if(!ar(t)||t.__v_skip)return t;if(r&&r>0){if(e>=r)return t;e++}if(n=n||new Set,n.has(t))return t;if(n.add(t),bs(t))du(t.value,r,e,n);else if(Ze(t))for(let h=0;h<t.length;h++)du(t[h],r,e,n);else if(kv(t)||wu(t))t.forEach(h=>{du(h,r,e,n)});else if(Mv(t))for(const h in t)du(t[h],r,e,n);return t}function No(t,r,e,n){const h=t.dirs,d=r&&r.dirs;for(let $=0;$<h.length;$++){const b=h[$];d&&(b.oldValue=d[$].value);let k=b.dir[n];k&&(iu(),pn(k,e,8,[t.el,b,t,r]),lu())}}const li=Symbol("_leaveCb"),$f=Symbol("_enterCb");function hy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return og(()=>{t.isMounted=!0}),ug(()=>{t.isUnmounting=!0}),t}const nn=[Function,Array],ng={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:nn,onEnter:nn,onAfterEnter:nn,onEnterCancelled:nn,onBeforeLeave:nn,onLeave:nn,onAfterLeave:nn,onLeaveCancelled:nn,onBeforeAppear:nn,onAppear:nn,onAfterAppear:nn,onAppearCancelled:nn},py={name:"BaseTransition",props:ng,setup(t,{slots:r}){const e=Qy(),n=hy();let h;return()=>{const d=r.default&&ig(r.default(),!0);if(!d||!d.length)return;let $=d[0];if(d.length>1){for(const te of d)if(te.type!==vn){$=te;break}}const b=kt(t),{mode:k}=b;if(n.isLeaving)return bc($);const E=Cp($);if(!E)return bc($);const F=Xc(E,b,n,e);Yc(E,F);const j=e.subTree,D=j&&Cp(j);let W=!1;const{getTransitionKey:pe}=E.type;if(pe){const te=pe();h===void 0?h=te:te!==h&&(h=te,W=!0)}if(D&&D.type!==vn&&(!Ro(E,D)||W)){const te=Xc(D,b,n,e);if(Yc(D,te),k==="out-in")return n.isLeaving=!0,te.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},bc($);k==="in-out"&&E.type!==vn&&(te.delayLeave=(le,Ae,U)=>{const L=ag(n,D);L[String(D.key)]=D,le[li]=()=>{Ae(),le[li]=void 0,delete F.delayedLeave},F.delayedLeave=U})}return $}}},vy=py;function ag(t,r){const{leavingVNodes:e}=t;let n=e.get(r.type);return n||(n=Object.create(null),e.set(r.type,n)),n}function Xc(t,r,e,n){const{appear:h,mode:d,persisted:$=!1,onBeforeEnter:b,onEnter:k,onAfterEnter:E,onEnterCancelled:F,onBeforeLeave:j,onLeave:D,onAfterLeave:W,onLeaveCancelled:pe,onBeforeAppear:te,onAppear:le,onAfterAppear:Ae,onAppearCancelled:U}=r,L=String(t.key),q=ag(e,t),B=(Q,X)=>{Q&&pn(Q,n,9,X)},G=(Q,X)=>{const $e=X[1];B(Q,X),Ze(Q)?Q.every(Pe=>Pe.length<=1)&&$e():Q.length<=1&&$e()},J={mode:d,persisted:$,beforeEnter(Q){let X=b;if(!e.isMounted)if(h)X=te||b;else return;Q[li]&&Q[li](!0);const $e=q[L];$e&&Ro(t,$e)&&$e.el[li]&&$e.el[li](),B(X,[Q])},enter(Q){let X=k,$e=E,Pe=F;if(!e.isMounted)if(h)X=le||k,$e=Ae||E,Pe=U||F;else return;let ge=!1;const qe=Q[$f]=it=>{ge||(ge=!0,it?B(Pe,[Q]):B($e,[Q]),J.delayedLeave&&J.delayedLeave(),Q[$f]=void 0)};X?G(X,[Q,qe]):qe()},leave(Q,X){const $e=String(t.key);if(Q[$f]&&Q[$f](!0),e.isUnmounting)return X();B(j,[Q]);let Pe=!1;const ge=Q[li]=qe=>{Pe||(Pe=!0,X(),qe?B(pe,[Q]):B(W,[Q]),Q[li]=void 0,q[$e]===t&&delete q[$e])};q[$e]=t,D?G(D,[Q,ge]):ge()},clone(Q){return Xc(Q,r,e,n)}};return J}function bc(t){if(lc(t))return t=mi(t),t.children=null,t}function Cp(t){return lc(t)?t.children?t.children[0]:void 0:t}function Yc(t,r){t.shapeFlag&6&&t.component?Yc(t.component.subTree,r):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function ig(t,r=!1,e){let n=[],h=0;for(let d=0;d<t.length;d++){let $=t[d];const b=e==null?$.key:String(e)+String($.key!=null?$.key:d);$.type===Zr?($.patchFlag&128&&h++,n=n.concat(ig($.children,r,b))):(r||$.type!==vn)&&n.push(b!=null?mi($,{key:b}):$)}if(h>1)for(let d=0;d<n.length;d++)n[d].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function lf(t,r){return ut(t)?Fr({name:t.name},r,{setup:t}):t}const Ju=t=>!!t.type.__asyncLoader,lc=t=>t.type.__isKeepAlive;function gy(t,r){lg(t,"a",r)}function dy(t,r){lg(t,"da",r)}function lg(t,r,e=Xr){const n=t.__wdc||(t.__wdc=()=>{let h=e;for(;h;){if(h.isDeactivated)return;h=h.parent}return t()});if(oc(r,n,e),e){let h=e.parent;for(;h&&h.parent;)lc(h.parent.vnode)&&yy(n,r,e,h),h=h.parent}}function yy(t,r,e,n){const h=oc(r,t,n,!0);fg(()=>{Dh(n[r],h)},e)}function oc(t,r,e=Xr,n=!1){if(e){const h=e[t]||(e[t]=[]),d=r.__weh||(r.__weh=(...$)=>{if(e.isUnmounted)return;iu(),ju(e);const b=pn(r,e,t,$);return Ko(),lu(),b});return n?h.unshift(d):h.push(d),d}}const Za=t=>(r,e=Xr)=>(!hc||t==="sp")&&oc(t,(...n)=>r(...n),e),wy=Za("bm"),og=Za("m"),my=Za("bu"),$y=Za("u"),ug=Za("bum"),fg=Za("um"),xy=Za("sp"),by=Za("rtg"),Ay=Za("rtc");function _y(t,r=Xr){oc("ec",t,r)}function Wf(t,r,e,n){let h;const d=e&&e[n];if(Ze(t)||Er(t)){h=new Array(t.length);for(let $=0,b=t.length;$<b;$++)h[$]=r(t[$],$,void 0,d&&d[$])}else if(typeof t=="number"){h=new Array(t);for(let $=0;$<t;$++)h[$]=r($+1,$,void 0,d&&d[$])}else if(ar(t))if(t[Symbol.iterator])h=Array.from(t,($,b)=>r($,b,void 0,d&&d[b]));else{const $=Object.keys(t);h=new Array($.length);for(let b=0,k=$.length;b<k;b++){const E=$[b];h[b]=r(t[E],E,b,d&&d[b])}}else h=[];return e&&(e[n]=h),h}function kf(t,r,e={},n,h){if(ds.isCE||ds.parent&&Ju(ds.parent)&&ds.parent.isCE)return r!=="default"&&(e.name=r),hr("slot",e,n&&n());let d=t[r];d&&d._c&&(d._d=!1),cr();const $=d&&cg(d(e)),b=fc(Zr,{key:e.key||$&&$.key||`_${r}`},$||(n?n():[]),$&&t._===1?64:-2);return!h&&b.scopeId&&(b.slotScopeIds=[b.scopeId+"-s"]),d&&d._c&&(d._d=!0),b}function cg(t){return t.some(r=>Jf(r)?!(r.type===vn||r.type===Zr&&!cg(r.children)):!0)?t:null}const eh=t=>t?Ag(t)?tp(t)||t.proxy:eh(t.parent):null,Zu=Fr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eh(t.parent),$root:t=>eh(t.root),$emit:t=>t.emit,$options:t=>Qh(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Zh(t.update)}),$nextTick:t=>t.n||(t.n=Gd.bind(t.proxy)),$watch:t=>cy.bind(t)}),Ac=(t,r)=>t!==ir&&!t.__isScriptSetup&&$t(t,r),Cy={get({_:t},r){const{ctx:e,setupState:n,data:h,props:d,accessCache:$,type:b,appContext:k}=t;let E;if(r[0]!=="$"){const W=$[r];if(W!==void 0)switch(W){case 1:return n[r];case 2:return h[r];case 4:return e[r];case 3:return d[r]}else{if(Ac(n,r))return $[r]=1,n[r];if(h!==ir&&$t(h,r))return $[r]=2,h[r];if((E=t.propsOptions[0])&&$t(E,r))return $[r]=3,d[r];if(e!==ir&&$t(e,r))return $[r]=4,e[r];th&&($[r]=0)}}const F=Zu[r];let j,D;if(F)return r==="$attrs"&&xs(t,"get",r),F(t);if((j=b.__cssModules)&&(j=j[r]))return j;if(e!==ir&&$t(e,r))return $[r]=4,e[r];if(D=k.config.globalProperties,$t(D,r))return D[r]},set({_:t},r,e){const{data:n,setupState:h,ctx:d}=t;return Ac(h,r)?(h[r]=e,!0):n!==ir&&$t(n,r)?(n[r]=e,!0):$t(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(d[r]=e,!0)},has({_:{data:t,setupState:r,accessCache:e,ctx:n,appContext:h,propsOptions:d}},$){let b;return!!e[$]||t!==ir&&$t(t,$)||Ac(r,$)||(b=d[0])&&$t(b,$)||$t(n,$)||$t(Zu,$)||$t(h.config.globalProperties,$)},defineProperty(t,r,e){return e.get!=null?t._.accessCache[r]=0:$t(e,"value")&&this.set(t,r,e.value,null),Reflect.defineProperty(t,r,e)}};function kp(t){return Ze(t)?t.reduce((r,e)=>(r[e]=null,r),{}):t}let th=!0;function ky(t){const r=Qh(t),e=t.proxy,n=t.ctx;th=!1,r.beforeCreate&&Pp(r.beforeCreate,t,"bc");const{data:h,computed:d,methods:$,watch:b,provide:k,inject:E,created:F,beforeMount:j,mounted:D,beforeUpdate:W,updated:pe,activated:te,deactivated:le,beforeDestroy:Ae,beforeUnmount:U,destroyed:L,unmounted:q,render:B,renderTracked:G,renderTriggered:J,errorCaptured:Q,serverPrefetch:X,expose:$e,inheritAttrs:Pe,components:ge,directives:qe,filters:it}=r;if(E&&Py(E,n,null),$)for(const nt in $){const je=$[nt];ut(je)&&(n[nt]=je.bind(e))}if(h){const nt=h.call(e,e);ar(nt)&&(t.data=Wh(nt))}if(th=!0,d)for(const nt in d){const je=d[nt],at=ut(je)?je.bind(e,e):ut(je.get)?je.get.bind(e,e):cn,St=!ut(je)&&ut(je.set)?je.set.bind(e):cn,Ft=sw({get:at,set:St});Object.defineProperty(n,nt,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Qe=>Ft.value=Qe})}if(b)for(const nt in b)hg(b[nt],n,e,nt);if(k){const nt=ut(k)?k.call(e):k;Reflect.ownKeys(nt).forEach(je=>{Oy(je,nt[je])})}F&&Pp(F,t,"c");function lt(nt,je){Ze(je)?je.forEach(at=>nt(at.bind(e))):je&&nt(je.bind(e))}if(lt(wy,j),lt(og,D),lt(my,W),lt($y,pe),lt(gy,te),lt(dy,le),lt(_y,Q),lt(Ay,G),lt(by,J),lt(ug,U),lt(fg,q),lt(xy,X),Ze($e))if($e.length){const nt=t.exposed||(t.exposed={});$e.forEach(je=>{Object.defineProperty(nt,je,{get:()=>e[je],set:at=>e[je]=at})})}else t.exposed||(t.exposed={});B&&t.render===cn&&(t.render=B),Pe!=null&&(t.inheritAttrs=Pe),ge&&(t.components=ge),qe&&(t.directives=qe)}function Py(t,r,e=cn){Ze(t)&&(t=rh(t));for(const n in t){const h=t[n];let d;ar(h)?"default"in h?d=Pf(h.from||n,h.default,!0):d=Pf(h.from||n):d=Pf(h),bs(d)?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:()=>d.value,set:$=>d.value=$}):r[n]=d}}function Pp(t,r,e){pn(Ze(t)?t.map(n=>n.bind(r.proxy)):t.bind(r.proxy),r,e)}function hg(t,r,e,n){const h=n.includes(".")?sg(e,n):()=>e[n];if(Er(t)){const d=r[t];ut(d)&&Gu(h,d)}else if(ut(t))Gu(h,t.bind(e));else if(ar(t))if(Ze(t))t.forEach(d=>hg(d,r,e,n));else{const d=ut(t.handler)?t.handler.bind(e):r[t.handler];ut(d)&&Gu(h,d,t)}}function Qh(t){const r=t.type,{mixins:e,extends:n}=r,{mixins:h,optionsCache:d,config:{optionMergeStrategies:$}}=t.appContext,b=d.get(r);let k;return b?k=b:!h.length&&!e&&!n?k=r:(k={},h.length&&h.forEach(E=>Kf(k,E,$,!0)),Kf(k,r,$)),ar(r)&&d.set(r,k),k}function Kf(t,r,e,n=!1){const{mixins:h,extends:d}=r;d&&Kf(t,d,e,!0),h&&h.forEach($=>Kf(t,$,e,!0));for(const $ in r)if(!(n&&$==="expose")){const b=Ey[$]||e&&e[$];t[$]=b?b(t[$],r[$]):r[$]}return t}const Ey={data:Ep,props:Mp,emits:Mp,methods:Wu,computed:Wu,beforeCreate:fs,created:fs,beforeMount:fs,mounted:fs,beforeUpdate:fs,updated:fs,beforeDestroy:fs,beforeUnmount:fs,destroyed:fs,unmounted:fs,activated:fs,deactivated:fs,errorCaptured:fs,serverPrefetch:fs,components:Wu,directives:Wu,watch:Sy,provide:Ep,inject:My};function Ep(t,r){return r?t?function(){return Fr(ut(t)?t.call(this,this):t,ut(r)?r.call(this,this):r)}:r:t}function My(t,r){return Wu(rh(t),rh(r))}function rh(t){if(Ze(t)){const r={};for(let e=0;e<t.length;e++)r[t[e]]=t[e];return r}return t}function fs(t,r){return t?[...new Set([].concat(t,r))]:r}function Wu(t,r){return t?Fr(Object.create(null),t,r):r}function Mp(t,r){return t?Ze(t)&&Ze(r)?[...new Set([...t,...r])]:Fr(Object.create(null),kp(t),kp(r??{})):r}function Sy(t,r){if(!t)return r;if(!r)return t;const e=Fr(Object.create(null),t);for(const n in r)e[n]=fs(t[n],r[n]);return e}function pg(){return{app:null,config:{isNativeTag:od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fy=0;function Ny(t,r){return function(n,h=null){ut(n)||(n=Fr({},n)),h!=null&&!ar(h)&&(h=null);const d=pg(),$=new WeakSet;let b=!1;const k=d.app={_uid:Fy++,_component:n,_props:h,_container:null,_context:d,_instance:null,version:nw,get config(){return d.config},set config(E){},use(E,...F){return $.has(E)||(E&&ut(E.install)?($.add(E),E.install(k,...F)):ut(E)&&($.add(E),E(k,...F))),k},mixin(E){return d.mixins.includes(E)||d.mixins.push(E),k},component(E,F){return F?(d.components[E]=F,k):d.components[E]},directive(E,F){return F?(d.directives[E]=F,k):d.directives[E]},mount(E,F,j){if(!b){const D=hr(n,h);return D.appContext=d,j===!0?j="svg":j===!1&&(j=void 0),F&&r?r(D,E):t(D,E,j),b=!0,k._container=E,E.__vue_app__=k,tp(D.component)||D.component.proxy}},unmount(){b&&(t(null,k._container),delete k._container.__vue_app__)},provide(E,F){return d.provides[E]=F,k},runWithContext(E){Gf=k;try{return E()}finally{Gf=null}}};return k}}let Gf=null;function Oy(t,r){if(Xr){let e=Xr.provides;const n=Xr.parent&&Xr.parent.provides;n===e&&(e=Xr.provides=Object.create(n)),e[t]=r}}function Pf(t,r,e=!1){const n=Xr||ds;if(n||Gf){const h=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Gf._context.provides;if(h&&t in h)return h[t];if(arguments.length>1)return e&&ut(r)?r.call(n&&n.proxy):r}}function Ty(t,r,e,n=!1){const h={},d={};qf(d,cc,1),t.propsDefaults=Object.create(null),vg(t,r,h,d);for(const $ in t.propsOptions[0])$ in h||(h[$]=void 0);e?t.props=n?h:Ud(h):t.type.props?t.props=h:t.props=d,t.attrs=d}function Iy(t,r,e,n){const{props:h,attrs:d,vnode:{patchFlag:$}}=t,b=kt(h),[k]=t.propsOptions;let E=!1;if((n||$>0)&&!($&16)){if($&8){const F=t.vnode.dynamicProps;for(let j=0;j<F.length;j++){let D=F[j];if(ac(t.emitsOptions,D))continue;const W=r[D];if(k)if($t(d,D))W!==d[D]&&(d[D]=W,E=!0);else{const pe=Ou(D);h[pe]=sh(k,b,pe,W,t,!1)}else W!==d[D]&&(d[D]=W,E=!0)}}}else{vg(t,r,h,d)&&(E=!0);let F;for(const j in b)(!r||!$t(r,j)&&((F=Lu(j))===j||!$t(r,F)))&&(k?e&&(e[j]!==void 0||e[F]!==void 0)&&(h[j]=sh(k,b,j,void 0,t,!0)):delete h[j]);if(d!==b)for(const j in d)(!r||!$t(r,j))&&(delete d[j],E=!0)}E&&Ja(t,"set","$attrs")}function vg(t,r,e,n){const[h,d]=t.propsOptions;let $=!1,b;if(r)for(let k in r){if(Cf(k))continue;const E=r[k];let F;h&&$t(h,F=Ou(k))?!d||!d.includes(F)?e[F]=E:(b||(b={}))[F]=E:ac(t.emitsOptions,k)||(!(k in n)||E!==n[k])&&(n[k]=E,$=!0)}if(d){const k=kt(e),E=b||ir;for(let F=0;F<d.length;F++){const j=d[F];e[j]=sh(h,k,j,E[j],t,!$t(E,j))}}return $}function sh(t,r,e,n,h,d){const $=t[e];if($!=null){const b=$t($,"default");if(b&&n===void 0){const k=$.default;if($.type!==Function&&!$.skipFactory&&ut(k)){const{propsDefaults:E}=h;e in E?n=E[e]:(ju(h),n=E[e]=k.call(null,r),Ko())}else n=k}$[0]&&(d&&!b?n=!1:$[1]&&(n===""||n===Lu(e))&&(n=!0))}return n}function gg(t,r,e=!1){const n=r.propsCache,h=n.get(t);if(h)return h;const d=t.props,$={},b=[];let k=!1;if(!ut(t)){const F=j=>{k=!0;const[D,W]=gg(j,r,!0);Fr($,D),W&&b.push(...W)};!e&&r.mixins.length&&r.mixins.forEach(F),t.extends&&F(t.extends),t.mixins&&t.mixins.forEach(F)}if(!d&&!k)return ar(t)&&n.set(t,yu),yu;if(Ze(d))for(let F=0;F<d.length;F++){const j=Ou(d[F]);Sp(j)&&($[j]=ir)}else if(d)for(const F in d){const j=Ou(F);if(Sp(j)){const D=d[F],W=$[j]=Ze(D)||ut(D)?{type:D}:Fr({},D);if(W){const pe=Op(Boolean,W.type),te=Op(String,W.type);W[0]=pe>-1,W[1]=te<0||pe<te,(pe>-1||$t(W,"default"))&&b.push(j)}}}const E=[$,b];return ar(t)&&n.set(t,E),E}function Sp(t){return t[0]!=="$"}function Fp(t){const r=t&&t.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:t===null?"null":""}function Np(t,r){return Fp(t)===Fp(r)}function Op(t,r){return Ze(r)?r.findIndex(e=>Np(e,t)):ut(r)&&Np(r,t)?0:-1}const dg=t=>t[0]==="_"||t==="$stable",Xh=t=>Ze(t)?t.map(Un):[Un(t)],jy=(t,r,e)=>{if(r._n)return r;const n=$s((...h)=>Xh(r(...h)),e);return n._c=!1,n},yg=(t,r,e)=>{const n=t._ctx;for(const h in t){if(dg(h))continue;const d=t[h];if(ut(d))r[h]=jy(h,d,n);else if(d!=null){const $=Xh(d);r[h]=()=>$}}},wg=(t,r)=>{const e=Xh(r);t.slots.default=()=>e},Ry=(t,r)=>{if(t.vnode.shapeFlag&32){const e=r._;e?(t.slots=kt(r),qf(r,"_",e)):yg(r,t.slots={})}else t.slots={},r&&wg(t,r);qf(t.slots,cc,1)},Dy=(t,r,e)=>{const{vnode:n,slots:h}=t;let d=!0,$=ir;if(n.shapeFlag&32){const b=r._;b?e&&b===1?d=!1:(Fr(h,r),!e&&b===1&&delete h._):(d=!r.$stable,yg(r,h)),$=r}else r&&(wg(t,r),$={default:1});if(d)for(const b in h)!dg(b)&&$[b]==null&&delete h[b]};function nh(t,r,e,n,h=!1){if(Ze(t)){t.forEach((D,W)=>nh(D,r&&(Ze(r)?r[W]:r),e,n,h));return}if(Ju(n)&&!h)return;const d=n.shapeFlag&4?tp(n.component)||n.component.proxy:n.el,$=h?null:d,{i:b,r:k}=t,E=r&&r.r,F=b.refs===ir?b.refs={}:b.refs,j=b.setupState;if(E!=null&&E!==k&&(Er(E)?(F[E]=null,$t(j,E)&&(j[E]=null)):bs(E)&&(E.value=null)),ut(k))di(k,b,12,[$,F]);else{const D=Er(k),W=bs(k);if(D||W){const pe=()=>{if(t.f){const te=D?$t(j,k)?j[k]:F[k]:k.value;h?Ze(te)&&Dh(te,d):Ze(te)?te.includes(d)||te.push(d):D?(F[k]=[d],$t(j,k)&&(j[k]=F[k])):(k.value=[d],t.k&&(F[t.k]=k.value))}else D?(F[k]=$,$t(j,k)&&(j[k]=$)):W&&(k.value=$,t.k&&(F[t.k]=$))};$?(pe.id=-1,ms(pe,e)):pe()}}}const ms=oy;function Ly(t){return By(t)}function By(t,r){const e=Fv();e.__VUE__=!0;const{insert:n,remove:h,patchProp:d,createElement:$,createText:b,createComment:k,setText:E,setElementText:F,parentNode:j,nextSibling:D,setScopeId:W=cn,insertStaticContent:pe}=t,te=(H,K,ee,fe=null,he=null,ie=null,Se=void 0,de=null,we=!!K.dynamicChildren)=>{if(H===K)return;H&&!Ro(H,K)&&(fe=dr(H),Qe(H,he,ie,!0),H=null),K.patchFlag===-2&&(we=!1,K.dynamicChildren=null);const{type:ue,ref:Te,shapeFlag:He}=K;switch(ue){case uc:le(H,K,ee,fe);break;case vn:Ae(H,K,ee,fe);break;case Cc:H==null&&U(K,ee,fe,Se);break;case Zr:ge(H,K,ee,fe,he,ie,Se,de,we);break;default:He&1?B(H,K,ee,fe,he,ie,Se,de,we):He&6?qe(H,K,ee,fe,he,ie,Se,de,we):(He&64||He&128)&&ue.process(H,K,ee,fe,he,ie,Se,de,we,kr)}Te!=null&&he&&nh(Te,H&&H.ref,ie,K||H,!K)},le=(H,K,ee,fe)=>{if(H==null)n(K.el=b(K.children),ee,fe);else{const he=K.el=H.el;K.children!==H.children&&E(he,K.children)}},Ae=(H,K,ee,fe)=>{H==null?n(K.el=k(K.children||""),ee,fe):K.el=H.el},U=(H,K,ee,fe)=>{[H.el,H.anchor]=pe(H.children,K,ee,fe,H.el,H.anchor)},L=({el:H,anchor:K},ee,fe)=>{let he;for(;H&&H!==K;)he=D(H),n(H,ee,fe),H=he;n(K,ee,fe)},q=({el:H,anchor:K})=>{let ee;for(;H&&H!==K;)ee=D(H),h(H),H=ee;h(K)},B=(H,K,ee,fe,he,ie,Se,de,we)=>{K.type==="svg"?Se="svg":K.type==="math"&&(Se="mathml"),H==null?G(K,ee,fe,he,ie,Se,de,we):X(H,K,he,ie,Se,de,we)},G=(H,K,ee,fe,he,ie,Se,de)=>{let we,ue;const{props:Te,shapeFlag:He,transition:De,dirs:Ve}=H;if(we=H.el=$(H.type,ie,Te&&Te.is,Te),He&8?F(we,H.children):He&16&&Q(H.children,we,null,fe,he,_c(H,ie),Se,de),Ve&&No(H,null,fe,"created"),J(we,H,H.scopeId,Se,fe),Te){for(const Ye in Te)Ye!=="value"&&!Cf(Ye)&&d(we,Ye,null,Te[Ye],ie,H.children,fe,he,Pt);"value"in Te&&d(we,"value",null,Te.value,ie),(ue=Te.onVnodeBeforeMount)&&Dn(ue,fe,H)}Ve&&No(H,null,fe,"beforeMount");const Je=Hy(he,De);Je&&De.beforeEnter(we),n(we,K,ee),((ue=Te&&Te.onVnodeMounted)||Je||Ve)&&ms(()=>{ue&&Dn(ue,fe,H),Je&&De.enter(we),Ve&&No(H,null,fe,"mounted")},he)},J=(H,K,ee,fe,he)=>{if(ee&&W(H,ee),fe)for(let ie=0;ie<fe.length;ie++)W(H,fe[ie]);if(he){let ie=he.subTree;if(K===ie){const Se=he.vnode;J(H,Se,Se.scopeId,Se.slotScopeIds,he.parent)}}},Q=(H,K,ee,fe,he,ie,Se,de,we=0)=>{for(let ue=we;ue<H.length;ue++){const Te=H[ue]=de?oi(H[ue]):Un(H[ue]);te(null,Te,K,ee,fe,he,ie,Se,de)}},X=(H,K,ee,fe,he,ie,Se)=>{const de=K.el=H.el;let{patchFlag:we,dynamicChildren:ue,dirs:Te}=K;we|=H.patchFlag&16;const He=H.props||ir,De=K.props||ir;let Ve;if(ee&&Oo(ee,!1),(Ve=De.onVnodeBeforeUpdate)&&Dn(Ve,ee,K,H),Te&&No(K,H,ee,"beforeUpdate"),ee&&Oo(ee,!0),ue?$e(H.dynamicChildren,ue,de,ee,fe,_c(K,he),ie):Se||je(H,K,de,null,ee,fe,_c(K,he),ie,!1),we>0){if(we&16)Pe(de,K,He,De,ee,fe,he);else if(we&2&&He.class!==De.class&&d(de,"class",null,De.class,he),we&4&&d(de,"style",He.style,De.style,he),we&8){const Je=K.dynamicProps;for(let Ye=0;Ye<Je.length;Ye++){const ct=Je[Ye],xt=He[ct],Bt=De[ct];(Bt!==xt||ct==="value")&&d(de,ct,xt,Bt,he,H.children,ee,fe,Pt)}}we&1&&H.children!==K.children&&F(de,K.children)}else!Se&&ue==null&&Pe(de,K,He,De,ee,fe,he);((Ve=De.onVnodeUpdated)||Te)&&ms(()=>{Ve&&Dn(Ve,ee,K,H),Te&&No(K,H,ee,"updated")},fe)},$e=(H,K,ee,fe,he,ie,Se)=>{for(let de=0;de<K.length;de++){const we=H[de],ue=K[de],Te=we.el&&(we.type===Zr||!Ro(we,ue)||we.shapeFlag&70)?j(we.el):ee;te(we,ue,Te,null,fe,he,ie,Se,!0)}},Pe=(H,K,ee,fe,he,ie,Se)=>{if(ee!==fe){if(ee!==ir)for(const de in ee)!Cf(de)&&!(de in fe)&&d(H,de,ee[de],null,Se,K.children,he,ie,Pt);for(const de in fe){if(Cf(de))continue;const we=fe[de],ue=ee[de];we!==ue&&de!=="value"&&d(H,de,ue,we,Se,K.children,he,ie,Pt)}"value"in fe&&d(H,"value",ee.value,fe.value,Se)}},ge=(H,K,ee,fe,he,ie,Se,de,we)=>{const ue=K.el=H?H.el:b(""),Te=K.anchor=H?H.anchor:b("");let{patchFlag:He,dynamicChildren:De,slotScopeIds:Ve}=K;Ve&&(de=de?de.concat(Ve):Ve),H==null?(n(ue,ee,fe),n(Te,ee,fe),Q(K.children,ee,Te,he,ie,Se,de,we)):He>0&&He&64&&De&&H.dynamicChildren?($e(H.dynamicChildren,De,ee,he,ie,Se,de),(K.key!=null||he&&K===he.subTree)&&mg(H,K,!0)):je(H,K,ee,Te,he,ie,Se,de,we)},qe=(H,K,ee,fe,he,ie,Se,de,we)=>{K.slotScopeIds=de,H==null?K.shapeFlag&512?he.ctx.activate(K,ee,fe,Se,we):it(K,ee,fe,he,ie,Se,we):Jt(H,K,we)},it=(H,K,ee,fe,he,ie,Se)=>{const de=H.component=Zy(H,fe,he);if(lc(H)&&(de.ctx.renderer=kr),Xy(de),de.asyncDep){if(he&&he.registerDep(de,lt),!H.el){const we=de.subTree=hr(vn);Ae(null,we,K,ee)}}else lt(de,H,K,ee,he,ie,Se)},Jt=(H,K,ee)=>{const fe=K.component=H.component;if(ny(H,K,ee))if(fe.asyncDep&&!fe.asyncResolved){nt(fe,K,ee);return}else fe.next=K,Zd(fe.update),fe.effect.dirty=!0,fe.update();else K.el=H.el,fe.vnode=K},lt=(H,K,ee,fe,he,ie,Se)=>{const de=()=>{if(H.isMounted){let{next:Te,bu:He,u:De,parent:Ve,vnode:Je}=H;{const bt=$g(H);if(bt){Te&&(Te.el=Je.el,nt(H,Te,Se)),bt.asyncDep.then(()=>{H.isUnmounted||de()});return}}let Ye=Te,ct;Oo(H,!1),Te?(Te.el=Je.el,nt(H,Te,Se)):Te=Je,He&&mc(He),(ct=Te.props&&Te.props.onVnodeBeforeUpdate)&&Dn(ct,Ve,Te,Je),Oo(H,!0);const xt=xc(H),Bt=H.subTree;H.subTree=xt,te(Bt,xt,j(Bt.el),dr(Bt),H,he,ie),Te.el=xt.el,Ye===null&&ay(H,xt.el),De&&ms(De,he),(ct=Te.props&&Te.props.onVnodeUpdated)&&ms(()=>Dn(ct,Ve,Te,Je),he)}else{let Te;const{el:He,props:De}=K,{bm:Ve,m:Je,parent:Ye}=H,ct=Ju(K);if(Oo(H,!1),Ve&&mc(Ve),!ct&&(Te=De&&De.onVnodeBeforeMount)&&Dn(Te,Ye,K),Oo(H,!0),He&&Nt){const xt=()=>{H.subTree=xc(H),Nt(He,H.subTree,H,he,null)};ct?K.type.__asyncLoader().then(()=>!H.isUnmounted&&xt()):xt()}else{const xt=H.subTree=xc(H);te(null,xt,ee,fe,H,he,ie),K.el=xt.el}if(Je&&ms(Je,he),!ct&&(Te=De&&De.onVnodeMounted)){const xt=K;ms(()=>Dn(Te,Ye,xt),he)}(K.shapeFlag&256||Ye&&Ju(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&H.a&&ms(H.a,he),H.isMounted=!0,K=ee=fe=null}},we=H.effect=new Hh(de,cn,()=>Zh(ue),H.scope),ue=H.update=()=>{we.dirty&&we.run()};ue.id=H.uid,Oo(H,!0),ue()},nt=(H,K,ee)=>{K.component=H;const fe=H.vnode.props;H.vnode=K,H.next=null,Iy(H,K.props,fe,ee),Dy(H,K.children,ee),iu(),Ap(H),lu()},je=(H,K,ee,fe,he,ie,Se,de,we=!1)=>{const ue=H&&H.children,Te=H?H.shapeFlag:0,He=K.children,{patchFlag:De,shapeFlag:Ve}=K;if(De>0){if(De&128){St(ue,He,ee,fe,he,ie,Se,de,we);return}else if(De&256){at(ue,He,ee,fe,he,ie,Se,de,we);return}}Ve&8?(Te&16&&Pt(ue,he,ie),He!==ue&&F(ee,He)):Te&16?Ve&16?St(ue,He,ee,fe,he,ie,Se,de,we):Pt(ue,he,ie,!0):(Te&8&&F(ee,""),Ve&16&&Q(He,ee,fe,he,ie,Se,de,we))},at=(H,K,ee,fe,he,ie,Se,de,we)=>{H=H||yu,K=K||yu;const ue=H.length,Te=K.length,He=Math.min(ue,Te);let De;for(De=0;De<He;De++){const Ve=K[De]=we?oi(K[De]):Un(K[De]);te(H[De],Ve,ee,null,he,ie,Se,de,we)}ue>Te?Pt(H,he,ie,!0,!1,He):Q(K,ee,fe,he,ie,Se,de,we,He)},St=(H,K,ee,fe,he,ie,Se,de,we)=>{let ue=0;const Te=K.length;let He=H.length-1,De=Te-1;for(;ue<=He&&ue<=De;){const Ve=H[ue],Je=K[ue]=we?oi(K[ue]):Un(K[ue]);if(Ro(Ve,Je))te(Ve,Je,ee,null,he,ie,Se,de,we);else break;ue++}for(;ue<=He&&ue<=De;){const Ve=H[He],Je=K[De]=we?oi(K[De]):Un(K[De]);if(Ro(Ve,Je))te(Ve,Je,ee,null,he,ie,Se,de,we);else break;He--,De--}if(ue>He){if(ue<=De){const Ve=De+1,Je=Ve<Te?K[Ve].el:fe;for(;ue<=De;)te(null,K[ue]=we?oi(K[ue]):Un(K[ue]),ee,Je,he,ie,Se,de,we),ue++}}else if(ue>De)for(;ue<=He;)Qe(H[ue],he,ie,!0),ue++;else{const Ve=ue,Je=ue,Ye=new Map;for(ue=Je;ue<=De;ue++){const Ot=K[ue]=we?oi(K[ue]):Un(K[ue]);Ot.key!=null&&Ye.set(Ot.key,ue)}let ct,xt=0;const Bt=De-Je+1;let bt=!1,Zt=0;const Cs=new Array(Bt);for(ue=0;ue<Bt;ue++)Cs[ue]=0;for(ue=Ve;ue<=He;ue++){const Ot=H[ue];if(xt>=Bt){Qe(Ot,he,ie,!0);continue}let ht;if(Ot.key!=null)ht=Ye.get(Ot.key);else for(ct=Je;ct<=De;ct++)if(Cs[ct-Je]===0&&Ro(Ot,K[ct])){ht=ct;break}ht===void 0?Qe(Ot,he,ie,!0):(Cs[ht-Je]=ue+1,ht>=Zt?Zt=ht:bt=!0,te(Ot,K[ht],ee,null,he,ie,Se,de,we),xt++)}const Vr=bt?Uy(Cs):yu;for(ct=Vr.length-1,ue=Bt-1;ue>=0;ue--){const Ot=Je+ue,ht=K[Ot],jt=Ot+1<Te?K[Ot+1].el:fe;Cs[ue]===0?te(null,ht,ee,jt,he,ie,Se,de,we):bt&&(ct<0||ue!==Vr[ct]?Ft(ht,ee,jt,2):ct--)}}},Ft=(H,K,ee,fe,he=null)=>{const{el:ie,type:Se,transition:de,children:we,shapeFlag:ue}=H;if(ue&6){Ft(H.component.subTree,K,ee,fe);return}if(ue&128){H.suspense.move(K,ee,fe);return}if(ue&64){Se.move(H,K,ee,kr);return}if(Se===Zr){n(ie,K,ee);for(let He=0;He<we.length;He++)Ft(we[He],K,ee,fe);n(H.anchor,K,ee);return}if(Se===Cc){L(H,K,ee);return}if(fe!==2&&ue&1&&de)if(fe===0)de.beforeEnter(ie),n(ie,K,ee),ms(()=>de.enter(ie),he);else{const{leave:He,delayLeave:De,afterLeave:Ve}=de,Je=()=>n(ie,K,ee),Ye=()=>{He(ie,()=>{Je(),Ve&&Ve()})};De?De(ie,Je,Ye):Ye()}else n(ie,K,ee)},Qe=(H,K,ee,fe=!1,he=!1)=>{const{type:ie,props:Se,ref:de,children:we,dynamicChildren:ue,shapeFlag:Te,patchFlag:He,dirs:De}=H;if(de!=null&&nh(de,null,ee,H,!0),Te&256){K.ctx.deactivate(H);return}const Ve=Te&1&&De,Je=!Ju(H);let Ye;if(Je&&(Ye=Se&&Se.onVnodeBeforeUnmount)&&Dn(Ye,K,H),Te&6)wr(H.component,ee,fe);else{if(Te&128){H.suspense.unmount(ee,fe);return}Ve&&No(H,null,K,"beforeUnmount"),Te&64?H.type.remove(H,K,ee,he,kr,fe):ue&&(ie!==Zr||He>0&&He&64)?Pt(ue,K,ee,!1,!0):(ie===Zr&&He&384||!he&&Te&16)&&Pt(we,K,ee),fe&&Nr(H)}(Je&&(Ye=Se&&Se.onVnodeUnmounted)||Ve)&&ms(()=>{Ye&&Dn(Ye,K,H),Ve&&No(H,null,K,"unmounted")},ee)},Nr=H=>{const{type:K,el:ee,anchor:fe,transition:he}=H;if(K===Zr){Lt(ee,fe);return}if(K===Cc){q(H);return}const ie=()=>{h(ee),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(H.shapeFlag&1&&he&&!he.persisted){const{leave:Se,delayLeave:de}=he,we=()=>Se(ee,ie);de?de(H.el,ie,we):we()}else ie()},Lt=(H,K)=>{let ee;for(;H!==K;)ee=D(H),h(H),H=ee;h(K)},wr=(H,K,ee)=>{const{bum:fe,scope:he,update:ie,subTree:Se,um:de}=H;fe&&mc(fe),he.stop(),ie&&(ie.active=!1,Qe(Se,H,K,ee)),de&&ms(de,K),ms(()=>{H.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Pt=(H,K,ee,fe=!1,he=!1,ie=0)=>{for(let Se=ie;Se<H.length;Se++)Qe(H[Se],K,ee,fe,he)},dr=H=>H.shapeFlag&6?dr(H.component.subTree):H.shapeFlag&128?H.suspense.next():D(H.anchor||H.el),Or=(H,K,ee)=>{H==null?K._vnode&&Qe(K._vnode,null,null,!0):te(K._vnode||null,H,K,null,null,null,ee),Ap(),Yv(),K._vnode=H},kr={p:te,um:Qe,m:Ft,r:Nr,mt:it,mc:Q,pc:je,pbc:$e,n:dr,o:t};let Mr,Nt;return r&&([Mr,Nt]=r(kr)),{render:Or,hydrate:Mr,createApp:Ny(Or,Mr)}}function _c({type:t,props:r},e){return e==="svg"&&t==="foreignObject"||e==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:e}function Oo({effect:t,update:r},e){t.allowRecurse=r.allowRecurse=e}function Hy(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function mg(t,r,e=!1){const n=t.children,h=r.children;if(Ze(n)&&Ze(h))for(let d=0;d<n.length;d++){const $=n[d];let b=h[d];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=h[d]=oi(h[d]),b.el=$.el),e||mg($,b)),b.type===uc&&(b.el=$.el)}}function Uy(t){const r=t.slice(),e=[0];let n,h,d,$,b;const k=t.length;for(n=0;n<k;n++){const E=t[n];if(E!==0){if(h=e[e.length-1],t[h]<E){r[n]=h,e.push(n);continue}for(d=0,$=e.length-1;d<$;)b=d+$>>1,t[e[b]]<E?d=b+1:$=b;E<t[e[d]]&&(d>0&&(r[n]=e[d-1]),e[d]=n)}}for(d=e.length,$=e[d-1];d-- >0;)e[d]=$,$=r[$];return e}function $g(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:$g(r)}const qy=t=>t.__isTeleport,Zr=Symbol.for("v-fgt"),uc=Symbol.for("v-txt"),vn=Symbol.for("v-cmt"),Cc=Symbol.for("v-stc"),Qu=[];let jn=null;function cr(t=!1){Qu.push(jn=t?null:[])}function zy(){Qu.pop(),jn=Qu[Qu.length-1]||null}let nf=1;function Tp(t){nf+=t}function xg(t){return t.dynamicChildren=nf>0?jn||yu:null,zy(),nf>0&&jn&&jn.push(t),t}function Sr(t,r,e,n,h,d){return xg(hn(t,r,e,n,h,d,!0))}function fc(t,r,e,n,h){return xg(hr(t,r,e,n,h,!0))}function Jf(t){return t?t.__v_isVNode===!0:!1}function Ro(t,r){return t.type===r.type&&t.key===r.key}const cc="__vInternal",bg=({key:t})=>t??null,Ef=({ref:t,ref_key:r,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?Er(t)||bs(t)||ut(t)?{i:ds,r:t,k:r,f:!!e}:t:null);function hn(t,r=null,e=null,n=0,h=null,d=t===Zr?0:1,$=!1,b=!1){const k={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&bg(r),ref:r&&Ef(r),scopeId:ic,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:n,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:ds};return b?(Yh(k,e),d&128&&t.normalize(k)):e&&(k.shapeFlag|=Er(e)?8:16),nf>0&&!$&&jn&&(k.patchFlag>0||d&6)&&k.patchFlag!==32&&jn.push(k),k}const hr=Vy;function Vy(t,r=null,e=null,n=0,h=null,d=!1){if((!t||t===iy)&&(t=vn),Jf(t)){const b=mi(t,r,!0);return e&&Yh(b,e),nf>0&&!d&&jn&&(b.shapeFlag&6?jn[jn.indexOf(t)]=b:jn.push(b)),b.patchFlag|=-2,b}if(rw(t)&&(t=t.__vccOpts),r){r=Wy(r);let{class:b,style:k}=r;b&&!Er(b)&&(r.class=Yr(b)),ar(k)&&(Wv(k)&&!Ze(k)&&(k=Fr({},k)),r.style=Bh(k))}const $=Er(t)?1:ly(t)?128:qy(t)?64:ar(t)?4:ut(t)?2:0;return hn(t,r,e,n,h,$,d,!0)}function Wy(t){return t?Wv(t)||cc in t?Fr({},t):t:null}function mi(t,r,e=!1){const{props:n,ref:h,patchFlag:d,children:$}=t,b=r?Ky(n||{},r):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:b,key:b&&bg(b),ref:r&&r.ref?e&&h?Ze(h)?h.concat(Ef(r)):[h,Ef(r)]:Ef(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:$,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Zr?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mi(t.ssContent),ssFallback:t.ssFallback&&mi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function In(t=" ",r=0){return hr(uc,null,t,r)}function Iu(t="",r=!1){return r?(cr(),fc(vn,null,t)):hr(vn,null,t)}function Un(t){return t==null||typeof t=="boolean"?hr(vn):Ze(t)?hr(Zr,null,t.slice()):typeof t=="object"?oi(t):hr(uc,null,String(t))}function oi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mi(t)}function Yh(t,r){let e=0;const{shapeFlag:n}=t;if(r==null)r=null;else if(Ze(r))e=16;else if(typeof r=="object")if(n&65){const h=r.default;h&&(h._c&&(h._d=!1),Yh(t,h()),h._c&&(h._d=!0));return}else{e=32;const h=r._;!h&&!(cc in r)?r._ctx=ds:h===3&&ds&&(ds.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else ut(r)?(r={default:r,_ctx:ds},e=32):(r=String(r),n&64?(e=16,r=[In(r)]):e=8);t.children=r,t.shapeFlag|=e}function Ky(...t){const r={};for(let e=0;e<t.length;e++){const n=t[e];for(const h in n)if(h==="class")r.class!==n.class&&(r.class=Yr([r.class,n.class]));else if(h==="style")r.style=Bh([r.style,n.style]);else if(ec(h)){const d=r[h],$=n[h];$&&d!==$&&!(Ze(d)&&d.includes($))&&(r[h]=d?[].concat(d,$):$)}else h!==""&&(r[h]=n[h])}return r}function Dn(t,r,e,n=null){pn(t,r,7,[e,n])}const Gy=pg();let Jy=0;function Zy(t,r,e){const n=t.type,h=(r?r.appContext:t.appContext)||Gy,d={uid:Jy++,vnode:t,type:n,parent:r,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gg(n,h),emitsOptions:tg(n,h),emit:null,emitted:null,propsDefaults:ir,inheritAttrs:n.inheritAttrs,ctx:ir,data:ir,props:ir,attrs:ir,slots:ir,refs:ir,setupState:ir,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=r?r.root:d,d.emit=Yd.bind(null,d),t.ce&&t.ce(d),d}let Xr=null;const Qy=()=>Xr||ds;let ep,ah;{const t=Fv(),r=(e,n)=>{let h;return(h=t[e])||(h=t[e]=[]),h.push(n),d=>{h.length>1?h.forEach($=>$(d)):h[0](d)}};ep=r("__VUE_INSTANCE_SETTERS__",e=>Xr=e),ah=r("__VUE_SSR_SETTERS__",e=>hc=e)}const ju=t=>{ep(t),t.scope.on()},Ko=()=>{Xr&&Xr.scope.off(),ep(null)};function Ag(t){return t.vnode.shapeFlag&4}let hc=!1;function Xy(t,r=!1){r&&ah(r);const{props:e,children:n}=t.vnode,h=Ag(t);Ty(t,e,h,r),Ry(t,n);const d=h?Yy(t,r):void 0;return r&&ah(!1),d}function Yy(t,r){const e=t.type;t.accessCache=Object.create(null),t.proxy=Kv(new Proxy(t.ctx,Cy));const{setup:n}=e;if(n){const h=t.setupContext=n.length>1?tw(t):null;ju(t),iu();const d=di(n,t,0,[t.props,h]);if(lu(),Ko(),Pv(d)){if(d.then(Ko,Ko),r)return d.then($=>{Ip(t,$,r)}).catch($=>{nc($,t,0)});t.asyncDep=d}else Ip(t,d,r)}else _g(t,r)}function Ip(t,r,e){ut(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:ar(r)&&(t.setupState=Zv(r)),_g(t,e)}let jp;function _g(t,r,e){const n=t.type;if(!t.render){if(!r&&jp&&!n.render){const h=n.template||Qh(t).template;if(h){const{isCustomElement:d,compilerOptions:$}=t.appContext.config,{delimiters:b,compilerOptions:k}=n,E=Fr(Fr({isCustomElement:d,delimiters:b},$),k);n.render=jp(h,E)}}t.render=n.render||cn}{ju(t),iu();try{ky(t)}finally{lu(),Ko()}}}function ew(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(r,e){return xs(t,"get","$attrs"),r[e]}}))}function tw(t){const r=e=>{t.exposed=e||{}};return{get attrs(){return ew(t)},slots:t.slots,emit:t.emit,expose:r}}function tp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Zv(Kv(t.exposed)),{get(r,e){if(e in r)return r[e];if(e in Zu)return Zu[e](t)},has(r,e){return e in r||e in Zu}}))}function rw(t){return ut(t)&&"__vccOpts"in t}const sw=(t,r)=>qd(t,r,hc);function si(t,r,e){const n=arguments.length;return n===2?ar(r)&&!Ze(r)?Jf(r)?hr(t,null,[r]):hr(t,r):hr(t,null,r):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Jf(e)&&(e=[e]),hr(t,r,e))}const nw="3.4.4",aw="http://www.w3.org/2000/svg",iw="http://www.w3.org/1998/Math/MathML",ui=typeof document<"u"?document:null,Rp=ui&&ui.createElement("template"),lw={insert:(t,r,e)=>{r.insertBefore(t,e||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,e,n)=>{const h=r==="svg"?ui.createElementNS(aw,t):r==="mathml"?ui.createElementNS(iw,t):ui.createElement(t,e?{is:e}:void 0);return t==="select"&&n&&n.multiple!=null&&h.setAttribute("multiple",n.multiple),h},createText:t=>ui.createTextNode(t),createComment:t=>ui.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ui.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,e,n,h,d){const $=e?e.previousSibling:r.lastChild;if(h&&(h===d||h.nextSibling))for(;r.insertBefore(h.cloneNode(!0),e),!(h===d||!(h=h.nextSibling)););else{Rp.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const b=Rp.content;if(n==="svg"||n==="mathml"){const k=b.firstChild;for(;k.firstChild;)b.appendChild(k.firstChild);b.removeChild(k)}r.insertBefore(b,e)}return[$?$.nextSibling:r.firstChild,e?e.previousSibling:r.lastChild]}},ti="transition",Bu="animation",af=Symbol("_vtc"),rp=(t,{slots:r})=>si(vy,ow(t),r);rp.displayName="Transition";const Cg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};rp.props=Fr({},ng,Cg);const To=(t,r=[])=>{Ze(t)?t.forEach(e=>e(...r)):t&&t(...r)},Dp=t=>t?Ze(t)?t.some(r=>r.length>1):t.length>1:!1;function ow(t){const r={};for(const ge in t)ge in Cg||(r[ge]=t[ge]);if(t.css===!1)return r;const{name:e="v",type:n,duration:h,enterFromClass:d=`${e}-enter-from`,enterActiveClass:$=`${e}-enter-active`,enterToClass:b=`${e}-enter-to`,appearFromClass:k=d,appearActiveClass:E=$,appearToClass:F=b,leaveFromClass:j=`${e}-leave-from`,leaveActiveClass:D=`${e}-leave-active`,leaveToClass:W=`${e}-leave-to`}=t,pe=uw(h),te=pe&&pe[0],le=pe&&pe[1],{onBeforeEnter:Ae,onEnter:U,onEnterCancelled:L,onLeave:q,onLeaveCancelled:B,onBeforeAppear:G=Ae,onAppear:J=U,onAppearCancelled:Q=L}=r,X=(ge,qe,it)=>{Io(ge,qe?F:b),Io(ge,qe?E:$),it&&it()},$e=(ge,qe)=>{ge._isLeaving=!1,Io(ge,j),Io(ge,W),Io(ge,D),qe&&qe()},Pe=ge=>(qe,it)=>{const Jt=ge?J:U,lt=()=>X(qe,ge,it);To(Jt,[qe,lt]),Lp(()=>{Io(qe,ge?k:d),ri(qe,ge?F:b),Dp(Jt)||Bp(qe,n,te,lt)})};return Fr(r,{onBeforeEnter(ge){To(Ae,[ge]),ri(ge,d),ri(ge,$)},onBeforeAppear(ge){To(G,[ge]),ri(ge,k),ri(ge,E)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(ge,qe){ge._isLeaving=!0;const it=()=>$e(ge,qe);ri(ge,j),hw(),ri(ge,D),Lp(()=>{ge._isLeaving&&(Io(ge,j),ri(ge,W),Dp(q)||Bp(ge,n,le,it))}),To(q,[ge,it])},onEnterCancelled(ge){X(ge,!1),To(L,[ge])},onAppearCancelled(ge){X(ge,!0),To(Q,[ge])},onLeaveCancelled(ge){$e(ge),To(B,[ge])}})}function uw(t){if(t==null)return null;if(ar(t))return[kc(t.enter),kc(t.leave)];{const r=kc(t);return[r,r]}}function kc(t){return vd(t)}function ri(t,r){r.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t[af]||(t[af]=new Set)).add(r)}function Io(t,r){r.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const e=t[af];e&&(e.delete(r),e.size||(t[af]=void 0))}function Lp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fw=0;function Bp(t,r,e,n){const h=t._endId=++fw,d=()=>{h===t._endId&&n()};if(e)return setTimeout(d,e);const{type:$,timeout:b,propCount:k}=cw(t,r);if(!$)return n();const E=$+"end";let F=0;const j=()=>{t.removeEventListener(E,D),d()},D=W=>{W.target===t&&++F>=k&&j()};setTimeout(()=>{F<k&&j()},b+1),t.addEventListener(E,D)}function cw(t,r){const e=window.getComputedStyle(t),n=pe=>(e[pe]||"").split(", "),h=n(`${ti}Delay`),d=n(`${ti}Duration`),$=Hp(h,d),b=n(`${Bu}Delay`),k=n(`${Bu}Duration`),E=Hp(b,k);let F=null,j=0,D=0;r===ti?$>0&&(F=ti,j=$,D=d.length):r===Bu?E>0&&(F=Bu,j=E,D=k.length):(j=Math.max($,E),F=j>0?$>E?ti:Bu:null,D=F?F===ti?d.length:k.length:0);const W=F===ti&&/\b(transform|all)(,|$)/.test(n(`${ti}Property`).toString());return{type:F,timeout:j,propCount:D,hasTransform:W}}function Hp(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((e,n)=>Up(e)+Up(t[n])))}function Up(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hw(){return document.body.offsetHeight}function pw(t,r,e){const n=t[af];n&&(r=(r?[r,...n]:[...n]).join(" ")),r==null?t.removeAttribute("class"):e?t.setAttribute("class",r):t.className=r}const vw=Symbol("_vod"),gw=Symbol("");function dw(t,r,e){const n=t.style,h=Er(e);if(e&&!h){if(r&&!Er(r))for(const d in r)e[d]==null&&ih(n,d,"");for(const d in e)ih(n,d,e[d])}else{const d=n.display;if(h){if(r!==e){const $=n[gw];$&&(e+=";"+$),n.cssText=e}}else r&&t.removeAttribute("style");vw in t&&(n.display=d)}}const qp=/\s*!important$/;function ih(t,r,e){if(Ze(e))e.forEach(n=>ih(t,r,n));else if(e==null&&(e=""),r.startsWith("--"))t.setProperty(r,e);else{const n=yw(t,r);qp.test(e)?t.setProperty(Lu(n),e.replace(qp,""),"important"):t[n]=e}}const zp=["Webkit","Moz","ms"],Pc={};function yw(t,r){const e=Pc[r];if(e)return e;let n=Ou(r);if(n!=="filter"&&n in t)return Pc[r]=n;n=Sv(n);for(let h=0;h<zp.length;h++){const d=zp[h]+n;if(d in t)return Pc[r]=d}return r}const Vp="http://www.w3.org/1999/xlink";function ww(t,r,e,n,h){if(n&&r.startsWith("xlink:"))e==null?t.removeAttributeNS(Vp,r.slice(6,r.length)):t.setAttributeNS(Vp,r,e);else{const d=$d(r);e==null||d&&!Nv(e)?t.removeAttribute(r):t.setAttribute(r,d?"":e)}}function mw(t,r,e,n,h,d,$){if(r==="innerHTML"||r==="textContent"){n&&$(n,h,d),t[r]=e??"";return}const b=t.tagName;if(r==="value"&&b!=="PROGRESS"&&!b.includes("-")){t._value=e;const E=b==="OPTION"?t.getAttribute("value"):t.value,F=e??"";E!==F&&(t.value=F),e==null&&t.removeAttribute(r);return}let k=!1;if(e===""||e==null){const E=typeof t[r];E==="boolean"?e=Nv(e):e==null&&E==="string"?(e="",k=!0):E==="number"&&(e=0,k=!0)}try{t[r]=e}catch{}k&&t.removeAttribute(r)}function $w(t,r,e,n){t.addEventListener(r,e,n)}function xw(t,r,e,n){t.removeEventListener(r,e,n)}const Wp=Symbol("_vei");function bw(t,r,e,n,h=null){const d=t[Wp]||(t[Wp]={}),$=d[r];if(n&&$)$.value=n;else{const[b,k]=Aw(r);if(n){const E=d[r]=kw(n,h);$w(t,b,E,k)}else $&&(xw(t,b,$,k),d[r]=void 0)}}const Kp=/(?:Once|Passive|Capture)$/;function Aw(t){let r;if(Kp.test(t)){r={};let n;for(;n=t.match(Kp);)t=t.slice(0,t.length-n[0].length),r[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lu(t.slice(2)),r]}let Ec=0;const _w=Promise.resolve(),Cw=()=>Ec||(_w.then(()=>Ec=0),Ec=Date.now());function kw(t,r){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;pn(Pw(n,e.value),r,5,[n])};return e.value=t,e.attached=Cw(),e}function Pw(t,r){if(Ze(r)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},r.map(n=>h=>!h._stopped&&n&&n(h))}else return r}const Gp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ew=(t,r,e,n,h,d,$,b,k)=>{const E=h==="svg";r==="class"?pw(t,n,E):r==="style"?dw(t,e,n):ec(r)?Rh(r)||bw(t,r,e,n,$):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Mw(t,r,n,E))?mw(t,r,n,d,$,b,k):(r==="true-value"?t._trueValue=n:r==="false-value"&&(t._falseValue=n),ww(t,r,n,E))};function Mw(t,r,e,n){if(n)return!!(r==="innerHTML"||r==="textContent"||r in t&&Gp(r)&&ut(e));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const h=t.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return Gp(r)&&Er(e)?!1:r in t}const Sw=Fr({patchProp:Ew},lw);let Jp;function Fw(){return Jp||(Jp=Ly(Sw))}const Nw=(...t)=>{const r=Fw().createApp(...t),{mount:e}=r;return r.mount=n=>{const h=Tw(n);if(!h)return;const d=r._component;!ut(d)&&!d.render&&!d.template&&(d.template=h.innerHTML),h.innerHTML="";const $=e(h,!1,Ow(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),$},r};function Ow(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Tw(t){return Er(t)?document.querySelector(t):t}function Xu(){return Xu=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Xu.apply(this,arguments)}var Iw=13,jw=9,Rw=8,Dw=89,xf=90,Lw=77,Zp=57,Qp=219,Xp=222,Yp=192,Bw=27,ev=100,Hw=3e3,Uw=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),Mc=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),qw=lf({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(r){r?this.codeData=r:this.codeData=""}},content:{immediate:!0,handler:function(){var r=this;this.lineNumbers&&this.$nextTick(function(){r.setLineNumbersHeight()})}},lineNumbers:function(){var r=this;this.$nextTick(function(){r.styleLineNumbers(),r.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var r=this.highlight(this.codeData)+"<br />";return r},lineNumbersCount:function(){var r=this.codeData.split(/\r\n|\n/).length;return r}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var r=this.$refs.pre,e=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(r);this.$nextTick(function(){var h="border-top-left-radius",d="border-bottom-left-radius";if(e){e.style[h]=n[h],e.style[d]=n[d],r.style[h]="0",r.style[d]="0";var $=["background-color","margin-top","padding-top","font-family","font-size","line-height"];$.forEach(function(b){e.style[b]=n[b]}),e.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var r=this.$refs.textarea;if(r){var e=r.value,n=r.selectionStart,h=r.selectionEnd;this._recordChange({value:e,selectionStart:n,selectionEnd:h})}},_getLines:function(r,e){return r.substring(0,e).split(`
`)},_applyEdits:function(r){var e=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&e&&(this.history.stack[this.history.offset]=Xu({},n,{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})),this._recordChange(r),this._updateInput(r)},_recordChange:function(r,e){e===void 0&&(e=!1);var n=this.history,h=n.stack,d=n.offset;if(h.length&&d>-1){this.history.stack=h.slice(0,d+1);var $=this.history.stack.length;if($>ev){var b=$-ev;this.history.stack=h.slice(b,$),this.history.offset=Math.max(this.history.offset-b,0)}}var k=Date.now();if(e){var E=this.history.stack[this.history.offset];if(E&&k-E.timestamp<Hw){var F,j,D=/[^a-z0-9]([a-z0-9]+)$/i,W=(F=this._getLines(E.value,E.selectionStart).pop())===null||F===void 0?void 0:F.match(D),pe=(j=this._getLines(r.value,r.selectionStart).pop())===null||j===void 0?void 0:j.match(D);if(W&&pe&&pe[1].startsWith(W[1])){this.history.stack[this.history.offset]=Xu({},r,{timestamp:k});return}}}this.history.stack.push(Xu({},r,{timestamp:k})),this.history.offset++},_updateInput:function(r){var e=this.$refs.textarea;e&&(e.value=r.value,e.selectionStart=r.selectionStart,e.selectionEnd=r.selectionEnd,this.$emit("update:modelValue",r.value))},handleChange:function(r){var e=r.target,n=e.value,h=e.selectionStart,d=e.selectionEnd;this._recordChange({value:n,selectionStart:h,selectionEnd:d},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var r=this.history,e=r.stack,n=r.offset,h=e[n-1];h&&(this._updateInput(h),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var r=this.history,e=r.stack,n=r.offset,h=e[n+1];h&&(this._updateInput(h),this.history.offset=Math.min(n+1,e.length-1))},handleKeyDown:function(r){var e=this.tabSize,n=this.insertSpaces,h=this.ignoreTabKey;if(this.$emit("keydown",r),!r.defaultPrevented){r.keyCode===Bw&&(r.target.blur(),this.$emit("blur",r));var d=r.target,$=d.value,b=d.selectionStart,k=d.selectionEnd,E=(n?" ":"	").repeat(e);if(r.keyCode===jw&&!h&&this.capture)if(r.preventDefault(),r.shiftKey){var F=this._getLines($,b),j=F.length-1,D=this._getLines($,k).length-1,W=$.split(`
`).map(function(ge,qe){return qe>=j&&qe<=D&&ge.startsWith(E)?ge.substring(E.length):ge}).join(`
`);if($!==W){var pe=F[j];this._applyEdits({value:W,selectionStart:pe.startsWith(E)?b-E.length:b,selectionEnd:k-($.length-W.length)})}}else if(b!==k){var te=this._getLines($,b),le=te.length-1,Ae=this._getLines($,k).length-1,U=te[le];this._applyEdits({value:$.split(`
`).map(function(ge,qe){return qe>=le&&qe<=Ae?E+ge:ge}).join(`
`),selectionStart:/\S/.test(U)?b+E.length:b,selectionEnd:k+E.length*(Ae-le+1)})}else{var L=b+E.length;this._applyEdits({value:$.substring(0,b)+E+$.substring(k),selectionStart:L,selectionEnd:L})}else if(r.keyCode===Rw){var q=b!==k,B=$.substring(0,b);if(B.endsWith(E)&&!q){r.preventDefault();var G=b-E.length;this._applyEdits({value:$.substring(0,b-E.length)+$.substring(k),selectionStart:G,selectionEnd:G})}}else if(r.keyCode===Iw){if(b===k){var J=this._getLines($,b).pop(),Q=J==null?void 0:J.match(/^\s+/);if(Q&&Q[0]){r.preventDefault();var X=`
`+Q[0],$e=b+X.length;this._applyEdits({value:$.substring(0,b)+X+$.substring(k),selectionStart:$e,selectionEnd:$e})}}}else if(r.keyCode===Zp||r.keyCode===Qp||r.keyCode===Xp||r.keyCode===Yp){var Pe;r.keyCode===Zp&&r.shiftKey?Pe=["(",")"]:r.keyCode===Qp?r.shiftKey?Pe=["{","}"]:Pe=["[","]"]:r.keyCode===Xp?r.shiftKey?Pe=['"','"']:Pe=["'","'"]:r.keyCode===Yp&&!r.shiftKey&&(Pe=["`","`"]),b!==k&&Pe&&(r.preventDefault(),this._applyEdits({value:$.substring(0,b)+Pe[0]+$.substring(b,k)+Pe[1]+$.substring(k),selectionStart:b,selectionEnd:k+2}))}else(Mc?r.metaKey&&r.keyCode===xf:r.ctrlKey&&r.keyCode===xf)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),this._undoEdit()):(Mc?r.metaKey&&r.keyCode===xf&&r.shiftKey:Uw?r.ctrlKey&&r.keyCode===Dw:r.ctrlKey&&r.keyCode===xf&&r.shiftKey)&&!r.altKey?(r.preventDefault(),this._redoEdit()):r.keyCode===Lw&&r.ctrlKey&&(!Mc||r.shiftKey)&&(r.preventDefault(),this.capture=!this.capture)}}},render:function(){var r=this,e=si("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=si("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[e,Array.from(Array(this.lineNumbersCount).keys()).map(function(b,k){return si("div",{class:"prism-editor__line-number token comment"},""+ ++k)})]),h=si("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(k){r.$emit("click",k)},onKeyup:function(k){r.$emit("keyup",k)},onFocus:function(k){r.$emit("focus",k)},onBlur:function(k){r.$emit("blur",k)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),d=si("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),$=si("div",{class:"prism-editor__container"},[h,d]);return si("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,$])}}),tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vw(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var e=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var h=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,h.get?h:{enumerable:!0,get:function(){return t[n]}})}),e}var Ww={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(n){var h=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,$={},b={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function U(L){return L instanceof k?new k(L.type,U(L.content),L.alias):Array.isArray(L)?L.map(U):L.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(U){return Object.prototype.toString.call(U).slice(8,-1)},objId:function(U){return U.__id||Object.defineProperty(U,"__id",{value:++d}),U.__id},clone:function U(L,q){q=q||{};var B,G;switch(b.util.type(L)){case"Object":if(G=b.util.objId(L),q[G])return q[G];B={},q[G]=B;for(var J in L)L.hasOwnProperty(J)&&(B[J]=U(L[J],q));return B;case"Array":return G=b.util.objId(L),q[G]?q[G]:(B=[],q[G]=B,L.forEach(function(Q,X){B[X]=U(Q,q)}),B);default:return L}},getLanguage:function(U){for(;U;){var L=h.exec(U.className);if(L)return L[1].toLowerCase();U=U.parentElement}return"none"},setLanguage:function(U,L){U.className=U.className.replace(RegExp(h,"gi"),""),U.classList.add("language-"+L)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(B){var U=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(B.stack)||[])[1];if(U){var L=document.getElementsByTagName("script");for(var q in L)if(L[q].src==U)return L[q]}return null}},isActive:function(U,L,q){for(var B="no-"+L;U;){var G=U.classList;if(G.contains(L))return!0;if(G.contains(B))return!1;U=U.parentElement}return!!q}},languages:{plain:$,plaintext:$,text:$,txt:$,extend:function(U,L){var q=b.util.clone(b.languages[U]);for(var B in L)q[B]=L[B];return q},insertBefore:function(U,L,q,B){B=B||b.languages;var G=B[U],J={};for(var Q in G)if(G.hasOwnProperty(Q)){if(Q==L)for(var X in q)q.hasOwnProperty(X)&&(J[X]=q[X]);q.hasOwnProperty(Q)||(J[Q]=G[Q])}var $e=B[U];return B[U]=J,b.languages.DFS(b.languages,function(Pe,ge){ge===$e&&Pe!=U&&(this[Pe]=J)}),J},DFS:function U(L,q,B,G){G=G||{};var J=b.util.objId;for(var Q in L)if(L.hasOwnProperty(Q)){q.call(L,Q,L[Q],B||Q);var X=L[Q],$e=b.util.type(X);$e==="Object"&&!G[J(X)]?(G[J(X)]=!0,U(X,q,null,G)):$e==="Array"&&!G[J(X)]&&(G[J(X)]=!0,U(X,q,Q,G))}}},plugins:{},highlightAll:function(U,L){b.highlightAllUnder(document,U,L)},highlightAllUnder:function(U,L,q){var B={callback:q,container:U,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};b.hooks.run("before-highlightall",B),B.elements=Array.prototype.slice.apply(B.container.querySelectorAll(B.selector)),b.hooks.run("before-all-elements-highlight",B);for(var G=0,J;J=B.elements[G++];)b.highlightElement(J,L===!0,B.callback)},highlightElement:function(U,L,q){var B=b.util.getLanguage(U),G=b.languages[B];b.util.setLanguage(U,B);var J=U.parentElement;J&&J.nodeName.toLowerCase()==="pre"&&b.util.setLanguage(J,B);var Q=U.textContent,X={element:U,language:B,grammar:G,code:Q};function $e(ge){X.highlightedCode=ge,b.hooks.run("before-insert",X),X.element.innerHTML=X.highlightedCode,b.hooks.run("after-highlight",X),b.hooks.run("complete",X),q&&q.call(X.element)}if(b.hooks.run("before-sanity-check",X),J=X.element.parentElement,J&&J.nodeName.toLowerCase()==="pre"&&!J.hasAttribute("tabindex")&&J.setAttribute("tabindex","0"),!X.code){b.hooks.run("complete",X),q&&q.call(X.element);return}if(b.hooks.run("before-highlight",X),!X.grammar){$e(b.util.encode(X.code));return}if(L&&n.Worker){var Pe=new Worker(b.filename);Pe.onmessage=function(ge){$e(ge.data)},Pe.postMessage(JSON.stringify({language:X.language,code:X.code,immediateClose:!0}))}else $e(b.highlight(X.code,X.grammar,X.language))},highlight:function(U,L,q){var B={code:U,grammar:L,language:q};if(b.hooks.run("before-tokenize",B),!B.grammar)throw new Error('The language "'+B.language+'" has no grammar.');return B.tokens=b.tokenize(B.code,B.grammar),b.hooks.run("after-tokenize",B),k.stringify(b.util.encode(B.tokens),B.language)},tokenize:function(U,L){var q=L.rest;if(q){for(var B in q)L[B]=q[B];delete L.rest}var G=new j;return D(G,G.head,U),F(U,G,L,G.head,0),pe(G)},hooks:{all:{},add:function(U,L){var q=b.hooks.all;q[U]=q[U]||[],q[U].push(L)},run:function(U,L){var q=b.hooks.all[U];if(!(!q||!q.length))for(var B=0,G;G=q[B++];)G(L)}},Token:k};n.Prism=b;function k(U,L,q,B){this.type=U,this.content=L,this.alias=q,this.length=(B||"").length|0}k.stringify=function U(L,q){if(typeof L=="string")return L;if(Array.isArray(L)){var B="";return L.forEach(function($e){B+=U($e,q)}),B}var G={type:L.type,content:U(L.content,q),tag:"span",classes:["token",L.type],attributes:{},language:q},J=L.alias;J&&(Array.isArray(J)?Array.prototype.push.apply(G.classes,J):G.classes.push(J)),b.hooks.run("wrap",G);var Q="";for(var X in G.attributes)Q+=" "+X+'="'+(G.attributes[X]||"").replace(/"/g,"&quot;")+'"';return"<"+G.tag+' class="'+G.classes.join(" ")+'"'+Q+">"+G.content+"</"+G.tag+">"};function E(U,L,q,B){U.lastIndex=L;var G=U.exec(q);if(G&&B&&G[1]){var J=G[1].length;G.index+=J,G[0]=G[0].slice(J)}return G}function F(U,L,q,B,G,J){for(var Q in q)if(!(!q.hasOwnProperty(Q)||!q[Q])){var X=q[Q];X=Array.isArray(X)?X:[X];for(var $e=0;$e<X.length;++$e){if(J&&J.cause==Q+","+$e)return;var Pe=X[$e],ge=Pe.inside,qe=!!Pe.lookbehind,it=!!Pe.greedy,Jt=Pe.alias;if(it&&!Pe.pattern.global){var lt=Pe.pattern.toString().match(/[imsuy]*$/)[0];Pe.pattern=RegExp(Pe.pattern.source,lt+"g")}for(var nt=Pe.pattern||Pe,je=B.next,at=G;je!==L.tail&&!(J&&at>=J.reach);at+=je.value.length,je=je.next){var St=je.value;if(L.length>U.length)return;if(!(St instanceof k)){var Ft=1,Qe;if(it){if(Qe=E(nt,at,U,qe),!Qe||Qe.index>=U.length)break;var Pt=Qe.index,Nr=Qe.index+Qe[0].length,Lt=at;for(Lt+=je.value.length;Pt>=Lt;)je=je.next,Lt+=je.value.length;if(Lt-=je.value.length,at=Lt,je.value instanceof k)continue;for(var wr=je;wr!==L.tail&&(Lt<Nr||typeof wr.value=="string");wr=wr.next)Ft++,Lt+=wr.value.length;Ft--,St=U.slice(at,Lt),Qe.index-=at}else if(Qe=E(nt,0,St,qe),!Qe)continue;var Pt=Qe.index,dr=Qe[0],Or=St.slice(0,Pt),kr=St.slice(Pt+dr.length),Mr=at+St.length;J&&Mr>J.reach&&(J.reach=Mr);var Nt=je.prev;Or&&(Nt=D(L,Nt,Or),at+=Or.length),W(L,Nt,Ft);var H=new k(Q,ge?b.tokenize(dr,ge):dr,Jt,dr);if(je=D(L,Nt,H),kr&&D(L,je,kr),Ft>1){var K={cause:Q+","+$e,reach:Mr};F(U,L,q,je.prev,at,K),J&&K.reach>J.reach&&(J.reach=K.reach)}}}}}}function j(){var U={value:null,prev:null,next:null},L={value:null,prev:U,next:null};U.next=L,this.head=U,this.tail=L,this.length=0}function D(U,L,q){var B=L.next,G={value:q,prev:L,next:B};return L.next=G,B.prev=G,U.length++,G}function W(U,L,q){for(var B=L.next,G=0;G<q&&B!==U.tail;G++)B=B.next;L.next=B,B.prev=L,U.length-=G}function pe(U){for(var L=[],q=U.head.next;q!==U.tail;)L.push(q.value),q=q.next;return L}if(!n.document)return n.addEventListener&&(b.disableWorkerMessageHandler||n.addEventListener("message",function(U){var L=JSON.parse(U.data),q=L.language,B=L.code,G=L.immediateClose;n.postMessage(b.highlight(B,b.languages[q],q)),G&&n.close()},!1)),b;var te=b.util.currentScript();te&&(b.filename=te.src,te.hasAttribute("data-manual")&&(b.manual=!0));function le(){b.manual||b.highlightAll()}if(!b.manual){var Ae=document.readyState;Ae==="loading"||Ae==="interactive"&&te&&te.defer?document.addEventListener("DOMContentLoaded",le):window.requestAnimationFrame?window.requestAnimationFrame(le):window.setTimeout(le,16)}return b}(r);t.exports&&(t.exports=e),typeof tn<"u"&&(tn.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(h,d){var $={};$["language-"+d]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[d]},$.cdata=/^<!\[CDATA\[|\]\]>$/i;var b={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:$}};b["language-"+d]={pattern:/[\s\S]+/,inside:e.languages[d]};var k={};k[h]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return h}),"i"),lookbehind:!0,greedy:!0,inside:b},e.languages.insertBefore("markup","cdata",k)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(n,h){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[h,"language-"+h],inside:e.languages[h]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(n){var h=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+h.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+h.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+h.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+h.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:h,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var d=n.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading",h=function(te,le){return" Error "+te+" while fetching file: "+le},d=" Error: File does not exist or is empty",$={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},b="data-src-status",k="loading",E="loaded",F="failed",j="pre[data-src]:not(["+b+'="'+E+'"]):not(['+b+'="'+k+'"])';function D(te,le,Ae){var U=new XMLHttpRequest;U.open("GET",te,!0),U.onreadystatechange=function(){U.readyState==4&&(U.status<400&&U.responseText?le(U.responseText):U.status>=400?Ae(h(U.status,U.statusText)):Ae(d))},U.send(null)}function W(te){var le=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(te||"");if(le){var Ae=Number(le[1]),U=le[2],L=le[3];return U?L?[Ae,Number(L)]:[Ae,void 0]:[Ae,Ae]}}e.hooks.add("before-highlightall",function(te){te.selector+=", "+j}),e.hooks.add("before-sanity-check",function(te){var le=te.element;if(le.matches(j)){te.code="",le.setAttribute(b,k);var Ae=le.appendChild(document.createElement("CODE"));Ae.textContent=n;var U=le.getAttribute("data-src"),L=te.language;if(L==="none"){var q=(/\.(\w+)$/.exec(U)||[,"none"])[1];L=$[q]||q}e.util.setLanguage(Ae,L),e.util.setLanguage(le,L);var B=e.plugins.autoloader;B&&B.loadLanguages(L),D(U,function(G){le.setAttribute(b,E);var J=W(le.getAttribute("data-range"));if(J){var Q=G.split(/\r\n?|\n/g),X=J[0],$e=J[1]==null?Q.length:J[1];X<0&&(X+=Q.length),X=Math.max(0,Math.min(X-1,Q.length)),$e<0&&($e+=Q.length),$e=Math.max(0,Math.min($e,Q.length)),G=Q.slice(X,$e).join(`
`),le.hasAttribute("data-start")||le.setAttribute("data-start",String(X+1))}Ae.textContent=G,e.highlightElement(Ae)},function(G){le.setAttribute(b,F),Ae.textContent=G})}}),e.plugins.fileHighlight={highlight:function(le){for(var Ae=(le||document).querySelectorAll(j),U=0,L;L=Ae[U++];)e.highlightElement(L)}};var pe=!1;e.fileHighlight=function(){pe||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),pe=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Ww);var kg={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(n){var h=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,$={},b={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function U(L){return L instanceof k?new k(L.type,U(L.content),L.alias):Array.isArray(L)?L.map(U):L.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(U){return Object.prototype.toString.call(U).slice(8,-1)},objId:function(U){return U.__id||Object.defineProperty(U,"__id",{value:++d}),U.__id},clone:function U(L,q){q=q||{};var B,G;switch(b.util.type(L)){case"Object":if(G=b.util.objId(L),q[G])return q[G];B={},q[G]=B;for(var J in L)L.hasOwnProperty(J)&&(B[J]=U(L[J],q));return B;case"Array":return G=b.util.objId(L),q[G]?q[G]:(B=[],q[G]=B,L.forEach(function(Q,X){B[X]=U(Q,q)}),B);default:return L}},getLanguage:function(U){for(;U;){var L=h.exec(U.className);if(L)return L[1].toLowerCase();U=U.parentElement}return"none"},setLanguage:function(U,L){U.className=U.className.replace(RegExp(h,"gi"),""),U.classList.add("language-"+L)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(B){var U=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(B.stack)||[])[1];if(U){var L=document.getElementsByTagName("script");for(var q in L)if(L[q].src==U)return L[q]}return null}},isActive:function(U,L,q){for(var B="no-"+L;U;){var G=U.classList;if(G.contains(L))return!0;if(G.contains(B))return!1;U=U.parentElement}return!!q}},languages:{plain:$,plaintext:$,text:$,txt:$,extend:function(U,L){var q=b.util.clone(b.languages[U]);for(var B in L)q[B]=L[B];return q},insertBefore:function(U,L,q,B){B=B||b.languages;var G=B[U],J={};for(var Q in G)if(G.hasOwnProperty(Q)){if(Q==L)for(var X in q)q.hasOwnProperty(X)&&(J[X]=q[X]);q.hasOwnProperty(Q)||(J[Q]=G[Q])}var $e=B[U];return B[U]=J,b.languages.DFS(b.languages,function(Pe,ge){ge===$e&&Pe!=U&&(this[Pe]=J)}),J},DFS:function U(L,q,B,G){G=G||{};var J=b.util.objId;for(var Q in L)if(L.hasOwnProperty(Q)){q.call(L,Q,L[Q],B||Q);var X=L[Q],$e=b.util.type(X);$e==="Object"&&!G[J(X)]?(G[J(X)]=!0,U(X,q,null,G)):$e==="Array"&&!G[J(X)]&&(G[J(X)]=!0,U(X,q,Q,G))}}},plugins:{},highlightAll:function(U,L){b.highlightAllUnder(document,U,L)},highlightAllUnder:function(U,L,q){var B={callback:q,container:U,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};b.hooks.run("before-highlightall",B),B.elements=Array.prototype.slice.apply(B.container.querySelectorAll(B.selector)),b.hooks.run("before-all-elements-highlight",B);for(var G=0,J;J=B.elements[G++];)b.highlightElement(J,L===!0,B.callback)},highlightElement:function(U,L,q){var B=b.util.getLanguage(U),G=b.languages[B];b.util.setLanguage(U,B);var J=U.parentElement;J&&J.nodeName.toLowerCase()==="pre"&&b.util.setLanguage(J,B);var Q=U.textContent,X={element:U,language:B,grammar:G,code:Q};function $e(ge){X.highlightedCode=ge,b.hooks.run("before-insert",X),X.element.innerHTML=X.highlightedCode,b.hooks.run("after-highlight",X),b.hooks.run("complete",X),q&&q.call(X.element)}if(b.hooks.run("before-sanity-check",X),J=X.element.parentElement,J&&J.nodeName.toLowerCase()==="pre"&&!J.hasAttribute("tabindex")&&J.setAttribute("tabindex","0"),!X.code){b.hooks.run("complete",X),q&&q.call(X.element);return}if(b.hooks.run("before-highlight",X),!X.grammar){$e(b.util.encode(X.code));return}if(L&&n.Worker){var Pe=new Worker(b.filename);Pe.onmessage=function(ge){$e(ge.data)},Pe.postMessage(JSON.stringify({language:X.language,code:X.code,immediateClose:!0}))}else $e(b.highlight(X.code,X.grammar,X.language))},highlight:function(U,L,q){var B={code:U,grammar:L,language:q};if(b.hooks.run("before-tokenize",B),!B.grammar)throw new Error('The language "'+B.language+'" has no grammar.');return B.tokens=b.tokenize(B.code,B.grammar),b.hooks.run("after-tokenize",B),k.stringify(b.util.encode(B.tokens),B.language)},tokenize:function(U,L){var q=L.rest;if(q){for(var B in q)L[B]=q[B];delete L.rest}var G=new j;return D(G,G.head,U),F(U,G,L,G.head,0),pe(G)},hooks:{all:{},add:function(U,L){var q=b.hooks.all;q[U]=q[U]||[],q[U].push(L)},run:function(U,L){var q=b.hooks.all[U];if(!(!q||!q.length))for(var B=0,G;G=q[B++];)G(L)}},Token:k};n.Prism=b;function k(U,L,q,B){this.type=U,this.content=L,this.alias=q,this.length=(B||"").length|0}k.stringify=function U(L,q){if(typeof L=="string")return L;if(Array.isArray(L)){var B="";return L.forEach(function($e){B+=U($e,q)}),B}var G={type:L.type,content:U(L.content,q),tag:"span",classes:["token",L.type],attributes:{},language:q},J=L.alias;J&&(Array.isArray(J)?Array.prototype.push.apply(G.classes,J):G.classes.push(J)),b.hooks.run("wrap",G);var Q="";for(var X in G.attributes)Q+=" "+X+'="'+(G.attributes[X]||"").replace(/"/g,"&quot;")+'"';return"<"+G.tag+' class="'+G.classes.join(" ")+'"'+Q+">"+G.content+"</"+G.tag+">"};function E(U,L,q,B){U.lastIndex=L;var G=U.exec(q);if(G&&B&&G[1]){var J=G[1].length;G.index+=J,G[0]=G[0].slice(J)}return G}function F(U,L,q,B,G,J){for(var Q in q)if(!(!q.hasOwnProperty(Q)||!q[Q])){var X=q[Q];X=Array.isArray(X)?X:[X];for(var $e=0;$e<X.length;++$e){if(J&&J.cause==Q+","+$e)return;var Pe=X[$e],ge=Pe.inside,qe=!!Pe.lookbehind,it=!!Pe.greedy,Jt=Pe.alias;if(it&&!Pe.pattern.global){var lt=Pe.pattern.toString().match(/[imsuy]*$/)[0];Pe.pattern=RegExp(Pe.pattern.source,lt+"g")}for(var nt=Pe.pattern||Pe,je=B.next,at=G;je!==L.tail&&!(J&&at>=J.reach);at+=je.value.length,je=je.next){var St=je.value;if(L.length>U.length)return;if(!(St instanceof k)){var Ft=1,Qe;if(it){if(Qe=E(nt,at,U,qe),!Qe||Qe.index>=U.length)break;var Pt=Qe.index,Nr=Qe.index+Qe[0].length,Lt=at;for(Lt+=je.value.length;Pt>=Lt;)je=je.next,Lt+=je.value.length;if(Lt-=je.value.length,at=Lt,je.value instanceof k)continue;for(var wr=je;wr!==L.tail&&(Lt<Nr||typeof wr.value=="string");wr=wr.next)Ft++,Lt+=wr.value.length;Ft--,St=U.slice(at,Lt),Qe.index-=at}else if(Qe=E(nt,0,St,qe),!Qe)continue;var Pt=Qe.index,dr=Qe[0],Or=St.slice(0,Pt),kr=St.slice(Pt+dr.length),Mr=at+St.length;J&&Mr>J.reach&&(J.reach=Mr);var Nt=je.prev;Or&&(Nt=D(L,Nt,Or),at+=Or.length),W(L,Nt,Ft);var H=new k(Q,ge?b.tokenize(dr,ge):dr,Jt,dr);if(je=D(L,Nt,H),kr&&D(L,je,kr),Ft>1){var K={cause:Q+","+$e,reach:Mr};F(U,L,q,je.prev,at,K),J&&K.reach>J.reach&&(J.reach=K.reach)}}}}}}function j(){var U={value:null,prev:null,next:null},L={value:null,prev:U,next:null};U.next=L,this.head=U,this.tail=L,this.length=0}function D(U,L,q){var B=L.next,G={value:q,prev:L,next:B};return L.next=G,B.prev=G,U.length++,G}function W(U,L,q){for(var B=L.next,G=0;G<q&&B!==U.tail;G++)B=B.next;L.next=B,B.prev=L,U.length-=G}function pe(U){for(var L=[],q=U.head.next;q!==U.tail;)L.push(q.value),q=q.next;return L}if(!n.document)return n.addEventListener&&(b.disableWorkerMessageHandler||n.addEventListener("message",function(U){var L=JSON.parse(U.data),q=L.language,B=L.code,G=L.immediateClose;n.postMessage(b.highlight(B,b.languages[q],q)),G&&n.close()},!1)),b;var te=b.util.currentScript();te&&(b.filename=te.src,te.hasAttribute("data-manual")&&(b.manual=!0));function le(){b.manual||b.highlightAll()}if(!b.manual){var Ae=document.readyState;Ae==="loading"||Ae==="interactive"&&te&&te.defer?document.addEventListener("DOMContentLoaded",le):window.requestAnimationFrame?window.requestAnimationFrame(le):window.setTimeout(le,16)}return b}(r);t.exports&&(t.exports=e),typeof tn<"u"&&(tn.Prism=e)})(kg);var tv=kg.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Kw={computed:{hasHeader(){return!!this.$slots.header},hasFooter(){return!!this.$slots.footer}}},Gw="_container_zhbxc_2",Jw="_header_zhbxc_9",Zw="_main_zhbxc_14",Qw="_footer_zhbxc_19",Xw={container:Gw,header:Jw,main:Zw,footer:Qw},of=(t,r)=>{const e=t.__vccOpts||t;for(const[n,h]of r)e[n]=h;return e};function Yw(t,r,e,n,h,d){return cr(),Sr("div",{class:Yr(t.$style.container)},[d.hasHeader?(cr(),Sr("header",{key:0,class:Yr(t.$style.header)},[kf(t.$slots,"header")],2)):Iu("",!0),hn("main",{class:Yr(t.$style.main)},[kf(t.$slots,"default")],2),d.hasFooter?(cr(),Sr("footer",{key:1,class:Yr(t.$style.footer)},[kf(t.$slots,"footer")],2)):Iu("",!0)],2)}const em={$style:Xw},Ku=of(Kw,[["render",Yw],["__cssModules",em]]),tm={key:0},rm=["onClick"],sm={key:1},nm=["onClick"],am=lf({__name:"MenuButton",props:{options:{}},emits:["select"],setup(t,{emit:r}){const e=Lo(!1),n=r;return(h,d)=>(cr(),Sr("div",{class:Yr(h.$style.wrapper)},[hn("button",{onClick:d[0]||(d[0]=$=>e.value=!e.value)},[kf(h.$slots,"default")]),hr(rp,null,{default:$s(()=>[e.value?(cr(),Sr("div",{key:0,class:Yr(h.$style.menu)},[h.options instanceof Array?(cr(),Sr("div",tm,[(cr(!0),Sr(Zr,null,Wf(h.options,$=>(cr(),Sr("div",{class:Yr(h.$style.opt),onClick:b=>{e.value=!1,n("select",$)}},zo($),11,rm))),256))])):(cr(),Sr("div",sm,[(cr(!0),Sr(Zr,null,Wf(Object.keys(h.options),$=>(cr(),Sr("div",{class:Yr(h.$style.opt),onClick:b=>{e.value=!1,n("select",$)}},zo(h.options[$]),11,nm))),256))]))],2)):Iu("",!0)]),_:1})],2))}}),im="_wrapper_1dk0z_2",lm="_menu_1dk0z_5",om="_opt_1dk0z_12",um={wrapper:im,menu:lm,opt:om},fm={$style:um},Pg=of(am,[["__cssModules",fm]]),cm=lf({__name:"Editor",props:{modelValue:{},samples:{},parseError:{}},emits:["run","update:modelValue"],setup(t,{emit:r}){const e=t,n=r,h=Lo(e.modelValue);Gu(h,()=>{n("update:modelValue",h.value)},{immediate:!0});function d(b){h.value=e.samples[b]}const $=b=>tv.highlight(b,tv.languages.js,"javascript");return(b,k)=>(cr(),fc(Ku,null,{header:$s(()=>[In(" Input "),e.samples?(cr(),Sr("div",{key:0,class:Yr(b.$style.actions)},[hr(Pg,{options:Object.keys(e.samples),onSelect:d},{default:$s(()=>[In("Samples")]),_:1},8,["options"])],2)):Iu("",!0)]),footer:$s(()=>[e.parseError?(cr(),Sr("span",{key:0,class:Yr(b.$style.parseError)},zo(e.parseError),3)):Iu("",!0),hn("div",{class:Yr(b.$style.actions)},[hn("button",{onClick:k[1]||(k[1]=E=>n("run"))},"RUN")],2)]),default:$s(()=>[hr(tf(qw),{class:Yr(b.$style.code),modelValue:h.value,"onUpdate:modelValue":k[0]||(k[0]=E=>h.value=E),highlight:$,"line-numbers":!1},null,8,["class","modelValue"])]),_:1}))}}),hm="_code_af8rl_2",pm="_parseError_af8rl_6",vm="_actions_af8rl_9",gm={code:hm,parseError:pm,actions:vm},dm={$style:gm},ym=of(cm,[["__cssModules",dm]]);function lr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let Ru=class Eg extends Error{constructor(e,n){super(e);me(this,"name","AiScript");me(this,"info");me(this,"loc");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Eg)}},rv=class extends Ru{constructor(e){super(e.message??`${e}`,e);me(this,"name","Internal")}},gt=class extends Ru{constructor(e,n,h){super(`${e} (Line ${n.line}, Column ${n.column})`,h);me(this,"loc");me(this,"name","Syntax");this.loc=n}};class sv extends Ru{constructor(e,n,h){super(`${e} (Line ${n.line}, Column ${n.column})`,h);me(this,"loc");me(this,"name","Namespace");this.loc=n}}let Wt=class extends Ru{constructor(e,n){super(e,n);me(this,"name","Runtime")}},wm=class extends Wt{constructor(r,e){super(r,e)}};var $i=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Qa=class Mg{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Mg(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new Wt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new Wt(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new Wt(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new Wt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};$i([lr],Qa.prototype,"log",null);$i([lr],Qa.prototype,"onUpdated",null);$i([lr],Qa.prototype,"createChildScope",null);$i([lr],Qa.prototype,"get",null);$i([lr],Qa.prototype,"exists",null);$i([lr],Qa.prototype,"getAll",null);$i([lr],Qa.prototype,"add",null);$i([lr],Qa.prototype,"assign",null);let bf;const mm=new Uint8Array(16);function $m(){if(!bf&&(bf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bf(mm)}const Hr=[];for(let t=0;t<256;++t)Hr.push((t+256).toString(16).slice(1));function xm(t,r=0){return Hr[t[r+0]]+Hr[t[r+1]]+Hr[t[r+2]]+Hr[t[r+3]]+"-"+Hr[t[r+4]]+Hr[t[r+5]]+"-"+Hr[t[r+6]]+Hr[t[r+7]]+"-"+Hr[t[r+8]]+Hr[t[r+9]]+"-"+Hr[t[r+10]]+Hr[t[r+11]]+Hr[t[r+12]]+Hr[t[r+13]]+Hr[t[r+14]]+Hr[t[r+15]]}const bm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nv={randomUUID:bm};function sp(t,r,e){if(nv.randomUUID&&!r&&!t)return nv.randomUUID();t=t||{};const n=t.random||(t.rng||$m)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return xm(n)}var np={exports:{}};np.exports;(function(t){(function(r,e,n){function h(k){var E=this,F=b();E.next=function(){var j=2091639*E.s0+E.c*23283064365386963e-26;return E.s0=E.s1,E.s1=E.s2,E.s2=j-(E.c=j|0)},E.c=1,E.s0=F(" "),E.s1=F(" "),E.s2=F(" "),E.s0-=F(k),E.s0<0&&(E.s0+=1),E.s1-=F(k),E.s1<0&&(E.s1+=1),E.s2-=F(k),E.s2<0&&(E.s2+=1),F=null}function d(k,E){return E.c=k.c,E.s0=k.s0,E.s1=k.s1,E.s2=k.s2,E}function $(k,E){var F=new h(k),j=E&&E.state,D=F.next;return D.int32=function(){return F.next()*4294967296|0},D.double=function(){return D()+(D()*2097152|0)*11102230246251565e-32},D.quick=D,j&&(typeof j=="object"&&d(j,F),D.state=function(){return d(F,{})}),D}function b(){var k=4022871197,E=function(F){F=String(F);for(var j=0;j<F.length;j++){k+=F.charCodeAt(j);var D=.02519603282416938*k;k=D>>>0,D-=k,D*=k,k=D>>>0,D-=k,k+=D*4294967296}return(k>>>0)*23283064365386963e-26};return E}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.alea=$})(tn,t,!1)})(np);var Am=np.exports,ap={exports:{}};ap.exports;(function(t){(function(r,e,n){function h(b){var k=this,E="";k.x=0,k.y=0,k.z=0,k.w=0,k.next=function(){var j=k.x^k.x<<11;return k.x=k.y,k.y=k.z,k.z=k.w,k.w^=k.w>>>19^j^j>>>8},b===(b|0)?k.x=b:E+=b;for(var F=0;F<E.length+64;F++)k.x^=E.charCodeAt(F)|0,k.next()}function d(b,k){return k.x=b.x,k.y=b.y,k.z=b.z,k.w=b.w,k}function $(b,k){var E=new h(b),F=k&&k.state,j=function(){return(E.next()>>>0)/4294967296};return j.double=function(){do var D=E.next()>>>11,W=(E.next()>>>0)/4294967296,pe=(D+W)/(1<<21);while(pe===0);return pe},j.int32=E.next,j.quick=j,F&&(typeof F=="object"&&d(F,E),j.state=function(){return d(E,{})}),j}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.xor128=$})(tn,t,!1)})(ap);var _m=ap.exports,ip={exports:{}};ip.exports;(function(t){(function(r,e,n){function h(b){var k=this,E="";k.next=function(){var j=k.x^k.x>>>2;return k.x=k.y,k.y=k.z,k.z=k.w,k.w=k.v,(k.d=k.d+362437|0)+(k.v=k.v^k.v<<4^(j^j<<1))|0},k.x=0,k.y=0,k.z=0,k.w=0,k.v=0,b===(b|0)?k.x=b:E+=b;for(var F=0;F<E.length+64;F++)k.x^=E.charCodeAt(F)|0,F==E.length&&(k.d=k.x<<10^k.x>>>4),k.next()}function d(b,k){return k.x=b.x,k.y=b.y,k.z=b.z,k.w=b.w,k.v=b.v,k.d=b.d,k}function $(b,k){var E=new h(b),F=k&&k.state,j=function(){return(E.next()>>>0)/4294967296};return j.double=function(){do var D=E.next()>>>11,W=(E.next()>>>0)/4294967296,pe=(D+W)/(1<<21);while(pe===0);return pe},j.int32=E.next,j.quick=j,F&&(typeof F=="object"&&d(F,E),j.state=function(){return d(E,{})}),j}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.xorwow=$})(tn,t,!1)})(ip);var Cm=ip.exports,lp={exports:{}};lp.exports;(function(t){(function(r,e,n){function h(b){var k=this;k.next=function(){var F=k.x,j=k.i,D,W;return D=F[j],D^=D>>>7,W=D^D<<24,D=F[j+1&7],W^=D^D>>>10,D=F[j+3&7],W^=D^D>>>3,D=F[j+4&7],W^=D^D<<7,D=F[j+7&7],D=D^D<<13,W^=D^D<<9,F[j]=W,k.i=j+1&7,W};function E(F,j){var D,W=[];if(j===(j|0))W[0]=j;else for(j=""+j,D=0;D<j.length;++D)W[D&7]=W[D&7]<<15^j.charCodeAt(D)+W[D+1&7]<<13;for(;W.length<8;)W.push(0);for(D=0;D<8&&W[D]===0;++D);for(D==8?W[7]=-1:W[D],F.x=W,F.i=0,D=256;D>0;--D)F.next()}E(k,b)}function d(b,k){return k.x=b.x.slice(),k.i=b.i,k}function $(b,k){b==null&&(b=+new Date);var E=new h(b),F=k&&k.state,j=function(){return(E.next()>>>0)/4294967296};return j.double=function(){do var D=E.next()>>>11,W=(E.next()>>>0)/4294967296,pe=(D+W)/(1<<21);while(pe===0);return pe},j.int32=E.next,j.quick=j,F&&(F.x&&d(F,E),j.state=function(){return d(E,{})}),j}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.xorshift7=$})(tn,t,!1)})(lp);var km=lp.exports,op={exports:{}};op.exports;(function(t){(function(r,e,n){function h(b){var k=this;k.next=function(){var F=k.w,j=k.X,D=k.i,W,pe;return k.w=F=F+1640531527|0,pe=j[D+34&127],W=j[D=D+1&127],pe^=pe<<13,W^=W<<17,pe^=pe>>>15,W^=W>>>12,pe=j[D]=pe^W,k.i=D,pe+(F^F>>>16)|0};function E(F,j){var D,W,pe,te,le,Ae=[],U=128;for(j===(j|0)?(W=j,j=null):(j=j+"\0",W=0,U=Math.max(U,j.length)),pe=0,te=-32;te<U;++te)j&&(W^=j.charCodeAt((te+32)%j.length)),te===0&&(le=W),W^=W<<10,W^=W>>>15,W^=W<<4,W^=W>>>13,te>=0&&(le=le+1640531527|0,D=Ae[te&127]^=W+le,pe=D==0?pe+1:0);for(pe>=128&&(Ae[(j&&j.length||0)&127]=-1),pe=127,te=4*128;te>0;--te)W=Ae[pe+34&127],D=Ae[pe=pe+1&127],W^=W<<13,D^=D<<17,W^=W>>>15,D^=D>>>12,Ae[pe]=W^D;F.w=le,F.X=Ae,F.i=pe}E(k,b)}function d(b,k){return k.i=b.i,k.w=b.w,k.X=b.X.slice(),k}function $(b,k){b==null&&(b=+new Date);var E=new h(b),F=k&&k.state,j=function(){return(E.next()>>>0)/4294967296};return j.double=function(){do var D=E.next()>>>11,W=(E.next()>>>0)/4294967296,pe=(D+W)/(1<<21);while(pe===0);return pe},j.int32=E.next,j.quick=j,F&&(F.X&&d(F,E),j.state=function(){return d(E,{})}),j}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.xor4096=$})(tn,t,!1)})(op);var Pm=op.exports,up={exports:{}};up.exports;(function(t){(function(r,e,n){function h(b){var k=this,E="";k.next=function(){var j=k.b,D=k.c,W=k.d,pe=k.a;return j=j<<25^j>>>7^D,D=D-W|0,W=W<<24^W>>>8^pe,pe=pe-j|0,k.b=j=j<<20^j>>>12^D,k.c=D=D-W|0,k.d=W<<16^D>>>16^pe,k.a=pe-j|0},k.a=0,k.b=0,k.c=-1640531527,k.d=1367130551,b===Math.floor(b)?(k.a=b/4294967296|0,k.b=b|0):E+=b;for(var F=0;F<E.length+20;F++)k.b^=E.charCodeAt(F)|0,k.next()}function d(b,k){return k.a=b.a,k.b=b.b,k.c=b.c,k.d=b.d,k}function $(b,k){var E=new h(b),F=k&&k.state,j=function(){return(E.next()>>>0)/4294967296};return j.double=function(){do var D=E.next()>>>11,W=(E.next()>>>0)/4294967296,pe=(D+W)/(1<<21);while(pe===0);return pe},j.int32=E.next,j.quick=j,F&&(typeof F=="object"&&d(F,E),j.state=function(){return d(E,{})}),j}e&&e.exports?e.exports=$:n&&n.amd?n(function(){return $}):this.tychei=$})(tn,t,!1)})(up);var Em=up.exports,Sg={exports:{}};const Mm={},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"})),Fm=Vw(Sm);(function(t){(function(r,e,n){var h=256,d=6,$=52,b="random",k=n.pow(h,d),E=n.pow(2,$),F=E*2,j=h-1,D;function W(q,B,G){var J=[];B=B==!0?{entropy:!0}:B||{};var Q=Ae(le(B.entropy?[q,L(e)]:q??U(),3),J),X=new pe(J),$e=function(){for(var Pe=X.g(d),ge=k,qe=0;Pe<E;)Pe=(Pe+qe)*h,ge*=h,qe=X.g(1);for(;Pe>=F;)Pe/=2,ge/=2,qe>>>=1;return(Pe+qe)/ge};return $e.int32=function(){return X.g(4)|0},$e.quick=function(){return X.g(4)/4294967296},$e.double=$e,Ae(L(X.S),e),(B.pass||G||function(Pe,ge,qe,it){return it&&(it.S&&te(it,X),Pe.state=function(){return te(X,{})}),qe?(n[b]=Pe,ge):Pe})($e,Q,"global"in B?B.global:this==n,B.state)}function pe(q){var B,G=q.length,J=this,Q=0,X=J.i=J.j=0,$e=J.S=[];for(G||(q=[G++]);Q<h;)$e[Q]=Q++;for(Q=0;Q<h;Q++)$e[Q]=$e[X=j&X+q[Q%G]+(B=$e[Q])],$e[X]=B;(J.g=function(Pe){for(var ge,qe=0,it=J.i,Jt=J.j,lt=J.S;Pe--;)ge=lt[it=j&it+1],qe=qe*h+lt[j&(lt[it]=lt[Jt=j&Jt+ge])+(lt[Jt]=ge)];return J.i=it,J.j=Jt,qe})(h)}function te(q,B){return B.i=q.i,B.j=q.j,B.S=q.S.slice(),B}function le(q,B){var G=[],J=typeof q,Q;if(B&&J=="object")for(Q in q)try{G.push(le(q[Q],B-1))}catch{}return G.length?G:J=="string"?q:q+"\0"}function Ae(q,B){for(var G=q+"",J,Q=0;Q<G.length;)B[j&Q]=j&(J^=B[j&Q]*19)+G.charCodeAt(Q++);return L(B)}function U(){try{var q;return D&&(q=D.randomBytes)?q=q(h):(q=new Uint8Array(h),(r.crypto||r.msCrypto).getRandomValues(q)),L(q)}catch{var B=r.navigator,G=B&&B.plugins;return[+new Date,r,G,r.screen,L(e)]}}function L(q){return String.fromCharCode.apply(0,q)}if(Ae(n.random(),e),t.exports){t.exports=W;try{D=Fm}catch{}}else n["seed"+b]=W})(typeof self<"u"?self:tn,[],Math)})(Sg);var Nm=Sg.exports,Om=Am,Tm=_m,Im=Cm,jm=km,Rm=Pm,Dm=Em,ou=Nm;ou.alea=Om;ou.xor128=Tm;ou.xorwow=Im;ou.xorshift7=jm;ou.xor4096=Rm;ou.tychei=Dm;var Lm=ou;const uf=zw(Lm),At={type:"null"},an={type:"bool",value:!0},Vs={type:"bool",value:!1},Fe=t=>({type:"num",value:t}),zt=t=>({type:"str",value:t}),Go=t=>({type:"bool",value:t}),Zf=t=>({type:"obj",value:t}),Wr=t=>({type:"arr",value:t}),Bm=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),oe=t=>({type:"fn",native:t}),Hm=t=>({type:"return",value:t}),Um=()=>({type:"break",value:null}),qm=()=>({type:"continue",value:null}),zm=t=>t.type==="return"?t.value:t,lh=(t,r)=>({type:"error",value:t,info:r});function Zs(t){if(t==null)throw new Wt("Expect anything, but got nothing.")}function cs(t){if(t==null)throw new Wt("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Wt(`Expect boolean, but got ${t.type}.`)}function fi(t){if(t==null)throw new Wt("Expect function, but got nothing.");if(t.type!=="fn")throw new Wt(`Expect function, but got ${t.type}.`)}function _r(t){if(t==null)throw new Wt("Expect string, but got nothing.");if(t.type!=="str")throw new Wt(`Expect string, but got ${t.type}.`)}function _e(t){if(t==null)throw new Wt("Expect number, but got nothing.");if(t.type!=="num")throw new Wt(`Expect number, but got ${t.type}.`)}function Bn(t){if(t==null)throw new Wt("Expect object, but got nothing.");if(t.type!=="obj")throw new Wt(`Expect object, but got ${t.type}.`)}function Qf(t){if(t==null)throw new Wt("Expect array, but got nothing.");if(t.type!=="arr")throw new Wt(`Expect array, but got ${t.type}.`)}function Sc(t){return t.type==="obj"}function av(t){return t.type==="arr"}function oh(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function uh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>uh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function fh(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>fh(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=fh(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function ch(t){if(t===null)return At;if(typeof t=="boolean")return Go(t);if(typeof t=="string")return zt(t);if(typeof t=="number")return Fe(t);if(Array.isArray(t))return Wr(t.map(r=>ch(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,ch(n));return Zf(r)}return At}function xu(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(xu(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${xu(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Vm={help:zt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":zt("0.16.0"),"Core:ai":zt("kawaii"),"Core:not":oe(([t])=>(cs(t),t.value?Vs:an)),"Core:eq":oe(([t,r])=>(Zs(t),Zs(r),oh(t,r)?an:Vs)),"Core:neq":oe(([t,r])=>(Zs(t),Zs(r),oh(t,r)?Vs:an)),"Core:and":oe(([t,r])=>(cs(t),t.value?(cs(r),r.value?an:Vs):Vs)),"Core:or":oe(([t,r])=>(cs(t),t.value?an:(cs(r),r.value?an:Vs))),"Core:add":oe(([t,r])=>(_e(t),_e(r),Fe(t.value+r.value))),"Core:sub":oe(([t,r])=>(_e(t),_e(r),Fe(t.value-r.value))),"Core:mul":oe(([t,r])=>(_e(t),_e(r),Fe(t.value*r.value))),"Core:pow":oe(([t,r])=>{_e(t),_e(r);const e=t.value**r.value;if(isNaN(e))throw new Wt("Invalid operation.");return Fe(e)}),"Core:div":oe(([t,r])=>{_e(t),_e(r);const e=t.value/r.value;if(isNaN(e))throw new Wt("Invalid operation.");return Fe(e)}),"Core:mod":oe(([t,r])=>(_e(t),_e(r),Fe(t.value%r.value))),"Core:gt":oe(([t,r])=>(_e(t),_e(r),t.value>r.value?an:Vs)),"Core:lt":oe(([t,r])=>(_e(t),_e(r),t.value<r.value?an:Vs)),"Core:gteq":oe(([t,r])=>(_e(t),_e(r),t.value>=r.value?an:Vs)),"Core:lteq":oe(([t,r])=>(_e(t),_e(r),t.value<=r.value?an:Vs)),"Core:type":oe(([t])=>(Zs(t),zt(t.type))),"Core:to_str":oe(([t])=>(Zs(t),zt(xu(t)))),"Core:range":oe(([t,r])=>(_e(t),_e(r),t.value<r.value?Wr(Array.from({length:r.value-t.value+1},(e,n)=>Fe(n+t.value))):t.value>r.value?Wr(Array.from({length:t.value-r.value+1},(e,n)=>Fe(t.value-n))):Wr([t]))),"Core:sleep":oe(async([t])=>(_e(t),await new Promise(r=>setTimeout(r,t.value)),At)),"Util:uuid":oe(()=>zt(sp())),"Json:stringify":oe(([t])=>(Zs(t),zt(JSON.stringify(fh(t))))),"Json:parse":oe(([t])=>{_r(t);try{return ch(JSON.parse(t.value))}catch{return lh("not_json")}}),"Json:parsable":oe(([t])=>{_r(t);try{JSON.parse(t.value)}catch{return Go(!1)}return Go(!0)}),"Date:now":oe(()=>Fe(Date.now())),"Date:year":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":oe(([t])=>(t&&_e(t),Fe(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":oe(([t])=>(_r(t),Fe(new Date(t.value).getTime()))),"Math:Infinity":Fe(1/0),"Math:E":Fe(Math.E),"Math:LN2":Fe(Math.LN2),"Math:LN10":Fe(Math.LN10),"Math:LOG2E":Fe(Math.LOG2E),"Math:LOG10E":Fe(Math.LOG10E),"Math:PI":Fe(Math.PI),"Math:SQRT1_2":Fe(Math.SQRT1_2),"Math:SQRT2":Fe(Math.SQRT2),"Math:abs":oe(([t])=>(_e(t),Fe(Math.abs(t.value)))),"Math:acos":oe(([t])=>(_e(t),Fe(Math.acos(t.value)))),"Math:acosh":oe(([t])=>(_e(t),Fe(Math.acosh(t.value)))),"Math:asin":oe(([t])=>(_e(t),Fe(Math.asin(t.value)))),"Math:asinh":oe(([t])=>(_e(t),Fe(Math.asinh(t.value)))),"Math:atan":oe(([t])=>(_e(t),Fe(Math.atan(t.value)))),"Math:atanh":oe(([t])=>(_e(t),Fe(Math.atanh(t.value)))),"Math:atan2":oe(([t,r])=>(_e(t),_e(r),Fe(Math.atan2(t.value,r.value)))),"Math:cbrt":oe(([t])=>(_e(t),Fe(Math.cbrt(t.value)))),"Math:ceil":oe(([t])=>(_e(t),Fe(Math.ceil(t.value)))),"Math:clz32":oe(([t])=>(_e(t),Fe(Math.clz32(t.value)))),"Math:cos":oe(([t])=>(_e(t),Fe(Math.cos(t.value)))),"Math:cosh":oe(([t])=>(_e(t),Fe(Math.cosh(t.value)))),"Math:exp":oe(([t])=>(_e(t),Fe(Math.exp(t.value)))),"Math:expm1":oe(([t])=>(_e(t),Fe(Math.expm1(t.value)))),"Math:floor":oe(([t])=>(_e(t),Fe(Math.floor(t.value)))),"Math:fround":oe(([t])=>(_e(t),Fe(Math.fround(t.value)))),"Math:hypot":oe(([t])=>{Qf(t);const r=[];for(const e of t.value)_e(e),r.push(e.value);return Fe(Math.hypot(...r))}),"Math:imul":oe(([t,r])=>(_e(t),_e(r),Fe(Math.imul(t.value,r.value)))),"Math:log":oe(([t])=>(_e(t),Fe(Math.log(t.value)))),"Math:log1p":oe(([t])=>(_e(t),Fe(Math.log1p(t.value)))),"Math:log10":oe(([t])=>(_e(t),Fe(Math.log10(t.value)))),"Math:log2":oe(([t])=>(_e(t),Fe(Math.log2(t.value)))),"Math:max":oe(([t,r])=>(_e(t),_e(r),Fe(Math.max(t.value,r.value)))),"Math:min":oe(([t,r])=>(_e(t),_e(r),Fe(Math.min(t.value,r.value)))),"Math:pow":oe(([t,r])=>(_e(t),_e(r),Fe(Math.pow(t.value,r.value)))),"Math:round":oe(([t])=>(_e(t),Fe(Math.round(t.value)))),"Math:sign":oe(([t])=>(_e(t),Fe(Math.sign(t.value)))),"Math:sin":oe(([t])=>(_e(t),Fe(Math.sin(t.value)))),"Math:sinh":oe(([t])=>(_e(t),Fe(Math.sinh(t.value)))),"Math:sqrt":oe(([t])=>{_e(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Wt("Invalid operation.");return Fe(r)}),"Math:tan":oe(([t])=>(_e(t),Fe(Math.tan(t.value)))),"Math:tanh":oe(([t])=>(_e(t),Fe(Math.tanh(t.value)))),"Math:trunc":oe(([t])=>(_e(t),Fe(Math.trunc(t.value)))),"Math:rnd":oe(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Fe(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Fe(Math.random())),"Math:gen_rng":oe(([t])=>{if(Zs(t),t.type!=="num"&&t.type!=="str")return At;const r=uf(t.value.toString());return oe(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Fe(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Fe(r()))}),"Num:to_hex":oe(([t])=>(_e(t),zt(t.value.toString(16)))),"Num:from_hex":oe(([t])=>(_r(t),Fe(parseInt(t.value,16)))),"Str:lf":zt(`
`),"Str:lt":oe(([t,r])=>(_r(t),_r(r),t.value<r.value?Fe(-1):t.value===r.value?Fe(0):Fe(1))),"Str:gt":oe(([t,r])=>(_r(t),_r(r),t.value>r.value?Fe(-1):t.value===r.value?Fe(0):Fe(1))),"Str:from_codepoint":oe(([t])=>(_e(t),zt(String.fromCodePoint(t.value)))),"Obj:keys":oe(([t])=>(Bn(t),Wr(Array.from(t.value.keys()).map(r=>zt(r))))),"Obj:vals":oe(([t])=>(Bn(t),Wr(Array.from(t.value.values())))),"Obj:kvs":oe(([t])=>(Bn(t),Wr(Array.from(t.value.entries()).map(([r,e])=>Wr([zt(r),e]))))),"Obj:get":oe(([t,r])=>(Bn(t),_r(r),t.value.get(r.value)??At)),"Obj:set":oe(([t,r,e])=>(Bn(t),_r(r),Zs(e),t.value.set(r.value,e),At)),"Obj:has":oe(([t,r])=>(Bn(t),_r(r),Go(t.value.has(r.value)))),"Obj:copy":oe(([t])=>(Bn(t),Zf(new Map(t.value)))),"Obj:merge":oe(([t,r])=>(Bn(t),Bn(r),Zf(new Map([...t.value,...r.value])))),"Error:create":oe(([t,r])=>(_r(t),lh(t.value,r))),"Async:interval":oe(async([t,r,e],n)=>{_e(t),fi(r),e&&(cs(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),oe(([],$)=>{clearInterval(h),$.unregisterAbortHandler(d)})}),"Async:timeout":oe(async([t,r],e)=>{_e(t),fi(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),oe(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})};var uu={},Wm=()=>{const t="\\ud800-\\udfff",r="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",h="\\u1ab0-\\u1aff",d="\\u1dc0-\\u1dff",$=r+e+n+h+d,b="\\ufe0e\\ufe0f",k="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",E=`[${t}]`,F=`[${$}]`,j="\\ud83c[\\udffb-\\udfff]",D=`(?:${F}|${j})`,W=`[^${t}]`,pe="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",te="[\\ud800-\\udbff][\\udc00-\\udfff]",le="\\u200d",Ae="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",U=`[${k}]`,L=`${D}?`,q=`[${b}]?`,B=`(?:${le}(?:${[W,pe,te].join("|")})${q+L})*`,G=q+L+B,Q=`(?:${[`${W}${F}?`,F,pe,te,E,U].join("|")})`;return new RegExp(`${Ae}|${j}(?=${j})|${Q+G}`,"g")},Km=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uu,"__esModule",{value:!0});var pc=Km(Wm);function hh(t){if(typeof t!="string")throw new Error("A string is expected as input");return t.match(pc.default())||[]}var Rn=uu.toArray=hh;function fp(t){if(typeof t!="string")throw new Error("Input must be a string");var r=t.match(pc.default());return r===null?0:r.length}var ff=uu.length=fp;function Fg(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");(typeof r!="number"||r<0)&&(r=0),typeof e=="number"&&e<0&&(e=0);var n=t.match(pc.default());return n?n.slice(r,e).join(""):""}var cf=uu.substring=Fg;function Gm(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");var n=fp(t);if(typeof r!="number"&&(r=parseInt(r,10)),r>=n)return"";r<0&&(r+=n);var h;typeof e>"u"?h=n:(typeof e!="number"&&(e=parseInt(e,10)),h=e>=0?e+r:r);var d=t.match(pc.default());return d?d.slice(r,h).join(""):""}uu.substr=Gm;function Jm(t,r,e,n){if(r===void 0&&(r=16),e===void 0&&(e="#"),n===void 0&&(n="right"),typeof t!="string"||typeof r!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(n)===-1)throw new Error("Pad position should be either left or right");typeof e!="string"&&(e=String(e));var h=fp(t);if(h>r)return Fg(t,0,r);if(h<r){var d=e.repeat(r-h);return n==="left"?d+t:t+d}return t}uu.limit=Jm;function Zm(t,r,e){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");if(t==="")return r===""?0:-1;e=Number(e),e=isNaN(e)?0:e,r=String(r);var n=hh(t);if(e>=n.length)return r===""?n.length:-1;if(r==="")return e;var h=hh(r),d=!1,$;for($=e;$<n.length;$+=1){for(var b=0;b<h.length&&h[b]===n[$+b];)b+=1;if(b===h.length&&h[b-1]===n[$+b-1]){d=!0;break}}return d?$:-1}var hf=uu.indexOf=Zm;const iv={num:{to_str:t=>oe(async(r,e)=>zt(t.value.toString()))},str:{to_num:t=>oe(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?At:Fe(n)}),len:t=>Fe(ff(t.value)),replace:t=>oe(async([r,e],n)=>(_r(r),_r(e),zt(t.value.split(r.value).join(e.value)))),index_of:t=>oe(async([r],e)=>(_r(r),Fe(hf(t.value,r.value)))),incl:t=>oe(async([r],e)=>(_r(r),t.value.includes(r.value)?an:Vs)),trim:t=>oe(async(r,e)=>zt(t.value.trim())),upper:t=>oe(async(r,e)=>zt(t.value.toUpperCase())),lower:t=>oe(async(r,e)=>zt(t.value.toLowerCase())),split:t=>oe(async([r],e)=>(r&&_r(r),Wr(r?t.value.split(r?r.value:"").map(n=>zt(n)):Rn(t.value).map(n=>zt(n))))),slice:t=>oe(async([r,e],n)=>(_e(r),_e(e),zt(cf(t.value,r.value,e.value)))),pick:t=>oe(async([r],e)=>{_e(r);const h=Rn(t.value)[r.value];return h?zt(h):At}),codepoint_at:t=>oe(([r],e)=>{_e(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?At:Fe(n)})},arr:{len:t=>Fe(t.value.length),push:t=>oe(async([r],e)=>(Zs(r),t.value.push(r),t)),unshift:t=>oe(async([r],e)=>(Zs(r),t.value.unshift(r),t)),pop:t=>oe(async(r,e)=>t.value.pop()??At),shift:t=>oe(async(r,e)=>t.value.shift()??At),concat:t=>oe(async([r],e)=>(Qf(r),Wr(t.value.concat(r.value)))),slice:t=>oe(async([r,e],n)=>(_e(r),_e(e),Wr(t.value.slice(r.value,e.value)))),join:t=>oe(async([r],e)=>(r&&_r(r),zt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>oe(async([r],e)=>{fi(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Fe(d)]));return Wr(await Promise.all(n))}),filter:t=>oe(async([r],e)=>{fi(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],$=await e.call(r,[d,Fe(h)]);cs($),$.value&&n.push(d)}return Wr(n)}),reduce:t=>oe(async([r,e],n)=>{fi(r);const h=e!=null;let d=h?e:t.value[0];for(let $=h?0:1;$<t.value.length;$++){const b=t.value[$];d=await n.call(r,[d,b,Fe($)])}return d}),find:t=>oe(async([r],e)=>{fi(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Fe(n)]);if(cs(d),d.value)return h}return At}),incl:t=>oe(async([r],e)=>(Zs(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Vs:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?an:Vs)),reverse:t=>oe(async(r,e)=>(t.value.reverse(),At)),copy:t=>oe(async(r,e)=>Wr([...t.value])),sort:t=>oe(async([r],e)=>{const n=async(d,$)=>{if(d.length<=1)return d;const b=Math.floor(d.length/2),k=await n(d.slice(0,b),$),E=await n(d.slice(b),$);return h(k,E,$)},h=async(d,$,b)=>{const k=[];let E=0,F=0;for(;E<d.length&&F<$.length;){const j=d[E],D=$[F],W=await e.call(b,[j,D]);_e(W),W.value<0?(k.push(d[E]),E++):(k.push($[F]),F++)}return k.concat(d.slice(E)).concat($.slice(F))};return fi(r),Qf(t),t.value=await n(t.value,r),t})},error:{name:t=>zt(t.value),info:t=>t.info??At}};function Qm(t,r){if(Object.hasOwn(iv,t.type)){const e=iv[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Wt(`No such prop (${r}) in ${t.type}.`)}else throw new Wt(`Cannot read prop of ${t.type}. (reading ${r})`)}const Xm={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var es=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Ng=300,Ym=Ng-1;let zr=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:oe(([h])=>{Zs(h),this.opts.out&&this.opts.out(h)}),readline:oe(async h=>{const d=h[0];if(_r(d),this.opts.in==null)return At;const $=await this.opts.in(d.value);return zt($)})};this.vars=Object.fromEntries(Object.entries({...r,...Vm,...n}).map(([h,d])=>[h,Xm.const(d)])),this.scope=new Qa([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),lh("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[$,b]of h.value.entries())d[$]=e(b);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof Ru?this.opts.err(r):this.opts.err(new rv(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new sv('No "var" in namespace declaration: '+n.name,n.loc);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:{const d=n;throw new sv("invalid ns member type: "+d.type,d.loc)}}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??At;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return zm(await this._run(r.statements,h))}}_eval(r,e){return this.__eval(r,e).catch(n=>{if(n.loc)throw n;{const h=n instanceof Ru?n:new rv(n);throw h.loc=r.loc,h.message=`${h.message} (Line ${r.loc.line}, Column ${r.loc.column})`,h}})}async __eval(r,e){if(this.stop)return At;if(this.stepCount%Ng===Ym&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Wt("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);fi(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(cs(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(cs(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return At}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(oh(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):At}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return At}case"for":{if(r.times){const n=await this._eval(r.times,e);_e(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);_e(n),_e(h);for(let d=n.value;d<n.value+h.value;d++){const $=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Fe(d)}]])));if($.type==="break")break;if($.type==="return")return $}}return At}case"each":{const n=await this._eval(r.items,e);Qf(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return At}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),At}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),At}case"addAssign":{const n=await this._eval(r.dest,e);_e(n);const h=await this._eval(r.expr,e);return _e(h),await this.assign(e,r.dest,Fe(n.value+h.value)),At}case"subAssign":{const n=await this._eval(r.dest,e);_e(n);const h=await this._eval(r.expr,e);return _e(h),await this.assign(e,r.dest,Fe(n.value-h.value)),At}case"null":return At;case"bool":return Go(r.value);case"num":return Fe(r.value);case"str":return zt(r.value);case"arr":return Wr(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return Zf(n)}case"prop":{const n=await this._eval(r.target,e);return Sc(n)?n.value.has(r.name)?n.value.get(r.name):At:Qm(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(av(n)){_e(h);const d=n.value[h.value];if(d===void 0)throw new wm(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(Sc(n))return _r(h),n.value.has(h.value)?n.value.get(h.value):At;throw new Wt(`Cannot read prop (${xu(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return cs(n),Go(!n.value)}case"fn":return Bm(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Go(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=xu(d)}return zt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),Hm(n)}case"break":return this.log("block:break",{scope:e.name}),Um();case"continue":return this.log("block:continue",{scope:e.name}),qm();case"ns":return At;case"meta":return At;case"and":{const n=await this._eval(r.left,e);if(cs(n),n.value){const h=await this._eval(r.right,e);return cs(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(cs(n),n.value)return n;{const h=await this._eval(r.right,e);return cs(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=At;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(av(h))_e(d),h.value[d.value]=n;else if(Sc(h))_r(d),h.value.set(d.value,n);else throw new Wt(`Cannot read prop (${xu(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);Bn(h),h.value.set(e.name,n)}else throw new Wt("The left-hand side of an assignment expression must be a variable or a property/index access.")}};es([lr],zr.prototype,"exec",null);es([lr],zr.prototype,"execFn",null);es([lr],zr.prototype,"execFnSimple",null);es([lr],zr.prototype,"handleError",null);es([lr],zr.prototype,"log",null);es([lr],zr.prototype,"collectNs",null);es([lr],zr.prototype,"collectNsMember",null);es([lr],zr.prototype,"_fn",null);es([lr],zr.prototype,"_eval",null);es([lr],zr.prototype,"__eval",null);es([lr],zr.prototype,"_run",null);es([lr],zr.prototype,"registerAbortHandler",null);es([lr],zr.prototype,"unregisterAbortHandler",null);es([lr],zr.prototype,"abort",null);es([lr],zr.prototype,"assign",null);es([lr],zr,"collectMetadata",null);class e0{constructor(r,e){me(this,"pages");me(this,"firstPageIndex");me(this,"lastPageIndex");me(this,"pageIndex");me(this,"address");me(this,"_char");me(this,"line");me(this,"column");this.pages=new Map,this.pages.set(0,r),this.firstPageIndex=0,this.lastPageIndex=0,this.pageIndex=0,this.address=0,this.line=(e==null?void 0:e.line)??0,this.column=(e==null?void 0:e.column)??0,this.moveNext()}get eof(){return this.endOfPage&&this.isLastPage}get char(){if(this.eof)throw new Error("end of stream");return this._char}getPos(){return{line:this.line+1,column:this.column+1}}next(){!this.eof&&this._char===`
`?(this.line++,this.column=0):this.column++,this.incAddr(),this.moveNext()}prev(){this.decAddr(),this.movePrev()}get isFirstPage(){return this.pageIndex<=this.firstPageIndex}get isLastPage(){return this.pageIndex>=this.lastPageIndex}get endOfPage(){const r=this.pages.get(this.pageIndex);return this.address>=r.length}moveNext(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.incAddr(),this.loadChar();continue}break}}incAddr(){this.endOfPage?this.isLastPage||(this.pageIndex++,this.address=0):this.address++}movePrev(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.decAddr(),this.loadChar();continue}break}}decAddr(){this.address>0?this.address--:this.isFirstPage||(this.pageIndex--,this.address=this.pages.get(this.pageIndex).length-1)}loadChar(){this.eof?this._char=void 0:this._char=this.pages.get(this.pageIndex)[this.address]}}var O;(function(t){t[t.EOF=0]="EOF",t[t.NewLine=1]="NewLine",t[t.Identifier=2]="Identifier",t[t.NumberLiteral=3]="NumberLiteral",t[t.StringLiteral=4]="StringLiteral",t[t.Template=5]="Template",t[t.TemplateStringElement=6]="TemplateStringElement",t[t.TemplateExprElement=7]="TemplateExprElement",t[t.NullKeyword=8]="NullKeyword",t[t.TrueKeyword=9]="TrueKeyword",t[t.FalseKeyword=10]="FalseKeyword",t[t.EachKeyword=11]="EachKeyword",t[t.ForKeyword=12]="ForKeyword",t[t.LoopKeyword=13]="LoopKeyword",t[t.BreakKeyword=14]="BreakKeyword",t[t.ContinueKeyword=15]="ContinueKeyword",t[t.MatchKeyword=16]="MatchKeyword",t[t.CaseKeyword=17]="CaseKeyword",t[t.DefaultKeyword=18]="DefaultKeyword",t[t.IfKeyword=19]="IfKeyword",t[t.ElifKeyword=20]="ElifKeyword",t[t.ElseKeyword=21]="ElseKeyword",t[t.ReturnKeyword=22]="ReturnKeyword",t[t.EvalKeyword=23]="EvalKeyword",t[t.VarKeyword=24]="VarKeyword",t[t.LetKeyword=25]="LetKeyword",t[t.ExistsKeyword=26]="ExistsKeyword",t[t.Not=27]="Not",t[t.NotEq=28]="NotEq",t[t.OpenSharpBracket=29]="OpenSharpBracket",t[t.Sharp3=30]="Sharp3",t[t.Percent=31]="Percent",t[t.And2=32]="And2",t[t.OpenParen=33]="OpenParen",t[t.CloseParen=34]="CloseParen",t[t.Asterisk=35]="Asterisk",t[t.Plus=36]="Plus",t[t.PlusEq=37]="PlusEq",t[t.Comma=38]="Comma",t[t.Minus=39]="Minus",t[t.MinusEq=40]="MinusEq",t[t.Dot=41]="Dot",t[t.Slash=42]="Slash",t[t.Colon=43]="Colon",t[t.Colon2=44]="Colon2",t[t.SemiColon=45]="SemiColon",t[t.Lt=46]="Lt",t[t.LtEq=47]="LtEq",t[t.Out=48]="Out",t[t.Eq=49]="Eq",t[t.Eq2=50]="Eq2",t[t.Arrow=51]="Arrow",t[t.Gt=52]="Gt",t[t.GtEq=53]="GtEq",t[t.At=54]="At",t[t.OpenBracket=55]="OpenBracket",t[t.BackSlash=56]="BackSlash",t[t.CloseBracket=57]="CloseBracket",t[t.Hat=58]="Hat",t[t.OpenBrace=59]="OpenBrace",t[t.Or2=60]="Or2",t[t.CloseBrace=61]="CloseBrace"})(O||(O={}));class t0{constructor(r,e,n=!1,h,d){me(this,"kind");me(this,"loc");me(this,"hasLeftSpacing");me(this,"value");me(this,"children");this.kind=r,this.loc=e,this.hasLeftSpacing=n,this.value=h,this.children=d}}function Le(t,r,e){return new t0(t,r,e==null?void 0:e.hasLeftSpacing,e==null?void 0:e.value,e==null?void 0:e.children)}const lv=[" ","	"],r0=["\r",`
`],ov=/^[0-9]$/,s0=/^[A-Za-z0-9_]$/;class n0{constructor(r){me(this,"stream");me(this,"_tokens",[]);typeof r=="string"?this.stream=new e0(r):this.stream=r,this._tokens.push(this.readToken())}get token(){return this._tokens[0]}get kind(){return this.token.kind}next(){this._tokens[0].kind!==O.EOF&&(this._tokens.shift(),this._tokens.length===0&&this._tokens.push(this.readToken()))}lookahead(r){for(;this._tokens.length<=r;)this._tokens.push(this.readToken());return this._tokens[r]}expect(r){if(this.kind!==r)throw new gt(`unexpected token: ${O[this.kind]}`,this.token.loc)}nextWith(r){this.expect(r),this.next()}readToken(){let r,e=!1;for(;;){if(this.stream.eof){r=Le(O.EOF,this.stream.getPos(),{hasLeftSpacing:e});break}if(lv.includes(this.stream.char)){this.stream.next(),e=!0;continue}const n=this.stream.getPos();if(r0.includes(this.stream.char))return this.stream.next(),r=Le(O.NewLine,n,{hasLeftSpacing:e}),r;switch(this.stream.char){case"!":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.NotEq,n,{hasLeftSpacing:e})):r=Le(O.Not,n,{hasLeftSpacing:e});break}case'"':case"'":{r=this.readStringLiteral(e);break}case"#":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="#")this.stream.next(),!this.stream.eof&&this.stream.char==="#"&&(this.stream.next(),r=Le(O.Sharp3,n,{hasLeftSpacing:e}));else if(!this.stream.eof&&this.stream.char==="[")this.stream.next(),r=Le(O.OpenSharpBracket,n,{hasLeftSpacing:e});else throw new gt('invalid character: "#"',n);break}case"%":{this.stream.next(),r=Le(O.Percent,n,{hasLeftSpacing:e});break}case"&":{this.stream.next(),!this.stream.eof&&this.stream.char==="&"&&(this.stream.next(),r=Le(O.And2,n,{hasLeftSpacing:e}));break}case"(":{this.stream.next(),r=Le(O.OpenParen,n,{hasLeftSpacing:e});break}case")":{this.stream.next(),r=Le(O.CloseParen,n,{hasLeftSpacing:e});break}case"*":{this.stream.next(),r=Le(O.Asterisk,n,{hasLeftSpacing:e});break}case"+":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.PlusEq,n,{hasLeftSpacing:e})):r=Le(O.Plus,n,{hasLeftSpacing:e});break}case",":{this.stream.next(),r=Le(O.Comma,n,{hasLeftSpacing:e});break}case"-":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.MinusEq,n,{hasLeftSpacing:e})):r=Le(O.Minus,n,{hasLeftSpacing:e});break}case".":{this.stream.next(),r=Le(O.Dot,n,{hasLeftSpacing:e});break}case"/":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else r=Le(O.Slash,n,{hasLeftSpacing:e});break}case":":{this.stream.next(),!this.stream.eof&&this.stream.char===":"?(this.stream.next(),r=Le(O.Colon2,n,{hasLeftSpacing:e})):r=Le(O.Colon,n,{hasLeftSpacing:e});break}case";":{this.stream.next(),r=Le(O.SemiColon,n,{hasLeftSpacing:e});break}case"<":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.LtEq,n,{hasLeftSpacing:e})):!this.stream.eof&&this.stream.char===":"?(this.stream.next(),r=Le(O.Out,n,{hasLeftSpacing:e})):r=Le(O.Lt,n,{hasLeftSpacing:e});break}case"=":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.Eq2,n,{hasLeftSpacing:e})):!this.stream.eof&&this.stream.char===">"?(this.stream.next(),r=Le(O.Arrow,n,{hasLeftSpacing:e})):r=Le(O.Eq,n,{hasLeftSpacing:e});break}case">":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Le(O.GtEq,n,{hasLeftSpacing:e})):r=Le(O.Gt,n,{hasLeftSpacing:e});break}case"@":{this.stream.next(),r=Le(O.At,n,{hasLeftSpacing:e});break}case"[":{this.stream.next(),r=Le(O.OpenBracket,n,{hasLeftSpacing:e});break}case"\\":{this.stream.next(),r=Le(O.BackSlash,n,{hasLeftSpacing:e});break}case"]":{this.stream.next(),r=Le(O.CloseBracket,n,{hasLeftSpacing:e});break}case"^":{this.stream.next(),r=Le(O.Hat,n,{hasLeftSpacing:e});break}case"`":{r=this.readTemplate(e);break}case"{":{this.stream.next(),r=Le(O.OpenBrace,n,{hasLeftSpacing:e});break}case"|":{this.stream.next(),!this.stream.eof&&this.stream.char==="|"&&(this.stream.next(),r=Le(O.Or2,n,{hasLeftSpacing:e}));break}case"}":{this.stream.next(),r=Le(O.CloseBrace,n,{hasLeftSpacing:e});break}}if(r==null){const h=this.tryReadDigits(e);if(h){r=h;break}const d=this.tryReadWord(e);if(d){r=d;break}throw new gt(`invalid character: "${this.stream.char}"`,n)}break}return r}tryReadWord(r){let e="";const n=this.stream.getPos();for(;!this.stream.eof&&s0.test(this.stream.char);)e+=this.stream.char,this.stream.next();if(e.length!==0)switch(e){case"null":return Le(O.NullKeyword,n,{hasLeftSpacing:r});case"true":return Le(O.TrueKeyword,n,{hasLeftSpacing:r});case"false":return Le(O.FalseKeyword,n,{hasLeftSpacing:r});case"each":return Le(O.EachKeyword,n,{hasLeftSpacing:r});case"for":return Le(O.ForKeyword,n,{hasLeftSpacing:r});case"loop":return Le(O.LoopKeyword,n,{hasLeftSpacing:r});case"break":return Le(O.BreakKeyword,n,{hasLeftSpacing:r});case"continue":return Le(O.ContinueKeyword,n,{hasLeftSpacing:r});case"match":return Le(O.MatchKeyword,n,{hasLeftSpacing:r});case"case":return Le(O.CaseKeyword,n,{hasLeftSpacing:r});case"default":return Le(O.DefaultKeyword,n,{hasLeftSpacing:r});case"if":return Le(O.IfKeyword,n,{hasLeftSpacing:r});case"elif":return Le(O.ElifKeyword,n,{hasLeftSpacing:r});case"else":return Le(O.ElseKeyword,n,{hasLeftSpacing:r});case"return":return Le(O.ReturnKeyword,n,{hasLeftSpacing:r});case"eval":return Le(O.EvalKeyword,n,{hasLeftSpacing:r});case"var":return Le(O.VarKeyword,n,{hasLeftSpacing:r});case"let":return Le(O.LetKeyword,n,{hasLeftSpacing:r});case"exists":return Le(O.ExistsKeyword,n,{hasLeftSpacing:r});default:return Le(O.Identifier,n,{hasLeftSpacing:r,value:e})}}tryReadDigits(r){let e="",n="";const h=this.stream.getPos();for(;!this.stream.eof&&ov.test(this.stream.char);)e+=this.stream.char,this.stream.next();if(e.length===0)return;if(!this.stream.eof&&this.stream.char==="."){for(this.stream.next();!this.stream.eof&&ov.test(this.stream.char);)n+=this.stream.char,this.stream.next();if(n.length===0)throw new gt("digit expected",h)}let d;return n.length>0?d=e+"."+n:d=e,Le(O.NumberLiteral,h,{hasLeftSpacing:r,value:d})}readStringLiteral(r){let e="";const n=this.stream.char;let h="string";const d=this.stream.getPos();for(this.stream.next();h!=="finish";)switch(h){case"string":{if(this.stream.eof)throw new gt("unexpected EOF",d);if(this.stream.char==="\\"){this.stream.next(),h="escape";break}if(this.stream.char===n){this.stream.next(),h="finish";break}e+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new gt("unexpected EOF",d);e+=this.stream.char,this.stream.next(),h="string";break}}return Le(O.StringLiteral,d,{hasLeftSpacing:r,value:e})}readTemplate(r){const e=[];let n="",h=[],d="string";const $=this.stream.getPos();let b=$;for(this.stream.next();d!=="finish";)switch(d){case"string":{if(this.stream.eof)throw new gt("unexpected EOF",$);if(this.stream.char==="\\"){this.stream.next(),d="escape";break}if(this.stream.char==="`"){this.stream.next(),n.length>0&&e.push(Le(O.TemplateStringElement,b,{hasLeftSpacing:r,value:n})),d="finish";break}if(this.stream.char==="{"){this.stream.next(),n.length>0&&(e.push(Le(O.TemplateStringElement,b,{hasLeftSpacing:r,value:n})),n=""),b=this.stream.getPos(),d="expr";break}n+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new gt("unexpected EOF",$);n+=this.stream.char,this.stream.next(),d="string";break}case"expr":{if(this.stream.eof)throw new gt("unexpected EOF",$);if(lv.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="}"){this.stream.next(),e.push(Le(O.TemplateExprElement,b,{hasLeftSpacing:r,children:h})),h=[],b=this.stream.getPos(),d="string";break}const k=this.readToken();h.push(k);break}}return Le(O.Template,$,{hasLeftSpacing:r,children:e})}skipCommentLine(){for(;!(this.stream.eof||this.stream.char===`
`);)this.stream.next()}skipCommentRange(){for(;!this.stream.eof;){if(this.stream.char==="*"){if(this.stream.next(),this.stream.char==="/"){this.stream.next();break}continue}this.stream.next()}}}function Xe(t,r,e){const n={type:t};for(const h of Object.keys(r))r[h]!==void 0&&(n[h]=r[h]);return n.loc=e,n}function zs(t,r,e){return Xe("call",{target:Xe("identifier",{name:t},e),args:r},e)}function Og(t){const r=[];for(t.nextWith(O.OpenParen),t.kind===O.NewLine&&t.next();t.kind!==O.CloseParen;){t.expect(O.Identifier);const e=t.token.value;t.next();let n;switch(t.kind===O.Colon&&(t.next(),n=tu(t)),r.push({name:e,argType:n}),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.CloseParen:break;default:throw new gt("separator expected",t.token.loc)}}return t.nextWith(O.CloseParen),r}function pf(t){for(t.nextWith(O.OpenBrace);t.kind===O.NewLine;)t.next();const r=[];for(;t.kind!==O.CloseBrace;)switch(r.push(vc(t)),t.kind){case O.NewLine:case O.SemiColon:{for(;[O.NewLine,O.SemiColon].includes(t.kind);)t.next();break}case O.CloseBrace:break;default:throw new gt("Multiple statements cannot be placed on a single line.",t.token.loc)}return t.nextWith(O.CloseBrace),r}function tu(t){return t.kind===O.At?a0(t):i0(t)}function a0(t){const r=t.token.loc;t.nextWith(O.At),t.nextWith(O.OpenParen);const e=[];for(;t.kind!==O.CloseParen;){if(e.length>0)switch(t.kind){case O.Comma:{t.next();break}default:throw new gt("separator expected",t.token.loc)}const h=tu(t);e.push(h)}t.nextWith(O.CloseParen),t.nextWith(O.Arrow);const n=tu(t);return Xe("fnTypeSource",{args:e,result:n},r)}function i0(t){const r=t.token.loc;t.expect(O.Identifier);const e=t.token.value;t.next();let n=null;return t.kind===O.Lt&&(t.next(),n=tu(t),t.nextWith(O.Gt)),Xe("namedTypeSource",{name:e,inner:n},r)}class l0{constructor(r){me(this,"source");me(this,"index");me(this,"_token");this.source=r,this.index=0,this.load()}get eof(){return this.index>=this.source.length}get token(){return this.eof?Le(O.EOF,{line:-1,column:-1}):this._token}get kind(){return this.token.kind}next(){this.eof||this.index++,this.load()}lookahead(r){return this.index+r<this.source.length?this.source[this.index+r]:Le(O.EOF,{line:-1,column:-1})}expect(r){if(this.kind!==r)throw new gt(`unexpected token: ${O[this.kind]}`,this.token.loc)}nextWith(r){this.expect(r),this.next()}load(){this.eof?this._token=Le(O.EOF,{line:-1,column:-1}):this._token=this.source[this.index]}}function pr(t,r){return r?Tg(t,!0):cp(t,0)}const Fc=[{opKind:"postfix",kind:O.OpenParen,bp:20},{opKind:"postfix",kind:O.OpenBracket,bp:20},{opKind:"infix",kind:O.Dot,lbp:18,rbp:19},{opKind:"infix",kind:O.Hat,lbp:17,rbp:16},{opKind:"prefix",kind:O.Plus,bp:14},{opKind:"prefix",kind:O.Minus,bp:14},{opKind:"prefix",kind:O.Not,bp:14},{opKind:"infix",kind:O.Asterisk,lbp:12,rbp:13},{opKind:"infix",kind:O.Slash,lbp:12,rbp:13},{opKind:"infix",kind:O.Percent,lbp:12,rbp:13},{opKind:"infix",kind:O.Plus,lbp:10,rbp:11},{opKind:"infix",kind:O.Minus,lbp:10,rbp:11},{opKind:"infix",kind:O.Lt,lbp:8,rbp:9},{opKind:"infix",kind:O.LtEq,lbp:8,rbp:9},{opKind:"infix",kind:O.Gt,lbp:8,rbp:9},{opKind:"infix",kind:O.GtEq,lbp:8,rbp:9},{opKind:"infix",kind:O.Eq2,lbp:6,rbp:7},{opKind:"infix",kind:O.NotEq,lbp:6,rbp:7},{opKind:"infix",kind:O.And2,lbp:4,rbp:5},{opKind:"infix",kind:O.Or2,lbp:2,rbp:3}];function o0(t,r){const e=t.token.loc,n=t.kind;t.next(),t.kind===O.BackSlash&&(t.next(),t.nextWith(O.NewLine));const h=cp(t,r);switch(n){case O.Plus:{if(h.type==="num")return Xe("num",{value:h.value},e);throw new gt("currently, sign is only supported for number literal.",e)}case O.Minus:{if(h.type==="num")return Xe("num",{value:-1*h.value},e);throw new gt("currently, sign is only supported for number literal.",e)}case O.Not:return Xe("not",{expr:h},e);default:throw new gt(`unexpected token: ${O[n]}`,e)}}function u0(t,r,e){const n=t.token.loc,h=t.kind;if(t.next(),t.kind===O.BackSlash&&(t.next(),t.nextWith(O.NewLine)),h===O.Dot){t.expect(O.Identifier);const d=t.token.value;return t.next(),Xe("prop",{target:r,name:d},n)}else{const d=cp(t,e);switch(h){case O.Hat:return zs("Core:pow",[r,d],n);case O.Asterisk:return zs("Core:mul",[r,d],n);case O.Slash:return zs("Core:div",[r,d],n);case O.Percent:return zs("Core:mod",[r,d],n);case O.Plus:return zs("Core:add",[r,d],n);case O.Minus:return zs("Core:sub",[r,d],n);case O.Lt:return zs("Core:lt",[r,d],n);case O.LtEq:return zs("Core:lteq",[r,d],n);case O.Gt:return zs("Core:gt",[r,d],n);case O.GtEq:return zs("Core:gteq",[r,d],n);case O.Eq2:return zs("Core:eq",[r,d],n);case O.NotEq:return zs("Core:neq",[r,d],n);case O.And2:return Xe("and",{left:r,right:d},n);case O.Or2:return Xe("or",{left:r,right:d},n);default:throw new gt(`unexpected token: ${O[h]}`,n)}}}function f0(t,r){const e=t.token.loc,n=t.kind;switch(n){case O.OpenParen:return c0(t,r);case O.OpenBracket:{t.next();const h=pr(t,!1);return t.nextWith(O.CloseBracket),Xe("index",{target:r,index:h},e)}default:throw new gt(`unexpected token: ${O[n]}`,e)}}function Tg(t,r){const e=t.token.loc;switch(t.kind){case O.IfKeyword:{if(r)break;return h0(t)}case O.At:{if(r)break;return p0(t)}case O.MatchKeyword:{if(r)break;return v0(t)}case O.EvalKeyword:{if(r)break;return g0(t)}case O.ExistsKeyword:{if(r)break;return d0(t)}case O.Template:{const n=[];if(r)break;for(const h of t.token.children)switch(h.kind){case O.TemplateStringElement:{n.push(Xe("str",{value:h.value},h.loc));break}case O.TemplateExprElement:{const d=new l0(h.children),$=pr(d,!1);if(d.kind!==O.EOF)throw new gt(`unexpected token: ${O[d.token.kind]}`,d.token.loc);n.push($);break}default:throw new gt(`unexpected token: ${O[h.kind]}`,h.loc)}return t.next(),Xe("tmpl",{tmpl:n},e)}case O.StringLiteral:{const n=t.token.value;return t.next(),Xe("str",{value:n},e)}case O.NumberLiteral:{const n=Number(t.token.value);return t.next(),Xe("num",{value:n},e)}case O.TrueKeyword:case O.FalseKeyword:{const n=t.kind===O.TrueKeyword;return t.next(),Xe("bool",{value:n},e)}case O.NullKeyword:return t.next(),Xe("null",{},e);case O.OpenBrace:return y0(t,r);case O.OpenBracket:return w0(t,r);case O.Identifier:{if(r)break;return Ig(t)}case O.OpenParen:{t.next();const n=pr(t,r);return t.nextWith(O.CloseParen),n}}throw new gt(`unexpected token: ${O[t.kind]}`,e)}function c0(t,r){const e=t.token.loc,n=[];for(t.nextWith(O.OpenParen),t.kind===O.NewLine&&t.next();t.kind!==O.CloseParen;)switch(n.push(pr(t,!1)),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.CloseParen:break;default:throw new gt("separator expected",t.token.loc)}return t.nextWith(O.CloseParen),Xe("call",{target:r,args:n},e)}function h0(t){const r=t.token.loc;t.nextWith(O.IfKeyword);const e=pr(t,!1),n=yi(t);t.kind===O.NewLine&&[O.ElifKeyword,O.ElseKeyword].includes(t.lookahead(1).kind)&&t.next();const h=[];for(;t.kind===O.ElifKeyword;){t.next();const $=pr(t,!1),b=yi(t);t.kind===O.NewLine&&[O.ElifKeyword,O.ElseKeyword].includes(t.lookahead(1).kind)&&t.next(),h.push({cond:$,then:b})}let d;return t.kind===O.ElseKeyword&&(t.next(),d=yi(t)),Xe("if",{cond:e,then:n,elseif:h,else:d},r)}function p0(t){const r=t.token.loc;t.nextWith(O.At);const e=Og(t);let n;t.kind===O.Colon&&(t.next(),n=tu(t));const h=pf(t);return Xe("fn",{args:e,retType:n,children:h},r)}function v0(t){const r=t.token.loc;t.nextWith(O.MatchKeyword);const e=pr(t,!1);t.nextWith(O.OpenBrace),t.kind===O.NewLine&&t.next();const n=[];for(;t.kind!==O.DefaultKeyword&&t.kind!==O.CloseBrace;){t.nextWith(O.CaseKeyword);const d=pr(t,!1);t.nextWith(O.Arrow);const $=yi(t);switch(n.push({q:d,a:$}),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.DefaultKeyword:case O.CloseBrace:break;default:throw new gt("separator expected",t.token.loc)}}let h;if(t.kind===O.DefaultKeyword)switch(t.next(),t.nextWith(O.Arrow),h=yi(t),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.CloseBrace:break;default:throw new gt("separator expected",t.token.loc)}return t.nextWith(O.CloseBrace),Xe("match",{about:e,qs:n,default:h},r)}function g0(t){const r=t.token.loc;t.nextWith(O.EvalKeyword);const e=pf(t);return Xe("block",{statements:e},r)}function d0(t){const r=t.token.loc;t.nextWith(O.ExistsKeyword);const e=Ig(t);return Xe("exists",{identifier:e},r)}function Ig(t){const r=t.token.loc,e=[];for(;;){if(e.length>0)if(t.kind===O.Colon){if(t.token.hasLeftSpacing)throw new gt("Cannot use spaces in a reference.",t.token.loc);if(t.next(),t.token.hasLeftSpacing)throw new gt("Cannot use spaces in a reference.",t.token.loc)}else break;t.expect(O.Identifier),e.push(t.token.value),t.next()}return Xe("identifier",{name:e.join(":")},r)}function y0(t,r){const e=t.token.loc;t.nextWith(O.OpenBrace),t.kind===O.NewLine&&t.next();const n=new Map;for(;t.kind!==O.CloseBrace;){t.expect(O.Identifier);const h=t.token.value;t.next(),t.nextWith(O.Colon);const d=pr(t,r);switch(n.set(h,d),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.CloseBrace:break;default:throw new gt("separator expected",t.token.loc)}}return t.nextWith(O.CloseBrace),Xe("obj",{value:n},e)}function w0(t,r){const e=t.token.loc;t.nextWith(O.OpenBracket),t.kind===O.NewLine&&t.next();const n=[];for(;t.kind!==O.CloseBracket;)switch(n.push(pr(t,r)),t.kind){case O.NewLine:{t.next();break}case O.Comma:{t.next(),t.kind===O.NewLine&&t.next();break}case O.CloseBracket:break;default:throw new gt("separator expected",t.token.loc)}return t.nextWith(O.CloseBracket),Xe("arr",{value:n},e)}function cp(t,r){let e;const n=t.kind,h=Fc.find(d=>d.opKind==="prefix"&&d.kind===n);for(h!=null?e=o0(t,h.bp):e=Tg(t,!1);;){t.kind===O.BackSlash&&(t.next(),t.nextWith(O.NewLine));const d=t.kind,$=Fc.find(k=>k.opKind==="postfix"&&k.kind===d);if($!=null){if($.bp<r)break;if(!([O.OpenBracket,O.OpenParen].includes(d)&&t.token.hasLeftSpacing)){e=f0(t,e);continue}}const b=Fc.find(k=>k.opKind==="infix"&&k.kind===d);if(b!=null){if(b.lbp<r)break;e=u0(t,e,b.rbp);continue}break}return e}function vc(t){const r=t.token.loc;switch(t.kind){case O.VarKeyword:case O.LetKeyword:return jg(t);case O.At:{if(t.lookahead(1).kind===O.Identifier)return Rg(t);break}case O.Out:return $0(t);case O.ReturnKeyword:return A0(t);case O.OpenSharpBracket:return _0(t);case O.EachKeyword:return x0(t);case O.ForKeyword:return b0(t);case O.LoopKeyword:return k0(t);case O.BreakKeyword:return t.next(),Xe("break",{},r);case O.ContinueKeyword:return t.next(),Xe("continue",{},r)}const e=pr(t,!1),n=P0(t,e);return n||e}function m0(t){switch(t.kind){case O.VarKeyword:case O.LetKeyword:return jg(t);case O.At:return Rg(t);default:throw new gt(`unexpected token: ${O[t.kind]}`,t.token.loc)}}function yi(t){const r=t.token.loc;if(t.kind===O.OpenBrace){const e=pf(t);return Xe("block",{statements:e},r)}else return vc(t)}function jg(t){const r=t.token.loc;let e;switch(t.kind){case O.LetKeyword:{e=!1;break}case O.VarKeyword:{e=!0;break}default:throw new gt(`unexpected token: ${O[t.kind]}`,t.token.loc)}t.next(),t.expect(O.Identifier);const n=t.token.value;t.next();let h;t.kind===O.Colon&&(t.next(),h=tu(t)),t.nextWith(O.Eq),t.kind===O.NewLine&&t.next();const d=pr(t,!1);return Xe("def",{name:n,varType:h,expr:d,mut:e,attr:[]},r)}function Rg(t){const r=t.token.loc;t.nextWith(O.At),t.expect(O.Identifier);const e=t.token.value;t.next();const n=Og(t);let h;t.kind===O.Colon&&(t.next(),h=tu(t));const d=pf(t);return Xe("def",{name:e,expr:Xe("fn",{args:n,retType:h,children:d},r),mut:!1,attr:[]},r)}function $0(t){const r=t.token.loc;t.nextWith(O.Out);const e=pr(t,!1);return zs("print",[e],r)}function x0(t){const r=t.token.loc;let e=!1;t.nextWith(O.EachKeyword),t.kind===O.OpenParen&&(e=!0,t.next()),t.nextWith(O.LetKeyword),t.expect(O.Identifier);const n=t.token.value;if(t.next(),t.kind===O.Comma)t.next();else throw new gt("separator expected",t.token.loc);const h=pr(t,!1);e&&t.nextWith(O.CloseParen);const d=yi(t);return Xe("each",{var:n,items:h,for:d},r)}function b0(t){const r=t.token.loc;let e=!1;if(t.nextWith(O.ForKeyword),t.kind===O.OpenParen&&(e=!0,t.next()),t.kind===O.LetKeyword){t.next();const n=t.token.loc;t.expect(O.Identifier);const h=t.token.value;t.next();let d;if(t.kind===O.Eq?(t.next(),d=pr(t,!1)):d=Xe("num",{value:0},n),t.kind===O.Comma)t.next();else throw new gt("separator expected",t.token.loc);const $=pr(t,!1);e&&t.nextWith(O.CloseParen);const b=yi(t);return Xe("for",{var:h,from:d,to:$,for:b},r)}else{const n=pr(t,!1);e&&t.nextWith(O.CloseParen);const h=yi(t);return Xe("for",{times:n,for:h},r)}}function A0(t){const r=t.token.loc;t.nextWith(O.ReturnKeyword);const e=pr(t,!1);return Xe("return",{expr:e},r)}function _0(t){const r=[];for(;t.kind===O.OpenSharpBracket;)r.push(C0(t)),t.nextWith(O.NewLine);const e=vc(t);if(e.type!=="def")throw new gt("invalid attribute.",e.loc);return e.attr!=null?e.attr.push(...r):e.attr=r,e}function C0(t){const r=t.token.loc;t.nextWith(O.OpenSharpBracket),t.expect(O.Identifier);const e=t.token.value;t.next();let n;return t.kind!==O.CloseBracket?n=pr(t,!0):n=Xe("bool",{value:!0},r),t.nextWith(O.CloseBracket),Xe("attr",{name:e,value:n},r)}function k0(t){const r=t.token.loc;t.nextWith(O.LoopKeyword);const e=pf(t);return Xe("loop",{statements:e},r)}function P0(t,r){const e=t.token.loc;switch(t.kind){case O.Eq:{t.next();const n=pr(t,!1);return Xe("assign",{dest:r,expr:n},e)}case O.PlusEq:{t.next();const n=pr(t,!1);return Xe("addAssign",{dest:r,expr:n},e)}case O.MinusEq:{t.next();const n=pr(t,!1);return Xe("subAssign",{dest:r,expr:n},e)}default:return}}function E0(t){const r=[];for(;t.kind===O.NewLine;)t.next();for(;t.kind!==O.EOF;){switch(t.kind){case O.Colon2:{r.push(Dg(t));break}case O.Sharp3:{r.push(M0(t));break}default:{r.push(vc(t));break}}switch(t.kind){case O.NewLine:case O.SemiColon:{for(;[O.NewLine,O.SemiColon].includes(t.kind);)t.next();break}case O.EOF:break;default:throw new gt("Multiple statements cannot be placed on a single line.",t.token.loc)}}return r}function Dg(t){const r=t.token.loc;t.nextWith(O.Colon2),t.expect(O.Identifier);const e=t.token.value;t.next();const n=[];for(t.nextWith(O.OpenBrace);t.kind===O.NewLine;)t.next();for(;t.kind!==O.CloseBrace;){switch(t.kind){case O.VarKeyword:case O.LetKeyword:case O.At:{n.push(m0(t));break}case O.Colon2:{n.push(Dg(t));break}}switch(t.kind){case O.NewLine:case O.SemiColon:{for(;[O.NewLine,O.SemiColon].includes(t.kind);)t.next();break}case O.CloseBrace:break;default:throw new gt("Multiple statements cannot be placed on a single line.",t.token.loc)}}return t.nextWith(O.CloseBrace),Xe("ns",{name:e,members:n},r)}function M0(t){const r=t.token.loc;t.nextWith(O.Sharp3);let e=null;t.kind===O.Identifier&&(e=t.token.value,t.next());const n=pr(t,!0);return Xe("meta",{name:e,value:n},r)}function vt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=vt(e.expr,r);break}case"return":{e.expr=vt(e.expr,r);break}case"each":{e.items=vt(e.items,r),e.for=vt(e.for,r);break}case"for":{e.from!=null&&(e.from=vt(e.from,r)),e.to!=null&&(e.to=vt(e.to,r)),e.times!=null&&(e.times=vt(e.times,r)),e.for=vt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=vt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=vt(e.expr,r),e.dest=vt(e.dest,r);break}case"not":{e.expr=vt(e.expr,r);break}case"if":{e.cond=vt(e.cond,r),e.then=vt(e.then,r);for(const n of e.elseif)n.cond=vt(n.cond,r),n.then=vt(n.then,r);e.else!=null&&(e.else=vt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=vt(e.children[n],r);break}case"match":{e.about=vt(e.about,r);for(const n of e.qs)n.q=vt(n.q,r),n.a=vt(n.a,r);e.default!=null&&(e.default=vt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=vt(e.statements[n],r);break}case"exists":{e.identifier=vt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=vt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],vt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=vt(e.value[n],r);break}case"call":{e.target=vt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=vt(e.args[n],r);break}case"index":{e.target=vt(e.target,r),e.index=vt(e.index,r);break}case"prop":{e.target=vt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=vt(e.members[n],r);break}case"or":case"and":{e.left=vt(e.left,r),e.right=vt(e.right,r);break}}return e}const hu=["as","async","attr","attribute","await","catch","class","component","constructor","dictionary","do","enum","export","finally","fn","hash","in","interface","out","private","public","ref","static","struct","table","this","throw","trait","try","undefined","use","using","when","while","yield","import","is","meta","module","namespace","new"];function pu(t,r){throw new gt(`Reserved word "${t}" cannot be used as variable name.`,r)}function S0(t){switch(t.type){case"ns":case"def":case"attr":case"identifier":case"prop":{hu.includes(t.name)&&pu(t.name,t.loc);break}case"meta":{t.name!=null&&hu.includes(t.name)&&pu(t.name,t.loc);break}case"each":{hu.includes(t.var)&&pu(t.var,t.loc);break}case"for":{t.var!=null&&hu.includes(t.var)&&pu(t.var,t.loc);break}case"fn":{for(const r of t.args)hu.includes(r.name)&&pu(r.name,t.loc);break}case"obj":{for(const r of t.value.keys())hu.includes(r)&&pu(r,t.loc);break}}return t}function F0(t){for(const r of t)vt(r,S0);return t}function uv(t){return{type:"simple",name:t}}function N0(t,r){return{type:"generic",name:t,inners:r}}function O0(t,r){return{type:"fn",args:t,result:r}}function Mf(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Mf(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Mf(n)).join(", "),e=Mf(t.result);return`@(${r}) { ${e} }`}}}function bu(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return uv(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=bu(t.inner):r=uv("any"),N0(t.name,[r])}}throw new gt(`Unknown type: '${Mf(t)}'`,t.loc)}else{const r=t.args.map(e=>bu(e));return O0(r,bu(t.result))}}function T0(t){switch(t.type){case"def":{t.varType!=null&&bu(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&bu(r.argType);t.retType!=null&&bu(t.retType);break}}return t}function I0(t){for(const r of t)vt(r,T0);return t}var Va;let j0=(Va=class{constructor(){me(this,"plugins");this.plugins={validate:[F0,I0],transform:[]}}static parse(r){return Va.instance==null&&(Va.instance=new Va),Va.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;const n=new n0(r);e=E0(n);for(const h of this.plugins.validate)e=h(e);for(const h of this.plugins.transform)e=h(e);return e}},me(Va,"instance"),Va);const R0="next",D0={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let ph=[],Hu=null;function L0(t){return ph=j0.parse(t),JSON.stringify(ph,null,"	")}async function B0(t){Hu==null||Hu.abort(),Hu=new zr({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:uh(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:uh(e.val,!0),print:!1});break}}});try{await Hu.exec(ph)}catch(r){t.err(r)}}const H0=Object.freeze(Object.defineProperty({__proto__:null,exec:B0,parse:L0,samples:D0,version:R0},Symbol.toStringTag,{value:"Module"}));function vr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let gc=class Lg extends Error{constructor(e,n){super(e);me(this,"name","AiScript");me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Lg)}},U0=class extends gc{constructor(e){super(e.message??`${e}`,e);me(this,"name","Internal")}},ru=class extends gc{constructor(e,n){super(e,n);me(this,"name","Syntax")}},Kt=class extends gc{constructor(e,n){super(e,n);me(this,"name","Runtime")}},q0=class extends Kt{constructor(r,e){super(r,e)}};var xi=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Xa=class Bg{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Bg(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new Kt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new Kt(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new Kt(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new Kt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};xi([vr],Xa.prototype,"log",null);xi([vr],Xa.prototype,"onUpdated",null);xi([vr],Xa.prototype,"createChildScope",null);xi([vr],Xa.prototype,"get",null);xi([vr],Xa.prototype,"exists",null);xi([vr],Xa.prototype,"getAll",null);xi([vr],Xa.prototype,"add",null);xi([vr],Xa.prototype,"assign",null);const mt={type:"null"},ln={type:"bool",value:!0},Ws={type:"bool",value:!1},ke=t=>({type:"num",value:t}),Ct=t=>({type:"str",value:t}),Jo=t=>({type:"bool",value:t}),Xf=t=>({type:"obj",value:t}),yr=t=>({type:"arr",value:t}),z0=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ae=t=>({type:"fn",native:t}),V0=t=>({type:"return",value:t}),W0=()=>({type:"break",value:null}),K0=()=>({type:"continue",value:null}),G0=t=>t.type==="return"?t.value:t,vh=(t,r)=>({type:"error",value:t,info:r});function Qs(t){if(t==null)throw new Kt("Expect anything, but got nothing.")}function hs(t){if(t==null)throw new Kt("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Kt(`Expect boolean, but got ${t.type}.`)}function ci(t){if(t==null)throw new Kt("Expect function, but got nothing.");if(t.type!=="fn")throw new Kt(`Expect function, but got ${t.type}.`)}function Cr(t){if(t==null)throw new Kt("Expect string, but got nothing.");if(t.type!=="str")throw new Kt(`Expect string, but got ${t.type}.`)}function xe(t){if(t==null)throw new Kt("Expect number, but got nothing.");if(t.type!=="num")throw new Kt(`Expect number, but got ${t.type}.`)}function Hn(t){if(t==null)throw new Kt("Expect object, but got nothing.");if(t.type!=="obj")throw new Kt(`Expect object, but got ${t.type}.`)}function Au(t){if(t==null)throw new Kt("Expect array, but got nothing.");if(t.type!=="arr")throw new Kt(`Expect array, but got ${t.type}.`)}function Nc(t){return t.type==="obj"}function fv(t){return t.type==="arr"}function gh(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function dh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>dh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function yh(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>yh(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=yh(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function wh(t){if(t===null)return mt;if(typeof t=="boolean")return Jo(t);if(typeof t=="string")return Ct(t);if(typeof t=="number")return ke(t);if(Array.isArray(t))return yr(t.map(r=>wh(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,wh(n));return Xf(r)}return mt}function _u(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(_u(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${_u(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const J0=new TextEncoder,Z0=new TextDecoder,Q0={help:Ct("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Ct("0.16.0"),"Core:ai":Ct("kawaii"),"Core:not":ae(([t])=>(hs(t),t.value?Ws:ln)),"Core:eq":ae(([t,r])=>(Qs(t),Qs(r),gh(t,r)?ln:Ws)),"Core:neq":ae(([t,r])=>(Qs(t),Qs(r),gh(t,r)?Ws:ln)),"Core:and":ae(([t,r])=>(hs(t),t.value?(hs(r),r.value?ln:Ws):Ws)),"Core:or":ae(([t,r])=>(hs(t),t.value?ln:(hs(r),r.value?ln:Ws))),"Core:add":ae(([t,r])=>(xe(t),xe(r),ke(t.value+r.value))),"Core:sub":ae(([t,r])=>(xe(t),xe(r),ke(t.value-r.value))),"Core:mul":ae(([t,r])=>(xe(t),xe(r),ke(t.value*r.value))),"Core:pow":ae(([t,r])=>{xe(t),xe(r);const e=t.value**r.value;if(isNaN(e))throw new Kt("Invalid operation.");return ke(e)}),"Core:div":ae(([t,r])=>{xe(t),xe(r);const e=t.value/r.value;if(isNaN(e))throw new Kt("Invalid operation.");return ke(e)}),"Core:mod":ae(([t,r])=>(xe(t),xe(r),ke(t.value%r.value))),"Core:gt":ae(([t,r])=>(xe(t),xe(r),t.value>r.value?ln:Ws)),"Core:lt":ae(([t,r])=>(xe(t),xe(r),t.value<r.value?ln:Ws)),"Core:gteq":ae(([t,r])=>(xe(t),xe(r),t.value>=r.value?ln:Ws)),"Core:lteq":ae(([t,r])=>(xe(t),xe(r),t.value<=r.value?ln:Ws)),"Core:type":ae(([t])=>(Qs(t),Ct(t.type))),"Core:to_str":ae(([t])=>(Qs(t),Ct(_u(t)))),"Core:range":ae(([t,r])=>(xe(t),xe(r),t.value<r.value?yr(Array.from({length:r.value-t.value+1},(e,n)=>ke(n+t.value))):t.value>r.value?yr(Array.from({length:t.value-r.value+1},(e,n)=>ke(t.value-n))):yr([t]))),"Core:sleep":ae(async([t])=>(xe(t),await new Promise(r=>setTimeout(r,t.value)),mt)),"Util:uuid":ae(()=>Ct(sp())),"Json:stringify":ae(([t])=>(Qs(t),Ct(JSON.stringify(yh(t))))),"Json:parse":ae(([t])=>{Cr(t);try{return wh(JSON.parse(t.value))}catch{return vh("not_json")}}),"Json:parsable":ae(([t])=>{Cr(t);try{JSON.parse(t.value)}catch{return Jo(!1)}return Jo(!0)}),"Date:now":ae(()=>ke(Date.now())),"Date:year":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":ae(([t])=>(t&&xe(t),ke(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":ae(([t])=>(Cr(t),ke(new Date(t.value).getTime()))),"Math:Infinity":ke(1/0),"Math:E":ke(Math.E),"Math:LN2":ke(Math.LN2),"Math:LN10":ke(Math.LN10),"Math:LOG2E":ke(Math.LOG2E),"Math:LOG10E":ke(Math.LOG10E),"Math:PI":ke(Math.PI),"Math:SQRT1_2":ke(Math.SQRT1_2),"Math:SQRT2":ke(Math.SQRT2),"Math:abs":ae(([t])=>(xe(t),ke(Math.abs(t.value)))),"Math:acos":ae(([t])=>(xe(t),ke(Math.acos(t.value)))),"Math:acosh":ae(([t])=>(xe(t),ke(Math.acosh(t.value)))),"Math:asin":ae(([t])=>(xe(t),ke(Math.asin(t.value)))),"Math:asinh":ae(([t])=>(xe(t),ke(Math.asinh(t.value)))),"Math:atan":ae(([t])=>(xe(t),ke(Math.atan(t.value)))),"Math:atanh":ae(([t])=>(xe(t),ke(Math.atanh(t.value)))),"Math:atan2":ae(([t,r])=>(xe(t),xe(r),ke(Math.atan2(t.value,r.value)))),"Math:cbrt":ae(([t])=>(xe(t),ke(Math.cbrt(t.value)))),"Math:ceil":ae(([t])=>(xe(t),ke(Math.ceil(t.value)))),"Math:clz32":ae(([t])=>(xe(t),ke(Math.clz32(t.value)))),"Math:cos":ae(([t])=>(xe(t),ke(Math.cos(t.value)))),"Math:cosh":ae(([t])=>(xe(t),ke(Math.cosh(t.value)))),"Math:exp":ae(([t])=>(xe(t),ke(Math.exp(t.value)))),"Math:expm1":ae(([t])=>(xe(t),ke(Math.expm1(t.value)))),"Math:floor":ae(([t])=>(xe(t),ke(Math.floor(t.value)))),"Math:fround":ae(([t])=>(xe(t),ke(Math.fround(t.value)))),"Math:hypot":ae(([t])=>{Au(t);const r=[];for(const e of t.value)xe(e),r.push(e.value);return ke(Math.hypot(...r))}),"Math:imul":ae(([t,r])=>(xe(t),xe(r),ke(Math.imul(t.value,r.value)))),"Math:log":ae(([t])=>(xe(t),ke(Math.log(t.value)))),"Math:log1p":ae(([t])=>(xe(t),ke(Math.log1p(t.value)))),"Math:log10":ae(([t])=>(xe(t),ke(Math.log10(t.value)))),"Math:log2":ae(([t])=>(xe(t),ke(Math.log2(t.value)))),"Math:max":ae(([t,r])=>(xe(t),xe(r),ke(Math.max(t.value,r.value)))),"Math:min":ae(([t,r])=>(xe(t),xe(r),ke(Math.min(t.value,r.value)))),"Math:pow":ae(([t,r])=>(xe(t),xe(r),ke(Math.pow(t.value,r.value)))),"Math:round":ae(([t])=>(xe(t),ke(Math.round(t.value)))),"Math:sign":ae(([t])=>(xe(t),ke(Math.sign(t.value)))),"Math:sin":ae(([t])=>(xe(t),ke(Math.sin(t.value)))),"Math:sinh":ae(([t])=>(xe(t),ke(Math.sinh(t.value)))),"Math:sqrt":ae(([t])=>{xe(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Kt("Invalid operation.");return ke(r)}),"Math:tan":ae(([t])=>(xe(t),ke(Math.tan(t.value)))),"Math:tanh":ae(([t])=>(xe(t),ke(Math.tanh(t.value)))),"Math:trunc":ae(([t])=>(xe(t),ke(Math.trunc(t.value)))),"Math:rnd":ae(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?ke(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):ke(Math.random())),"Math:gen_rng":ae(([t])=>{if(Qs(t),t.type!=="num"&&t.type!=="str")return mt;const r=uf(t.value.toString());return ae(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?ke(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):ke(r()))}),"Num:to_hex":ae(([t])=>(xe(t),Ct(t.value.toString(16)))),"Num:from_hex":ae(([t])=>(Cr(t),ke(parseInt(t.value,16)))),"Str:lf":Ct(`
`),"Str:lt":ae(([t,r])=>(Cr(t),Cr(r),t.value<r.value?ke(-1):t.value===r.value?ke(0):ke(1))),"Str:gt":ae(([t,r])=>(Cr(t),Cr(r),t.value>r.value?ke(-1):t.value===r.value?ke(0):ke(1))),"Str:from_codepoint":ae(([t])=>(xe(t),Ct(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":ae(([t])=>(Au(t),Ct(Array.from(t.value.map(r=>(xe(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":ae(([t])=>(Au(t),Ct(Z0.decode(Uint8Array.from(t.value.map(r=>(xe(r),r.value))))))),"Obj:keys":ae(([t])=>(Hn(t),yr(Array.from(t.value.keys()).map(r=>Ct(r))))),"Obj:vals":ae(([t])=>(Hn(t),yr(Array.from(t.value.values())))),"Obj:kvs":ae(([t])=>(Hn(t),yr(Array.from(t.value.entries()).map(([r,e])=>yr([Ct(r),e]))))),"Obj:get":ae(([t,r])=>(Hn(t),Cr(r),t.value.get(r.value)??mt)),"Obj:set":ae(([t,r,e])=>(Hn(t),Cr(r),Qs(e),t.value.set(r.value,e),mt)),"Obj:has":ae(([t,r])=>(Hn(t),Cr(r),Jo(t.value.has(r.value)))),"Obj:copy":ae(([t])=>(Hn(t),Xf(new Map(t.value)))),"Obj:merge":ae(([t,r])=>(Hn(t),Hn(r),Xf(new Map([...t.value,...r.value])))),"Error:create":ae(([t,r])=>(Cr(t),vh(t.value,r))),"Async:interval":ae(async([t,r,e],n)=>{xe(t),ci(r),e&&(hs(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),ae(([],$)=>{clearInterval(h),$.unregisterAbortHandler(d)})}),"Async:timeout":ae(async([t,r],e)=>{xe(t),ci(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),ae(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},cv={num:{to_str:t=>ae(async(r,e)=>Ct(t.value.toString()))},str:{to_num:t=>ae(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?mt:ke(n)}),to_arr:t=>ae(async(r,e)=>yr(Rn(t.value).map(n=>Ct(n)))),to_unicode_arr:t=>ae(async(r,e)=>yr([...t.value].map(n=>Ct(n)))),to_unicode_codepoint_arr:t=>ae(async(r,e)=>yr([...t.value].map(n=>{const h=n.codePointAt(0);return ke(h??n.charCodeAt(0))}))),to_char_arr:t=>ae(async(r,e)=>yr(t.value.split("").map(n=>Ct(n)))),to_charcode_arr:t=>ae(async(r,e)=>yr(t.value.split("").map(n=>ke(n.charCodeAt(0))))),to_utf8_byte_arr:t=>ae(async(r,e)=>yr(Array.from(J0.encode(t.value)).map(n=>ke(n)))),len:t=>ke(ff(t.value)),replace:t=>ae(async([r,e],n)=>(Cr(r),Cr(e),Ct(t.value.split(r.value).join(e.value)))),index_of:t=>ae(async([r],e)=>(Cr(r),ke(hf(t.value,r.value)))),incl:t=>ae(async([r],e)=>(Cr(r),t.value.includes(r.value)?ln:Ws)),trim:t=>ae(async(r,e)=>Ct(t.value.trim())),upper:t=>ae(async(r,e)=>Ct(t.value.toUpperCase())),lower:t=>ae(async(r,e)=>Ct(t.value.toLowerCase())),split:t=>ae(async([r],e)=>(r&&Cr(r),yr(r?t.value.split(r?r.value:"").map(n=>Ct(n)):Rn(t.value).map(n=>Ct(n))))),slice:t=>ae(async([r,e],n)=>(xe(r),xe(e),Ct(cf(t.value,r.value,e.value)))),pick:t=>ae(async([r],e)=>{xe(r);const h=Rn(t.value)[r.value];return h?Ct(h):mt}),charcode_at:t=>ae(([r],e)=>{xe(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?mt:ke(n)}),codepoint_at:t=>ae(([r],e)=>{xe(r);const n=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(n)?mt:ke(n)})},arr:{len:t=>ke(t.value.length),push:t=>ae(async([r],e)=>(Qs(r),t.value.push(r),t)),unshift:t=>ae(async([r],e)=>(Qs(r),t.value.unshift(r),t)),pop:t=>ae(async(r,e)=>t.value.pop()??mt),shift:t=>ae(async(r,e)=>t.value.shift()??mt),concat:t=>ae(async([r],e)=>(Au(r),yr(t.value.concat(r.value)))),slice:t=>ae(async([r,e],n)=>(xe(r),xe(e),yr(t.value.slice(r.value,e.value)))),join:t=>ae(async([r],e)=>(r&&Cr(r),Ct(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>ae(async([r],e)=>{ci(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,ke(d)]));return yr(await Promise.all(n))}),filter:t=>ae(async([r],e)=>{ci(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],$=await e.call(r,[d,ke(h)]);hs($),$.value&&n.push(d)}return yr(n)}),reduce:t=>ae(async([r,e],n)=>{ci(r);const h=e!=null;let d=h?e:t.value[0];for(let $=h?0:1;$<t.value.length;$++){const b=t.value[$];d=await n.call(r,[d,b,ke($)])}return d}),find:t=>ae(async([r],e)=>{ci(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,ke(n)]);if(hs(d),d.value)return h}return mt}),incl:t=>ae(async([r],e)=>(Qs(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Ws:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?ln:Ws)),reverse:t=>ae(async(r,e)=>(t.value.reverse(),mt)),copy:t=>ae(async(r,e)=>yr([...t.value])),sort:t=>ae(async([r],e)=>{const n=async(d,$)=>{if(d.length<=1)return d;const b=Math.floor(d.length/2),k=await n(d.slice(0,b),$),E=await n(d.slice(b),$);return h(k,E,$)},h=async(d,$,b)=>{const k=[];let E=0,F=0;for(;E<d.length&&F<$.length;){const j=d[E],D=$[F],W=await e.call(b,[j,D]);xe(W),W.value<0?(k.push(d[E]),E++):(k.push($[F]),F++)}return k.concat(d.slice(E)).concat($.slice(F))};return ci(r),Au(t),t.value=await n(t.value,r),t})},error:{name:t=>Ct(t.value),info:t=>t.info??mt}};function X0(t,r){if(Object.hasOwn(cv,t.type)){const e=cv[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Kt(`No such prop (${r}) in ${t.type}.`)}else throw new Kt(`Cannot read prop of ${t.type}. (reading ${r})`)}const Y0={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var ys=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Hg=300,e$=Hg-1;let ts=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:ae(([h])=>{Qs(h),this.opts.out&&this.opts.out(h)}),readline:ae(async h=>{const d=h[0];if(Cr(d),this.opts.in==null)return mt;const $=await this.opts.in(d.value);return Ct($)})};this.vars=Object.fromEntries(Object.entries({...r,...Q0,...n}).map(([h,d])=>[h,Y0.const(d)])),this.scope=new Xa([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),vh("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[$,b]of h.value.entries())d[$]=e(b);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof gc?this.opts.err(r):this.opts.err(new U0(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Error("Namespaces cannot include mutable variable: "+n.name);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??mt;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return G0(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return mt;if(this.stepCount%Hg===e$&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Kt("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);ci(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(hs(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(hs(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return mt}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(gh(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):mt}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return mt}case"for":{if(r.times){const n=await this._eval(r.times,e);xe(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);xe(n),xe(h);for(let d=n.value;d<n.value+h.value;d++){const $=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:ke(d)}]])));if($.type==="break")break;if($.type==="return")return $}}return mt}case"each":{const n=await this._eval(r.items,e);Au(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return mt}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),mt}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),mt}case"addAssign":{const n=await this._eval(r.dest,e);xe(n);const h=await this._eval(r.expr,e);return xe(h),await this.assign(e,r.dest,ke(n.value+h.value)),mt}case"subAssign":{const n=await this._eval(r.dest,e);xe(n);const h=await this._eval(r.expr,e);return xe(h),await this.assign(e,r.dest,ke(n.value-h.value)),mt}case"null":return mt;case"bool":return Jo(r.value);case"num":return ke(r.value);case"str":return Ct(r.value);case"arr":return yr(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return Xf(n)}case"prop":{const n=await this._eval(r.target,e);return Nc(n)?n.value.has(r.name)?n.value.get(r.name):mt:X0(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(fv(n)){xe(h);const d=n.value[h.value];if(d===void 0)throw new q0(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(Nc(n))return Cr(h),n.value.has(h.value)?n.value.get(h.value):mt;throw new Kt(`Cannot read prop (${_u(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return hs(n),Jo(!n.value)}case"fn":return z0(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Jo(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=_u(d)}return Ct(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),V0(n)}case"break":return this.log("block:break",{scope:e.name}),W0();case"continue":return this.log("block:continue",{scope:e.name}),K0();case"ns":return mt;case"meta":return mt;case"and":{const n=await this._eval(r.left,e);if(hs(n),n.value){const h=await this._eval(r.right,e);return hs(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(hs(n),n.value)return n;{const h=await this._eval(r.right,e);return hs(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=mt;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(fv(h))xe(d),h.value[d.value]=n;else if(Nc(h))Cr(d),h.value.set(d.value,n);else throw new Kt(`Cannot read prop (${_u(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);Hn(h),h.value.set(e.name,n)}else throw new Kt("The left-hand side of an assignment expression must be a variable or a property/index access.")}};ys([vr],ts.prototype,"exec",null);ys([vr],ts.prototype,"execFn",null);ys([vr],ts.prototype,"execFnSimple",null);ys([vr],ts.prototype,"handleError",null);ys([vr],ts.prototype,"log",null);ys([vr],ts.prototype,"collectNs",null);ys([vr],ts.prototype,"collectNsMember",null);ys([vr],ts.prototype,"_fn",null);ys([vr],ts.prototype,"_eval",null);ys([vr],ts.prototype,"_run",null);ys([vr],ts.prototype,"registerAbortHandler",null);ys([vr],ts.prototype,"unregisterAbortHandler",null);ys([vr],ts.prototype,"abort",null);ys([vr],ts.prototype,"assign",null);ys([vr],ts,"collectMetadata",null);function t$(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Zo(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,Zo.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}t$(Zo,Error);function Oc(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Zo.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,$=this.location.source+":"+d.line+":"+d.column;if(e){var b=this.location.end,k=Oc("",d.line.toString().length," "),E=e[h.line-1],F=h.line===b.line?b.column:E.length+1,j=F-h.column||1;r+=`
 --> `+$+`
`+k+` |
`+d.line+" | "+E+`
`+k+" | "+Oc("",h.column-1," ")+Oc("",j,"^")}else r+=`
 at `+$}return r};Zo.buildMessage=function(t,r){var e={literal:function(E){return'"'+h(E.text)+'"'},class:function(E){var F=E.parts.map(function(j){return Array.isArray(j)?d(j[0])+"-"+d(j[1]):d(j)});return"["+(E.inverted?"^":"")+F.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function n(E){return E.charCodeAt(0).toString(16).toUpperCase()}function h(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function d(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function $(E){return e[E.type](E)}function b(E){var F=E.map($),j,D;if(F.sort(),F.length>0){for(j=1,D=1;j<F.length;j++)F[j-1]!==F[j]&&(F[D]=F[j],D++);F.length=D}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}function k(E){return E?'"'+h(E)+'"':"end of input"}return"Expected "+b(t)+" but "+k(r)+" found."};function hv(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:_a,Main:ls},d=_a,$="//",b="/*",k="*/",E="(",F=")",j="::",D="{",W="}",pe="###",te="let",le=":",Ae="=",U="var",L="<:",q="#[",B="]",G="each",J=",",Q="for",X="return",$e="loop",Pe="break",ge="continue",qe="+=",it="-=",Jt="\\",lt="||",nt="&&",je="==",at="!=",St="<=",Ft=">=",Qe="<",Nr=">",Lt="+",wr="-",Pt="*",dr="^",Or="/",kr="%",Mr="!",Nt="[",H=".",K="if",ee="elif",fe="else",he="match",ie="=>",Se="eval",de="exists",we="`",ue='"',Te="'",He='\\"',De="\\'",Ve="true",Je="false",Ye="null",ct=";",xt="@",Bt="@(",bt=`\r
`,Zt=/^[A-Z0-9_:]/i,Cs=/^[^`{]/,Vr=/^[{}`]/,Ot=/^[+\-]/,ht=/^[1-9]/,jt=/^[0-9]/,Vn=/^[A-Z_]/i,Wn=/^[A-Z0-9_]/i,_i=/^[\r\n]/,Ci=/^[ \t\r\n]/,tr=/^[ \t]/,rr=Bs(),ki=se("//",!1),gn=se("/*",!1),mr=se("*/",!1),Et=se("(",!1),$r=se(")",!1),sr=se("::",!1),et=se("{",!1),Ht=se("}",!1),jr=se("###",!1),dt=se("let",!1),yt=se(":",!1),ss=se("=",!1),Pi=se("var",!1),Ei=se("<:",!1),ks=se("#[",!1),ns=se("]",!1),wt=se("each",!1),pt=se(",",!1),Ps=se("for",!1),or=se("return",!1),ur=Tt([["A","Z"],["0","9"],"_",":"],!1,!0),Mi=se("loop",!1),Si=se("break",!1),Fi=se("continue",!1),Ni=se("+=",!1),Kn=se("-=",!1),Gn=se("\\",!1),Oi=se("||",!1),Ti=se("&&",!1),Ii=se("==",!1),ji=se("!=",!1),Ri=se("<=",!1),Jn=se(">=",!1),dn=se("<",!1),Zn=se(">",!1),Di=se("+",!1),Qn=se("-",!1),Xn=se("*",!1),Li=se("^",!1),Bi=se("/",!1),Hi=se("%",!1),yn=se("!",!1),as=se("[",!1),wn=se(".",!1),Ui=se("if",!1),qi=se("elif",!1),zi=se("else",!1),Es=se("match",!1),Ms=se("=>",!1),Ss=se("eval",!1),Vi=se("exists",!1),Fs=se("`",!1),Ns=Tt(["`","{"],!0,!1),Os=Tt(["{","}","`"],!1,!1),Ts=se('"',!1),Is=se("'",!1),js=se('\\"',!1),Yn=se("\\'",!1),Mt=Tt(["+","-"],!1,!1),ea=Tt([["1","9"]],!1,!1),nr=Tt([["0","9"]],!1,!1),Wi=se("true",!1),Rs=se("false",!1),Ki=se("null",!1),is=se(";",!1),Gi=se("@",!1),mn=se("@(",!1),Ji=Tt([["A","Z"],"_"],!1,!0),ta=Tt([["A","Z"],["0","9"],"_"],!1,!0),Zi=se(`\r
`,!1),Qi=Tt(["\r",`
`],!1,!1),Xi=Tt([" ","	","\r",`
`],!1,!1),Yi=Tt([" ","	"],!1,!1),el=function(s){return s.join("")},tl=function(){return Y()},rl=function(){return Y()},sl=function(){return""},ra=function(){return""},nl=function(s){return s??[]},$n=function(s,o){return o},al=function(s,o){return[s,...o]},xn=function(s,o){return o},il=function(s,o){return[s,...o]},sa=function(s,o){return o},ll=function(s,o){return[s,...o]},ol=function(s){return s},ul=function(s,o){return c("ns",{name:s,members:o})},fl=function(s,o){return c("meta",{name:s,value:o})},cl=function(s){return c("meta",{name:null,value:s})},hl=function(s,o,p){return c("def",{name:s,varType:o,expr:p,mut:!1,attr:[]})},pl=function(s,o,p){return c("def",{name:s,varType:o,expr:p,mut:!0,attr:[]})},vl=function(s){return c("identifier",{name:"print",chain:[c("callChain",{args:[s]})]})},gl=function(s,o){return c("attr",{name:s,value:o??c("bool",{value:!0})})},dl=function(s,o,p){return c("each",{var:s,items:o,for:p})},yl=function(s,o,p){return c("each",{var:s,items:o,for:p})},wl=function(s,o){return o},ml=function(s,o,p,u){return c("for",{var:s,from:o??c("num",{value:0}),to:p,for:u})},$l=function(s,o){return o},xl=function(s,o,p,u){return c("for",{var:s,from:o??c("num",{value:0}),to:p,for:u})},bl=function(s,o){return c("for",{times:s,for:o})},Al=function(s,o){return c("for",{times:s,for:o})},_l=function(s){return c("return",{expr:s})},Cl=function(s){return c("loop",{statements:s})},kl=function(){return c("break",{})},na=function(){return c("continue",{})},Pl=function(s,o,p){return o==="+="?c("addAssign",{dest:s,expr:p}):o==="-="?c("subAssign",{dest:s,expr:p}):c("assign",{dest:s,expr:p})},aa=function(s,o,p){return{op:o,term:p}},El=function(s,o){return c("infix",{operands:[s,...o.map(p=>p.term)],operators:o.map(p=>p.op)})},Ml=function(){return Y()},Sl=function(s){return c("not",{expr:s})},ia=function(s,o){return s.chain?{...s,chain:[...s.chain,...o]}:{...s,chain:o}},Fl=function(s){return c("callChain",{args:s??[]})},la=function(s,o){return o},Nl=function(s,o){return[s,...o]},Ol=function(s){return c("indexChain",{index:s})},Tl=function(s){return c("propChain",{name:s})},Il=function(s,o,p,u){return c("if",{cond:s,then:o,elseif:p??[],else:u})},jl=function(s,o){return[s,...o]},oa=function(s,o){return{cond:s,then:o}},Rl=function(s){return s},ua=function(s,o,p){return{q:o,a:p}},Dl=function(s,o,p){return c("match",{about:s,qs:o??[],default:p})},Ll=function(s){return c("block",{statements:s})},Bl=function(s){return c("exists",{identifier:s})},fa=function(s){return c("identifier",{name:s})},Hl=function(s){return c("tmpl",{tmpl:s})},ca=function(s){return s.join("")},ha=function(s){return s},Ul=function(s){return c("str",{value:s.join("")})},pa=function(s){return s},ql=function(s){return c("str",{value:s.join("")})},zl=function(){return'"'},Vl=function(){return"'"},Wl=function(){return c("num",{value:parseFloat(Y())})},Kl=function(){return c("num",{value:parseFloat(Y())})},Gl=function(){return c("num",{value:parseInt(Y(),10)})},Jl=function(){return c("num",{value:parseInt(Y(),10)})},va=function(){return c("bool",{value:!0})},Zl=function(){return c("bool",{value:!1})},ga=function(){return c("null",{})},da=function(s,o){return{k:s,v:o}},Ql=function(s){const o=new Map;for(const p of s)o.set(p.k,p.v);return c("obj",{value:o})},ya=function(s){return s},Xl=function(s){return c("arr",{value:s})},Yl=function(s,o){return{name:s,argType:o}},wa=function(s,o){return[s,...o]},eo=function(s,o,p,u,g,v){return(s.length>0||p.length>0)&&lo("Cannot use spaces before or after the function name."),c("def",{name:o,expr:c("fn",{args:u??[],retType:g},v??[]),mut:!1,attr:[]})},ma=function(s,o,p){return c("fn",{args:s??[],retType:o},p??[])},$a=function(s){return s},to=function(s){return c("arr",{value:s})},xa=function(s,o){return{k:s,v:o}},ro=function(s){const o=new Map;for(const p of s)o.set(p.k,p.v);return c("obj",{value:o})},so=function(s,o){return c("fnTypeSource",{args:s??[],result:o})},no=function(s,o){return[s,...o]},ao=function(s,o){return c("namedTypeSource",{name:s,inner:o})},io=function(s){return c("namedTypeSource",{name:s,inner:null})},i=function(){return Y()},V=function(){return Y()},Ds=function(s){return c("block",{statements:s??[]})},a=0,z=0,_=[{line:1,column:1}],N=0,Rr=[],A=0,T={},Ls;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function Y(){return t.substring(z,a)}function Ut(){return Hs(z,a)}function lo(s,o){throw o=o!==void 0?o:Hs(z,a),Aa(s,o)}function se(s,o){return{type:"literal",text:s,ignoreCase:o}}function Tt(s,o,p){return{type:"class",parts:s,inverted:o,ignoreCase:p}}function Bs(){return{type:"any"}}function S(){return{type:"end"}}function ba(s){var o=_[s],p;if(o)return o;for(p=s-1;!_[p];)p--;for(o=_[p],o={line:o.line,column:o.column};p<s;)t.charCodeAt(p)===10?(o.line++,o.column=1):o.column++,p++;return _[s]=o,o}function Hs(s,o,p){var u=ba(s),g=ba(o),v={source:n,start:{offset:s,line:u.line,column:u.column},end:{offset:o,line:g.line,column:g.column}};return p&&n&&typeof n.offset=="function"&&(v.start=n.offset(v.start),v.end=n.offset(v.end)),v}function M(s){a<N||(a>N&&(N=a,Rr=[]),Rr.push(s))}function Aa(s,o){return new Zo(s,null,null,o)}function oo(s,o,p){return new Zo(Zo.buildMessage(s,o),s,o,p)}function _a(){var s,o,p,u=a*77+0,g=T[u];if(g)return a=g.nextPos,g.result;for(s=a,o=[],p=Ca();p!==e;)o.push(p),p=Ca();return z=s,o=el(o),s=o,T[u]={nextPos:a,result:s},s}function Ca(){var s,o,p=a*77+1,u=T[p];return u?(a=u.nextPos,u.result):(s=a,o=qs(),o!==e&&(z=s,o=tl()),s=o,s===e&&(s=a,o=Mn(),o!==e&&(z=s,o=rl()),s=o,s===e&&(s=uo(),s===e&&(t.length>a?(s=t.charAt(a),a++):(s=e,A===0&&M(rr))))),T[p]={nextPos:a,result:s},s)}function uo(){var s,o,p,u,g,v,m=a*77+2,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.substr(a,2)===$?(o=$,a+=2):(o=e,A===0&&M(ki)),o!==e){for(p=[],u=a,g=a,A++,v=l(),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,v=l(),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);z=s,s=sl()}else a=s,s=e;if(s===e)if(s=a,t.substr(a,2)===b?(o=b,a+=2):(o=e,A===0&&M(gn)),o!==e){for(p=[],u=a,g=a,A++,t.substr(a,2)===k?(v=k,a+=2):(v=e,A===0&&M(mr)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.substr(a,2)===k?(v=k,a+=2):(v=e,A===0&&M(mr)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);t.substr(a,2)===k?(u=k,a+=2):(u=e,A===0&&M(mr)),u!==e?(z=s,s=ra()):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function ls(){var s,o,p,u,g,v=a*77+3,m=T[v];if(m)return a=m.nextPos,m.result;for(s=a,o=[],p=f();p!==e;)o.push(p),p=f();for(p=bn(),p===e&&(p=null),u=[],g=f();g!==e;)u.push(g),g=f();return z=s,s=nl(p),T[v]={nextPos:a,result:s},s}function bn(){var s,o,p,u,g,v,m,w,C=a*77+4,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Re(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Re(),w!==e?(z=u,u=$n(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Re(),w!==e?(z=u,u=$n(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=al(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function An(){var s,o,p,u,g,v,m,w,C=a*77+5,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Dr(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Dr(),w!==e?(z=u,u=xn(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Dr(),w!==e?(z=u,u=xn(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=il(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function fr(){var s,o,p,u,g,v,m,w,C=a*77+6,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Lr(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Lr(),w!==e?(z=u,u=sa(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Lr(),w!==e?(z=u,u=sa(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=ll(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Re(){var s,o=a*77+7,p=T[o];return p?(a=p.nextPos,p.result):(s=Pa(),s===e&&(s=fo(),s===e&&(s=Lr())),T[o]={nextPos:a,result:s},s)}function Dr(){var s,o=a*77+8,p=T[o];return p?(a=p.nextPos,p.result):(s=Ea(),s===e&&(s=qt(),s===e&&(s=Pa())),T[o]={nextPos:a,result:s},s)}function Lr(){var s,o=a*77+9,p=T[o];return p?(a=p.nextPos,p.result):(s=Ea(),s===e&&(s=qt(),s===e&&(s=co(),s===e&&(s=go(),s===e&&(s=ho(),s===e&&(s=po(),s===e&&(s=vo(),s===e&&(s=yo(),s===e&&(s=wo(),s===e&&(s=br(),s===e&&(s=Ma(),s===e&&(s=Ie()))))))))))),T[o]={nextPos:a,result:s},s)}function Ie(){var s,o=a*77+10,p=T[o];return p?(a=p.nextPos,p.result):(s=mo(),s===e&&(s=os()),T[o]={nextPos:a,result:s},s)}function os(){var s,o=a*77+11,p=T[o];return p?(a=p.nextPos,p.result):(s=bo(),s===e&&(s=Eo(),s===e&&(s=Sa(),s===e&&(s=ka()))),T[o]={nextPos:a,result:s},s)}function ka(){var s,o,p,u,g,v,m=a*77+12,w=T[m];if(w)return a=w.nextPos,w.result;if(s=Na(),s===e&&(s=Oa(),s===e&&(s=Ta(),s===e&&(s=qs(),s===e&&(s=Mn(),s===e&&(s=Da(),s===e&&(s=Ba(),s===e&&(s=Nn(),s===e&&(s=Ha(),s===e&&(s=Po(),s===e&&(s=$o(),s===e&&(s=Ia(),s===e))))))))))))if(s=a,t.charCodeAt(a)===40?(o=E,a++):(o=e,A===0&&M(Et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ie(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e?(z=s,s=ol(u)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function xr(){var s,o=a*77+13,p=T[o];return p?(a=p.nextPos,p.result):(s=Da(),s===e&&(s=Mn(),s===e&&(s=Ba(),s===e&&(s=Mo(),s===e&&(s=So(),s===e&&(s=Nn()))))),T[o]={nextPos:a,result:s},s)}function Pa(){var s,o,p,u,g,v,m,w,C,P,I=a*77+14,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===j?(o=j,a+=2):(o=e,A===0&&M(sr)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(t.charCodeAt(a)===123?(v=D,a++):(v=e,A===0&&M(et)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(w=An(),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();t.charCodeAt(a)===125?(P=W,a++):(P=e,A===0&&M(Ht)),P!==e?(z=s,s=ul(u,w)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function fo(){var s,o,p,u,g,v,m=a*77+15,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.substr(a,3)===pe?(o=pe,a+=3):(o=e,A===0&&M(jr)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ue(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();v=xr(),v!==e?(z=s,s=fl(u,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===pe?(o=pe,a+=3):(o=e,A===0&&M(jr)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();u=xr(),u!==e?(z=s,s=cl(u)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Ea(){var s,o,p,u,g,v,m,w,C,P=a*77+16,I=T[P];if(I)return a=I.nextPos,I.result;if(s=a,t.substr(a,3)===te?(o=te,a+=3):(o=e,A===0&&M(dt)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===58?(m=le,a++):(m=e,A===0&&M(yt)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Be(),C!==e?g=C:(a=g,g=e)}else a=g,g=e;for(g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===61?(m=Ae,a++):(m=e,A===0&&M(ss)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Ie(),C!==e?(z=s,s=hl(u,g,C)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===U?(o=U,a+=3):(o=e,A===0&&M(Pi)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===58?(m=le,a++):(m=e,A===0&&M(yt)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Be(),C!==e?g=C:(a=g,g=e)}else a=g,g=e;for(g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===61?(m=Ae,a++):(m=e,A===0&&M(ss)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Ie(),C!==e?(z=s,s=pl(u,g,C)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[P]={nextPos:a,result:s},s}function co(){var s,o,p,u,g=a*77+17,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,t.substr(a,2)===L?(o=L,a+=2):(o=e,A===0&&M(Ei)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();u=Ie(),u!==e?(z=s,s=vl(u)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function ho(){var s,o,p,u,g,v,m,w=a*77+18,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,t.substr(a,2)===q?(o=q,a+=2):(o=e,A===0&&M(ks)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();for(m=xr(),m!==e?g=m:(a=g,g=e),g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();t.charCodeAt(a)===93?(m=B,a++):(m=e,A===0&&M(ns)),m!==e?(z=s,s=gl(u,g)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[w]={nextPos:a,result:s},s}function po(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+19,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.substr(a,4)===G?(o=G,a+=4):(o=e,A===0&&M(wt)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(t.substr(a,3)===te?(g=te,a+=3):(g=e,A===0&&M(dt)),g!==e){if(v=[],m=f(),m!==e)for(;m!==e;)v.push(m),m=f();else v=e;if(v!==e)if(m=Ue(),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();for(t.charCodeAt(a)===44?(C=J,a++):(C=e,A===0&&M(pt)),C===e&&(C=null),P=[],I=f();I!==e;)P.push(I),I=f();if(I=Ie(),I!==e)if(t.charCodeAt(a)===41?(R=F,a++):(R=e,A===0&&M($r)),R!==e){for(Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();ye=be(),ye!==e?(z=s,s=dl(m,I,ye)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,4)===G?(o=G,a+=4):(o=e,A===0&&M(wt)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(t.substr(a,3)===te?(u=te,a+=3):(u=e,A===0&&M(dt)),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();if(P=Ie(),P!==e){if(I=[],R=f(),R!==e)for(;R!==e;)I.push(R),R=f();else I=e;I!==e?(R=be(),R!==e?(z=s,s=yl(v,P,R)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function vo(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke=a*77+20,Ge=T[Ke];if(Ge)return a=Ge.nextPos,Ge.result;if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(t.substr(a,3)===te?(g=te,a+=3):(g=e,A===0&&M(dt)),g!==e){if(v=[],m=f(),m!==e)for(;m!==e;)v.push(m),m=f();else v=e;if(v!==e)if(m=Ue(),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();if(C=a,t.charCodeAt(a)===61?(P=Ae,a++):(P=e,A===0&&M(ss)),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();R=Ie(),R!==e?(z=C,C=wl(m,R)):(a=C,C=e)}else a=C,C=e;for(C===e&&(C=null),t.charCodeAt(a)===44?(P=J,a++):(P=e,A===0&&M(pt)),P===e&&(P=null),I=[],R=f();R!==e;)I.push(R),R=f();if(R=Ie(),R!==e)if(t.charCodeAt(a)===41?(Z=F,a++):(Z=e,A===0&&M($r)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();re=be(),re!==e?(z=s,s=ml(m,C,R,re)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(t.substr(a,3)===te?(u=te,a+=3):(u=e,A===0&&M(dt)),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(w=a,t.charCodeAt(a)===61?(C=Ae,a++):(C=e,A===0&&M(ss)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();I=Ie(),I!==e?(z=w,w=$l(v,I)):(a=w,w=e)}else a=w,w=e;for(w===e&&(w=null),t.charCodeAt(a)===44?(C=J,a++):(C=e,A===0&&M(pt)),C===e&&(C=null),P=[],I=f();I!==e;)P.push(I),I=f();if(I=Ie(),I!==e){if(R=[],Z=f(),Z!==e)for(;Z!==e;)R.push(Z),Z=f();else R=e;R!==e?(Z=be(),Z!==e?(z=s,s=xl(v,w,I,Z)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(g=Ie(),g!==e)if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=be(),w!==e?(z=s,s=bl(g,w)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ie(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;g!==e?(v=be(),v!==e?(z=s,s=Al(u,v)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e}}return T[Ke]={nextPos:a,result:s},s}function go(){var s,o,p,u,g,v=a*77+21,m=T[v];if(m)return a=m.nextPos,m.result;if(s=a,t.substr(a,6)===X?(o=X,a+=6):(o=e,A===0&&M(or)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();g=Ie(),g!==e?(z=s,s=_l(g)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[v]={nextPos:a,result:s},s}function yo(){var s,o,p,u,g,v,m,w,C=a*77+22,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,t.substr(a,4)===$e?(o=$e,a+=4):(o=e,A===0&&M(Mi)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===123?(u=D,a++):(u=e,A===0&&M(et)),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();if(v=fr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();t.charCodeAt(a)===125?(w=W,a++):(w=e,A===0&&M(Ht)),w!==e?(z=s,s=Cl(v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function wo(){var s,o,p,u,g=a*77+23,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,5)===Pe?(o=Pe,a+=5):(o=e,A===0&&M(Si)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=kl()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function br(){var s,o,p,u,g=a*77+24,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,8)===ge?(o=ge,a+=8):(o=e,A===0&&M(Fi)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=na()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Ma(){var s,o,p,u,g,v,m=a*77+25,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ie(),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.substr(a,2)===qe?(u=qe,a+=2):(u=e,A===0&&M(Ni)),u===e&&(t.substr(a,2)===it?(u=it,a+=2):(u=e,A===0&&M(Kn)),u===e&&(t.charCodeAt(a)===61?(u=Ae,a++):(u=e,A===0&&M(ss)))),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();v=Ie(),v!==e?(z=s,s=Pl(o,u,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function mo(){var s,o,p,u,g,v,m,w,C=a*77+26,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=os(),o!==e){for(p=[],u=a,g=[],v=Ar();v!==e;)g.push(v),v=Ar();if(v=_n(),v!==e){for(m=[],w=Ar();w!==e;)m.push(w),w=Ar();w=os(),w!==e?(z=u,u=aa(o,v,w)):(a=u,u=e)}else a=u,u=e;if(u!==e)for(;u!==e;){for(p.push(u),u=a,g=[],v=Ar();v!==e;)g.push(v),v=Ar();if(v=_n(),v!==e){for(m=[],w=Ar();w!==e;)m.push(w),w=Ar();w=os(),w!==e?(z=u,u=aa(o,v,w)):(a=u,u=e)}else a=u,u=e}else p=e;p!==e?(z=s,s=El(o,p)):(a=s,s=e)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Ar(){var s,o,p,u=a*77+27,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===92?(o=Jt,a++):(o=e,A===0&&M(Gn)),o!==e?(p=ne(),p!==e?(o=[o,p],s=o):(a=s,s=e)):(a=s,s=e),s===e&&(s=y()),T[u]={nextPos:a,result:s},s)}function _n(){var s,o,p=a*77+28,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===lt?(o=lt,a+=2):(o=e,A===0&&M(Oi)),o===e&&(t.substr(a,2)===nt?(o=nt,a+=2):(o=e,A===0&&M(Ti)),o===e&&(t.substr(a,2)===je?(o=je,a+=2):(o=e,A===0&&M(Ii)),o===e&&(t.substr(a,2)===at?(o=at,a+=2):(o=e,A===0&&M(ji)),o===e&&(t.substr(a,2)===St?(o=St,a+=2):(o=e,A===0&&M(Ri)),o===e&&(t.substr(a,2)===Ft?(o=Ft,a+=2):(o=e,A===0&&M(Jn)),o===e&&(t.charCodeAt(a)===60?(o=Qe,a++):(o=e,A===0&&M(dn)),o===e&&(t.charCodeAt(a)===62?(o=Nr,a++):(o=e,A===0&&M(Zn)),o===e&&(t.charCodeAt(a)===43?(o=Lt,a++):(o=e,A===0&&M(Di)),o===e&&(t.charCodeAt(a)===45?(o=wr,a++):(o=e,A===0&&M(Qn)),o===e&&(t.charCodeAt(a)===42?(o=Pt,a++):(o=e,A===0&&M(Xn)),o===e&&(t.charCodeAt(a)===94?(o=dr,a++):(o=e,A===0&&M(Li)),o===e&&(t.charCodeAt(a)===47?(o=Or,a++):(o=e,A===0&&M(Bi)),o===e&&(t.charCodeAt(a)===37?(o=kr,a++):(o=e,A===0&&M(Hi))))))))))))))),o!==e&&(z=s,o=Ml()),s=o,T[p]={nextPos:a,result:s},s)}function $o(){var s,o,p,u=a*77+29,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===33?(o=Mr,a++):(o=e,A===0&&M(yn)),o!==e?(p=Ie(),p!==e?(z=s,s=Sl(p)):(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function Sa(){var s,o,p,u,g=a*77+30,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,o=ka(),o!==e){if(p=[],u=Cn(),u===e&&(u=Fa(),u===e&&(u=Us())),u!==e)for(;u!==e;)p.push(u),u=Cn(),u===e&&(u=Fa(),u===e&&(u=Us()));else p=e;p!==e?(z=s,s=ia(o,p)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function Cn(){var s,o,p,u,g,v,m=a*77+31,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===40?(o=E,a++):(o=e,A===0&&M(Et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=xo(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e?(z=s,s=Fl(u)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function xo(){var s,o,p,u,g,v,m=a*77+32,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ie(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=Ie(),v!==e?(z=u,u=la(o,v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=Ie(),v!==e?(z=u,u=la(o,v)):(a=u,u=e)):(a=u,u=e);z=s,s=Nl(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Fa(){var s,o,p,u,g,v,m=a*77+33,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ie(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=Ol(u)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Us(){var s,o,p,u=a*77+34,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===46?(o=H,a++):(o=e,A===0&&M(wn)),o!==e?(p=Ue(),p!==e?(z=s,s=Tl(p)):(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function bo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+35,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===K?(o=K,a+=2):(o=e,A===0&&M(Ui)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ie(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=be(),v!==e){if(m=a,w=[],C=f(),C!==e)for(;C!==e;)w.push(C),C=f();else w=e;if(w!==e?(C=Ao(),C!==e?m=C:(a=m,m=e)):(a=m,m=e),m===e&&(m=null),w=a,C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;C!==e?(P=_o(),P!==e?w=P:(a=w,w=e)):(a=w,w=e),w===e&&(w=null),z=s,s=Il(u,v,m,w)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function Ao(){var s,o,p,u,g,v,m=a*77+36,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=kn(),o!==e){for(p=[],u=a,g=[],v=f();v!==e;)g.push(v),v=f();for(v=kn(),v!==e?u=v:(a=u,u=e);u!==e;){for(p.push(u),u=a,g=[],v=f();v!==e;)g.push(v),v=f();v=kn(),v!==e?u=v:(a=u,u=e)}z=s,s=jl(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function kn(){var s,o,p,u,g,v,m,w=a*77+37,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,t.substr(a,4)===ee?(o=ee,a+=4):(o=e,A===0&&M(qi)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();if(g=Ie(),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();m=be(),m!==e?(z=s,s=oa(g,m)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e;return T[w]={nextPos:a,result:s},s}function _o(){var s,o,p,u,g,v=a*77+38,m=T[v];if(m)return a=m.nextPos,m.result;if(s=a,t.substr(a,4)===fe?(o=fe,a+=4):(o=e,A===0&&M(zi)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();g=be(),g!==e?(z=s,s=Rl(g)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[v]={nextPos:a,result:s},s}function Na(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke,Ge,Tn=a*77+39,us=T[Tn];if(us)return a=us.nextPos,us.result;if(s=a,t.substr(a,5)===he?(o=he,a+=5):(o=e,A===0&&M(Es)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();if(g=Ie(),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===123?(m=D,a++):(m=e,A===0&&M(et)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();if(C=[],P=a,I=Ie(),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();z=P,P=ua(g,I,re)}else a=P,P=e}else a=P,P=e}else a=P,P=e;if(P!==e)for(;P!==e;)if(C.push(P),P=a,I=Ie(),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();z=P,P=ua(g,I,re)}else a=P,P=e}else a=P,P=e}else a=P,P=e;else C=e;if(C!==e){if(P=a,t.charCodeAt(a)===42?(I=Pt,a++):(I=e,A===0&&M(Xn)),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();P=re}else a=P,P=e}else a=P,P=e}else a=P,P=e;for(P===e&&(P=null),I=[],R=f();R!==e;)I.push(R),R=f();t.charCodeAt(a)===125?(R=W,a++):(R=e,A===0&&M(Ht)),R!==e?(z=s,s=Dl(g,C,P)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e;else a=s,s=e;return T[Tn]={nextPos:a,result:s},s}function Oa(){var s,o,p,u,g,v,m,w,C=a*77+40,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,t.substr(a,4)===Se?(o=Se,a+=4):(o=e,A===0&&M(Ss)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===123?(u=D,a++):(u=e,A===0&&M(et)),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();if(v=fr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();t.charCodeAt(a)===125?(w=W,a++):(w=e,A===0&&M(Ht)),w!==e?(z=s,s=Ll(v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Ta(){var s,o,p,u,g=a*77+41,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,t.substr(a,6)===de?(o=de,a+=6):(o=e,A===0&&M(Vi)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;p!==e?(u=Ia(),u!==e?(z=s,s=Bl(u)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function Ia(){var s,o,p=a*77+42,u=T[p];return u?(a=u.nextPos,u.result):(s=a,o=qa(),o!==e&&(z=s,o=fa(o)),s=o,T[p]={nextPos:a,result:s},s)}function qs(){var s,o,p,u,g,v,m=a*77+43,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===96?(o=we,a++):(o=e,A===0&&M(Fs)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===96?(v=we,a++):(v=e,A===0&&M(Fs)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Pn(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===96?(v=we,a++):(v=e,A===0&&M(Fs)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Pn(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===96?(u=we,a++):(u=e,A===0&&M(Fs)),u!==e?(z=s,s=Hl(p)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Pn(){var s,o,p,u,g,v,m=a*77+44,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ie(),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();t.charCodeAt(a)===125?(v=W,a++):(v=e,A===0&&M(Ht)),v!==e?s=u:(a=s,s=e)}else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,o=[],p=En(),p!==e)for(;p!==e;)o.push(p),p=En();else o=e;o!==e&&(z=s,o=ca(o)),s=o}return T[m]={nextPos:a,result:s},s}function En(){var s,o=a*77+45,p=T[o];return p?(a=p.nextPos,p.result):(s=ja(),s===e&&(Cs.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Ns))),T[o]={nextPos:a,result:s},s)}function ja(){var s,o,p,u=a*77+46,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===92?(o=Jt,a++):(o=e,A===0&&M(Gn)),o!==e?(Vr.test(t.charAt(a))?(p=t.charAt(a),a++):(p=e,A===0&&M(Os)),p!==e?s=p:(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function Mn(){var s,o,p,u,g,v,m=a*77+47,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===34?(o=ue,a++):(o=e,A===0&&M(Ts)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===34?(v=ue,a++):(v=e,A===0&&M(Ts)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Ra(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=ha(v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===34?(v=ue,a++):(v=e,A===0&&M(Ts)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Ra(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=ha(v)):(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===34?(u=ue,a++):(u=e,A===0&&M(Ts)),u!==e?(z=s,s=Ul(p)):(a=s,s=e)}else a=s,s=e;if(s===e)if(s=a,t.charCodeAt(a)===39?(o=Te,a++):(o=e,A===0&&M(Is)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===39?(v=Te,a++):(v=e,A===0&&M(Is)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Sn(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=pa(v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===39?(v=Te,a++):(v=e,A===0&&M(Is)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Sn(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=pa(v)):(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===39?(u=Te,a++):(u=e,A===0&&M(Is)),u!==e?(z=s,s=ql(p)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Ra(){var s,o,p=a*77+48,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===He?(o=He,a+=2):(o=e,A===0&&M(js)),o!==e&&(z=s,o=zl()),s=o,T[p]={nextPos:a,result:s},s)}function Sn(){var s,o,p=a*77+49,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===De?(o=De,a+=2):(o=e,A===0&&M(Yn)),o!==e&&(z=s,o=Vl()),s=o,T[p]={nextPos:a,result:s},s)}function Da(){var s,o=a*77+50,p=T[o];return p?(a=p.nextPos,p.result):(s=Co(),s===e&&(s=La()),T[o]={nextPos:a,result:s},s)}function Co(){var s,o,p,u,g,v,m=a*77+51,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),ht.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(ea)),o!==e){if(p=[],jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr)),u!==e)for(;u!==e;)p.push(u),jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr));else p=e;if(p!==e)if(t.charCodeAt(a)===46?(u=H,a++):(u=e,A===0&&M(wn)),u!==e){if(g=[],jt.test(t.charAt(a))?(v=t.charAt(a),a++):(v=e,A===0&&M(nr)),v!==e)for(;v!==e;)g.push(v),jt.test(t.charAt(a))?(v=t.charAt(a),a++):(v=e,A===0&&M(nr));else g=e;g!==e?(z=s,s=Wl()):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),jt.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(nr)),o!==e)if(t.charCodeAt(a)===46?(p=H,a++):(p=e,A===0&&M(wn)),p!==e){if(u=[],jt.test(t.charAt(a))?(g=t.charAt(a),a++):(g=e,A===0&&M(nr)),g!==e)for(;g!==e;)u.push(g),jt.test(t.charAt(a))?(g=t.charAt(a),a++):(g=e,A===0&&M(nr));else u=e;u!==e?(z=s,s=Kl()):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[m]={nextPos:a,result:s},s}function La(){var s,o,p,u,g=a*77+52,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),ht.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(ea)),o!==e){if(p=[],jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr)),u!==e)for(;u!==e;)p.push(u),jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr));else p=e;p!==e?(z=s,s=Gl()):(a=s,s=e)}else a=s,s=e;return s===e&&(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),jt.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(nr)),o!==e?(z=s,s=Jl()):(a=s,s=e)),T[g]={nextPos:a,result:s},s}function Ba(){var s,o=a*77+53,p=T[o];return p?(a=p.nextPos,p.result):(s=ko(),s===e&&(s=Fn()),T[o]={nextPos:a,result:s},s)}function ko(){var s,o,p,u,g=a*77+54,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,4)===Ve?(o=Ve,a+=4):(o=e,A===0&&M(Wi)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=va()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Fn(){var s,o,p,u,g=a*77+55,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,5)===Je?(o=Je,a+=5):(o=e,A===0&&M(Rs)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=Zl()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Nn(){var s,o,p,u,g=a*77+56,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,4)===Ye?(o=Ye,a+=4):(o=e,A===0&&M(Ki)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=ga()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Ha(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+57,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=Ie(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=da(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=Ie(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=da(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;t.charCodeAt(a)===125?(g=W,a++):(g=e,A===0&&M(Ht)),g!==e?(z=s,s=Ql(u)):(a=s,s=e)}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function Po(){var s,o,p,u,g,v,m,w,C,P,I=a*77+58,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ie(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=ya(v)}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ie(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=ya(v)}else a=g,g=e;for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=Xl(u)):(a=s,s=e)}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function On(){var s,o,p,u,g,v,m,w=a*77+59,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,o=Ue(),o!==e){for(p=a,u=[],g=f();g!==e;)u.push(g),g=f();if(t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();m=Be(),m!==e?p=m:(a=p,p=e)}else a=p,p=e;p===e&&(p=null),z=s,s=Yl(o,p)}else a=s,s=e;return T[w]={nextPos:a,result:s},s}function Ua(){var s,o,p,u,g,v,m=a*77+60,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=On(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=On(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=On(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);z=s,s=wa(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function qt(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke,Ge,Tn=a*77+61,us=T[Tn];if(us)return a=us.nextPos,us.result;if(s=a,t.charCodeAt(a)===64?(o=xt,a++):(o=e,A===0&&M(Gi)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ue(),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();if(t.charCodeAt(a)===40?(v=E,a++):(v=e,A===0&&M(Et)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(w=Ua(),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();if(t.charCodeAt(a)===41?(P=F,a++):(P=e,A===0&&M($r)),P!==e){for(I=a,R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.charCodeAt(a)===58?(Z=le,a++):(Z=e,A===0&&M(yt)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();re=Be(),re!==e?I=re:(a=I,I=e)}else a=I,I=e;for(I===e&&(I=null),R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.charCodeAt(a)===123?(Z=D,a++):(Z=e,A===0&&M(et)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();for(re=fr(),re===e&&(re=null),Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();t.charCodeAt(a)===125?(Ge=W,a++):(Ge=e,A===0&&M(Ht)),Ge!==e?(z=s,s=eo(p,u,g,w,I,re)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[Tn]={nextPos:a,result:s},s}function Eo(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=a*77+62,re=T[ye];if(re)return a=re.nextPos,re.result;if(s=a,t.substr(a,2)===Bt?(o=Bt,a+=2):(o=e,A===0&&M(mn)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=Ua(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=a,w=[],C=f();C!==e;)w.push(C),C=f();if(t.charCodeAt(a)===58?(C=le,a++):(C=e,A===0&&M(yt)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();I=Be(),I!==e?m=I:(a=m,m=e)}else a=m,m=e;for(m===e&&(m=null),w=[],C=f();C!==e;)w.push(C),C=f();if(t.charCodeAt(a)===123?(C=D,a++):(C=e,A===0&&M(et)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();for(I=fr(),I===e&&(I=null),R=[],Z=f();Z!==e;)R.push(Z),Z=f();t.charCodeAt(a)===125?(Z=W,a++):(Z=e,A===0&&M(Ht)),Z!==e?(z=s,s=ma(u,m,I)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[ye]={nextPos:a,result:s},s}function Mo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+63,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=xr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=$a(v)}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=xr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=$a(v)}else a=g,g=e;for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=to(u)):(a=s,s=e)}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function So(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+64,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=xr(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=xa(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=xr(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=xa(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;t.charCodeAt(a)===125?(g=W,a++):(g=e,A===0&&M(Ht)),g!==e?(z=s,s=ro(u)):(a=s,s=e)}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function Be(){var s,o=a*77+65,p=T[o];return p?(a=p.nextPos,p.result):(s=Fo(),s===e&&(s=It()),T[o]={nextPos:a,result:s},s)}function Fo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+66,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===Bt?(o=Bt,a+=2):(o=e,A===0&&M(mn)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=Br(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.substr(a,2)===ie?(w=ie,a+=2):(w=e,A===0&&M(Ms)),w!==e){for(C=[],P=f();P!==e;)C.push(P),P=f();P=Be(),P!==e?(z=s,s=so(u,P)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function Br(){var s,o,p,u,g,v,m=a*77+67,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Be(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=Be(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=Be(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);z=s,s=no(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function It(){var s,o,p,u,g,v,m,w,C=a*77+68,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Ue(),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(t.charCodeAt(a)===60?(u=Qe,a++):(u=e,A===0&&M(dn)),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();if(v=Be(),v!==e){for(m=[],w=y();w!==e;)m.push(w),w=y();t.charCodeAt(a)===62?(w=Nr,a++):(w=e,A===0&&M(Zn)),w!==e?(z=s,s=ao(o,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return s===e&&(s=a,o=Ue(),o!==e&&(z=s,o=io(o)),s=o),T[C]={nextPos:a,result:s},s}function Ue(){var s,o,p,u,g=a*77+69,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,Vn.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(Ji)),o!==e){for(p=[],Wn.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ta));u!==e;)p.push(u),Wn.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ta));z=s,s=i()}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function qa(){var s,o,p,u,g,v,m=a*77+70,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ue(),o!==e){for(p=[],u=a,t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e?(v=Ue(),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e?(v=Ue(),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);z=s,s=V()}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function x(){var s,o,p,u,g,v=a*77+71,m=T[v];if(m)return a=m.nextPos,m.result;for(s=a,o=[],p=f();p!==e;)o.push(p),p=f();if(t.charCodeAt(a)===44?(p=J,a++):(p=e,A===0&&M(pt)),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();o=[o,p,u],s=o}else a=s,s=e;if(s===e)if(s=[],o=f(),o!==e)for(;o!==e;)s.push(o),o=f();else s=e;return T[v]={nextPos:a,result:s},s}function be(){var s,o,p,u,g,v,m=a*77+72,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=fr(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===125?(v=W,a++):(v=e,A===0&&M(Ht)),v!==e?(z=s,s=Ds(u)):(a=s,s=e)}else a=s,s=e;return s===e&&(s=Lr()),T[m]={nextPos:a,result:s},s}function ne(){var s,o=a*77+73,p=T[o];return p?(a=p.nextPos,p.result):(t.substr(a,2)===bt?(s=bt,a+=2):(s=e,A===0&&M(Zi)),s===e&&(_i.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Qi))),T[o]={nextPos:a,result:s},s)}function l(){var s,o,p=a*77+74,u=T[p];return u?(a=u.nextPos,u.result):(s=a,A++,t.length>a?(o=t.charAt(a),a++):(o=e,A===0&&M(rr)),A--,o===e?s=void 0:(a=s,s=e),s===e&&(s=ne()),T[p]={nextPos:a,result:s},s)}function f(){var s,o=a*77+75,p=T[o];return p?(a=p.nextPos,p.result):(Ci.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Xi)),T[o]={nextPos:a,result:s},s)}function y(){var s,o=a*77+76,p=T[o];return p?(a=p.nextPos,p.result):(tr.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Yi)),T[o]={nextPos:a,result:s},s)}function c(s,o,p){const u={type:s};o.children=p;for(const v of Object.keys(o))o[v]!==void 0&&(u[v]=o[v]);const g=Ut();return u.loc={start:g.start.offset,end:g.end.offset-1},u}if(Ls=d(),Ls!==e&&a===t.length)return Ls;throw Ls!==e&&a<t.length&&M(S()),oo(Rr,N<t.length?t.charAt(N):null,N<t.length?Hs(N,N+1):Hs(N,N))}const r$=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function s$(t){return r$.includes(t.type)}function Ug(t){return"chain"in t&&t.chain!==null}function n$(t,r,e){return{type:"call",target:t,args:r,loc:e}}function a$(t,r,e){return{type:"index",target:t,index:r,loc:e}}function i$(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function tt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=tt(e.expr,r);break}case"return":{e.expr=tt(e.expr,r);break}case"each":{e.items=tt(e.items,r),e.for=tt(e.for,r);break}case"for":{e.from!=null&&(e.from=tt(e.from,r)),e.to!=null&&(e.to=tt(e.to,r)),e.times!=null&&(e.times=tt(e.times,r)),e.for=tt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=tt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=tt(e.expr,r),e.dest=tt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=tt(e.operands[n],r);break}case"not":{e.expr=tt(e.expr,r);break}case"if":{e.cond=tt(e.cond,r),e.then=tt(e.then,r);for(const n of e.elseif)n.cond=tt(n.cond,r),n.then=tt(n.then,r);e.else!=null&&(e.else=tt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=tt(e.children[n],r);break}case"match":{e.about=tt(e.about,r);for(const n of e.qs)n.q=tt(n.q,r),n.a=tt(n.a,r);e.default!=null&&(e.default=tt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=tt(e.statements[n],r);break}case"exists":{e.identifier=tt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=tt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],tt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=tt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=tt(e.args[n],r);break}case"indexChain":{e.index=tt(e.index,r);break}case"call":{e.target=tt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=tt(e.args[n],r);break}case"index":{e.target=tt(e.target,r),e.index=tt(e.index,r);break}case"prop":{e.target=tt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=tt(e.members[n],r);break}case"or":case"and":{e.left=tt(e.left,r),e.right=tt(e.right,r);break}}if(Ug(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=tt(e.chain[n],r);return e}const Tc=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Ic(t){throw new ru(`Reserved word "${t}" cannot be used as variable name.`)}function l$(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Tc.includes(t.name)&&Ic(t.name);break}case"meta":{t.name!=null&&Tc.includes(t.name)&&Ic(t.name);break}case"fn":{for(const r of t.args)Tc.includes(r.name)&&Ic(r.name);break}}return t}function o$(t){for(const r of t)tt(r,l$);return t}function pv(t){return{type:"simple",name:t}}function u$(t,r){return{type:"generic",name:t,inners:r}}function f$(t,r){return{type:"fn",args:t,result:r}}function Sf(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Sf(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Sf(n)).join(", "),e=Sf(t.result);return`@(${r}) { ${e} }`}}}function Cu(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return pv(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Cu(t.inner):r=pv("any"),u$(t.name,[r])}}throw new ru(`Unknown type: '${Sf(t)}'`)}else{const r=t.args.map(e=>Cu(e));return f$(r,Cu(t.result))}}function c$(t){switch(t.type){case"def":{t.varType!=null&&Cu(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Cu(r.argType);t.retType!=null&&Cu(t.retType);break}}return t}function h$(t){for(const r of t)tt(r,c$);return t}function Ff(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=Ff(n.expr.children)),r.push(n);else{if(e.length>0)throw new ru("invalid attribute.");switch(n.type){case"fn":{n.children=Ff(n.children);break}case"block":{n.statements=Ff(n.statements);break}}r.push(n)}if(e.length>0)throw new ru("invalid attribute.");return r}function p$(t){if(s$(t)&&Ug(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=n$(n,h.args,h.loc);break}case"indexChain":{n=a$(n,h.index,h.loc);break}case"propChain":{n=i$(n,h.name,h.loc);break}}return n}return t}function v$(t){for(let r=0;r<t.length;r++)t[r]=tt(t[r],p$);return t}function Nf(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function qg(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Nf(t,r,e);{const{left:n,right:h,info:d}=t;return Nf(n,qg(h,r,e),d)}}function Bo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Bo(t.left),Bo(t.right)]}}const g$={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Bo(t.left),right:Bo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Bo(t.left),right:Bo(t.right)}),priority:3}};function d$(t){const r=t.operators.map(n=>{const h=g$[n];if(h==null)throw new ru(`No such operator: ${n}.`);return h});let e=Nf(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=qg(e,t.operands[2+n],r[1+n]);return Bo(e)}function y$(t){for(let r=0;r<t.length;r++)t[r]=tt(t[r],e=>e.type==="infix"?d$(e):e);return t}var Wa;let w$=(Wa=class{constructor(){me(this,"plugins");this.plugins={validate:[o$,h$],transform:[Ff,v$,y$]}}static parse(r){return Wa.instance==null&&(Wa.instance=new Wa),Wa.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=hv(r,{startRule:"Preprocess"});e=hv(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new ru(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`,n):new ru(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`,n):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(Wa,"instance"),Wa);const m$="develop",$$={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let mh=[],Uu=null;function x$(t){return mh=w$.parse(t),JSON.stringify(mh,null,"	")}async function b$(t){Uu==null||Uu.abort(),Uu=new ts({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:dh(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:dh(e.val,!0),print:!1});break}}});try{await Uu.exec(mh)}catch(r){t.err(r)}}const A$=Object.freeze(Object.defineProperty({__proto__:null,exec:b$,parse:x$,samples:$$,version:m$},Symbol.toStringTag,{value:"Module"}));function gr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let dc=class zg extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,zg)}};class _$ extends dc{constructor(r){super(`Internal Error. ${r}`,r)}}class su extends dc{constructor(r,e){super(r,e)}}class Gt extends dc{constructor(r,e){super(r,e)}}class C$ extends Gt{constructor(r,e){super(r,e)}}var bi=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Ya=class Vg{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Vg(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new Gt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new Gt(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new Gt(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new Gt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};bi([gr],Ya.prototype,"log",null);bi([gr],Ya.prototype,"onUpdated",null);bi([gr],Ya.prototype,"createChildScope",null);bi([gr],Ya.prototype,"get",null);bi([gr],Ya.prototype,"exists",null);bi([gr],Ya.prototype,"getAll",null);bi([gr],Ya.prototype,"add",null);bi([gr],Ya.prototype,"assign",null);const _t={type:"null"},on={type:"bool",value:!0},Ks={type:"bool",value:!1},Ne=t=>({type:"num",value:t}),Vt=t=>({type:"str",value:t}),Qo=t=>({type:"bool",value:t}),hp=t=>({type:"obj",value:t}),Kr=t=>({type:"arr",value:t}),k$=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ce=t=>({type:"fn",native:t}),P$=t=>({type:"return",value:t}),E$=()=>({type:"break",value:null}),M$=()=>({type:"continue",value:null}),S$=t=>t.type==="return"?t.value:t,Wg=(t,r)=>({type:"error",value:t,info:r});function Xs(t){if(t==null)throw new Gt("Expect anything, but got nothing.")}function ps(t){if(t==null)throw new Gt("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Gt(`Expect boolean, but got ${t.type}.`)}function hi(t){if(t==null)throw new Gt("Expect function, but got nothing.");if(t.type!=="fn")throw new Gt(`Expect function, but got ${t.type}.`)}function Pr(t){if(t==null)throw new Gt("Expect string, but got nothing.");if(t.type!=="str")throw new Gt(`Expect string, but got ${t.type}.`)}function Ce(t){if(t==null)throw new Gt("Expect number, but got nothing.");if(t.type!=="num")throw new Gt(`Expect number, but got ${t.type}.`)}function ni(t){if(t==null)throw new Gt("Expect object, but got nothing.");if(t.type!=="obj")throw new Gt(`Expect object, but got ${t.type}.`)}function Yf(t){if(t==null)throw new Gt("Expect array, but got nothing.");if(t.type!=="arr")throw new Gt(`Expect array, but got ${t.type}.`)}function jc(t){return t.type==="obj"}function vv(t){return t.type==="arr"}function $h(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function xh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>xh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function bh(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>bh(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=bh(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Ah(t){if(t===null)return _t;if(typeof t=="boolean")return Qo(t);if(typeof t=="string")return Vt(t);if(typeof t=="number")return Ne(t);if(Array.isArray(t))return Kr(t.map(r=>Ah(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,Ah(n));return hp(r)}return _t}function ku(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(ku(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${ku(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const F$={help:Vt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Vt("0.16.0"),"Core:ai":Vt("kawaii"),"Core:not":ce(([t])=>(ps(t),t.value?Ks:on)),"Core:eq":ce(([t,r])=>(Xs(t),Xs(r),$h(t,r)?on:Ks)),"Core:neq":ce(([t,r])=>(Xs(t),Xs(r),$h(t,r)?Ks:on)),"Core:and":ce(([t,r])=>(ps(t),t.value?(ps(r),r.value?on:Ks):Ks)),"Core:or":ce(([t,r])=>(ps(t),t.value?on:(ps(r),r.value?on:Ks))),"Core:add":ce(([t,r])=>(Ce(t),Ce(r),Ne(t.value+r.value))),"Core:sub":ce(([t,r])=>(Ce(t),Ce(r),Ne(t.value-r.value))),"Core:mul":ce(([t,r])=>(Ce(t),Ce(r),Ne(t.value*r.value))),"Core:pow":ce(([t,r])=>{Ce(t),Ce(r);const e=t.value**r.value;if(isNaN(e))throw new Gt("Invalid operation.");return Ne(e)}),"Core:div":ce(([t,r])=>{Ce(t),Ce(r);const e=t.value/r.value;if(isNaN(e))throw new Gt("Invalid operation.");return Ne(e)}),"Core:mod":ce(([t,r])=>(Ce(t),Ce(r),Ne(t.value%r.value))),"Core:gt":ce(([t,r])=>(Ce(t),Ce(r),t.value>r.value?on:Ks)),"Core:lt":ce(([t,r])=>(Ce(t),Ce(r),t.value<r.value?on:Ks)),"Core:gteq":ce(([t,r])=>(Ce(t),Ce(r),t.value>=r.value?on:Ks)),"Core:lteq":ce(([t,r])=>(Ce(t),Ce(r),t.value<=r.value?on:Ks)),"Core:type":ce(([t])=>(Xs(t),Vt(t.type))),"Core:to_str":ce(([t])=>(Xs(t),Vt(ku(t)))),"Core:range":ce(([t,r])=>(Ce(t),Ce(r),t.value<r.value?Kr(Array.from({length:r.value-t.value+1},(e,n)=>Ne(n+t.value))):t.value>r.value?Kr(Array.from({length:t.value-r.value+1},(e,n)=>Ne(t.value-n))):Kr([t]))),"Core:sleep":ce(async([t])=>(Ce(t),await new Promise(r=>setTimeout(r,t.value)),_t)),"Util:uuid":ce(()=>Vt(sp())),"Json:stringify":ce(([t])=>(Xs(t),Vt(JSON.stringify(bh(t))))),"Json:parse":ce(([t])=>{Pr(t);try{return Ah(JSON.parse(t.value))}catch{return Wg("not_json")}}),"Json:parsable":ce(([t])=>{Pr(t);try{JSON.parse(t.value)}catch{return Qo(!1)}return Qo(!0)}),"Date:now":ce(()=>Ne(Date.now())),"Date:year":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":ce(([t])=>(t&&Ce(t),Ne(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":ce(([t])=>(Pr(t),Ne(new Date(t.value).getTime()))),"Math:Infinity":Ne(1/0),"Math:E":Ne(Math.E),"Math:LN2":Ne(Math.LN2),"Math:LN10":Ne(Math.LN10),"Math:LOG2E":Ne(Math.LOG2E),"Math:LOG10E":Ne(Math.LOG10E),"Math:PI":Ne(Math.PI),"Math:SQRT1_2":Ne(Math.SQRT1_2),"Math:SQRT2":Ne(Math.SQRT2),"Math:abs":ce(([t])=>(Ce(t),Ne(Math.abs(t.value)))),"Math:acos":ce(([t])=>(Ce(t),Ne(Math.acos(t.value)))),"Math:acosh":ce(([t])=>(Ce(t),Ne(Math.acosh(t.value)))),"Math:asin":ce(([t])=>(Ce(t),Ne(Math.asin(t.value)))),"Math:asinh":ce(([t])=>(Ce(t),Ne(Math.asinh(t.value)))),"Math:atan":ce(([t])=>(Ce(t),Ne(Math.atan(t.value)))),"Math:atanh":ce(([t])=>(Ce(t),Ne(Math.atanh(t.value)))),"Math:atan2":ce(([t,r])=>(Ce(t),Ce(r),Ne(Math.atan2(t.value,r.value)))),"Math:cbrt":ce(([t])=>(Ce(t),Ne(Math.cbrt(t.value)))),"Math:ceil":ce(([t])=>(Ce(t),Ne(Math.ceil(t.value)))),"Math:clz32":ce(([t])=>(Ce(t),Ne(Math.clz32(t.value)))),"Math:cos":ce(([t])=>(Ce(t),Ne(Math.cos(t.value)))),"Math:cosh":ce(([t])=>(Ce(t),Ne(Math.cosh(t.value)))),"Math:exp":ce(([t])=>(Ce(t),Ne(Math.exp(t.value)))),"Math:expm1":ce(([t])=>(Ce(t),Ne(Math.expm1(t.value)))),"Math:floor":ce(([t])=>(Ce(t),Ne(Math.floor(t.value)))),"Math:fround":ce(([t])=>(Ce(t),Ne(Math.fround(t.value)))),"Math:hypot":ce(([t])=>{Yf(t);const r=[];for(const e of t.value)Ce(e),r.push(e.value);return Ne(Math.hypot(...r))}),"Math:imul":ce(([t,r])=>(Ce(t),Ce(r),Ne(Math.imul(t.value,r.value)))),"Math:log":ce(([t])=>(Ce(t),Ne(Math.log(t.value)))),"Math:log1p":ce(([t])=>(Ce(t),Ne(Math.log1p(t.value)))),"Math:log10":ce(([t])=>(Ce(t),Ne(Math.log10(t.value)))),"Math:log2":ce(([t])=>(Ce(t),Ne(Math.log2(t.value)))),"Math:max":ce(([t,r])=>(Ce(t),Ce(r),Ne(Math.max(t.value,r.value)))),"Math:min":ce(([t,r])=>(Ce(t),Ce(r),Ne(Math.min(t.value,r.value)))),"Math:pow":ce(([t,r])=>(Ce(t),Ce(r),Ne(Math.pow(t.value,r.value)))),"Math:round":ce(([t])=>(Ce(t),Ne(Math.round(t.value)))),"Math:sign":ce(([t])=>(Ce(t),Ne(Math.sign(t.value)))),"Math:sin":ce(([t])=>(Ce(t),Ne(Math.sin(t.value)))),"Math:sinh":ce(([t])=>(Ce(t),Ne(Math.sinh(t.value)))),"Math:sqrt":ce(([t])=>{Ce(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Gt("Invalid operation.");return Ne(r)}),"Math:tan":ce(([t])=>(Ce(t),Ne(Math.tan(t.value)))),"Math:tanh":ce(([t])=>(Ce(t),Ne(Math.tanh(t.value)))),"Math:trunc":ce(([t])=>(Ce(t),Ne(Math.trunc(t.value)))),"Math:rnd":ce(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Ne(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Ne(Math.random())),"Math:gen_rng":ce(([t])=>{if(Xs(t),t.type!=="num"&&t.type!=="str")return _t;const r=uf(t.value.toString());return ce(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Ne(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Ne(r()))}),"Num:to_hex":ce(([t])=>(Ce(t),Vt(t.value.toString(16)))),"Num:from_hex":ce(([t])=>(Pr(t),Ne(parseInt(t.value,16)))),"Str:lf":Vt(`
`),"Str:lt":ce(([t,r])=>(Pr(t),Pr(r),t.value<r.value?Ne(-1):t.value===r.value?Ne(0):Ne(1))),"Str:gt":ce(([t,r])=>(Pr(t),Pr(r),t.value>r.value?Ne(-1):t.value===r.value?Ne(0):Ne(1))),"Str:from_codepoint":ce(([t])=>(Ce(t),Vt(String.fromCodePoint(t.value)))),"Obj:keys":ce(([t])=>(ni(t),Kr(Array.from(t.value.keys()).map(r=>Vt(r))))),"Obj:vals":ce(([t])=>(ni(t),Kr(Array.from(t.value.values())))),"Obj:kvs":ce(([t])=>(ni(t),Kr(Array.from(t.value.entries()).map(([r,e])=>Kr([Vt(r),e]))))),"Obj:get":ce(([t,r])=>(ni(t),Pr(r),t.value.get(r.value)??_t)),"Obj:set":ce(([t,r,e])=>(ni(t),Pr(r),Xs(e),t.value.set(r.value,e),_t)),"Obj:has":ce(([t,r])=>(ni(t),Pr(r),Qo(t.value.has(r.value)))),"Obj:copy":ce(([t])=>(ni(t),hp(new Map(t.value)))),"Async:interval":ce(async([t,r,e],n)=>{Ce(t),hi(r),e&&(ps(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),ce(([],$)=>{clearInterval(h),$.unregisterAbortHandler(d)})}),"Async:timeout":ce(async([t,r],e)=>{Ce(t),hi(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),ce(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},gv={num:{to_str:t=>ce(async(r,e)=>Vt(t.value.toString()))},str:{to_num:t=>ce(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?_t:Ne(n)}),len:t=>Ne(ff(t.value)),replace:t=>ce(async([r,e],n)=>(Pr(r),Pr(e),Vt(t.value.split(r.value).join(e.value)))),index_of:t=>ce(async([r],e)=>(Pr(r),Ne(hf(t.value,r.value)))),incl:t=>ce(async([r],e)=>(Pr(r),t.value.includes(r.value)?on:Ks)),trim:t=>ce(async(r,e)=>Vt(t.value.trim())),upper:t=>ce(async(r,e)=>Vt(t.value.toUpperCase())),lower:t=>ce(async(r,e)=>Vt(t.value.toLowerCase())),split:t=>ce(async([r],e)=>(r&&Pr(r),Kr(r?t.value.split(r?r.value:"").map(n=>Vt(n)):Rn(t.value).map(n=>Vt(n))))),slice:t=>ce(async([r,e],n)=>(Ce(r),Ce(e),Vt(cf(t.value,r.value,e.value)))),pick:t=>ce(async([r],e)=>{Ce(r);const h=Rn(t.value)[r.value];return h?Vt(h):_t}),codepoint_at:t=>ce(([r],e)=>{Ce(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?_t:Ne(n)})},arr:{len:t=>Ne(t.value.length),push:t=>ce(async([r],e)=>(Xs(r),t.value.push(r),t)),unshift:t=>ce(async([r],e)=>(Xs(r),t.value.unshift(r),t)),pop:t=>ce(async(r,e)=>t.value.pop()??_t),shift:t=>ce(async(r,e)=>t.value.shift()??_t),concat:t=>ce(async([r],e)=>(Yf(r),Kr(t.value.concat(r.value)))),slice:t=>ce(async([r,e],n)=>(Ce(r),Ce(e),Kr(t.value.slice(r.value,e.value)))),join:t=>ce(async([r],e)=>(r&&Pr(r),Vt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>ce(async([r],e)=>{hi(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Ne(d)]));return Kr(await Promise.all(n))}),filter:t=>ce(async([r],e)=>{hi(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],$=await e.call(r,[d,Ne(h)]);ps($),$.value&&n.push(d)}return Kr(n)}),reduce:t=>ce(async([r,e],n)=>{hi(r);const h=e!=null;let d=h?e:t.value[0];for(let $=h?0:1;$<t.value.length;$++){const b=t.value[$];d=await n.call(r,[d,b,Ne($)])}return d}),find:t=>ce(async([r],e)=>{hi(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Ne(n)]);if(ps(d),d.value)return h}return _t}),incl:t=>ce(async([r],e)=>(Xs(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Ks:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?on:Ks)),reverse:t=>ce(async(r,e)=>(t.value.reverse(),_t)),copy:t=>ce(async(r,e)=>Kr([...t.value])),sort:t=>ce(async([r],e)=>{const n=async(d,$)=>{if(d.length<=1)return d;const b=Math.floor(d.length/2),k=await n(d.slice(0,b),$),E=await n(d.slice(b),$);return h(k,E,$)},h=async(d,$,b)=>{const k=[];let E=0,F=0;for(;E<d.length&&F<$.length;){const j=d[E],D=$[F],W=await e.call(b,[j,D]);Ce(W),W.value<0?(k.push(d[E]),E++):(k.push($[F]),F++)}return k.concat(d.slice(E)).concat($.slice(F))};return hi(r),Yf(t),t.value=await n(t.value,r),t})},error:{name:t=>Vt(t.value),info:t=>t.info??_t}};function N$(t,r){if(Object.hasOwn(gv,t.type)){const e=gv[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Gt(`No such prop (${r}) in ${t.type}.`)}else throw new Gt(`Cannot read prop of ${t.type}. (reading ${r})`)}const O$={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var ws=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Kg=300,T$=Kg-1;let rs=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:ce(([h])=>{Xs(h),this.opts.out&&this.opts.out(h)}),readline:ce(async h=>{const d=h[0];if(Pr(d),this.opts.in==null)return _t;const $=await this.opts.in(d.value);return Vt($)})};this.vars=Object.fromEntries(Object.entries({...r,...F$,...n}).map(([h,d])=>[h,O$.const(d)])),this.scope=new Ya([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),Wg("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[$,b]of h.value.entries())d[$]=e(b);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof dc?this.opts.err(r):this.opts.err(new _$(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Error("Namespaces cannot include mutable variable: "+n.name);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??_t;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return S$(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return _t;if(this.stepCount%Kg===T$&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Gt("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);hi(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(ps(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(ps(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return _t}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if($h(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):_t}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return _t}case"for":{if(r.times){const n=await this._eval(r.times,e);Ce(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Ce(n),Ce(h);for(let d=n.value;d<n.value+h.value;d++){const $=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Ne(d)}]])));if($.type==="break")break;if($.type==="return")return $}}return _t}case"each":{const n=await this._eval(r.items,e);Yf(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return _t}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),_t}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),_t}case"addAssign":{const n=await this._eval(r.dest,e);Ce(n);const h=await this._eval(r.expr,e);return Ce(h),await this.assign(e,r.dest,Ne(n.value+h.value)),_t}case"subAssign":{const n=await this._eval(r.dest,e);Ce(n);const h=await this._eval(r.expr,e);return Ce(h),await this.assign(e,r.dest,Ne(n.value-h.value)),_t}case"null":return _t;case"bool":return Qo(r.value);case"num":return Ne(r.value);case"str":return Vt(r.value);case"arr":return Kr(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return hp(n)}case"prop":{const n=await this._eval(r.target,e);return jc(n)?n.value.has(r.name)?n.value.get(r.name):_t:N$(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(vv(n)){Ce(h);const d=n.value[h.value];if(d===void 0)throw new C$(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(jc(n))return Pr(h),n.value.has(h.value)?n.value.get(h.value):_t;throw new Gt(`Cannot read prop (${ku(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return ps(n),Qo(!n.value)}case"fn":return k$(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return Qo(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=ku(d)}return Vt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),P$(n)}case"break":return this.log("block:break",{scope:e.name}),E$();case"continue":return this.log("block:continue",{scope:e.name}),M$();case"ns":return _t;case"meta":return _t;case"and":{const n=await this._eval(r.left,e);if(ps(n),n.value){const h=await this._eval(r.right,e);return ps(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(ps(n),n.value)return n;{const h=await this._eval(r.right,e);return ps(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=_t;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(vv(h))Ce(d),h.value[d.value]=n;else if(jc(h))Pr(d),h.value.set(d.value,n);else throw new Gt(`Cannot read prop (${ku(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);ni(h),h.value.set(e.name,n)}else throw new Gt("The left-hand side of an assignment expression must be a variable or a property/index access.")}};ws([gr],rs.prototype,"exec",null);ws([gr],rs.prototype,"execFn",null);ws([gr],rs.prototype,"execFnSimple",null);ws([gr],rs.prototype,"handleError",null);ws([gr],rs.prototype,"log",null);ws([gr],rs.prototype,"collectNs",null);ws([gr],rs.prototype,"collectNsMember",null);ws([gr],rs.prototype,"_fn",null);ws([gr],rs.prototype,"_eval",null);ws([gr],rs.prototype,"_run",null);ws([gr],rs.prototype,"registerAbortHandler",null);ws([gr],rs.prototype,"unregisterAbortHandler",null);ws([gr],rs.prototype,"abort",null);ws([gr],rs.prototype,"assign",null);ws([gr],rs,"collectMetadata",null);function I$(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Xo(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,Xo.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}I$(Xo,Error);function Rc(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Xo.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,$=this.location.source+":"+d.line+":"+d.column;if(e){var b=this.location.end,k=Rc("",d.line.toString().length," "),E=e[h.line-1],F=h.line===b.line?b.column:E.length+1,j=F-h.column||1;r+=`
 --> `+$+`
`+k+` |
`+d.line+" | "+E+`
`+k+" | "+Rc("",h.column-1," ")+Rc("",j,"^")}else r+=`
 at `+$}return r};Xo.buildMessage=function(t,r){var e={literal:function(E){return'"'+h(E.text)+'"'},class:function(E){var F=E.parts.map(function(j){return Array.isArray(j)?d(j[0])+"-"+d(j[1]):d(j)});return"["+(E.inverted?"^":"")+F.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function n(E){return E.charCodeAt(0).toString(16).toUpperCase()}function h(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function d(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function $(E){return e[E.type](E)}function b(E){var F=E.map($),j,D;if(F.sort(),F.length>0){for(j=1,D=1;j<F.length;j++)F[j-1]!==F[j]&&(F[D]=F[j],D++);F.length=D}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}function k(E){return E?'"'+h(E)+'"':"end of input"}return"Expected "+b(t)+" but "+k(r)+" found."};function dv(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:_a,Main:ls},d=_a,$="//",b="/*",k="*/",E="(",F=")",j="::",D="{",W="}",pe="###",te="let",le=":",Ae="=",U="var",L="<:",q="#[",B="]",G="each",J=",",Q="for",X="return",$e="loop",Pe="break",ge="continue",qe="+=",it="-=",Jt="\\",lt="||",nt="&&",je="==",at="!=",St="<=",Ft=">=",Qe="<",Nr=">",Lt="+",wr="-",Pt="*",dr="^",Or="/",kr="%",Mr="!",Nt="[",H=".",K="if",ee="elif",fe="else",he="match",ie="=>",Se="eval",de="exists",we="`",ue='"',Te="'",He='\\"',De="\\'",Ve="true",Je="false",Ye="null",ct=";",xt="@",Bt="@(",bt=`\r
`,Zt=/^[A-Z0-9_:]/i,Cs=/^[^`{]/,Vr=/^[{}`]/,Ot=/^[+\-]/,ht=/^[1-9]/,jt=/^[0-9]/,Vn=/^[A-Z_]/i,Wn=/^[A-Z0-9_]/i,_i=/^[\r\n]/,Ci=/^[ \t\r\n]/,tr=/^[ \t]/,rr=Bs(),ki=se("//",!1),gn=se("/*",!1),mr=se("*/",!1),Et=se("(",!1),$r=se(")",!1),sr=se("::",!1),et=se("{",!1),Ht=se("}",!1),jr=se("###",!1),dt=se("let",!1),yt=se(":",!1),ss=se("=",!1),Pi=se("var",!1),Ei=se("<:",!1),ks=se("#[",!1),ns=se("]",!1),wt=se("each",!1),pt=se(",",!1),Ps=se("for",!1),or=se("return",!1),ur=Tt([["A","Z"],["0","9"],"_",":"],!1,!0),Mi=se("loop",!1),Si=se("break",!1),Fi=se("continue",!1),Ni=se("+=",!1),Kn=se("-=",!1),Gn=se("\\",!1),Oi=se("||",!1),Ti=se("&&",!1),Ii=se("==",!1),ji=se("!=",!1),Ri=se("<=",!1),Jn=se(">=",!1),dn=se("<",!1),Zn=se(">",!1),Di=se("+",!1),Qn=se("-",!1),Xn=se("*",!1),Li=se("^",!1),Bi=se("/",!1),Hi=se("%",!1),yn=se("!",!1),as=se("[",!1),wn=se(".",!1),Ui=se("if",!1),qi=se("elif",!1),zi=se("else",!1),Es=se("match",!1),Ms=se("=>",!1),Ss=se("eval",!1),Vi=se("exists",!1),Fs=se("`",!1),Ns=Tt(["`","{"],!0,!1),Os=Tt(["{","}","`"],!1,!1),Ts=se('"',!1),Is=se("'",!1),js=se('\\"',!1),Yn=se("\\'",!1),Mt=Tt(["+","-"],!1,!1),ea=Tt([["1","9"]],!1,!1),nr=Tt([["0","9"]],!1,!1),Wi=se("true",!1),Rs=se("false",!1),Ki=se("null",!1),is=se(";",!1),Gi=se("@",!1),mn=se("@(",!1),Ji=Tt([["A","Z"],"_"],!1,!0),ta=Tt([["A","Z"],["0","9"],"_"],!1,!0),Zi=se(`\r
`,!1),Qi=Tt(["\r",`
`],!1,!1),Xi=Tt([" ","	","\r",`
`],!1,!1),Yi=Tt([" ","	"],!1,!1),el=function(s){return s.join("")},tl=function(){return Y()},rl=function(){return Y()},sl=function(){return""},ra=function(){return""},nl=function(s){return s??[]},$n=function(s,o){return o},al=function(s,o){return[s,...o]},xn=function(s,o){return o},il=function(s,o){return[s,...o]},sa=function(s,o){return o},ll=function(s,o){return[s,...o]},ol=function(s){return s},ul=function(s,o){return c("ns",{name:s,members:o})},fl=function(s,o){return c("meta",{name:s,value:o})},cl=function(s){return c("meta",{name:null,value:s})},hl=function(s,o,p){return c("def",{name:s,varType:o,expr:p,mut:!1,attr:[]})},pl=function(s,o,p){return c("def",{name:s,varType:o,expr:p,mut:!0,attr:[]})},vl=function(s){return c("identifier",{name:"print",chain:[c("callChain",{args:[s]})]})},gl=function(s,o){return c("attr",{name:s,value:o??c("bool",{value:!0})})},dl=function(s,o,p){return c("each",{var:s,items:o,for:p})},yl=function(s,o,p){return c("each",{var:s,items:o,for:p})},wl=function(s,o){return o},ml=function(s,o,p,u){return c("for",{var:s,from:o??c("num",{value:0}),to:p,for:u})},$l=function(s,o){return o},xl=function(s,o,p,u){return c("for",{var:s,from:o??c("num",{value:0}),to:p,for:u})},bl=function(s,o){return c("for",{times:s,for:o})},Al=function(s,o){return c("for",{times:s,for:o})},_l=function(s){return c("return",{expr:s})},Cl=function(s){return c("loop",{statements:s})},kl=function(){return c("break",{})},na=function(){return c("continue",{})},Pl=function(s,o,p){return o==="+="?c("addAssign",{dest:s,expr:p}):o==="-="?c("subAssign",{dest:s,expr:p}):c("assign",{dest:s,expr:p})},aa=function(s,o,p){return{op:o,term:p}},El=function(s,o){return c("infix",{operands:[s,...o.map(p=>p.term)],operators:o.map(p=>p.op)})},Ml=function(){return Y()},Sl=function(s){return c("not",{expr:s})},ia=function(s,o){return{...s,chain:o}},Fl=function(s){return c("callChain",{args:s??[]})},la=function(s,o){return o},Nl=function(s,o){return[s,...o]},Ol=function(s){return c("indexChain",{index:s})},Tl=function(s){return c("propChain",{name:s})},Il=function(s,o,p,u){return c("if",{cond:s,then:o,elseif:p??[],else:u})},jl=function(s,o){return[s,...o]},oa=function(s,o){return{cond:s,then:o}},Rl=function(s){return s},ua=function(s,o,p){return{q:o,a:p}},Dl=function(s,o,p){return c("match",{about:s,qs:o??[],default:p})},Ll=function(s){return c("block",{statements:s})},Bl=function(s){return c("exists",{identifier:s})},fa=function(s){return c("identifier",{name:s})},Hl=function(s){return c("tmpl",{tmpl:s})},ca=function(s){return s.join("")},ha=function(s){return s},Ul=function(s){return c("str",{value:s.join("")})},pa=function(s){return s},ql=function(s){return c("str",{value:s.join("")})},zl=function(){return'"'},Vl=function(){return"'"},Wl=function(){return c("num",{value:parseFloat(Y())})},Kl=function(){return c("num",{value:parseFloat(Y())})},Gl=function(){return c("num",{value:parseInt(Y(),10)})},Jl=function(){return c("num",{value:parseInt(Y(),10)})},va=function(){return c("bool",{value:!0})},Zl=function(){return c("bool",{value:!1})},ga=function(){return c("null",{})},da=function(s,o){return{k:s,v:o}},Ql=function(s){const o=new Map;for(const p of s)o.set(p.k,p.v);return c("obj",{value:o})},ya=function(s){return s},Xl=function(s){return c("arr",{value:s})},Yl=function(s,o){return{name:s,argType:o}},wa=function(s,o){return[s,...o]},eo=function(s,o,p,u,g,v){return(s.length>0||p.length>0)&&lo("Cannot use spaces before or after the function name."),c("def",{name:o,expr:c("fn",{args:u??[],retType:g},v??[]),mut:!1,attr:[]})},ma=function(s,o,p){return c("fn",{args:s??[],retType:o},p??[])},$a=function(s){return s},to=function(s){return c("arr",{value:s})},xa=function(s,o){return{k:s,v:o}},ro=function(s){const o=new Map;for(const p of s)o.set(p.k,p.v);return c("obj",{value:o})},so=function(s,o){return c("fnTypeSource",{args:s??[],result:o})},no=function(s,o){return[s,...o]},ao=function(s,o){return c("namedTypeSource",{name:s,inner:o})},io=function(s){return c("namedTypeSource",{name:s,inner:null})},i=function(){return Y()},V=function(){return Y()},Ds=function(s){return c("block",{statements:s??[]})},a=0,z=0,_=[{line:1,column:1}],N=0,Rr=[],A=0,T={},Ls;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function Y(){return t.substring(z,a)}function Ut(){return Hs(z,a)}function lo(s,o){throw o=o!==void 0?o:Hs(z,a),Aa(s,o)}function se(s,o){return{type:"literal",text:s,ignoreCase:o}}function Tt(s,o,p){return{type:"class",parts:s,inverted:o,ignoreCase:p}}function Bs(){return{type:"any"}}function S(){return{type:"end"}}function ba(s){var o=_[s],p;if(o)return o;for(p=s-1;!_[p];)p--;for(o=_[p],o={line:o.line,column:o.column};p<s;)t.charCodeAt(p)===10?(o.line++,o.column=1):o.column++,p++;return _[s]=o,o}function Hs(s,o,p){var u=ba(s),g=ba(o),v={source:n,start:{offset:s,line:u.line,column:u.column},end:{offset:o,line:g.line,column:g.column}};return p&&n&&typeof n.offset=="function"&&(v.start=n.offset(v.start),v.end=n.offset(v.end)),v}function M(s){a<N||(a>N&&(N=a,Rr=[]),Rr.push(s))}function Aa(s,o){return new Xo(s,null,null,o)}function oo(s,o,p){return new Xo(Xo.buildMessage(s,o),s,o,p)}function _a(){var s,o,p,u=a*77+0,g=T[u];if(g)return a=g.nextPos,g.result;for(s=a,o=[],p=Ca();p!==e;)o.push(p),p=Ca();return z=s,o=el(o),s=o,T[u]={nextPos:a,result:s},s}function Ca(){var s,o,p=a*77+1,u=T[p];return u?(a=u.nextPos,u.result):(s=a,o=qs(),o!==e&&(z=s,o=tl()),s=o,s===e&&(s=a,o=Mn(),o!==e&&(z=s,o=rl()),s=o,s===e&&(s=uo(),s===e&&(t.length>a?(s=t.charAt(a),a++):(s=e,A===0&&M(rr))))),T[p]={nextPos:a,result:s},s)}function uo(){var s,o,p,u,g,v,m=a*77+2,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.substr(a,2)===$?(o=$,a+=2):(o=e,A===0&&M(ki)),o!==e){for(p=[],u=a,g=a,A++,v=l(),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,v=l(),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);z=s,s=sl()}else a=s,s=e;if(s===e)if(s=a,t.substr(a,2)===b?(o=b,a+=2):(o=e,A===0&&M(gn)),o!==e){for(p=[],u=a,g=a,A++,t.substr(a,2)===k?(v=k,a+=2):(v=e,A===0&&M(mr)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.substr(a,2)===k?(v=k,a+=2):(v=e,A===0&&M(mr)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr)),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);t.substr(a,2)===k?(u=k,a+=2):(u=e,A===0&&M(mr)),u!==e?(z=s,s=ra()):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function ls(){var s,o,p,u,g,v=a*77+3,m=T[v];if(m)return a=m.nextPos,m.result;for(s=a,o=[],p=f();p!==e;)o.push(p),p=f();for(p=bn(),p===e&&(p=null),u=[],g=f();g!==e;)u.push(g),g=f();return z=s,s=nl(p),T[v]={nextPos:a,result:s},s}function bn(){var s,o,p,u,g,v,m,w,C=a*77+4,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Re(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Re(),w!==e?(z=u,u=$n(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Re(),w!==e?(z=u,u=$n(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=al(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function An(){var s,o,p,u,g,v,m,w,C=a*77+5,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Dr(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Dr(),w!==e?(z=u,u=xn(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Dr(),w!==e?(z=u,u=xn(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=il(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function fr(){var s,o,p,u,g,v,m,w,C=a*77+6,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Lr(),o!==e){for(p=[],u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Lr(),w!==e?(z=u,u=sa(o,w)):(a=u,u=e)}else a=u,u=e;for(;u!==e;){for(p.push(u),u=a,g=[],v=y();v!==e;)g.push(v),v=y();if(v=ne(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=Lr(),w!==e?(z=u,u=sa(o,w)):(a=u,u=e)}else a=u,u=e}z=s,s=ll(o,p)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Re(){var s,o=a*77+7,p=T[o];return p?(a=p.nextPos,p.result):(s=Pa(),s===e&&(s=fo(),s===e&&(s=Lr())),T[o]={nextPos:a,result:s},s)}function Dr(){var s,o=a*77+8,p=T[o];return p?(a=p.nextPos,p.result):(s=Ea(),s===e&&(s=qt(),s===e&&(s=Pa())),T[o]={nextPos:a,result:s},s)}function Lr(){var s,o=a*77+9,p=T[o];return p?(a=p.nextPos,p.result):(s=Ea(),s===e&&(s=qt(),s===e&&(s=co(),s===e&&(s=go(),s===e&&(s=ho(),s===e&&(s=po(),s===e&&(s=vo(),s===e&&(s=yo(),s===e&&(s=wo(),s===e&&(s=br(),s===e&&(s=Ma(),s===e&&(s=Ie()))))))))))),T[o]={nextPos:a,result:s},s)}function Ie(){var s,o=a*77+10,p=T[o];return p?(a=p.nextPos,p.result):(s=mo(),s===e&&(s=os()),T[o]={nextPos:a,result:s},s)}function os(){var s,o=a*77+11,p=T[o];return p?(a=p.nextPos,p.result):(s=bo(),s===e&&(s=Eo(),s===e&&(s=Sa(),s===e&&(s=ka()))),T[o]={nextPos:a,result:s},s)}function ka(){var s,o,p,u,g,v,m=a*77+12,w=T[m];if(w)return a=w.nextPos,w.result;if(s=Na(),s===e&&(s=Oa(),s===e&&(s=Ta(),s===e&&(s=qs(),s===e&&(s=Mn(),s===e&&(s=Da(),s===e&&(s=Ba(),s===e&&(s=Nn(),s===e&&(s=Ha(),s===e&&(s=Po(),s===e&&(s=$o(),s===e&&(s=Ia(),s===e))))))))))))if(s=a,t.charCodeAt(a)===40?(o=E,a++):(o=e,A===0&&M(Et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ie(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e?(z=s,s=ol(u)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function xr(){var s,o=a*77+13,p=T[o];return p?(a=p.nextPos,p.result):(s=Da(),s===e&&(s=Mn(),s===e&&(s=Ba(),s===e&&(s=Mo(),s===e&&(s=So(),s===e&&(s=Nn()))))),T[o]={nextPos:a,result:s},s)}function Pa(){var s,o,p,u,g,v,m,w,C,P,I=a*77+14,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===j?(o=j,a+=2):(o=e,A===0&&M(sr)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(t.charCodeAt(a)===123?(v=D,a++):(v=e,A===0&&M(et)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(w=An(),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();t.charCodeAt(a)===125?(P=W,a++):(P=e,A===0&&M(Ht)),P!==e?(z=s,s=ul(u,w)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function fo(){var s,o,p,u,g,v,m=a*77+15,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.substr(a,3)===pe?(o=pe,a+=3):(o=e,A===0&&M(jr)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ue(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();v=xr(),v!==e?(z=s,s=fl(u,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===pe?(o=pe,a+=3):(o=e,A===0&&M(jr)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();u=xr(),u!==e?(z=s,s=cl(u)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Ea(){var s,o,p,u,g,v,m,w,C,P=a*77+16,I=T[P];if(I)return a=I.nextPos,I.result;if(s=a,t.substr(a,3)===te?(o=te,a+=3):(o=e,A===0&&M(dt)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===58?(m=le,a++):(m=e,A===0&&M(yt)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Be(),C!==e?g=C:(a=g,g=e)}else a=g,g=e;for(g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===61?(m=Ae,a++):(m=e,A===0&&M(ss)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Ie(),C!==e?(z=s,s=hl(u,g,C)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===U?(o=U,a+=3):(o=e,A===0&&M(Pi)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===58?(m=le,a++):(m=e,A===0&&M(yt)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Be(),C!==e?g=C:(a=g,g=e)}else a=g,g=e;for(g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===61?(m=Ae,a++):(m=e,A===0&&M(ss)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();C=Ie(),C!==e?(z=s,s=pl(u,g,C)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[P]={nextPos:a,result:s},s}function co(){var s,o,p,u,g=a*77+17,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,t.substr(a,2)===L?(o=L,a+=2):(o=e,A===0&&M(Ei)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();u=Ie(),u!==e?(z=s,s=vl(u)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function ho(){var s,o,p,u,g,v,m,w=a*77+18,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,t.substr(a,2)===q?(o=q,a+=2):(o=e,A===0&&M(ks)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ue(),u!==e){for(g=a,v=[],m=f();m!==e;)v.push(m),m=f();for(m=xr(),m!==e?g=m:(a=g,g=e),g===e&&(g=null),v=[],m=f();m!==e;)v.push(m),m=f();t.charCodeAt(a)===93?(m=B,a++):(m=e,A===0&&M(ns)),m!==e?(z=s,s=gl(u,g)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[w]={nextPos:a,result:s},s}function po(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+19,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.substr(a,4)===G?(o=G,a+=4):(o=e,A===0&&M(wt)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(t.substr(a,3)===te?(g=te,a+=3):(g=e,A===0&&M(dt)),g!==e){if(v=[],m=f(),m!==e)for(;m!==e;)v.push(m),m=f();else v=e;if(v!==e)if(m=Ue(),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();for(t.charCodeAt(a)===44?(C=J,a++):(C=e,A===0&&M(pt)),C===e&&(C=null),P=[],I=f();I!==e;)P.push(I),I=f();if(I=Ie(),I!==e)if(t.charCodeAt(a)===41?(R=F,a++):(R=e,A===0&&M($r)),R!==e){for(Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();ye=be(),ye!==e?(z=s,s=dl(m,I,ye)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,4)===G?(o=G,a+=4):(o=e,A===0&&M(wt)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(t.substr(a,3)===te?(u=te,a+=3):(u=e,A===0&&M(dt)),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();if(P=Ie(),P!==e){if(I=[],R=f(),R!==e)for(;R!==e;)I.push(R),R=f();else I=e;I!==e?(R=be(),R!==e?(z=s,s=yl(v,P,R)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function vo(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke=a*77+20,Ge=T[Ke];if(Ge)return a=Ge.nextPos,Ge.result;if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(t.substr(a,3)===te?(g=te,a+=3):(g=e,A===0&&M(dt)),g!==e){if(v=[],m=f(),m!==e)for(;m!==e;)v.push(m),m=f();else v=e;if(v!==e)if(m=Ue(),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();if(C=a,t.charCodeAt(a)===61?(P=Ae,a++):(P=e,A===0&&M(ss)),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();R=Ie(),R!==e?(z=C,C=wl(m,R)):(a=C,C=e)}else a=C,C=e;for(C===e&&(C=null),t.charCodeAt(a)===44?(P=J,a++):(P=e,A===0&&M(pt)),P===e&&(P=null),I=[],R=f();R!==e;)I.push(R),R=f();if(R=Ie(),R!==e)if(t.charCodeAt(a)===41?(Z=F,a++):(Z=e,A===0&&M($r)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();re=be(),re!==e?(z=s,s=ml(m,C,R,re)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(t.substr(a,3)===te?(u=te,a+=3):(u=e,A===0&&M(dt)),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(w=a,t.charCodeAt(a)===61?(C=Ae,a++):(C=e,A===0&&M(ss)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();I=Ie(),I!==e?(z=w,w=$l(v,I)):(a=w,w=e)}else a=w,w=e;for(w===e&&(w=null),t.charCodeAt(a)===44?(C=J,a++):(C=e,A===0&&M(pt)),C===e&&(C=null),P=[],I=f();I!==e;)P.push(I),I=f();if(I=Ie(),I!==e){if(R=[],Z=f(),Z!==e)for(;Z!==e;)R.push(Z),Z=f();else R=e;R!==e?(Z=be(),Z!==e?(z=s,s=xl(v,w,I,Z)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===40?(u=E,a++):(u=e,A===0&&M(Et)),u!==e)if(g=Ie(),g!==e)if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();w=be(),w!==e?(z=s,s=bl(g,w)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,t.substr(a,3)===Q?(o=Q,a+=3):(o=e,A===0&&M(Ps)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ie(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;g!==e?(v=be(),v!==e?(z=s,s=Al(u,v)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e}}return T[Ke]={nextPos:a,result:s},s}function go(){var s,o,p,u,g,v=a*77+21,m=T[v];if(m)return a=m.nextPos,m.result;if(s=a,t.substr(a,6)===X?(o=X,a+=6):(o=e,A===0&&M(or)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();g=Ie(),g!==e?(z=s,s=_l(g)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[v]={nextPos:a,result:s},s}function yo(){var s,o,p,u,g,v,m,w,C=a*77+22,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,t.substr(a,4)===$e?(o=$e,a+=4):(o=e,A===0&&M(Mi)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===123?(u=D,a++):(u=e,A===0&&M(et)),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();if(v=fr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();t.charCodeAt(a)===125?(w=W,a++):(w=e,A===0&&M(Ht)),w!==e?(z=s,s=Cl(v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function wo(){var s,o,p,u,g=a*77+23,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,5)===Pe?(o=Pe,a+=5):(o=e,A===0&&M(Si)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=kl()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function br(){var s,o,p,u,g=a*77+24,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,8)===ge?(o=ge,a+=8):(o=e,A===0&&M(Fi)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=na()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Ma(){var s,o,p,u,g,v,m=a*77+25,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ie(),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.substr(a,2)===qe?(u=qe,a+=2):(u=e,A===0&&M(Ni)),u===e&&(t.substr(a,2)===it?(u=it,a+=2):(u=e,A===0&&M(Kn)),u===e&&(t.charCodeAt(a)===61?(u=Ae,a++):(u=e,A===0&&M(ss)))),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();v=Ie(),v!==e?(z=s,s=Pl(o,u,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function mo(){var s,o,p,u,g,v,m,w,C=a*77+26,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=os(),o!==e){for(p=[],u=a,g=[],v=Ar();v!==e;)g.push(v),v=Ar();if(v=_n(),v!==e){for(m=[],w=Ar();w!==e;)m.push(w),w=Ar();w=os(),w!==e?(z=u,u=aa(o,v,w)):(a=u,u=e)}else a=u,u=e;if(u!==e)for(;u!==e;){for(p.push(u),u=a,g=[],v=Ar();v!==e;)g.push(v),v=Ar();if(v=_n(),v!==e){for(m=[],w=Ar();w!==e;)m.push(w),w=Ar();w=os(),w!==e?(z=u,u=aa(o,v,w)):(a=u,u=e)}else a=u,u=e}else p=e;p!==e?(z=s,s=El(o,p)):(a=s,s=e)}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Ar(){var s,o,p,u=a*77+27,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===92?(o=Jt,a++):(o=e,A===0&&M(Gn)),o!==e?(p=ne(),p!==e?(o=[o,p],s=o):(a=s,s=e)):(a=s,s=e),s===e&&(s=y()),T[u]={nextPos:a,result:s},s)}function _n(){var s,o,p=a*77+28,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===lt?(o=lt,a+=2):(o=e,A===0&&M(Oi)),o===e&&(t.substr(a,2)===nt?(o=nt,a+=2):(o=e,A===0&&M(Ti)),o===e&&(t.substr(a,2)===je?(o=je,a+=2):(o=e,A===0&&M(Ii)),o===e&&(t.substr(a,2)===at?(o=at,a+=2):(o=e,A===0&&M(ji)),o===e&&(t.substr(a,2)===St?(o=St,a+=2):(o=e,A===0&&M(Ri)),o===e&&(t.substr(a,2)===Ft?(o=Ft,a+=2):(o=e,A===0&&M(Jn)),o===e&&(t.charCodeAt(a)===60?(o=Qe,a++):(o=e,A===0&&M(dn)),o===e&&(t.charCodeAt(a)===62?(o=Nr,a++):(o=e,A===0&&M(Zn)),o===e&&(t.charCodeAt(a)===43?(o=Lt,a++):(o=e,A===0&&M(Di)),o===e&&(t.charCodeAt(a)===45?(o=wr,a++):(o=e,A===0&&M(Qn)),o===e&&(t.charCodeAt(a)===42?(o=Pt,a++):(o=e,A===0&&M(Xn)),o===e&&(t.charCodeAt(a)===94?(o=dr,a++):(o=e,A===0&&M(Li)),o===e&&(t.charCodeAt(a)===47?(o=Or,a++):(o=e,A===0&&M(Bi)),o===e&&(t.charCodeAt(a)===37?(o=kr,a++):(o=e,A===0&&M(Hi))))))))))))))),o!==e&&(z=s,o=Ml()),s=o,T[p]={nextPos:a,result:s},s)}function $o(){var s,o,p,u=a*77+29,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===33?(o=Mr,a++):(o=e,A===0&&M(yn)),o!==e?(p=Ie(),p!==e?(z=s,s=Sl(p)):(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function Sa(){var s,o,p,u,g=a*77+30,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,o=ka(),o!==e){if(p=[],u=Cn(),u===e&&(u=Fa(),u===e&&(u=Us())),u!==e)for(;u!==e;)p.push(u),u=Cn(),u===e&&(u=Fa(),u===e&&(u=Us()));else p=e;p!==e?(z=s,s=ia(o,p)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function Cn(){var s,o,p,u,g,v,m=a*77+31,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===40?(o=E,a++):(o=e,A===0&&M(Et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=xo(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e?(z=s,s=Fl(u)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function xo(){var s,o,p,u,g,v,m=a*77+32,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ie(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=Ie(),v!==e?(z=u,u=la(o,v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=Ie(),v!==e?(z=u,u=la(o,v)):(a=u,u=e)):(a=u,u=e);z=s,s=Nl(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Fa(){var s,o,p,u,g,v,m=a*77+33,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=Ie(),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=Ol(u)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Us(){var s,o,p,u=a*77+34,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===46?(o=H,a++):(o=e,A===0&&M(wn)),o!==e?(p=Ue(),p!==e?(z=s,s=Tl(p)):(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function bo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+35,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===K?(o=K,a+=2):(o=e,A===0&&M(Ui)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;if(p!==e)if(u=Ie(),u!==e){if(g=[],v=f(),v!==e)for(;v!==e;)g.push(v),v=f();else g=e;if(g!==e)if(v=be(),v!==e){if(m=a,w=[],C=f(),C!==e)for(;C!==e;)w.push(C),C=f();else w=e;if(w!==e?(C=Ao(),C!==e?m=C:(a=m,m=e)):(a=m,m=e),m===e&&(m=null),w=a,C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;C!==e?(P=_o(),P!==e?w=P:(a=w,w=e)):(a=w,w=e),w===e&&(w=null),z=s,s=Il(u,v,m,w)}else a=s,s=e;else a=s,s=e}else a=s,s=e;else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function Ao(){var s,o,p,u,g,v,m=a*77+36,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=kn(),o!==e){for(p=[],u=a,g=[],v=f();v!==e;)g.push(v),v=f();for(v=kn(),v!==e?u=v:(a=u,u=e);u!==e;){for(p.push(u),u=a,g=[],v=f();v!==e;)g.push(v),v=f();v=kn(),v!==e?u=v:(a=u,u=e)}z=s,s=jl(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function kn(){var s,o,p,u,g,v,m,w=a*77+37,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,t.substr(a,4)===ee?(o=ee,a+=4):(o=e,A===0&&M(qi)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();if(g=Ie(),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();m=be(),m!==e?(z=s,s=oa(g,m)):(a=s,s=e)}else a=s,s=e}else a=s,s=e;else a=s,s=e;return T[w]={nextPos:a,result:s},s}function _o(){var s,o,p,u,g,v=a*77+38,m=T[v];if(m)return a=m.nextPos,m.result;if(s=a,t.substr(a,4)===fe?(o=fe,a+=4):(o=e,A===0&&M(zi)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();g=be(),g!==e?(z=s,s=Rl(g)):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[v]={nextPos:a,result:s},s}function Na(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke,Ge,Tn=a*77+39,us=T[Tn];if(us)return a=us.nextPos,us.result;if(s=a,t.substr(a,5)===he?(o=he,a+=5):(o=e,A===0&&M(Es)),o!==e)if(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();if(g=Ie(),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();if(t.charCodeAt(a)===123?(m=D,a++):(m=e,A===0&&M(et)),m!==e){for(w=[],C=f();C!==e;)w.push(C),C=f();if(C=[],P=a,I=Ie(),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();z=P,P=ua(g,I,re)}else a=P,P=e}else a=P,P=e}else a=P,P=e;if(P!==e)for(;P!==e;)if(C.push(P),P=a,I=Ie(),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();z=P,P=ua(g,I,re)}else a=P,P=e}else a=P,P=e}else a=P,P=e;else C=e;if(C!==e){if(P=a,t.charCodeAt(a)===42?(I=Pt,a++):(I=e,A===0&&M(Xn)),I!==e){for(R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.substr(a,2)===ie?(Z=ie,a+=2):(Z=e,A===0&&M(Ms)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();if(re=be(),re!==e){for(Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();P=re}else a=P,P=e}else a=P,P=e}else a=P,P=e;for(P===e&&(P=null),I=[],R=f();R!==e;)I.push(R),R=f();t.charCodeAt(a)===125?(R=W,a++):(R=e,A===0&&M(Ht)),R!==e?(z=s,s=Dl(g,C,P)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e;else a=s,s=e;return T[Tn]={nextPos:a,result:s},s}function Oa(){var s,o,p,u,g,v,m,w,C=a*77+40,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,t.substr(a,4)===Se?(o=Se,a+=4):(o=e,A===0&&M(Ss)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(t.charCodeAt(a)===123?(u=D,a++):(u=e,A===0&&M(et)),u!==e){for(g=[],v=f();v!==e;)g.push(v),v=f();if(v=fr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();t.charCodeAt(a)===125?(w=W,a++):(w=e,A===0&&M(Ht)),w!==e?(z=s,s=Ll(v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[C]={nextPos:a,result:s},s}function Ta(){var s,o,p,u,g=a*77+41,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,t.substr(a,6)===de?(o=de,a+=6):(o=e,A===0&&M(Vi)),o!==e){if(p=[],u=f(),u!==e)for(;u!==e;)p.push(u),u=f();else p=e;p!==e?(u=Ia(),u!==e?(z=s,s=Bl(u)):(a=s,s=e)):(a=s,s=e)}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function Ia(){var s,o,p=a*77+42,u=T[p];return u?(a=u.nextPos,u.result):(s=a,o=qa(),o!==e&&(z=s,o=fa(o)),s=o,T[p]={nextPos:a,result:s},s)}function qs(){var s,o,p,u,g,v,m=a*77+43,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===96?(o=we,a++):(o=e,A===0&&M(Fs)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===96?(v=we,a++):(v=e,A===0&&M(Fs)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Pn(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===96?(v=we,a++):(v=e,A===0&&M(Fs)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Pn(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===96?(u=we,a++):(u=e,A===0&&M(Fs)),u!==e?(z=s,s=Hl(p)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Pn(){var s,o,p,u,g,v,m=a*77+44,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ie(),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();t.charCodeAt(a)===125?(v=W,a++):(v=e,A===0&&M(Ht)),v!==e?s=u:(a=s,s=e)}else a=s,s=e}else a=s,s=e;if(s===e){if(s=a,o=[],p=En(),p!==e)for(;p!==e;)o.push(p),p=En();else o=e;o!==e&&(z=s,o=ca(o)),s=o}return T[m]={nextPos:a,result:s},s}function En(){var s,o=a*77+45,p=T[o];return p?(a=p.nextPos,p.result):(s=ja(),s===e&&(Cs.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Ns))),T[o]={nextPos:a,result:s},s)}function ja(){var s,o,p,u=a*77+46,g=T[u];return g?(a=g.nextPos,g.result):(s=a,t.charCodeAt(a)===92?(o=Jt,a++):(o=e,A===0&&M(Gn)),o!==e?(Vr.test(t.charAt(a))?(p=t.charAt(a),a++):(p=e,A===0&&M(Os)),p!==e?s=p:(a=s,s=e)):(a=s,s=e),T[u]={nextPos:a,result:s},s)}function Mn(){var s,o,p,u,g,v,m=a*77+47,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===34?(o=ue,a++):(o=e,A===0&&M(Ts)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===34?(v=ue,a++):(v=e,A===0&&M(Ts)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Ra(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=ha(v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===34?(v=ue,a++):(v=e,A===0&&M(Ts)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Ra(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=ha(v)):(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===34?(u=ue,a++):(u=e,A===0&&M(Ts)),u!==e?(z=s,s=Ul(p)):(a=s,s=e)}else a=s,s=e;if(s===e)if(s=a,t.charCodeAt(a)===39?(o=Te,a++):(o=e,A===0&&M(Is)),o!==e){for(p=[],u=a,g=a,A++,t.charCodeAt(a)===39?(v=Te,a++):(v=e,A===0&&M(Is)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Sn(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=pa(v)):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=a,A++,t.charCodeAt(a)===39?(v=Te,a++):(v=e,A===0&&M(Is)),A--,v===e?g=void 0:(a=g,g=e),g!==e?(v=Sn(),v===e&&(t.length>a?(v=t.charAt(a),a++):(v=e,A===0&&M(rr))),v!==e?(z=u,u=pa(v)):(a=u,u=e)):(a=u,u=e);t.charCodeAt(a)===39?(u=Te,a++):(u=e,A===0&&M(Is)),u!==e?(z=s,s=ql(p)):(a=s,s=e)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function Ra(){var s,o,p=a*77+48,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===He?(o=He,a+=2):(o=e,A===0&&M(js)),o!==e&&(z=s,o=zl()),s=o,T[p]={nextPos:a,result:s},s)}function Sn(){var s,o,p=a*77+49,u=T[p];return u?(a=u.nextPos,u.result):(s=a,t.substr(a,2)===De?(o=De,a+=2):(o=e,A===0&&M(Yn)),o!==e&&(z=s,o=Vl()),s=o,T[p]={nextPos:a,result:s},s)}function Da(){var s,o=a*77+50,p=T[o];return p?(a=p.nextPos,p.result):(s=Co(),s===e&&(s=La()),T[o]={nextPos:a,result:s},s)}function Co(){var s,o,p,u,g,v,m=a*77+51,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),ht.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(ea)),o!==e){if(p=[],jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr)),u!==e)for(;u!==e;)p.push(u),jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr));else p=e;if(p!==e)if(t.charCodeAt(a)===46?(u=H,a++):(u=e,A===0&&M(wn)),u!==e){if(g=[],jt.test(t.charAt(a))?(v=t.charAt(a),a++):(v=e,A===0&&M(nr)),v!==e)for(;v!==e;)g.push(v),jt.test(t.charAt(a))?(v=t.charAt(a),a++):(v=e,A===0&&M(nr));else g=e;g!==e?(z=s,s=Wl()):(a=s,s=e)}else a=s,s=e;else a=s,s=e}else a=s,s=e;if(s===e)if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),jt.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(nr)),o!==e)if(t.charCodeAt(a)===46?(p=H,a++):(p=e,A===0&&M(wn)),p!==e){if(u=[],jt.test(t.charAt(a))?(g=t.charAt(a),a++):(g=e,A===0&&M(nr)),g!==e)for(;g!==e;)u.push(g),jt.test(t.charAt(a))?(g=t.charAt(a),a++):(g=e,A===0&&M(nr));else u=e;u!==e?(z=s,s=Kl()):(a=s,s=e)}else a=s,s=e;else a=s,s=e;return T[m]={nextPos:a,result:s},s}function La(){var s,o,p,u,g=a*77+52,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),ht.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(ea)),o!==e){if(p=[],jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr)),u!==e)for(;u!==e;)p.push(u),jt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(nr));else p=e;p!==e?(z=s,s=Gl()):(a=s,s=e)}else a=s,s=e;return s===e&&(s=a,Ot.test(t.charAt(a))?(t.charAt(a),a++):A===0&&M(Mt),jt.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(nr)),o!==e?(z=s,s=Jl()):(a=s,s=e)),T[g]={nextPos:a,result:s},s}function Ba(){var s,o=a*77+53,p=T[o];return p?(a=p.nextPos,p.result):(s=ko(),s===e&&(s=Fn()),T[o]={nextPos:a,result:s},s)}function ko(){var s,o,p,u,g=a*77+54,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,4)===Ve?(o=Ve,a+=4):(o=e,A===0&&M(Wi)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=va()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Fn(){var s,o,p,u,g=a*77+55,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,5)===Je?(o=Je,a+=5):(o=e,A===0&&M(Rs)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=Zl()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Nn(){var s,o,p,u,g=a*77+56,v=T[g];return v?(a=v.nextPos,v.result):(s=a,t.substr(a,4)===Ye?(o=Ye,a+=4):(o=e,A===0&&M(Ki)),o!==e?(p=a,A++,Zt.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ur)),A--,u===e?p=void 0:(a=p,p=e),p!==e?(z=s,s=ga()):(a=s,s=e)):(a=s,s=e),T[g]={nextPos:a,result:s},s)}function Ha(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+57,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=Ie(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=da(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=Ie(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=da(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;t.charCodeAt(a)===125?(g=W,a++):(g=e,A===0&&M(Ht)),g!==e?(z=s,s=Ql(u)):(a=s,s=e)}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function Po(){var s,o,p,u,g,v,m,w,C,P,I=a*77+58,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ie(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=ya(v)}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ie(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=ya(v)}else a=g,g=e;for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=Xl(u)):(a=s,s=e)}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function On(){var s,o,p,u,g,v,m,w=a*77+59,C=T[w];if(C)return a=C.nextPos,C.result;if(s=a,o=Ue(),o!==e){for(p=a,u=[],g=f();g!==e;)u.push(g),g=f();if(t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e){for(v=[],m=f();m!==e;)v.push(m),m=f();m=Be(),m!==e?p=m:(a=p,p=e)}else a=p,p=e;p===e&&(p=null),z=s,s=Yl(o,p)}else a=s,s=e;return T[w]={nextPos:a,result:s},s}function Ua(){var s,o,p,u,g,v,m=a*77+60,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=On(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=On(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=On(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);z=s,s=wa(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function qt(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re,Ke,Ge,Tn=a*77+61,us=T[Tn];if(us)return a=us.nextPos,us.result;if(s=a,t.charCodeAt(a)===64?(o=xt,a++):(o=e,A===0&&M(Gi)),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(u=Ue(),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();if(t.charCodeAt(a)===40?(v=E,a++):(v=e,A===0&&M(Et)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(w=Ua(),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();if(t.charCodeAt(a)===41?(P=F,a++):(P=e,A===0&&M($r)),P!==e){for(I=a,R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.charCodeAt(a)===58?(Z=le,a++):(Z=e,A===0&&M(yt)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();re=Be(),re!==e?I=re:(a=I,I=e)}else a=I,I=e;for(I===e&&(I=null),R=[],Z=f();Z!==e;)R.push(Z),Z=f();if(t.charCodeAt(a)===123?(Z=D,a++):(Z=e,A===0&&M(et)),Z!==e){for(ye=[],re=f();re!==e;)ye.push(re),re=f();for(re=fr(),re===e&&(re=null),Ke=[],Ge=f();Ge!==e;)Ke.push(Ge),Ge=f();t.charCodeAt(a)===125?(Ge=W,a++):(Ge=e,A===0&&M(Ht)),Ge!==e?(z=s,s=eo(p,u,g,w,I,re)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[Tn]={nextPos:a,result:s},s}function Eo(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=a*77+62,re=T[ye];if(re)return a=re.nextPos,re.result;if(s=a,t.substr(a,2)===Bt?(o=Bt,a+=2):(o=e,A===0&&M(mn)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=Ua(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=a,w=[],C=f();C!==e;)w.push(C),C=f();if(t.charCodeAt(a)===58?(C=le,a++):(C=e,A===0&&M(yt)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();I=Be(),I!==e?m=I:(a=m,m=e)}else a=m,m=e;for(m===e&&(m=null),w=[],C=f();C!==e;)w.push(C),C=f();if(t.charCodeAt(a)===123?(C=D,a++):(C=e,A===0&&M(et)),C!==e){for(P=[],I=f();I!==e;)P.push(I),I=f();for(I=fr(),I===e&&(I=null),R=[],Z=f();Z!==e;)R.push(Z),Z=f();t.charCodeAt(a)===125?(Z=W,a++):(Z=e,A===0&&M(Ht)),Z!==e?(z=s,s=ma(u,m,I)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[ye]={nextPos:a,result:s},s}function Mo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+63,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.charCodeAt(a)===91?(o=Nt,a++):(o=e,A===0&&M(as)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=xr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=$a(v)}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=xr(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();for(t.charCodeAt(a)===44?(w=J,a++):(w=e,A===0&&M(pt)),w===e&&(w=null),C=[],P=f();P!==e;)C.push(P),P=f();z=g,g=$a(v)}else a=g,g=e;for(g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===93?(v=B,a++):(v=e,A===0&&M(ns)),v!==e?(z=s,s=to(u)):(a=s,s=e)}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function So(){var s,o,p,u,g,v,m,w,C,P,I,R,Z,ye,re=a*77+64,Ke=T[re];if(Ke)return a=Ke.nextPos,Ke.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();if(u=[],g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=xr(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=xa(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;for(;g!==e;)if(u.push(g),g=a,v=Ue(),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.charCodeAt(a)===58?(w=le,a++):(w=e,A===0&&M(yt)),w!==e){if(C=[],P=f(),P!==e)for(;P!==e;)C.push(P),P=f();else C=e;if(C!==e)if(P=xr(),P!==e){for(I=[],R=f();R!==e;)I.push(R),R=f();for(t.charCodeAt(a)===44?(R=J,a++):(R=e,A===0&&M(pt)),R===e&&(t.charCodeAt(a)===59?(R=ct,a++):(R=e,A===0&&M(is))),R===e&&(R=null),Z=[],ye=f();ye!==e;)Z.push(ye),ye=f();z=g,g=xa(v,P)}else a=g,g=e;else a=g,g=e}else a=g,g=e}else a=g,g=e;t.charCodeAt(a)===125?(g=W,a++):(g=e,A===0&&M(Ht)),g!==e?(z=s,s=ro(u)):(a=s,s=e)}else a=s,s=e;return T[re]={nextPos:a,result:s},s}function Be(){var s,o=a*77+65,p=T[o];return p?(a=p.nextPos,p.result):(s=Fo(),s===e&&(s=It()),T[o]={nextPos:a,result:s},s)}function Fo(){var s,o,p,u,g,v,m,w,C,P,I=a*77+66,R=T[I];if(R)return a=R.nextPos,R.result;if(s=a,t.substr(a,2)===Bt?(o=Bt,a+=2):(o=e,A===0&&M(mn)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=Br(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();if(t.charCodeAt(a)===41?(v=F,a++):(v=e,A===0&&M($r)),v!==e){for(m=[],w=f();w!==e;)m.push(w),w=f();if(t.substr(a,2)===ie?(w=ie,a+=2):(w=e,A===0&&M(Ms)),w!==e){for(C=[],P=f();P!==e;)C.push(P),P=f();P=Be(),P!==e?(z=s,s=so(u,P)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return T[I]={nextPos:a,result:s},s}function Br(){var s,o,p,u,g,v,m=a*77+67,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Be(),o!==e){for(p=[],u=a,g=x(),g!==e?(v=Be(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,g=x(),g!==e?(v=Be(),v!==e?u=v:(a=u,u=e)):(a=u,u=e);z=s,s=no(o,p)}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function It(){var s,o,p,u,g,v,m,w,C=a*77+68,P=T[C];if(P)return a=P.nextPos,P.result;if(s=a,o=Ue(),o!==e){for(p=[],u=y();u!==e;)p.push(u),u=y();if(t.charCodeAt(a)===60?(u=Qe,a++):(u=e,A===0&&M(dn)),u!==e){for(g=[],v=y();v!==e;)g.push(v),v=y();if(v=Be(),v!==e){for(m=[],w=y();w!==e;)m.push(w),w=y();t.charCodeAt(a)===62?(w=Nr,a++):(w=e,A===0&&M(Zn)),w!==e?(z=s,s=ao(o,v)):(a=s,s=e)}else a=s,s=e}else a=s,s=e}else a=s,s=e;return s===e&&(s=a,o=Ue(),o!==e&&(z=s,o=io(o)),s=o),T[C]={nextPos:a,result:s},s}function Ue(){var s,o,p,u,g=a*77+69,v=T[g];if(v)return a=v.nextPos,v.result;if(s=a,Vn.test(t.charAt(a))?(o=t.charAt(a),a++):(o=e,A===0&&M(Ji)),o!==e){for(p=[],Wn.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ta));u!==e;)p.push(u),Wn.test(t.charAt(a))?(u=t.charAt(a),a++):(u=e,A===0&&M(ta));z=s,s=i()}else a=s,s=e;return T[g]={nextPos:a,result:s},s}function qa(){var s,o,p,u,g,v,m=a*77+70,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,o=Ue(),o!==e){for(p=[],u=a,t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e?(v=Ue(),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);u!==e;)p.push(u),u=a,t.charCodeAt(a)===58?(g=le,a++):(g=e,A===0&&M(yt)),g!==e?(v=Ue(),v!==e?(g=[g,v],u=g):(a=u,u=e)):(a=u,u=e);z=s,s=V()}else a=s,s=e;return T[m]={nextPos:a,result:s},s}function x(){var s,o,p,u,g,v=a*77+71,m=T[v];if(m)return a=m.nextPos,m.result;for(s=a,o=[],p=f();p!==e;)o.push(p),p=f();if(t.charCodeAt(a)===44?(p=J,a++):(p=e,A===0&&M(pt)),p!==e){for(u=[],g=f();g!==e;)u.push(g),g=f();o=[o,p,u],s=o}else a=s,s=e;if(s===e)if(s=[],o=f(),o!==e)for(;o!==e;)s.push(o),o=f();else s=e;return T[v]={nextPos:a,result:s},s}function be(){var s,o,p,u,g,v,m=a*77+72,w=T[m];if(w)return a=w.nextPos,w.result;if(s=a,t.charCodeAt(a)===123?(o=D,a++):(o=e,A===0&&M(et)),o!==e){for(p=[],u=f();u!==e;)p.push(u),u=f();for(u=fr(),u===e&&(u=null),g=[],v=f();v!==e;)g.push(v),v=f();t.charCodeAt(a)===125?(v=W,a++):(v=e,A===0&&M(Ht)),v!==e?(z=s,s=Ds(u)):(a=s,s=e)}else a=s,s=e;return s===e&&(s=Lr()),T[m]={nextPos:a,result:s},s}function ne(){var s,o=a*77+73,p=T[o];return p?(a=p.nextPos,p.result):(t.substr(a,2)===bt?(s=bt,a+=2):(s=e,A===0&&M(Zi)),s===e&&(_i.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Qi))),T[o]={nextPos:a,result:s},s)}function l(){var s,o,p=a*77+74,u=T[p];return u?(a=u.nextPos,u.result):(s=a,A++,t.length>a?(o=t.charAt(a),a++):(o=e,A===0&&M(rr)),A--,o===e?s=void 0:(a=s,s=e),s===e&&(s=ne()),T[p]={nextPos:a,result:s},s)}function f(){var s,o=a*77+75,p=T[o];return p?(a=p.nextPos,p.result):(Ci.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Xi)),T[o]={nextPos:a,result:s},s)}function y(){var s,o=a*77+76,p=T[o];return p?(a=p.nextPos,p.result):(tr.test(t.charAt(a))?(s=t.charAt(a),a++):(s=e,A===0&&M(Yi)),T[o]={nextPos:a,result:s},s)}function c(s,o,p){const u={type:s};o.children=p;for(const v of Object.keys(o))o[v]!==void 0&&(u[v]=o[v]);const g=Ut();return u.loc={start:g.start.offset,end:g.end.offset-1},u}if(Ls=d(),Ls!==e&&a===t.length)return Ls;throw Ls!==e&&a<t.length&&M(S()),oo(Rr,N<t.length?t.charAt(N):null,N<t.length?Hs(N,N+1):Hs(N,N))}const j$=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function R$(t){return j$.includes(t.type)}function Gg(t){return"chain"in t&&t.chain!==null}function D$(t,r,e){return{type:"call",target:t,args:r,loc:e}}function L$(t,r,e){return{type:"index",target:t,index:r,loc:e}}function B$(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function rt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=rt(e.expr,r);break}case"return":{e.expr=rt(e.expr,r);break}case"each":{e.items=rt(e.items,r),e.for=rt(e.for,r);break}case"for":{e.from!=null&&(e.from=rt(e.from,r)),e.to!=null&&(e.to=rt(e.to,r)),e.times!=null&&(e.times=rt(e.times,r)),e.for=rt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=rt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=rt(e.expr,r),e.dest=rt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=rt(e.operands[n],r);break}case"not":{e.expr=rt(e.expr,r);break}case"if":{e.cond=rt(e.cond,r),e.then=rt(e.then,r);for(const n of e.elseif)n.cond=rt(n.cond,r),n.then=rt(n.then,r);e.else!=null&&(e.else=rt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=rt(e.children[n],r);break}case"match":{e.about=rt(e.about,r);for(const n of e.qs)n.q=rt(n.q,r),n.a=rt(n.a,r);e.default!=null&&(e.default=rt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=rt(e.statements[n],r);break}case"exists":{e.identifier=rt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=rt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],rt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=rt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=rt(e.args[n],r);break}case"indexChain":{e.index=rt(e.index,r);break}case"call":{e.target=rt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=rt(e.args[n],r);break}case"index":{e.target=rt(e.target,r),e.index=rt(e.index,r);break}case"prop":{e.target=rt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=rt(e.members[n],r);break}case"or":case"and":{e.left=rt(e.left,r),e.right=rt(e.right,r);break}}if(Gg(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=rt(e.chain[n],r);return e}const Dc=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Lc(t){throw new su(`Reserved word "${t}" cannot be used as variable name.`)}function H$(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Dc.includes(t.name)&&Lc(t.name);break}case"meta":{t.name!=null&&Dc.includes(t.name)&&Lc(t.name);break}case"fn":{for(const r of t.args)Dc.includes(r.name)&&Lc(r.name);break}}return t}function U$(t){for(const r of t)rt(r,H$);return t}function yv(t){return{type:"simple",name:t}}function q$(t,r){return{type:"generic",name:t,inners:r}}function z$(t,r){return{type:"fn",args:t,result:r}}function Of(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Of(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Of(n)).join(", "),e=Of(t.result);return`@(${r}) { ${e} }`}}}function Pu(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return yv(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Pu(t.inner):r=yv("any"),q$(t.name,[r])}}throw new su(`Unknown type: '${Of(t)}'`)}else{const r=t.args.map(e=>Pu(e));return z$(r,Pu(t.result))}}function V$(t){switch(t.type){case"def":{t.varType!=null&&Pu(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Pu(r.argType);t.retType!=null&&Pu(t.retType);break}}return t}function W$(t){for(const r of t)rt(r,V$);return t}function Tf(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=Tf(n.expr.children)),r.push(n);else{if(e.length>0)throw new su("invalid attribute.");switch(n.type){case"fn":{n.children=Tf(n.children);break}case"block":{n.statements=Tf(n.statements);break}}r.push(n)}if(e.length>0)throw new su("invalid attribute.");return r}function K$(t){if(R$(t)&&Gg(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=D$(n,h.args,h.loc);break}case"indexChain":{n=L$(n,h.index,h.loc);break}case"propChain":{n=B$(n,h.name,h.loc);break}}return n}return t}function G$(t){for(let r=0;r<t.length;r++)t[r]=rt(t[r],K$);return t}function If(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function Jg(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return If(t,r,e);{const{left:n,right:h,info:d}=t;return If(n,Jg(h,r,e),d)}}function Ho(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Ho(t.left),Ho(t.right)]}}const J$={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Ho(t.left),right:Ho(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Ho(t.left),right:Ho(t.right)}),priority:3}};function Z$(t){const r=t.operators.map(n=>{const h=J$[n];if(h==null)throw new su(`No such operator: ${n}.`);return h});let e=If(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=Jg(e,t.operands[2+n],r[1+n]);return Ho(e)}function Q$(t){for(let r=0;r<t.length;r++)t[r]=rt(t[r],e=>e.type==="infix"?Z$(e):e);return t}var Ka;let X$=(Ka=class{constructor(){me(this,"plugins");this.plugins={validate:[U$,W$],transform:[Tf,G$,Q$]}}static parse(r){return Ka.instance==null&&(Ka.instance=new Ka),Ka.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=dv(r,{startRule:"Preprocess"});e=dv(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new su(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`,n):new su(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`,n):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(Ka,"instance"),Ka);const Y$="0.16.0",ex={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let _h=[],qu=null;function tx(t){return _h=X$.parse(t),JSON.stringify(_h,null,"	")}async function rx(t){qu==null||qu.abort(),qu=new rs({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:xh(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:xh(e.val,!0),print:!1});break}}});try{await qu.exec(_h)}catch(r){t.err(r)}}const sx=Object.freeze(Object.defineProperty({__proto__:null,exec:rx,parse:tx,samples:ex,version:Y$},Symbol.toStringTag,{value:"Module"}));function jf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jf=function(e){return typeof e}:jf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Zg(t,r,e){var n=e.value;if(typeof n!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(jf(n)));var h=!1;return{configurable:!0,get:function(){if(h||this===t.prototype||this.hasOwnProperty(r)||typeof n!="function")return n;var $=n.bind(this);return h=!0,Object.defineProperty(this,r,{configurable:!0,get:function(){return $},set:function(k){n=k,delete this[r]}}),h=!1,$},set:function($){n=$}}}function nx(t){var r;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?r=Reflect.ownKeys(t.prototype):(r=Object.getOwnPropertyNames(t.prototype),typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t.prototype)))),r.forEach(function(e){if(e!=="constructor"){var n=Object.getOwnPropertyDescriptor(t.prototype,e);typeof n.value=="function"&&Object.defineProperty(t.prototype,e,Zg(t,e,n))}}),t}function ft(){return arguments.length===1?nx.apply(void 0,arguments):Zg.apply(void 0,arguments)}let Qg=class Xg extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Xg)}},nu=class extends Qg{constructor(r,e){super(r,e)}},Yt=class extends Qg{constructor(r,e){super(r,e)}},ax=class extends Yt{constructor(r,e){super(r,e)}};var fu=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Ai=class Yg{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Yg(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r);return this.log("read",{var:r,val:n}),n}throw new Yt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new Yt(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){h.set(r,e),this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new Yt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};fu([ft],Ai.prototype,"log",null);fu([ft],Ai.prototype,"onUpdated",null);fu([ft],Ai.prototype,"createChildScope",null);fu([ft],Ai.prototype,"get",null);fu([ft],Ai.prototype,"getAll",null);fu([ft],Ai.prototype,"add",null);fu([ft],Ai.prototype,"assign",null);let Af;const ix=new Uint8Array(16);function lx(){if(!Af&&(Af=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Af))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Af(ix)}const Ur=[];for(let t=0;t<256;++t)Ur.push((t+256).toString(16).slice(1));function ox(t,r=0){return(Ur[t[r+0]]+Ur[t[r+1]]+Ur[t[r+2]]+Ur[t[r+3]]+"-"+Ur[t[r+4]]+Ur[t[r+5]]+"-"+Ur[t[r+6]]+Ur[t[r+7]]+"-"+Ur[t[r+8]]+Ur[t[r+9]]+"-"+Ur[t[r+10]]+Ur[t[r+11]]+Ur[t[r+12]]+Ur[t[r+13]]+Ur[t[r+14]]+Ur[t[r+15]]).toLowerCase()}const ux=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wv={randomUUID:ux};function fx(t,r,e){if(wv.randomUUID&&!r&&!t)return wv.randomUUID();t=t||{};const n=t.random||(t.rng||lx)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return ox(n)}const Rt={type:"null"},un={type:"bool",value:!0},Gs={type:"bool",value:!1},Oe=t=>({type:"num",value:t}),Qt=t=>({type:"str",value:t}),Eu=t=>({type:"bool",value:t}),pp=t=>({type:"obj",value:t}),Gr=t=>({type:"arr",value:t}),cx=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ve=t=>({type:"fn",native:t}),hx=t=>({type:"return",value:t}),px=()=>({type:"break",value:null}),vx=()=>({type:"continue",value:null}),gx=t=>t.type==="return"?t.value:t;function Ys(t){if(t==null)throw new Yt("Expect anything, but got nothing.")}function vs(t){if(t==null)throw new Yt("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Yt(`Expect boolean, but got ${t.type}.`)}function pi(t){if(t==null)throw new Yt("Expect function, but got nothing.");if(t.type!=="fn")throw new Yt(`Expect function, but got ${t.type}.`)}function Tr(t){if(t==null)throw new Yt("Expect string, but got nothing.");if(t.type!=="str")throw new Yt(`Expect string, but got ${t.type}.`)}function Ee(t){if(t==null)throw new Yt("Expect number, but got nothing.");if(t.type!=="num")throw new Yt(`Expect number, but got ${t.type}.`)}function ai(t){if(t==null)throw new Yt("Expect object, but got nothing.");if(t.type!=="obj")throw new Yt(`Expect object, but got ${t.type}.`)}function Mu(t){if(t==null)throw new Yt("Expect array, but got nothing.");if(t.type!=="arr")throw new Yt(`Expect array, but got ${t.type}.`)}function dx(t){return t.type==="str"}function yx(t){return t.type==="num"}function wx(t){return t.type==="obj"}function mx(t){return t.type==="arr"}function Ch(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function kh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>kh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Ph(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Ph(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=Ph(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Eh(t){if(t===null)return Rt;if(typeof t=="boolean")return Eu(t);if(typeof t=="string")return Qt(t);if(typeof t=="number")return Oe(t);if(Array.isArray(t))return Gr(t.map(r=>Eh(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,Eh(n));return pp(r)}return Rt}const $x={help:Qt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Qt("0.14.1"),"Core:ai":Qt("kawaii"),"Core:not":ve(([t])=>(vs(t),t.value?Gs:un)),"Core:eq":ve(([t,r])=>(Ys(t),Ys(r),Ch(t,r)?un:Gs)),"Core:neq":ve(([t,r])=>(Ys(t),Ys(r),Ch(t,r)?Gs:un)),"Core:and":ve(([t,r])=>(vs(t),t.value?(vs(r),r.value?un:Gs):Gs)),"Core:or":ve(([t,r])=>(vs(t),t.value?un:(vs(r),r.value?un:Gs))),"Core:add":ve(([t,r])=>(Ee(t),Ee(r),Oe(t.value+r.value))),"Core:sub":ve(([t,r])=>(Ee(t),Ee(r),Oe(t.value-r.value))),"Core:mul":ve(([t,r])=>(Ee(t),Ee(r),Oe(t.value*r.value))),"Core:pow":ve(([t,r])=>{Ee(t),Ee(r);const e=t.value**r.value;if(isNaN(e))throw new Yt("Invalid operation.");return Oe(e)}),"Core:div":ve(([t,r])=>{Ee(t),Ee(r);const e=t.value/r.value;if(isNaN(e))throw new Yt("Invalid operation.");return Oe(e)}),"Core:mod":ve(([t,r])=>(Ee(t),Ee(r),Oe(t.value%r.value))),"Core:gt":ve(([t,r])=>(Ee(t),Ee(r),t.value>r.value?un:Gs)),"Core:lt":ve(([t,r])=>(Ee(t),Ee(r),t.value<r.value?un:Gs)),"Core:gteq":ve(([t,r])=>(Ee(t),Ee(r),t.value>=r.value?un:Gs)),"Core:lteq":ve(([t,r])=>(Ee(t),Ee(r),t.value<=r.value?un:Gs)),"Core:type":ve(([t])=>(Ys(t),Qt(t.type))),"Core:to_str":ve(([t])=>(Ys(t),t.type==="str"?t:t.type==="num"?Qt(t.value.toString()):Qt("?"))),"Core:range":ve(([t,r])=>(Ee(t),Ee(r),t.value<r.value?Gr(Array.from({length:r.value-t.value+1},(e,n)=>Oe(n+t.value))):t.value>r.value?Gr(Array.from({length:t.value-r.value+1},(e,n)=>Oe(t.value-n))):Gr([t]))),"Util:uuid":ve(()=>Qt(fx())),"Json:stringify":ve(([t])=>(Ys(t),Qt(JSON.stringify(Ph(t))))),"Json:parse":ve(([t])=>(Tr(t),Eh(JSON.parse(t.value)))),"Json:parsable":ve(([t])=>{Tr(t);try{JSON.parse(t.value)}catch{return Eu(!1)}return Eu(!0)}),"Date:now":ve(()=>Oe(Date.now())),"Date:year":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":ve(([t])=>(t&&Ee(t),Oe(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":ve(([t])=>(Tr(t),Oe(new Date(t.value).getTime()))),"Math:Infinity":Oe(1/0),"Math:E":Oe(Math.E),"Math:LN2":Oe(Math.LN2),"Math:LN10":Oe(Math.LN10),"Math:LOG2E":Oe(Math.LOG2E),"Math:LOG10E":Oe(Math.LOG10E),"Math:PI":Oe(Math.PI),"Math:SQRT1_2":Oe(Math.SQRT1_2),"Math:SQRT2":Oe(Math.SQRT2),"Math:abs":ve(([t])=>(Ee(t),Oe(Math.abs(t.value)))),"Math:acos":ve(([t])=>(Ee(t),Oe(Math.acos(t.value)))),"Math:acosh":ve(([t])=>(Ee(t),Oe(Math.acosh(t.value)))),"Math:asin":ve(([t])=>(Ee(t),Oe(Math.asin(t.value)))),"Math:asinh":ve(([t])=>(Ee(t),Oe(Math.asinh(t.value)))),"Math:atan":ve(([t])=>(Ee(t),Oe(Math.atan(t.value)))),"Math:atanh":ve(([t])=>(Ee(t),Oe(Math.atanh(t.value)))),"Math:atan2":ve(([t,r])=>(Ee(t),Ee(r),Oe(Math.atan2(t.value,r.value)))),"Math:cbrt":ve(([t])=>(Ee(t),Oe(Math.cbrt(t.value)))),"Math:ceil":ve(([t])=>(Ee(t),Oe(Math.ceil(t.value)))),"Math:clz32":ve(([t])=>(Ee(t),Oe(Math.clz32(t.value)))),"Math:cos":ve(([t])=>(Ee(t),Oe(Math.cos(t.value)))),"Math:cosh":ve(([t])=>(Ee(t),Oe(Math.cosh(t.value)))),"Math:exp":ve(([t])=>(Ee(t),Oe(Math.exp(t.value)))),"Math:expm1":ve(([t])=>(Ee(t),Oe(Math.expm1(t.value)))),"Math:floor":ve(([t])=>(Ee(t),Oe(Math.floor(t.value)))),"Math:fround":ve(([t])=>(Ee(t),Oe(Math.fround(t.value)))),"Math:hypot":ve(([t])=>{Mu(t);const r=[];for(const e of t.value)Ee(e),r.push(e.value);return Oe(Math.hypot(...r))}),"Math:imul":ve(([t,r])=>(Ee(t),Ee(r),Oe(Math.imul(t.value,r.value)))),"Math:log":ve(([t])=>(Ee(t),Oe(Math.log(t.value)))),"Math:log1p":ve(([t])=>(Ee(t),Oe(Math.log1p(t.value)))),"Math:log10":ve(([t])=>(Ee(t),Oe(Math.log10(t.value)))),"Math:log2":ve(([t])=>(Ee(t),Oe(Math.log2(t.value)))),"Math:max":ve(([t,r])=>(Ee(t),Ee(r),Oe(Math.max(t.value,r.value)))),"Math:min":ve(([t,r])=>(Ee(t),Ee(r),Oe(Math.min(t.value,r.value)))),"Math:pow":ve(([t,r])=>(Ee(t),Ee(r),Oe(Math.pow(t.value,r.value)))),"Math:round":ve(([t])=>(Ee(t),Oe(Math.round(t.value)))),"Math:sign":ve(([t])=>(Ee(t),Oe(Math.sign(t.value)))),"Math:sin":ve(([t])=>(Ee(t),Oe(Math.sin(t.value)))),"Math:sinh":ve(([t])=>(Ee(t),Oe(Math.sinh(t.value)))),"Math:sqrt":ve(([t])=>{Ee(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Yt("Invalid operation.");return Oe(r)}),"Math:tan":ve(([t])=>(Ee(t),Oe(Math.tan(t.value)))),"Math:tanh":ve(([t])=>(Ee(t),Oe(Math.tanh(t.value)))),"Math:trunc":ve(([t])=>(Ee(t),Oe(Math.trunc(t.value)))),"Math:rnd":ve(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Oe(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Oe(Math.random())),"Math:gen_rng":ve(([t])=>{if(Ys(t),t.type!=="num"&&t.type!=="str")return Rt;const r=uf(t.value.toString());return ve(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Oe(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Oe(r()))}),"Num:to_hex":ve(([t])=>(Ee(t),Qt(t.value.toString(16)))),"Num:from_hex":ve(([t])=>(Tr(t),Oe(parseInt(t.value,16)))),"Str:lf":Qt(`
`),"Str:lt":ve(([t,r])=>(Tr(t),Tr(r),t.value<r.value?Oe(-1):t.value===r.value?Oe(0):Oe(1))),"Str:gt":ve(([t,r])=>(Tr(t),Tr(r),t.value>r.value?Oe(-1):t.value===r.value?Oe(0):Oe(1))),"Obj:keys":ve(([t])=>(ai(t),Gr(Array.from(t.value.keys()).map(r=>Qt(r))))),"Obj:vals":ve(([t])=>(ai(t),Gr(Array.from(t.value.values())))),"Obj:kvs":ve(([t])=>(ai(t),Gr(Array.from(t.value.entries()).map(([r,e])=>Gr([Qt(r),e]))))),"Obj:get":ve(([t,r])=>(ai(t),Tr(r),t.value.get(r.value)??Rt)),"Obj:set":ve(([t,r,e])=>(ai(t),Tr(r),Ys(e),t.value.set(r.value,e),Rt)),"Obj:has":ve(([t,r])=>(ai(t),Tr(r),Eu(t.value.has(r.value)))),"Obj:copy":ve(([t])=>(ai(t),pp(new Map(t.value)))),"Async:interval":ve(async([t,r,e],n)=>{Ee(t),pi(r),e&&(vs(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.call(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),ve(([],$)=>{clearInterval(h),$.unregisterAbortHandler(d)})}),"Async:timeout":ve(async([t,r],e)=>{Ee(t),pi(r);const n=setTimeout(()=>{e.call(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),ve(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},vu={num:{to_str:t=>ve(async(r,e)=>Qt(t.value.toString()))},str:{to_num:t=>ve(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?Rt:Oe(n)}),len:t=>Oe(ff(t.value)),replace:t=>ve(async([r,e],n)=>(Tr(r),Tr(e),Qt(t.value.split(r.value).join(e.value)))),index_of:t=>ve(async([r],e)=>(Tr(r),Oe(hf(t.value,r.value)))),incl:t=>ve(async([r],e)=>(Tr(r),t.value.includes(r.value)?un:Gs)),trim:t=>ve(async(r,e)=>Qt(t.value.trim())),upper:t=>ve(async(r,e)=>Qt(t.value.toUpperCase())),lower:t=>ve(async(r,e)=>Qt(t.value.toLowerCase())),split:t=>ve(async([r],e)=>(r&&Tr(r),Gr(r?t.value.split(r?r.value:"").map(n=>Qt(n)):Rn(t.value).map(n=>Qt(n))))),slice:t=>ve(async([r,e],n)=>(Ee(r),Ee(e),Qt(cf(t.value,r.value,e.value)))),pick:t=>ve(async([r],e)=>{Ee(r);const h=Rn(t.value)[r.value];return h?Qt(h):Rt})},arr:{len:t=>Oe(t.value.length),push:t=>ve(async([r],e)=>(Ys(r),t.value.push(r),t)),unshift:t=>ve(async([r],e)=>(Ys(r),t.value.unshift(r),t)),pop:t=>ve(async(r,e)=>t.value.pop()??Rt),shift:t=>ve(async(r,e)=>t.value.shift()??Rt),concat:t=>ve(async([r],e)=>(Mu(r),Gr(t.value.concat(r.value)))),slice:t=>ve(async([r,e],n)=>(Ee(r),Ee(e),Gr(t.value.slice(r.value,e.value)))),join:t=>ve(async([r],e)=>(r&&Tr(r),Qt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>ve(async([r],e)=>{pi(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Oe(d)]));return Gr(await Promise.all(n))}),filter:t=>ve(async([r],e)=>{pi(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],$=await e.call(r,[d,Oe(h)]);vs($),$.value&&n.push(d)}return Gr(n)}),reduce:t=>ve(async([r,e],n)=>{pi(r);const h=e!=null;let d=h?e:t.value[0];for(let $=h?0:1;$<t.value.length;$++){const b=t.value[$];d=await n.call(r,[d,b,Oe($)])}return d}),find:t=>ve(async([r],e)=>{pi(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Oe(n)]);if(vs(d),d.value)return h}return Rt}),incl:t=>ve(async([r],e)=>(Ys(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Gs:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?un:Gs)),reverse:t=>ve(async(r,e)=>(t.value.reverse(),Rt)),copy:t=>ve(async(r,e)=>Gr([...t.value])),sort:t=>ve(async([r],e)=>{const n=async(d,$)=>{if(d.length<=1)return d;const b=Math.floor(d.length/2),k=await n(d.slice(0,b),$),E=await n(d.slice(b),$);return h(k,E,$)},h=async(d,$,b)=>{const k=[];let E=0,F=0;for(;E<d.length&&F<$.length;){const j=d[E],D=$[F],W=await e.call(b,[j,D]);Ee(W),W.value<0?(k.push(d[E]),E++):(k.push($[F]),F++)}return k.concat(d.slice(E)).concat($.slice(F))};return pi(r),Mu(t),t.value=await n(t.value,r),t})}};var rn=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const ed=300,xx=ed-1;let As=class{constructor(r,e){me(this,"vars");me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);this.opts=e??{};const n={print:ve(([h])=>{Ys(h),this.opts.out&&this.opts.out(h)}),readline:ve(async h=>{const d=h[0];if(Tr(d),this.opts.in==null)return Rt;const $=await this.opts.in(d.value);return Qt($)})};this.vars={...r,...$x,...n},this.scope=new Ai([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[$,b]of h.value.entries())d[$]=e(b);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{const h=await this._eval(n.expr,e);e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Rt;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],e[d]);const h=r.scope.createChildScope(n);return gx(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return Rt;if(this.stepCount%ed===xx&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Yt("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);pi(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(vs(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(vs(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Rt}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(Ch(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):Rt}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Rt}case"for":{if(r.times){const n=await this._eval(r.times,e);Ee(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Ee(n),Ee(h);for(let d=n.value;d<n.value+h.value;d++){const $=await this._eval(r.for,e.createChildScope(new Map([[r.var,Oe(d)]])));if($.type==="break")break;if($.type==="return")return $}}return Rt}case"each":{const n=await this._eval(r.items,e);Mu(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,h]])));if(d.type==="break")break;if(d.type==="return")return d}return Rt}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,n),Rt}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),Rt}case"addAssign":{const n=await this._eval(r.dest,e);Ee(n);const h=await this._eval(r.expr,e);return Ee(h),await this.assign(e,r.dest,Oe(n.value+h.value)),Rt}case"subAssign":{const n=await this._eval(r.dest,e);Ee(n);const h=await this._eval(r.expr,e);return Ee(h),await this.assign(e,r.dest,Oe(n.value-h.value)),Rt}case"null":return Rt;case"bool":return Eu(r.value);case"num":return Oe(r.value);case"str":return Qt(r.value);case"arr":return Gr(await Promise.all(r.value.map(async n=>await this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return pp(n)}case"prop":{const n=await this._eval(r.target,e);if(wx(n))return n.value.has(r.name)?n.value.get(r.name):Rt;if(yx(n)){if(Object.hasOwn(vu.num,r.name))return vu.num[r.name](n);throw new Yt(`No such prop (${r.name}) in ${n.type}.`)}else if(dx(n)){if(Object.hasOwn(vu.str,r.name))return vu.str[r.name](n);throw new Yt(`No such prop (${r.name}) in ${n.type}.`)}else if(mx(n)){if(Object.hasOwn(vu.arr,r.name))return vu.arr[r.name](n);throw new Yt(`No such prop (${r.name}) in ${n.type}.`)}else throw new Yt(`Cannot read prop (${r.name}) of ${n.type}.`)}case"index":{const n=await this._eval(r.target,e);Mu(n);const h=await this._eval(r.index,e);Ee(h);const d=n.value[h.value];if(d===void 0)throw new ax(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}case"not":{const n=await this._eval(r.expr,e);return vs(n),Eu(!n.value)}case"fn":return cx(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);let $="";d.type==="str"?$=d.value:d.type==="num"&&($=d.value.toString()),n+=$}return Qt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),hx(n)}case"break":return this.log("block:break",{scope:e.name}),px();case"continue":return this.log("block:continue",{scope:e.name}),vx();case"ns":return Rt;case"meta":return Rt;case"and":{const n=await this._eval(r.left,e);if(vs(n),n.value){const h=await this._eval(r.right,e);return vs(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(vs(n),n.value)return n;{const h=await this._eval(r.right,e);return vs(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=Rt;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r);Mu(h);const d=await this._eval(e.index,r);Ee(d),h.value[d.value]=n}else if(e.type==="prop"){const h=await this._eval(e.target,r);ai(h),h.value.set(e.name,n)}else throw new Yt("The left-hand side of an assignment expression must be a variable or a property/index access.")}};rn([ft],As.prototype,"exec",null);rn([ft],As.prototype,"execFn",null);rn([ft],As.prototype,"log",null);rn([ft],As.prototype,"collectNs",null);rn([ft],As.prototype,"collectNsMember",null);rn([ft],As.prototype,"_fn",null);rn([ft],As.prototype,"_eval",null);rn([ft],As.prototype,"_run",null);rn([ft],As.prototype,"registerAbortHandler",null);rn([ft],As.prototype,"unregisterAbortHandler",null);rn([ft],As.prototype,"abort",null);rn([ft],As.prototype,"assign",null);rn([ft],As,"collectMetadata",null);function bx(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Yo(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,Yo.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}bx(Yo,Error);function Bc(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Yo.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,$=this.location.source+":"+d.line+":"+d.column;if(e){var b=this.location.end,k=Bc("",d.line.toString().length," "),E=e[h.line-1],F=h.line===b.line?b.column:E.length+1,j=F-h.column||1;r+=`
 --> `+$+`
`+k+` |
`+d.line+" | "+E+`
`+k+" | "+Bc("",h.column-1," ")+Bc("",j,"^")}else r+=`
 at `+$}return r};Yo.buildMessage=function(t,r){var e={literal:function(E){return'"'+h(E.text)+'"'},class:function(E){var F=E.parts.map(function(j){return Array.isArray(j)?d(j[0])+"-"+d(j[1]):d(j)});return"["+(E.inverted?"^":"")+F.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function n(E){return E.charCodeAt(0).toString(16).toUpperCase()}function h(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function d(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function $(E){return e[E.type](E)}function b(E){var F=E.map($),j,D;if(F.sort(),F.length>0){for(j=1,D=1;j<F.length;j++)F[j-1]!==F[j]&&(F[D]=F[j],D++);F.length=D}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}function k(E){return E?'"'+h(E)+'"':"end of input"}return"Expected "+b(t)+" but "+k(r)+" found."};function mv(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:M,Main:_a},d=M,$="//",b="/*",k="*/",E="(",F=")",j="::",D="{",W="}",pe="###",te="let",le=":",Ae="=",U="var",L="<:",q="#[",B="]",G="each",J=",",Q="for",X="return",$e="loop",Pe="break",ge="continue",qe="+=",it="-=",Jt="\\",lt="||",nt="&&",je="==",at="!=",St="<=",Ft=">=",Qe="<",Nr=">",Lt="+",wr="-",Pt="*",dr="^",Or="/",kr="%",Mr="!",Nt="[",H=".",K="if",ee="elif",fe="else",he="match",ie="=>",Se="eval",de="`",we='"',ue="'",Te='\\"',He="\\'",De="true",Ve="false",Je="null",Ye=";",ct="@",xt="@(",Bt=`\r
`,bt=/^[A-Z0-9_:]/i,Zt=/^[^`{]/,Cs=/^[{}`]/,Vr=/^[+\-]/,Ot=/^[1-9]/,ht=/^[0-9]/,jt=/^[A-Z_]/i,Vn=/^[A-Z0-9_]/i,Wn=/^[\r\n]/,_i=/^[ \t\r\n]/,Ci=/^[ \t]/,tr=lo(),rr=Y("//",!1),ki=Y("/*",!1),gn=Y("*/",!1),mr=Y("(",!1),Et=Y(")",!1),$r=Y("::",!1),sr=Y("{",!1),et=Y("}",!1),Ht=Y("###",!1),jr=Y("let",!1),dt=Y(":",!1),yt=Y("=",!1),ss=Y("var",!1),Pi=Y("<:",!1),Ei=Y("#[",!1),ks=Y("]",!1),ns=Y("each",!1),wt=Y(",",!1),pt=Y("for",!1),Ps=Y("return",!1),or=Ut([["A","Z"],["0","9"],"_",":"],!1,!0),ur=Y("loop",!1),Mi=Y("break",!1),Si=Y("continue",!1),Fi=Y("+=",!1),Ni=Y("-=",!1),Kn=Y("\\",!1),Gn=Y("||",!1),Oi=Y("&&",!1),Ti=Y("==",!1),Ii=Y("!=",!1),ji=Y("<=",!1),Ri=Y(">=",!1),Jn=Y("<",!1),dn=Y(">",!1),Zn=Y("+",!1),Di=Y("-",!1),Qn=Y("*",!1),Xn=Y("^",!1),Li=Y("/",!1),Bi=Y("%",!1),Hi=Y("!",!1),yn=Y("[",!1),as=Y(".",!1),wn=Y("if",!1),Ui=Y("elif",!1),qi=Y("else",!1),zi=Y("match",!1),Es=Y("=>",!1),Ms=Y("eval",!1),Ss=Y("`",!1),Vi=Ut(["`","{"],!0,!1),Fs=Ut(["{","}","`"],!1,!1),Ns=Y('"',!1),Os=Y("'",!1),Ts=Y('\\"',!1),Is=Y("\\'",!1),js=Ut(["+","-"],!1,!1),Yn=Ut([["1","9"]],!1,!1),Mt=Ut([["0","9"]],!1,!1),ea=Y("true",!1),nr=Y("false",!1),Wi=Y("null",!1),Rs=Y(";",!1),Ki=Y("@",!1),is=Y("@(",!1),Gi=Ut([["A","Z"],"_"],!1,!0),mn=Ut([["A","Z"],["0","9"],"_"],!1,!0),Ji=Y(`\r
`,!1),ta=Ut(["\r",`
`],!1,!1),Zi=Ut([" ","	","\r",`
`],!1,!1),Qi=Ut([" ","	"],!1,!1),Xi=function(l){return l.join("")},Yi=function(){return A()},el=function(){return A()},tl=function(){return""},rl=function(){return""},sl=function(l){return l??[]},ra=function(l,f){return f},nl=function(l,f){return[l,...f]},$n=function(l,f){return f},al=function(l,f){return[l,...f]},xn=function(l,f){return f},il=function(l,f){return[l,...f]},sa=function(l){return l},ll=function(l,f){return ne("ns",{name:l,members:f})},ol=function(l,f){return ne("meta",{name:l,value:f})},ul=function(l){return ne("meta",{name:null,value:l})},fl=function(l,f,y){return ne("def",{name:l,varType:f,expr:y,mut:!1,attr:[]})},cl=function(l,f,y){return ne("def",{name:l,varType:f,expr:y,mut:!0,attr:[]})},hl=function(l){return ne("identifier",{name:"print",chain:[ne("callChain",{args:[l]})]})},pl=function(l,f){return ne("attr",{name:l,value:f??ne("bool",{value:!0})})},vl=function(l,f,y){return ne("each",{var:l,items:f,for:y})},gl=function(l,f,y){return ne("each",{var:l,items:f,for:y})},dl=function(l,f){return f},yl=function(l,f,y,c){return ne("for",{var:l,from:f??ne("num",{value:0}),to:y,for:c})},wl=function(l,f){return f},ml=function(l,f,y,c){return ne("for",{var:l,from:f??ne("num",{value:0}),to:y,for:c})},$l=function(l,f){return ne("for",{times:l,for:f})},xl=function(l,f){return ne("for",{times:l,for:f})},bl=function(l){return ne("return",{expr:l})},Al=function(l){return ne("loop",{statements:l})},_l=function(){return ne("break",{})},Cl=function(){return ne("continue",{})},kl=function(l,f,y){return f==="+="?ne("addAssign",{dest:l,expr:y}):f==="-="?ne("subAssign",{dest:l,expr:y}):ne("assign",{dest:l,expr:y})},na=function(l,f,y){return{op:f,term:y}},Pl=function(l,f){return ne("infix",{operands:[l,...f.map(y=>y.term)],operators:f.map(y=>y.op)})},aa=function(){return A()},El=function(l){return ne("not",{expr:l})},Ml=function(l,f){return{...l,chain:f}},Sl=function(l){return ne("callChain",{args:l??[]})},ia=function(l,f){return f},Fl=function(l,f){return[l,...f]},la=function(l){return ne("indexChain",{index:l})},Nl=function(l){return ne("propChain",{name:l})},Ol=function(l,f,y,c){return ne("if",{cond:l,then:f,elseif:y??[],else:c})},Tl=function(l,f){return[l,...f]},Il=function(l,f){return{cond:l,then:f}},jl=function(l){return l},oa=function(l,f,y){return{q:f,a:y}},Rl=function(l,f,y){return ne("match",{about:l,qs:f??[],default:y})},ua=function(l){return ne("block",{statements:l})},Dl=function(l){return ne("identifier",{name:l})},Ll=function(l){return ne("tmpl",{tmpl:l})},Bl=function(l){return l.join("")},fa=function(l){return l},Hl=function(l){return ne("str",{value:l.join("")})},ca=function(l){return l},ha=function(l){return ne("str",{value:l.join("")})},Ul=function(){return'"'},pa=function(){return"'"},ql=function(){return ne("num",{value:parseFloat(A())})},zl=function(){return ne("num",{value:parseFloat(A())})},Vl=function(){return ne("num",{value:parseInt(A(),10)})},Wl=function(){return ne("num",{value:parseInt(A(),10)})},Kl=function(){return ne("bool",{value:!0})},Gl=function(){return ne("bool",{value:!1})},Jl=function(){return ne("null",{})},va=function(l,f){return{k:l,v:f}},Zl=function(l){const f=new Map;for(const y of l)f.set(y.k,y.v);return ne("obj",{value:f})},ga=function(l){return l},da=function(l){return ne("arr",{value:l})},Ql=function(l,f){return{name:l,argType:f}},ya=function(l,f){return[l,...f]},Xl=function(l,f,y,c,s,o){return(l.length>0||y.length>0)&&Ls("Cannot use spaces before or after the function name."),ne("def",{name:f,expr:ne("fn",{args:c??[],retType:s},o??[]),mut:!1,attr:[]})},Yl=function(l,f,y){return ne("fn",{args:l??[],retType:f},y??[])},wa=function(l){return l},eo=function(l){return ne("arr",{value:l})},ma=function(l,f){return{k:l,v:f}},$a=function(l){const f=new Map;for(const y of l)f.set(y.k,y.v);return ne("obj",{value:f})},to=function(l,f){return ne("fnTypeSource",{args:l??[],result:f})},xa=function(l,f){return[l,...f]},ro=function(l,f){return ne("namedTypeSource",{name:l,inner:f})},so=function(l){return ne("namedTypeSource",{name:l,inner:null})},no=function(){return A()},ao=function(){return A()},io=function(l){return ne("block",{statements:l??[]})},i=0,V=0,Ds=[{line:1,column:1}],a=0,z=[],_=0,N={},Rr;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function A(){return t.substring(V,i)}function T(){return Bs(V,i)}function Ls(l,f){throw f=f!==void 0?f:Bs(V,i),ba(l,f)}function Y(l,f){return{type:"literal",text:l,ignoreCase:f}}function Ut(l,f,y){return{type:"class",parts:l,inverted:f,ignoreCase:y}}function lo(){return{type:"any"}}function se(){return{type:"end"}}function Tt(l){var f=Ds[l],y;if(f)return f;for(y=l-1;!Ds[y];)y--;for(f=Ds[y],f={line:f.line,column:f.column};y<l;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return Ds[l]=f,f}function Bs(l,f,y){var c=Tt(l),s=Tt(f),o={source:n,start:{offset:l,line:c.line,column:c.column},end:{offset:f,line:s.line,column:s.column}};return y&&n&&typeof n.offset=="function"&&(o.start=n.offset(o.start),o.end=n.offset(o.end)),o}function S(l){i<a||(i>a&&(a=i,z=[]),z.push(l))}function ba(l,f){return new Yo(l,null,null,f)}function Hs(l,f,y){return new Yo(Yo.buildMessage(l,f),l,f,y)}function M(){var l,f,y,c=i*76+0,s=N[c];if(s)return i=s.nextPos,s.result;for(l=i,f=[],y=Aa();y!==e;)f.push(y),y=Aa();return V=l,f=Xi(f),l=f,N[c]={nextPos:i,result:l},l}function Aa(){var l,f,y=i*76+1,c=N[y];return c?(i=c.nextPos,c.result):(l=i,f=Na(),f!==e&&(V=l,f=Yi()),l=f,l===e&&(l=i,f=qs(),f!==e&&(V=l,f=el()),l=f,l===e&&(l=oo(),l===e&&(t.length>i?(l=t.charAt(i),i++):(l=e,_===0&&S(tr))))),N[y]={nextPos:i,result:l},l)}function oo(){var l,f,y,c,s,o,p=i*76+2,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.substr(i,2)===$?(f=$,i+=2):(f=e,_===0&&S(rr)),f!==e){for(y=[],c=i,s=i,_++,o=qa(),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,o=qa(),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);V=l,l=tl()}else i=l,l=e;if(l===e)if(l=i,t.substr(i,2)===b?(f=b,i+=2):(f=e,_===0&&S(ki)),f!==e){for(y=[],c=i,s=i,_++,t.substr(i,2)===k?(o=k,i+=2):(o=e,_===0&&S(gn)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.substr(i,2)===k?(o=k,i+=2):(o=e,_===0&&S(gn)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);t.substr(i,2)===k?(c=k,i+=2):(c=e,_===0&&S(gn)),c!==e?(V=l,l=rl()):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function _a(){var l,f,y,c,s,o=i*76+3,p=N[o];if(p)return i=p.nextPos,p.result;for(l=i,f=[],y=x();y!==e;)f.push(y),y=x();for(y=Ca(),y===e&&(y=null),c=[],s=x();s!==e;)c.push(s),s=x();return V=l,l=sl(y),N[o]={nextPos:i,result:l},l}function Ca(){var l,f,y,c,s,o,p,u,g=i*76+4,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=bn(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=bn(),u!==e?(V=c,c=ra(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=bn(),u!==e?(V=c,c=ra(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=nl(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function uo(){var l,f,y,c,s,o,p,u,g=i*76+5,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=An(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=An(),u!==e?(V=c,c=$n(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=An(),u!==e?(V=c,c=$n(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=al(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function ls(){var l,f,y,c,s,o,p,u,g=i*76+6,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=fr(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=fr(),u!==e?(V=c,c=xn(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=fr(),u!==e?(V=c,c=xn(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=il(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function bn(){var l,f=i*76+7,y=N[f];return y?(i=y.nextPos,y.result):(l=os(),l===e&&(l=ka(),l===e&&(l=fr())),N[f]={nextPos:i,result:l},l)}function An(){var l,f=i*76+8,y=N[f];return y?(i=y.nextPos,y.result):(l=xr(),l===e&&(l=Ha(),l===e&&(l=os())),N[f]={nextPos:i,result:l},l)}function fr(){var l,f=i*76+9,y=N[f];return y?(i=y.nextPos,y.result):(l=xr(),l===e&&(l=Ha(),l===e&&(l=Pa(),l===e&&(l=ho(),l===e&&(l=fo(),l===e&&(l=Ea(),l===e&&(l=co(),l===e&&(l=po(),l===e&&(l=vo(),l===e&&(l=go(),l===e&&(l=yo(),l===e&&(l=Re()))))))))))),N[f]={nextPos:i,result:l},l)}function Re(){var l,f=i*76+10,y=N[f];return y?(i=y.nextPos,y.result):(l=wo(),l===e&&(l=Dr()),N[f]={nextPos:i,result:l},l)}function Dr(){var l,f=i*76+11,y=N[f];return y?(i=y.nextPos,y.result):(l=xo(),l===e&&(l=Po(),l===e&&(l=Ar(),l===e&&(l=Lr()))),N[f]={nextPos:i,result:l},l)}function Lr(){var l,f,y,c,s,o,p=i*76+12,u=N[p];if(u)return i=u.nextPos,u.result;if(l=Ao(),l===e&&(l=kn(),l===e&&(l=Na(),l===e&&(l=qs(),l===e&&(l=ja(),l===e&&(l=Sn(),l===e&&(l=La(),l===e&&(l=Ba(),l===e&&(l=ko(),l===e&&(l=mo(),l===e&&(l=_o(),l===e)))))))))))if(l=i,t.charCodeAt(i)===40?(f=E,i++):(f=e,_===0&&S(mr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Re(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e?(V=l,l=sa(c)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ie(){var l,f=i*76+13,y=N[f];return y?(i=y.nextPos,y.result):(l=ja(),l===e&&(l=qs(),l===e&&(l=Sn(),l===e&&(l=On(),l===e&&(l=Ua(),l===e&&(l=La()))))),N[f]={nextPos:i,result:l},l)}function os(){var l,f,y,c,s,o,p,u,g,v,m=i*76+14,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===j?(f=j,i+=2):(f=e,_===0&&S($r)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(t.charCodeAt(i)===123?(o=D,i++):(o=e,_===0&&S(sr)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(u=uo(),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();t.charCodeAt(i)===125?(v=W,i++):(v=e,_===0&&S(et)),v!==e?(V=l,l=ll(c,u)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function ka(){var l,f,y,c,s,o,p=i*76+15,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.substr(i,3)===pe?(f=pe,i+=3):(f=e,_===0&&S(Ht)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Be(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();o=Ie(),o!==e?(V=l,l=ol(c,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===pe?(f=pe,i+=3):(f=e,_===0&&S(Ht)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();c=Ie(),c!==e?(V=l,l=ul(c)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function xr(){var l,f,y,c,s,o,p,u,g,v=i*76+16,m=N[v];if(m)return i=m.nextPos,m.result;if(l=i,t.substr(i,3)===te?(f=te,i+=3):(f=e,_===0&&S(jr)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===58?(p=le,i++):(p=e,_===0&&S(dt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=qt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===61?(p=Ae,i++):(p=e,_===0&&S(yt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=Re(),g!==e?(V=l,l=fl(c,s,g)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===U?(f=U,i+=3):(f=e,_===0&&S(ss)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===58?(p=le,i++):(p=e,_===0&&S(dt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=qt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===61?(p=Ae,i++):(p=e,_===0&&S(yt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=Re(),g!==e?(V=l,l=cl(c,s,g)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[v]={nextPos:i,result:l},l}function Pa(){var l,f,y,c,s=i*76+17,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,t.substr(i,2)===L?(f=L,i+=2):(f=e,_===0&&S(Pi)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();c=Re(),c!==e?(V=l,l=hl(c)):(i=l,l=e)}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function fo(){var l,f,y,c,s,o,p,u=i*76+18,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,t.substr(i,2)===q?(f=q,i+=2):(f=e,_===0&&S(Ei)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();for(p=Ie(),p!==e?s=p:(i=s,s=e),s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();t.charCodeAt(i)===93?(p=B,i++):(p=e,_===0&&S(ks)),p!==e?(V=l,l=pl(c,s)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[u]={nextPos:i,result:l},l}function Ea(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+19,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.substr(i,4)===G?(f=G,i+=4):(f=e,_===0&&S(ns)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(t.substr(i,3)===te?(s=te,i+=3):(s=e,_===0&&S(jr)),s!==e){if(o=[],p=x(),p!==e)for(;p!==e;)o.push(p),p=x();else o=e;if(o!==e)if(p=Be(),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();for(t.charCodeAt(i)===44?(g=J,i++):(g=e,_===0&&S(wt)),g===e&&(g=null),v=[],m=x();m!==e;)v.push(m),m=x();if(m=Re(),m!==e)if(t.charCodeAt(i)===41?(w=F,i++):(w=e,_===0&&S(Et)),w!==e){for(C=[],P=x();P!==e;)C.push(P),P=x();P=It(),P!==e?(V=l,l=vl(p,m,P)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,4)===G?(f=G,i+=4):(f=e,_===0&&S(ns)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(t.substr(i,3)===te?(c=te,i+=3):(c=e,_===0&&S(jr)),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();if(v=Re(),v!==e){if(m=[],w=x(),w!==e)for(;w!==e;)m.push(w),w=x();else m=e;m!==e?(w=It(),w!==e?(V=l,l=gl(o,v,w)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function co(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R=i*76+20,Z=N[R];if(Z)return i=Z.nextPos,Z.result;if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(t.substr(i,3)===te?(s=te,i+=3):(s=e,_===0&&S(jr)),s!==e){if(o=[],p=x(),p!==e)for(;p!==e;)o.push(p),p=x();else o=e;if(o!==e)if(p=Be(),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();if(g=i,t.charCodeAt(i)===61?(v=Ae,i++):(v=e,_===0&&S(yt)),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();w=Re(),w!==e?(V=g,g=dl(p,w)):(i=g,g=e)}else i=g,g=e;for(g===e&&(g=null),t.charCodeAt(i)===44?(v=J,i++):(v=e,_===0&&S(wt)),v===e&&(v=null),m=[],w=x();w!==e;)m.push(w),w=x();if(w=Re(),w!==e)if(t.charCodeAt(i)===41?(C=F,i++):(C=e,_===0&&S(Et)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();I=It(),I!==e?(V=l,l=yl(p,g,w,I)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(t.substr(i,3)===te?(c=te,i+=3):(c=e,_===0&&S(jr)),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(u=i,t.charCodeAt(i)===61?(g=Ae,i++):(g=e,_===0&&S(yt)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();m=Re(),m!==e?(V=u,u=wl(o,m)):(i=u,u=e)}else i=u,u=e;for(u===e&&(u=null),t.charCodeAt(i)===44?(g=J,i++):(g=e,_===0&&S(wt)),g===e&&(g=null),v=[],m=x();m!==e;)v.push(m),m=x();if(m=Re(),m!==e){if(w=[],C=x(),C!==e)for(;C!==e;)w.push(C),C=x();else w=e;w!==e?(C=It(),C!==e?(V=l,l=ml(o,u,m,C)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(s=Re(),s!==e)if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=It(),u!==e?(V=l,l=$l(s,u)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Re(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;s!==e?(o=It(),o!==e?(V=l,l=xl(c,o)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e}}return N[R]={nextPos:i,result:l},l}function ho(){var l,f,y,c,s,o=i*76+21,p=N[o];if(p)return i=p.nextPos,p.result;if(l=i,t.substr(i,6)===X?(f=X,i+=6):(f=e,_===0&&S(Ps)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();s=Re(),s!==e?(V=l,l=bl(s)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[o]={nextPos:i,result:l},l}function po(){var l,f,y,c,s,o,p,u,g=i*76+22,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,t.substr(i,4)===$e?(f=$e,i+=4):(f=e,_===0&&S(ur)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===123?(c=D,i++):(c=e,_===0&&S(sr)),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();if(o=ls(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();t.charCodeAt(i)===125?(u=W,i++):(u=e,_===0&&S(et)),u!==e?(V=l,l=Al(o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function vo(){var l,f,y,c,s=i*76+23,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,5)===Pe?(f=Pe,i+=5):(f=e,_===0&&S(Mi)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=_l()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function go(){var l,f,y,c,s=i*76+24,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,8)===ge?(f=ge,i+=8):(f=e,_===0&&S(Si)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Cl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function yo(){var l,f,y,c,s,o,p=i*76+25,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Re(),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.substr(i,2)===qe?(c=qe,i+=2):(c=e,_===0&&S(Fi)),c===e&&(t.substr(i,2)===it?(c=it,i+=2):(c=e,_===0&&S(Ni)),c===e&&(t.charCodeAt(i)===61?(c=Ae,i++):(c=e,_===0&&S(yt)))),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();o=Re(),o!==e?(V=l,l=kl(f,c,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function wo(){var l,f,y,c,s,o,p,u,g=i*76+26,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=Dr(),f!==e){for(y=[],c=i,s=[],o=br();o!==e;)s.push(o),o=br();if(o=Ma(),o!==e){for(p=[],u=br();u!==e;)p.push(u),u=br();u=Dr(),u!==e?(V=c,c=na(f,o,u)):(i=c,c=e)}else i=c,c=e;if(c!==e)for(;c!==e;){for(y.push(c),c=i,s=[],o=br();o!==e;)s.push(o),o=br();if(o=Ma(),o!==e){for(p=[],u=br();u!==e;)p.push(u),u=br();u=Dr(),u!==e?(V=c,c=na(f,o,u)):(i=c,c=e)}else i=c,c=e}else y=e;y!==e?(V=l,l=Pl(f,y)):(i=l,l=e)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function br(){var l,f,y,c=i*76+27,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===92?(f=Jt,i++):(f=e,_===0&&S(Kn)),f!==e?(y=Ue(),y!==e?(f=[f,y],l=f):(i=l,l=e)):(i=l,l=e),l===e&&(l=be()),N[c]={nextPos:i,result:l},l)}function Ma(){var l,f,y=i*76+28,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===lt?(f=lt,i+=2):(f=e,_===0&&S(Gn)),f===e&&(t.substr(i,2)===nt?(f=nt,i+=2):(f=e,_===0&&S(Oi)),f===e&&(t.substr(i,2)===je?(f=je,i+=2):(f=e,_===0&&S(Ti)),f===e&&(t.substr(i,2)===at?(f=at,i+=2):(f=e,_===0&&S(Ii)),f===e&&(t.substr(i,2)===St?(f=St,i+=2):(f=e,_===0&&S(ji)),f===e&&(t.substr(i,2)===Ft?(f=Ft,i+=2):(f=e,_===0&&S(Ri)),f===e&&(t.charCodeAt(i)===60?(f=Qe,i++):(f=e,_===0&&S(Jn)),f===e&&(t.charCodeAt(i)===62?(f=Nr,i++):(f=e,_===0&&S(dn)),f===e&&(t.charCodeAt(i)===43?(f=Lt,i++):(f=e,_===0&&S(Zn)),f===e&&(t.charCodeAt(i)===45?(f=wr,i++):(f=e,_===0&&S(Di)),f===e&&(t.charCodeAt(i)===42?(f=Pt,i++):(f=e,_===0&&S(Qn)),f===e&&(t.charCodeAt(i)===94?(f=dr,i++):(f=e,_===0&&S(Xn)),f===e&&(t.charCodeAt(i)===47?(f=Or,i++):(f=e,_===0&&S(Li)),f===e&&(t.charCodeAt(i)===37?(f=kr,i++):(f=e,_===0&&S(Bi))))))))))))))),f!==e&&(V=l,f=aa()),l=f,N[y]={nextPos:i,result:l},l)}function mo(){var l,f,y,c=i*76+29,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===33?(f=Mr,i++):(f=e,_===0&&S(Hi)),f!==e?(y=Re(),y!==e?(V=l,l=El(y)):(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function Ar(){var l,f,y,c,s=i*76+30,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,f=Lr(),f!==e){if(y=[],c=_n(),c===e&&(c=Sa(),c===e&&(c=Cn())),c!==e)for(;c!==e;)y.push(c),c=_n(),c===e&&(c=Sa(),c===e&&(c=Cn()));else y=e;y!==e?(V=l,l=Ml(f,y)):(i=l,l=e)}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function _n(){var l,f,y,c,s,o,p=i*76+31,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===40?(f=E,i++):(f=e,_===0&&S(mr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=$o(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e?(V=l,l=Sl(c)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function $o(){var l,f,y,c,s,o,p=i*76+32,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Re(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=Re(),o!==e?(V=c,c=ia(f,o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=Re(),o!==e?(V=c,c=ia(f,o)):(i=c,c=e)):(i=c,c=e);V=l,l=Fl(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Sa(){var l,f,y,c,s,o,p=i*76+33,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Re(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=la(c)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Cn(){var l,f,y,c=i*76+34,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===46?(f=H,i++):(f=e,_===0&&S(as)),f!==e?(y=Be(),y!==e?(V=l,l=Nl(y)):(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function xo(){var l,f,y,c,s,o,p,u,g,v,m=i*76+35,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===K?(f=K,i+=2):(f=e,_===0&&S(wn)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Re(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=It(),o!==e){if(p=i,u=[],g=x(),g!==e)for(;g!==e;)u.push(g),g=x();else u=e;if(u!==e?(g=Fa(),g!==e?p=g:(i=p,p=e)):(i=p,p=e),p===e&&(p=null),u=i,g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;g!==e?(v=bo(),v!==e?u=v:(i=u,u=e)):(i=u,u=e),u===e&&(u=null),V=l,l=Ol(c,o,p,u)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Fa(){var l,f,y,c,s,o,p=i*76+36,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Us(),f!==e){for(y=[],c=i,s=[],o=x();o!==e;)s.push(o),o=x();for(o=Us(),o!==e?c=o:(i=c,c=e);c!==e;){for(y.push(c),c=i,s=[],o=x();o!==e;)s.push(o),o=x();o=Us(),o!==e?c=o:(i=c,c=e)}V=l,l=Tl(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Us(){var l,f,y,c,s,o,p,u=i*76+37,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,t.substr(i,4)===ee?(f=ee,i+=4):(f=e,_===0&&S(Ui)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();if(s=Re(),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();p=It(),p!==e?(V=l,l=Il(s,p)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e;return N[u]={nextPos:i,result:l},l}function bo(){var l,f,y,c,s,o=i*76+38,p=N[o];if(p)return i=p.nextPos,p.result;if(l=i,t.substr(i,4)===fe?(f=fe,i+=4):(f=e,_===0&&S(qi)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();s=It(),s!==e?(V=l,l=jl(s)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[o]={nextPos:i,result:l},l}function Ao(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=i*76+39,re=N[ye];if(re)return i=re.nextPos,re.result;if(l=i,t.substr(i,5)===he?(f=he,i+=5):(f=e,_===0&&S(zi)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();if(s=Re(),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===123?(p=D,i++):(p=e,_===0&&S(sr)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();if(g=[],v=i,m=Re(),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();V=v,v=oa(s,m,I)}else i=v,v=e}else i=v,v=e}else i=v,v=e;if(v!==e)for(;v!==e;)if(g.push(v),v=i,m=Re(),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();V=v,v=oa(s,m,I)}else i=v,v=e}else i=v,v=e}else i=v,v=e;else g=e;if(g!==e){if(v=i,t.charCodeAt(i)===42?(m=Pt,i++):(m=e,_===0&&S(Qn)),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();v=I}else i=v,v=e}else i=v,v=e}else i=v,v=e;for(v===e&&(v=null),m=[],w=x();w!==e;)m.push(w),w=x();t.charCodeAt(i)===125?(w=W,i++):(w=e,_===0&&S(et)),w!==e?(V=l,l=Rl(s,g,v)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e;else i=l,l=e;return N[ye]={nextPos:i,result:l},l}function kn(){var l,f,y,c,s,o,p,u,g=i*76+40,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,t.substr(i,4)===Se?(f=Se,i+=4):(f=e,_===0&&S(Ms)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===123?(c=D,i++):(c=e,_===0&&S(sr)),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();if(o=ls(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();t.charCodeAt(i)===125?(u=W,i++):(u=e,_===0&&S(et)),u!==e?(V=l,l=ua(o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function _o(){var l,f,y=i*76+41,c=N[y];return c?(i=c.nextPos,c.result):(l=i,f=Fo(),f!==e&&(V=l,f=Dl(f)),l=f,N[y]={nextPos:i,result:l},l)}function Na(){var l,f,y,c,s,o,p=i*76+42,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===96?(f=de,i++):(f=e,_===0&&S(Ss)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===96?(o=de,i++):(o=e,_===0&&S(Ss)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Oa(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===96?(o=de,i++):(o=e,_===0&&S(Ss)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Oa(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===96?(c=de,i++):(c=e,_===0&&S(Ss)),c!==e?(V=l,l=Ll(y)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Oa(){var l,f,y,c,s,o,p=i*76+43,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Re(),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();t.charCodeAt(i)===125?(o=W,i++):(o=e,_===0&&S(et)),o!==e?l=c:(i=l,l=e)}else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,f=[],y=Ta(),y!==e)for(;y!==e;)f.push(y),y=Ta();else f=e;f!==e&&(V=l,f=Bl(f)),l=f}return N[p]={nextPos:i,result:l},l}function Ta(){var l,f=i*76+44,y=N[f];return y?(i=y.nextPos,y.result):(l=Ia(),l===e&&(Zt.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Vi))),N[f]={nextPos:i,result:l},l)}function Ia(){var l,f,y,c=i*76+45,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===92?(f=Jt,i++):(f=e,_===0&&S(Kn)),f!==e?(Cs.test(t.charAt(i))?(y=t.charAt(i),i++):(y=e,_===0&&S(Fs)),y!==e?l=y:(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function qs(){var l,f,y,c,s,o,p=i*76+46,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===34?(f=we,i++):(f=e,_===0&&S(Ns)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===34?(o=we,i++):(o=e,_===0&&S(Ns)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Pn(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=fa(o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===34?(o=we,i++):(o=e,_===0&&S(Ns)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Pn(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=fa(o)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===34?(c=we,i++):(c=e,_===0&&S(Ns)),c!==e?(V=l,l=Hl(y)):(i=l,l=e)}else i=l,l=e;if(l===e)if(l=i,t.charCodeAt(i)===39?(f=ue,i++):(f=e,_===0&&S(Os)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===39?(o=ue,i++):(o=e,_===0&&S(Os)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=En(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=ca(o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===39?(o=ue,i++):(o=e,_===0&&S(Os)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=En(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=ca(o)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===39?(c=ue,i++):(c=e,_===0&&S(Os)),c!==e?(V=l,l=ha(y)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Pn(){var l,f,y=i*76+47,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===Te?(f=Te,i+=2):(f=e,_===0&&S(Ts)),f!==e&&(V=l,f=Ul()),l=f,N[y]={nextPos:i,result:l},l)}function En(){var l,f,y=i*76+48,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===He?(f=He,i+=2):(f=e,_===0&&S(Is)),f!==e&&(V=l,f=pa()),l=f,N[y]={nextPos:i,result:l},l)}function ja(){var l,f=i*76+49,y=N[f];return y?(i=y.nextPos,y.result):(l=Mn(),l===e&&(l=Ra()),N[f]={nextPos:i,result:l},l)}function Mn(){var l,f,y,c,s,o,p=i*76+50,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),Ot.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Yn)),f!==e){if(y=[],ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt)),c!==e)for(;c!==e;)y.push(c),ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt));else y=e;if(y!==e)if(t.charCodeAt(i)===46?(c=H,i++):(c=e,_===0&&S(as)),c!==e){if(s=[],ht.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,_===0&&S(Mt)),o!==e)for(;o!==e;)s.push(o),ht.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,_===0&&S(Mt));else s=e;s!==e?(V=l,l=ql()):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),ht.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Mt)),f!==e)if(t.charCodeAt(i)===46?(y=H,i++):(y=e,_===0&&S(as)),y!==e){if(c=[],ht.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,_===0&&S(Mt)),s!==e)for(;s!==e;)c.push(s),ht.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,_===0&&S(Mt));else c=e;c!==e?(V=l,l=zl()):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ra(){var l,f,y,c,s=i*76+51,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),Ot.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Yn)),f!==e){if(y=[],ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt)),c!==e)for(;c!==e;)y.push(c),ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt));else y=e;y!==e?(V=l,l=Vl()):(i=l,l=e)}else i=l,l=e;return l===e&&(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),ht.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Mt)),f!==e?(V=l,l=Wl()):(i=l,l=e)),N[s]={nextPos:i,result:l},l}function Sn(){var l,f=i*76+52,y=N[f];return y?(i=y.nextPos,y.result):(l=Da(),l===e&&(l=Co()),N[f]={nextPos:i,result:l},l)}function Da(){var l,f,y,c,s=i*76+53,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,4)===De?(f=De,i+=4):(f=e,_===0&&S(ea)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Kl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function Co(){var l,f,y,c,s=i*76+54,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,5)===Ve?(f=Ve,i+=5):(f=e,_===0&&S(nr)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Gl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function La(){var l,f,y,c,s=i*76+55,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,4)===Je?(f=Je,i+=4):(f=e,_===0&&S(Wi)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Jl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function Ba(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+56,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Re(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=va(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Re(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=va(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=W,i++):(s=e,_===0&&S(et)),s!==e?(V=l,l=Zl(c)):(i=l,l=e)}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function ko(){var l,f,y,c,s,o,p,u,g,v,m=i*76+57,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Re(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=ga(o)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Re(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=ga(o)}else i=s,s=e;for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=da(c)):(i=l,l=e)}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Fn(){var l,f,y,c,s,o,p,u=i*76+58,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,f=Be(),f!==e){for(y=i,c=[],s=x();s!==e;)c.push(s),s=x();if(t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();p=qt(),p!==e?y=p:(i=y,y=e)}else i=y,y=e;y===e&&(y=null),V=l,l=Ql(f,y)}else i=l,l=e;return N[u]={nextPos:i,result:l},l}function Nn(){var l,f,y,c,s,o,p=i*76+59,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Fn(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=Fn(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=Fn(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);V=l,l=ya(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ha(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=i*76+60,re=N[ye];if(re)return i=re.nextPos,re.result;if(l=i,t.charCodeAt(i)===64?(f=ct,i++):(f=e,_===0&&S(Ki)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Be(),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();if(t.charCodeAt(i)===40?(o=E,i++):(o=e,_===0&&S(mr)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(u=Nn(),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();if(t.charCodeAt(i)===41?(v=F,i++):(v=e,_===0&&S(Et)),v!==e){for(m=i,w=[],C=x();C!==e;)w.push(C),C=x();if(t.charCodeAt(i)===58?(C=le,i++):(C=e,_===0&&S(dt)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();I=qt(),I!==e?m=I:(i=m,m=e)}else i=m,m=e;for(m===e&&(m=null),w=[],C=x();C!==e;)w.push(C),C=x();if(t.charCodeAt(i)===123?(C=D,i++):(C=e,_===0&&S(sr)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();for(I=ls(),I===e&&(I=null),R=[],Z=x();Z!==e;)R.push(Z),Z=x();t.charCodeAt(i)===125?(Z=W,i++):(Z=e,_===0&&S(et)),Z!==e?(V=l,l=Xl(y,c,s,u,m,I)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[ye]={nextPos:i,result:l},l}function Po(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P=i*76+61,I=N[P];if(I)return i=I.nextPos,I.result;if(l=i,t.substr(i,2)===xt?(f=xt,i+=2):(f=e,_===0&&S(is)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=Nn(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=i,u=[],g=x();g!==e;)u.push(g),g=x();if(t.charCodeAt(i)===58?(g=le,i++):(g=e,_===0&&S(dt)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();m=qt(),m!==e?p=m:(i=p,p=e)}else i=p,p=e;for(p===e&&(p=null),u=[],g=x();g!==e;)u.push(g),g=x();if(t.charCodeAt(i)===123?(g=D,i++):(g=e,_===0&&S(sr)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();for(m=ls(),m===e&&(m=null),w=[],C=x();C!==e;)w.push(C),C=x();t.charCodeAt(i)===125?(C=W,i++):(C=e,_===0&&S(et)),C!==e?(V=l,l=Yl(c,p,m)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[P]={nextPos:i,result:l},l}function On(){var l,f,y,c,s,o,p,u,g,v,m=i*76+62,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Ie(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=wa(o)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Ie(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=wa(o)}else i=s,s=e;for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=eo(c)):(i=l,l=e)}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Ua(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+63,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Ie(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=ma(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Ie(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=ma(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=W,i++):(s=e,_===0&&S(et)),s!==e?(V=l,l=$a(c)):(i=l,l=e)}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function qt(){var l,f=i*76+64,y=N[f];return y?(i=y.nextPos,y.result):(l=Eo(),l===e&&(l=So()),N[f]={nextPos:i,result:l},l)}function Eo(){var l,f,y,c,s,o,p,u,g,v,m=i*76+65,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===xt?(f=xt,i+=2):(f=e,_===0&&S(is)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=Mo(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.substr(i,2)===ie?(u=ie,i+=2):(u=e,_===0&&S(Es)),u!==e){for(g=[],v=x();v!==e;)g.push(v),v=x();v=qt(),v!==e?(V=l,l=to(c,v)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Mo(){var l,f,y,c,s,o,p=i*76+66,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=qt(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=qt(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=qt(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);V=l,l=xa(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function So(){var l,f,y,c,s,o,p,u,g=i*76+67,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=Be(),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(t.charCodeAt(i)===60?(c=Qe,i++):(c=e,_===0&&S(Jn)),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();if(o=qt(),o!==e){for(p=[],u=be();u!==e;)p.push(u),u=be();t.charCodeAt(i)===62?(u=Nr,i++):(u=e,_===0&&S(dn)),u!==e?(V=l,l=ro(f,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return l===e&&(l=i,f=Be(),f!==e&&(V=l,f=so(f)),l=f),N[g]={nextPos:i,result:l},l}function Be(){var l,f,y,c,s=i*76+68,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,jt.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Gi)),f!==e){for(y=[],Vn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(mn));c!==e;)y.push(c),Vn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(mn));V=l,l=no()}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function Fo(){var l,f,y,c,s,o,p=i*76+69,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Be(),f!==e){for(y=[],c=i,t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e?(o=Be(),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e?(o=Be(),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);V=l,l=ao()}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Br(){var l,f,y,c,s,o=i*76+70,p=N[o];if(p)return i=p.nextPos,p.result;for(l=i,f=[],y=x();y!==e;)f.push(y),y=x();if(t.charCodeAt(i)===44?(y=J,i++):(y=e,_===0&&S(wt)),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();f=[f,y,c],l=f}else i=l,l=e;if(l===e)if(l=[],f=x(),f!==e)for(;f!==e;)l.push(f),f=x();else l=e;return N[o]={nextPos:i,result:l},l}function It(){var l,f,y,c,s,o,p=i*76+71,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=ls(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===125?(o=W,i++):(o=e,_===0&&S(et)),o!==e?(V=l,l=io(c)):(i=l,l=e)}else i=l,l=e;return l===e&&(l=fr()),N[p]={nextPos:i,result:l},l}function Ue(){var l,f=i*76+72,y=N[f];return y?(i=y.nextPos,y.result):(t.substr(i,2)===Bt?(l=Bt,i+=2):(l=e,_===0&&S(Ji)),l===e&&(Wn.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(ta))),N[f]={nextPos:i,result:l},l)}function qa(){var l,f,y=i*76+73,c=N[y];return c?(i=c.nextPos,c.result):(l=i,_++,t.length>i?(f=t.charAt(i),i++):(f=e,_===0&&S(tr)),_--,f===e?l=void 0:(i=l,l=e),l===e&&(l=Ue()),N[y]={nextPos:i,result:l},l)}function x(){var l,f=i*76+74,y=N[f];return y?(i=y.nextPos,y.result):(_i.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Zi)),N[f]={nextPos:i,result:l},l)}function be(){var l,f=i*76+75,y=N[f];return y?(i=y.nextPos,y.result):(Ci.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Qi)),N[f]={nextPos:i,result:l},l)}function ne(l,f,y){const c={type:l};f.children=y;for(const o of Object.keys(f))f[o]!==void 0&&(c[o]=f[o]);const s=T();return c.loc={start:s.start.offset,end:s.end.offset-1},c}if(Rr=d(),Rr!==e&&i===t.length)return Rr;throw Rr!==e&&i<t.length&&S(se()),Hs(z,a<t.length?t.charAt(a):null,a<t.length?Bs(a,a+1):Bs(a,a))}const Ax=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function _x(t){return Ax.includes(t.type)}function td(t){return"chain"in t&&t.chain!==null}function Cx(t,r,e){return{type:"call",target:t,args:r,loc:e}}function kx(t,r,e){return{type:"index",target:t,index:r,loc:e}}function Px(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function st(t,r){const e=r(t);switch(e.type){case"def":{e.expr=st(e.expr,r);break}case"return":{e.expr=st(e.expr,r);break}case"each":{e.items=st(e.items,r),e.for=st(e.for,r);break}case"for":{e.from!=null&&(e.from=st(e.from,r)),e.to!=null&&(e.to=st(e.to,r)),e.times!=null&&(e.times=st(e.times,r)),e.for=st(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=st(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=st(e.expr,r),e.dest=st(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=st(e.operands[n],r);break}case"not":{e.expr=st(e.expr,r);break}case"if":{e.cond=st(e.cond,r),e.then=st(e.then,r);for(const n of e.elseif)n.cond=st(n.cond,r),n.then=st(n.then,r);e.else!=null&&(e.else=st(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=st(e.children[n],r);break}case"match":{e.about=st(e.about,r);for(const n of e.qs)n.q=st(n.q,r),n.a=st(n.a,r);e.default!=null&&(e.default=st(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=st(e.statements[n],r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=st(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],st(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=st(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=st(e.args[n],r);break}case"indexChain":{e.index=st(e.index,r);break}case"call":{e.target=st(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=st(e.args[n],r);break}case"index":{e.target=st(e.target,r),e.index=st(e.index,r);break}case"prop":{e.target=st(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=st(e.members[n],r);break}case"or":case"and":{e.left=st(e.left,r),e.right=st(e.right,r);break}}if(td(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=st(e.chain[n],r);return e}const Hc=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Uc(t){throw new nu(`Reserved word "${t}" cannot be used as variable name.`)}function Ex(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Hc.includes(t.name)&&Uc(t.name);break}case"meta":{t.name!=null&&Hc.includes(t.name)&&Uc(t.name);break}case"fn":{for(const r of t.args)Hc.includes(r.name)&&Uc(r.name);break}}return t}function Mx(t){for(const r of t)st(r,Ex);return t}function $v(t){return{type:"simple",name:t}}function Sx(t,r){return{type:"generic",name:t,inners:r}}function Fx(t,r){return{type:"fn",args:t,result:r}}function Rf(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Rf(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Rf(n)).join(", "),e=Rf(t.result);return`@(${r}) { ${e} }`}}}function Su(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return $v(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Su(t.inner):r=$v("any"),Sx(t.name,[r])}}throw new nu(`Unknown type: '${Rf(t)}'`)}else{const r=t.args.map(e=>Su(e));return Fx(r,Su(t.result))}}function Nx(t){switch(t.type){case"def":{t.varType!=null&&Su(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Su(r.argType);t.retType!=null&&Su(t.retType);break}}return t}function Ox(t){for(const r of t)st(r,Nx);return t}function Df(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=Df(n.expr.children)),r.push(n);else{if(e.length>0)throw new nu("invalid attribute.");switch(n.type){case"fn":{n.children=Df(n.children);break}case"block":{n.statements=Df(n.statements);break}}r.push(n)}if(e.length>0)throw new nu("invalid attribute.");return r}function Tx(t){if(_x(t)&&td(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=Cx(n,h.args,h.loc);break}case"indexChain":{n=kx(n,h.index,h.loc);break}case"propChain":{n=Px(n,h.name,h.loc);break}}return n}return t}function Ix(t){for(let r=0;r<t.length;r++)t[r]=st(t[r],Tx);return t}function Lf(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function rd(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Lf(t,r,e);{const{left:n,right:h,info:d}=t;return Lf(n,rd(h,r,e),d)}}function Uo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[Uo(t.left),Uo(t.right)]}}const jx={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:Uo(t.left),right:Uo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:Uo(t.left),right:Uo(t.right)}),priority:3}};function Rx(t){const r=t.operators.map(n=>{const h=jx[n];if(h==null)throw new nu(`No such operator: ${n}.`);return h});let e=Lf(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=rd(e,t.operands[2+n],r[1+n]);return Uo(e)}function Dx(t){for(let r=0;r<t.length;r++)t[r]=st(t[r],e=>e.type==="infix"?Rx(e):e);return t}var Ga;let Lx=(Ga=class{constructor(){me(this,"plugins");this.plugins={validate:[Mx,Ox],transform:[Df,Ix,Dx]}}static parse(r){return Ga.instance==null&&(Ga.instance=new Ga),Ga.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=mv(r,{startRule:"Preprocess"});e=mv(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new nu(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`):new nu(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(Ga,"instance"),Ga);const Bx="0.15.0",Hx={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Mh=[],zu=null;function Ux(t){return Mh=Lx.parse(t),JSON.stringify(Mh,null,"	")}async function qx(t){zu==null||zu.abort(),zu=new As({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:kh(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:kh(e.val,!0),print:!1});break}}});try{await zu.exec(Mh)}catch(r){t.err(r)}}const zx=Object.freeze(Object.defineProperty({__proto__:null,exec:qx,parse:Ux,samples:Hx,version:Bx},Symbol.toStringTag,{value:"Module"}));class yc extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,yc)}}class au extends yc{constructor(r,e){super(r,e)}}class er extends yc{constructor(r,e){super(r,e)}}class Vx extends er{constructor(r,e){super(r,e)}}var cu=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};class zn{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new zn(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r);return this.log("read",{var:r,val:n}),n}throw new er(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new er(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){h.set(r,e),this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new er(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}}cu([ft],zn.prototype,"log",null);cu([ft],zn.prototype,"onUpdated",null);cu([ft],zn.prototype,"createChildScope",null);cu([ft],zn.prototype,"get",null);cu([ft],zn.prototype,"getAll",null);cu([ft],zn.prototype,"add",null);cu([ft],zn.prototype,"assign",null);let _f;const Wx=new Uint8Array(16);function Kx(){if(!_f&&(_f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _f(Wx)}const qr=[];for(let t=0;t<256;++t)qr.push((t+256).toString(16).slice(1));function Gx(t,r=0){return(qr[t[r+0]]+qr[t[r+1]]+qr[t[r+2]]+qr[t[r+3]]+"-"+qr[t[r+4]]+qr[t[r+5]]+"-"+qr[t[r+6]]+qr[t[r+7]]+"-"+qr[t[r+8]]+qr[t[r+9]]+"-"+qr[t[r+10]]+qr[t[r+11]]+qr[t[r+12]]+qr[t[r+13]]+qr[t[r+14]]+qr[t[r+15]]).toLowerCase()}const Jx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xv={randomUUID:Jx};function Zx(t,r,e){if(xv.randomUUID&&!r&&!t)return xv.randomUUID();t=t||{};const n=t.random||(t.rng||Kx)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return Gx(n)}const Dt={type:"null"},fn={type:"bool",value:!0},Js={type:"bool",value:!1},We=t=>({type:"num",value:t}),Xt=t=>({type:"str",value:t}),Fu=t=>({type:"bool",value:t}),vp=t=>({type:"obj",value:t}),Jr=t=>({type:"arr",value:t}),Qx=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),Me=t=>({type:"fn",native:t}),Xx=t=>({type:"return",value:t}),Yx=()=>({type:"break",value:null}),eb=()=>({type:"continue",value:null}),tb=t=>t.type==="return"?t.value:t;function en(t){if(t==null)throw new er("Expect anything, but got nothing.")}function gs(t){if(t==null)throw new er("Expect boolean, but got nothing.");if(t.type!=="bool")throw new er(`Expect boolean, but got ${t.type}.`)}function vi(t){if(t==null)throw new er("Expect function, but got nothing.");if(t.type!=="fn")throw new er(`Expect function, but got ${t.type}.`)}function Ir(t){if(t==null)throw new er("Expect string, but got nothing.");if(t.type!=="str")throw new er(`Expect string, but got ${t.type}.`)}function ze(t){if(t==null)throw new er("Expect number, but got nothing.");if(t.type!=="num")throw new er(`Expect number, but got ${t.type}.`)}function ii(t){if(t==null)throw new er("Expect object, but got nothing.");if(t.type!=="obj")throw new er(`Expect object, but got ${t.type}.`)}function Yu(t){if(t==null)throw new er("Expect array, but got nothing.");if(t.type!=="arr")throw new er(`Expect array, but got ${t.type}.`)}function rb(t){return t.type==="str"}function sb(t){return t.type==="num"}function nb(t){return t.type==="obj"}function ab(t){return t.type==="arr"}function Sh(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function Fh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>Fh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Nh(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Nh(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=Nh(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Oh(t){if(t===null)return Dt;if(typeof t=="boolean")return Fu(t);if(typeof t=="string")return Xt(t);if(typeof t=="number")return We(t);if(Array.isArray(t))return Jr(t.map(r=>Oh(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,Oh(n));return vp(r)}return Dt}const ib={help:Xt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Xt("0.14.1"),"Core:ai":Xt("kawaii"),"Core:not":Me(([t])=>(gs(t),t.value?Js:fn)),"Core:eq":Me(([t,r])=>(en(t),en(r),Sh(t,r)?fn:Js)),"Core:neq":Me(([t,r])=>(en(t),en(r),Sh(t,r)?Js:fn)),"Core:and":Me(([t,r])=>(gs(t),t.value?(gs(r),r.value?fn:Js):Js)),"Core:or":Me(([t,r])=>(gs(t),t.value?fn:(gs(r),r.value?fn:Js))),"Core:add":Me(([t,r])=>(ze(t),ze(r),We(t.value+r.value))),"Core:sub":Me(([t,r])=>(ze(t),ze(r),We(t.value-r.value))),"Core:mul":Me(([t,r])=>(ze(t),ze(r),We(t.value*r.value))),"Core:pow":Me(([t,r])=>{ze(t),ze(r);const e=t.value**r.value;if(isNaN(e))throw new er("Invalid operation.");return We(e)}),"Core:div":Me(([t,r])=>{ze(t),ze(r);const e=t.value/r.value;if(isNaN(e))throw new er("Invalid operation.");return We(e)}),"Core:mod":Me(([t,r])=>(ze(t),ze(r),We(t.value%r.value))),"Core:gt":Me(([t,r])=>(ze(t),ze(r),t.value>r.value?fn:Js)),"Core:lt":Me(([t,r])=>(ze(t),ze(r),t.value<r.value?fn:Js)),"Core:gteq":Me(([t,r])=>(ze(t),ze(r),t.value>=r.value?fn:Js)),"Core:lteq":Me(([t,r])=>(ze(t),ze(r),t.value<=r.value?fn:Js)),"Core:type":Me(([t])=>(en(t),Xt(t.type))),"Core:to_str":Me(([t])=>(en(t),t.type==="str"?t:t.type==="num"?Xt(t.value.toString()):Xt("?"))),"Core:range":Me(([t,r])=>(ze(t),ze(r),t.value<r.value?Jr(Array.from({length:r.value-t.value+1},(e,n)=>We(n+t.value))):t.value>r.value?Jr(Array.from({length:t.value-r.value+1},(e,n)=>We(t.value-n))):Jr([t]))),"Util:uuid":Me(()=>Xt(Zx())),"Json:stringify":Me(([t])=>(en(t),Xt(JSON.stringify(Nh(t))))),"Json:parse":Me(([t])=>(Ir(t),Oh(JSON.parse(t.value)))),"Json:parsable":Me(([t])=>{Ir(t);try{JSON.parse(t.value)}catch{return Fu(!1)}return Fu(!0)}),"Date:now":Me(()=>We(Date.now())),"Date:year":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":Me(([t])=>(t&&ze(t),We(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":Me(([t])=>(Ir(t),We(new Date(t.value).getTime()))),"Math:Infinity":We(1/0),"Math:PI":We(Math.PI),"Math:sin":Me(([t])=>(ze(t),We(Math.sin(t.value)))),"Math:cos":Me(([t])=>(ze(t),We(Math.cos(t.value)))),"Math:abs":Me(([t])=>(ze(t),We(Math.abs(t.value)))),"Math:sqrt":Me(([t])=>{ze(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new er("Invalid operation.");return We(r)}),"Math:round":Me(([t])=>(ze(t),We(Math.round(t.value)))),"Math:ceil":Me(([t])=>(ze(t),We(Math.ceil(t.value)))),"Math:floor":Me(([t])=>(ze(t),We(Math.floor(t.value)))),"Math:min":Me(([t,r])=>(ze(t),ze(r),We(Math.min(t.value,r.value)))),"Math:max":Me(([t,r])=>(ze(t),ze(r),We(Math.max(t.value,r.value)))),"Math:rnd":Me(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?We(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):We(Math.random())),"Math:gen_rng":Me(([t])=>{if(en(t),t.type!=="num"&&t.type!=="str")return Dt;const r=uf(t.value.toString());return Me(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?We(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):We(r()))}),"Num:to_hex":Me(([t])=>(ze(t),Xt(t.value.toString(16)))),"Num:from_hex":Me(([t])=>(Ir(t),We(parseInt(t.value,16)))),"Str:lf":Xt(`
`),"Str:lt":Me(([t,r])=>(Ir(t),Ir(r),t.value<r.value?We(-1):t.value===r.value?We(0):We(1))),"Str:gt":Me(([t,r])=>(Ir(t),Ir(r),t.value>r.value?We(-1):t.value===r.value?We(0):We(1))),"Obj:keys":Me(([t])=>(ii(t),Jr(Array.from(t.value.keys()).map(r=>Xt(r))))),"Obj:vals":Me(([t])=>(ii(t),Jr(Array.from(t.value.values())))),"Obj:kvs":Me(([t])=>(ii(t),Jr(Array.from(t.value.entries()).map(([r,e])=>Jr([Xt(r),e]))))),"Obj:get":Me(([t,r])=>(ii(t),Ir(r),t.value.get(r.value)??Dt)),"Obj:set":Me(([t,r,e])=>(ii(t),Ir(r),en(e),t.value.set(r.value,e),Dt)),"Obj:has":Me(([t,r])=>(ii(t),Ir(r),Fu(t.value.has(r.value)))),"Obj:copy":Me(([t])=>(ii(t),vp(new Map(t.value)))),"Async:interval":Me(async([t,r,e],n)=>{ze(t),vi(r),e&&(gs(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.call(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),Me(([],$)=>{clearInterval(h),$.unregisterAbortHandler(d)})}),"Async:timeout":Me(async([t,r],e)=>{ze(t),vi(r);const n=setTimeout(()=>{e.call(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),Me(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},gu={num:{to_str:t=>Me(async(r,e)=>Xt(t.value.toString()))},str:{to_num:t=>Me(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?Dt:We(n)}),len:t=>We(ff(t.value)),replace:t=>Me(async([r,e],n)=>(Ir(r),Ir(e),Xt(t.value.split(r.value).join(e.value)))),index_of:t=>Me(async([r],e)=>(Ir(r),We(hf(t.value,r.value)))),incl:t=>Me(async([r],e)=>(Ir(r),t.value.includes(r.value)?fn:Js)),trim:t=>Me(async(r,e)=>Xt(t.value.trim())),upper:t=>Me(async(r,e)=>Xt(t.value.toUpperCase())),lower:t=>Me(async(r,e)=>Xt(t.value.toLowerCase())),split:t=>Me(async([r],e)=>(r&&Ir(r),Jr(r?t.value.split(r?r.value:"").map(n=>Xt(n)):Rn(t.value).map(n=>Xt(n))))),slice:t=>Me(async([r,e],n)=>(ze(r),ze(e),Xt(cf(t.value,r.value,e.value)))),pick:t=>Me(async([r],e)=>{ze(r);const h=Rn(t.value)[r.value];return h?Xt(h):Dt})},arr:{len:t=>We(t.value.length),push:t=>Me(async([r],e)=>(en(r),t.value.push(r),t)),unshift:t=>Me(async([r],e)=>(en(r),t.value.unshift(r),t)),pop:t=>Me(async(r,e)=>t.value.pop()??Dt),shift:t=>Me(async(r,e)=>t.value.shift()??Dt),concat:t=>Me(async([r],e)=>(Yu(r),Jr(t.value.concat(r.value)))),slice:t=>Me(async([r,e],n)=>(ze(r),ze(e),Jr(t.value.slice(r.value,e.value)))),join:t=>Me(async([r],e)=>(r&&Ir(r),Xt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>Me(async([r],e)=>{vi(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,We(d)]));return Jr(await Promise.all(n))}),filter:t=>Me(async([r],e)=>{vi(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],$=await e.call(r,[d,We(h)]);gs($),$.value&&n.push(d)}return Jr(n)}),reduce:t=>Me(async([r,e],n)=>{vi(r);const h=e!=null;let d=h?e:t.value[0];for(let $=h?0:1;$<t.value.length;$++){const b=t.value[$];d=await n.call(r,[d,b,We($)])}return d}),find:t=>Me(async([r],e)=>{vi(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,We(n)]);if(gs(d),d.value)return h}return Dt}),incl:t=>Me(async([r],e)=>(en(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Js:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?fn:Js)),reverse:t=>Me(async(r,e)=>(t.value.reverse(),Dt)),copy:t=>Me(async(r,e)=>Jr([...t.value])),sort:t=>Me(async([r],e)=>{const n=async(d,$)=>{if(d.length<=1)return d;const b=Math.floor(d.length/2),k=await n(d.slice(0,b),$),E=await n(d.slice(b),$);return h(k,E,$)},h=async(d,$,b)=>{const k=[];let E=0,F=0;for(;E<d.length&&F<$.length;){const j=d[E],D=$[F],W=await e.call(b,[j,D]);ze(W),W.value<0?(k.push(d[E]),E++):(k.push($[F]),F++)}return k.concat(d.slice(E)).concat($.slice(F))};return vi(r),Yu(t),t.value=await n(t.value,r),t})}};var sn=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var b=t.length-1;b>=0;b--)($=t[b])&&(d=(h<3?$(d):h>3?$(r,e,d):$(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const sd=300,lb=sd-1;class _s{constructor(r,e){me(this,"vars");me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);this.opts=e??{};const n={print:Me(([h])=>{en(h),this.opts.out&&this.opts.out(h)}),readline:Me(async h=>{const d=h[0];if(Ir(d),this.opts.in==null)return Dt;const $=await this.opts.in(d.value);return Xt($)})};this.vars={...r,...ib,...n},this.scope=new zn([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[$,b]of h.value.entries())d[$]=e(b);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{const h=await this._eval(n.expr,e);e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Dt;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],e[d]);const h=r.scope.createChildScope(n);return tb(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return Dt;if(this.stepCount%sd===lb&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new er("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);vi(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(gs(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(gs(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Dt}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(Sh(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):Dt}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Dt}case"for":{if(r.times){const n=await this._eval(r.times,e);ze(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);ze(n),ze(h);for(let d=n.value;d<n.value+h.value;d++){const $=await this._eval(r.for,e.createChildScope(new Map([[r.var,We(d)]])));if($.type==="break")break;if($.type==="return")return $}}return Dt}case"each":{const n=await this._eval(r.items,e);Yu(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,h]])));if(d.type==="break")break;if(d.type==="return")return d}return Dt}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,n),Dt}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),Dt}case"addAssign":{const n=await this._eval(r.dest,e);ze(n);const h=await this._eval(r.expr,e);return ze(h),await this.assign(e,r.dest,We(n.value+h.value)),Dt}case"subAssign":{const n=await this._eval(r.dest,e);ze(n);const h=await this._eval(r.expr,e);return ze(h),await this.assign(e,r.dest,We(n.value-h.value)),Dt}case"null":return Dt;case"bool":return Fu(r.value);case"num":return We(r.value);case"str":return Xt(r.value);case"arr":return Jr(await Promise.all(r.value.map(async n=>await this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return vp(n)}case"prop":{const n=await this._eval(r.target,e);if(nb(n))return n.value.has(r.name)?n.value.get(r.name):Dt;if(sb(n)){if(Object.hasOwn(gu.num,r.name))return gu.num[r.name](n);throw new er(`No such prop (${r.name}) in ${n.type}.`)}else if(rb(n)){if(Object.hasOwn(gu.str,r.name))return gu.str[r.name](n);throw new er(`No such prop (${r.name}) in ${n.type}.`)}else if(ab(n)){if(Object.hasOwn(gu.arr,r.name))return gu.arr[r.name](n);throw new er(`No such prop (${r.name}) in ${n.type}.`)}else throw new er(`Cannot read prop (${r.name}) of ${n.type}.`)}case"index":{const n=await this._eval(r.target,e);Yu(n);const h=await this._eval(r.index,e);ze(h);const d=n.value[h.value];if(d===void 0)throw new Vx(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}case"not":{const n=await this._eval(r.expr,e);return gs(n),Fu(!n.value)}case"fn":return Qx(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);let $="";d.type==="str"?$=d.value:d.type==="num"&&($=d.value.toString()),n+=$}return Xt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),Xx(n)}case"break":return this.log("block:break",{scope:e.name}),Yx();case"continue":return this.log("block:continue",{scope:e.name}),eb();case"ns":return Dt;case"meta":return Dt;case"and":{const n=await this._eval(r.left,e);if(gs(n),n.value){const h=await this._eval(r.right,e);return gs(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(gs(n),n.value)return n;{const h=await this._eval(r.right,e);return gs(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=Dt;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r);Yu(h);const d=await this._eval(e.index,r);ze(d),h.value[d.value]=n}else if(e.type==="prop"){const h=await this._eval(e.target,r);ii(h),h.value.set(e.name,n)}else throw new er("The left-hand side of an assignment expression must be a variable or a property/index access.")}}sn([ft],_s.prototype,"exec",null);sn([ft],_s.prototype,"execFn",null);sn([ft],_s.prototype,"log",null);sn([ft],_s.prototype,"collectNs",null);sn([ft],_s.prototype,"collectNsMember",null);sn([ft],_s.prototype,"_fn",null);sn([ft],_s.prototype,"_eval",null);sn([ft],_s.prototype,"_run",null);sn([ft],_s.prototype,"registerAbortHandler",null);sn([ft],_s.prototype,"unregisterAbortHandler",null);sn([ft],_s.prototype,"abort",null);sn([ft],_s.prototype,"assign",null);sn([ft],_s,"collectMetadata",null);function ob(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function eu(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,eu.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}ob(eu,Error);function qc(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}eu.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,$=this.location.source+":"+d.line+":"+d.column;if(e){var b=this.location.end,k=qc("",d.line.toString().length," "),E=e[h.line-1],F=h.line===b.line?b.column:E.length+1,j=F-h.column||1;r+=`
 --> `+$+`
`+k+` |
`+d.line+" | "+E+`
`+k+" | "+qc("",h.column-1," ")+qc("",j,"^")}else r+=`
 at `+$}return r};eu.buildMessage=function(t,r){var e={literal:function(E){return'"'+h(E.text)+'"'},class:function(E){var F=E.parts.map(function(j){return Array.isArray(j)?d(j[0])+"-"+d(j[1]):d(j)});return"["+(E.inverted?"^":"")+F.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function n(E){return E.charCodeAt(0).toString(16).toUpperCase()}function h(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function d(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+n(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+n(F)})}function $(E){return e[E.type](E)}function b(E){var F=E.map($),j,D;if(F.sort(),F.length>0){for(j=1,D=1;j<F.length;j++)F[j-1]!==F[j]&&(F[D]=F[j],D++);F.length=D}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}function k(E){return E?'"'+h(E)+'"':"end of input"}return"Expected "+b(t)+" but "+k(r)+" found."};function bv(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:M,Main:_a},d=M,$="//",b="/*",k="*/",E="(",F=")",j="::",D="{",W="}",pe="###",te="let",le=":",Ae="=",U="var",L="<:",q="#[",B="]",G="each",J=",",Q="for",X="return",$e="loop",Pe="break",ge="continue",qe="+=",it="-=",Jt="\\",lt="||",nt="&&",je="==",at="!=",St="<=",Ft=">=",Qe="<",Nr=">",Lt="+",wr="-",Pt="*",dr="^",Or="/",kr="%",Mr="!",Nt="[",H=".",K="if",ee="elif",fe="else",he="match",ie="=>",Se="eval",de="`",we='"',ue="'",Te='\\"',He="\\'",De="true",Ve="false",Je="null",Ye=";",ct="@",xt="@(",Bt=`\r
`,bt=/^[A-Z0-9_:]/i,Zt=/^[^`{]/,Cs=/^[{}`]/,Vr=/^[+\-]/,Ot=/^[1-9]/,ht=/^[0-9]/,jt=/^[A-Z_]/i,Vn=/^[A-Z0-9_]/i,Wn=/^[\r\n]/,_i=/^[ \t\r\n]/,Ci=/^[ \t]/,tr=lo(),rr=Y("//",!1),ki=Y("/*",!1),gn=Y("*/",!1),mr=Y("(",!1),Et=Y(")",!1),$r=Y("::",!1),sr=Y("{",!1),et=Y("}",!1),Ht=Y("###",!1),jr=Y("let",!1),dt=Y(":",!1),yt=Y("=",!1),ss=Y("var",!1),Pi=Y("<:",!1),Ei=Y("#[",!1),ks=Y("]",!1),ns=Y("each",!1),wt=Y(",",!1),pt=Y("for",!1),Ps=Y("return",!1),or=Ut([["A","Z"],["0","9"],"_",":"],!1,!0),ur=Y("loop",!1),Mi=Y("break",!1),Si=Y("continue",!1),Fi=Y("+=",!1),Ni=Y("-=",!1),Kn=Y("\\",!1),Gn=Y("||",!1),Oi=Y("&&",!1),Ti=Y("==",!1),Ii=Y("!=",!1),ji=Y("<=",!1),Ri=Y(">=",!1),Jn=Y("<",!1),dn=Y(">",!1),Zn=Y("+",!1),Di=Y("-",!1),Qn=Y("*",!1),Xn=Y("^",!1),Li=Y("/",!1),Bi=Y("%",!1),Hi=Y("!",!1),yn=Y("[",!1),as=Y(".",!1),wn=Y("if",!1),Ui=Y("elif",!1),qi=Y("else",!1),zi=Y("match",!1),Es=Y("=>",!1),Ms=Y("eval",!1),Ss=Y("`",!1),Vi=Ut(["`","{"],!0,!1),Fs=Ut(["{","}","`"],!1,!1),Ns=Y('"',!1),Os=Y("'",!1),Ts=Y('\\"',!1),Is=Y("\\'",!1),js=Ut(["+","-"],!1,!1),Yn=Ut([["1","9"]],!1,!1),Mt=Ut([["0","9"]],!1,!1),ea=Y("true",!1),nr=Y("false",!1),Wi=Y("null",!1),Rs=Y(";",!1),Ki=Y("@",!1),is=Y("@(",!1),Gi=Ut([["A","Z"],"_"],!1,!0),mn=Ut([["A","Z"],["0","9"],"_"],!1,!0),Ji=Y(`\r
`,!1),ta=Ut(["\r",`
`],!1,!1),Zi=Ut([" ","	","\r",`
`],!1,!1),Qi=Ut([" ","	"],!1,!1),Xi=function(l){return l.join("")},Yi=function(){return A()},el=function(){return A()},tl=function(){return""},rl=function(){return""},sl=function(l){return l??[]},ra=function(l,f){return f},nl=function(l,f){return[l,...f]},$n=function(l,f){return f},al=function(l,f){return[l,...f]},xn=function(l,f){return f},il=function(l,f){return[l,...f]},sa=function(l){return l},ll=function(l,f){return ne("ns",{name:l,members:f})},ol=function(l,f){return ne("meta",{name:l,value:f})},ul=function(l){return ne("meta",{name:null,value:l})},fl=function(l,f,y){return ne("def",{name:l,varType:f,expr:y,mut:!1,attr:[]})},cl=function(l,f,y){return ne("def",{name:l,varType:f,expr:y,mut:!0,attr:[]})},hl=function(l){return ne("identifier",{name:"print",chain:[ne("callChain",{args:[l]})]})},pl=function(l,f){return ne("attr",{name:l,value:f??ne("bool",{value:!0})})},vl=function(l,f,y){return ne("each",{var:l,items:f,for:y})},gl=function(l,f,y){return ne("each",{var:l,items:f,for:y})},dl=function(l,f){return f},yl=function(l,f,y,c){return ne("for",{var:l,from:f??ne("num",{value:0}),to:y,for:c})},wl=function(l,f){return f},ml=function(l,f,y,c){return ne("for",{var:l,from:f??ne("num",{value:0}),to:y,for:c})},$l=function(l,f){return ne("for",{times:l,for:f})},xl=function(l,f){return ne("for",{times:l,for:f})},bl=function(l){return ne("return",{expr:l})},Al=function(l){return ne("loop",{statements:l})},_l=function(){return ne("break",{})},Cl=function(){return ne("continue",{})},kl=function(l,f,y){return f==="+="?ne("addAssign",{dest:l,expr:y}):f==="-="?ne("subAssign",{dest:l,expr:y}):ne("assign",{dest:l,expr:y})},na=function(l,f,y){return{op:f,term:y}},Pl=function(l,f){return ne("infix",{operands:[l,...f.map(y=>y.term)],operators:f.map(y=>y.op)})},aa=function(){return A()},El=function(l){return ne("not",{expr:l})},Ml=function(l,f){return{...l,chain:f}},Sl=function(l){return ne("callChain",{args:l??[]})},ia=function(l,f){return f},Fl=function(l,f){return[l,...f]},la=function(l){return ne("indexChain",{index:l})},Nl=function(l){return ne("propChain",{name:l})},Ol=function(l,f,y,c){return ne("if",{cond:l,then:f,elseif:y??[],else:c})},Tl=function(l,f){return[l,...f]},Il=function(l,f){return{cond:l,then:f}},jl=function(l){return l},oa=function(l,f,y){return{q:f,a:y}},Rl=function(l,f,y){return ne("match",{about:l,qs:f??[],default:y})},ua=function(l){return ne("block",{statements:l})},Dl=function(l){return ne("identifier",{name:l})},Ll=function(l){return ne("tmpl",{tmpl:l})},Bl=function(l){return l.join("")},fa=function(l){return l},Hl=function(l){return ne("str",{value:l.join("")})},ca=function(l){return l},ha=function(l){return ne("str",{value:l.join("")})},Ul=function(){return'"'},pa=function(){return"'"},ql=function(){return ne("num",{value:parseFloat(A())})},zl=function(){return ne("num",{value:parseFloat(A())})},Vl=function(){return ne("num",{value:parseInt(A(),10)})},Wl=function(){return ne("num",{value:parseInt(A(),10)})},Kl=function(){return ne("bool",{value:!0})},Gl=function(){return ne("bool",{value:!1})},Jl=function(){return ne("null",{})},va=function(l,f){return{k:l,v:f}},Zl=function(l){const f=new Map;for(const y of l)f.set(y.k,y.v);return ne("obj",{value:f})},ga=function(l){return l},da=function(l){return ne("arr",{value:l})},Ql=function(l,f){return{name:l,argType:f}},ya=function(l,f){return[l,...f]},Xl=function(l,f,y,c,s,o){return(l.length>0||y.length>0)&&Ls("Cannot use spaces before or after the function name."),ne("def",{name:f,expr:ne("fn",{args:c??[],retType:s},o??[]),mut:!1,attr:[]})},Yl=function(l,f,y){return ne("fn",{args:l??[],retType:f},y??[])},wa=function(l){return l},eo=function(l){return ne("arr",{value:l})},ma=function(l,f){return{k:l,v:f}},$a=function(l){const f=new Map;for(const y of l)f.set(y.k,y.v);return ne("obj",{value:f})},to=function(l,f){return ne("fnTypeSource",{args:l??[],result:f})},xa=function(l,f){return[l,...f]},ro=function(l,f){return ne("namedTypeSource",{name:l,inner:f})},so=function(l){return ne("namedTypeSource",{name:l,inner:null})},no=function(){return A()},ao=function(){return A()},io=function(l){return ne("block",{statements:l??[]})},i=0,V=0,Ds=[{line:1,column:1}],a=0,z=[],_=0,N={},Rr;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function A(){return t.substring(V,i)}function T(){return Bs(V,i)}function Ls(l,f){throw f=f!==void 0?f:Bs(V,i),ba(l,f)}function Y(l,f){return{type:"literal",text:l,ignoreCase:f}}function Ut(l,f,y){return{type:"class",parts:l,inverted:f,ignoreCase:y}}function lo(){return{type:"any"}}function se(){return{type:"end"}}function Tt(l){var f=Ds[l],y;if(f)return f;for(y=l-1;!Ds[y];)y--;for(f=Ds[y],f={line:f.line,column:f.column};y<l;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return Ds[l]=f,f}function Bs(l,f,y){var c=Tt(l),s=Tt(f),o={source:n,start:{offset:l,line:c.line,column:c.column},end:{offset:f,line:s.line,column:s.column}};return y&&n&&typeof n.offset=="function"&&(o.start=n.offset(o.start),o.end=n.offset(o.end)),o}function S(l){i<a||(i>a&&(a=i,z=[]),z.push(l))}function ba(l,f){return new eu(l,null,null,f)}function Hs(l,f,y){return new eu(eu.buildMessage(l,f),l,f,y)}function M(){var l,f,y,c=i*76+0,s=N[c];if(s)return i=s.nextPos,s.result;for(l=i,f=[],y=Aa();y!==e;)f.push(y),y=Aa();return V=l,f=Xi(f),l=f,N[c]={nextPos:i,result:l},l}function Aa(){var l,f,y=i*76+1,c=N[y];return c?(i=c.nextPos,c.result):(l=i,f=Na(),f!==e&&(V=l,f=Yi()),l=f,l===e&&(l=i,f=qs(),f!==e&&(V=l,f=el()),l=f,l===e&&(l=oo(),l===e&&(t.length>i?(l=t.charAt(i),i++):(l=e,_===0&&S(tr))))),N[y]={nextPos:i,result:l},l)}function oo(){var l,f,y,c,s,o,p=i*76+2,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.substr(i,2)===$?(f=$,i+=2):(f=e,_===0&&S(rr)),f!==e){for(y=[],c=i,s=i,_++,o=qa(),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,o=qa(),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);V=l,l=tl()}else i=l,l=e;if(l===e)if(l=i,t.substr(i,2)===b?(f=b,i+=2):(f=e,_===0&&S(ki)),f!==e){for(y=[],c=i,s=i,_++,t.substr(i,2)===k?(o=k,i+=2):(o=e,_===0&&S(gn)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.substr(i,2)===k?(o=k,i+=2):(o=e,_===0&&S(gn)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr)),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);t.substr(i,2)===k?(c=k,i+=2):(c=e,_===0&&S(gn)),c!==e?(V=l,l=rl()):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function _a(){var l,f,y,c,s,o=i*76+3,p=N[o];if(p)return i=p.nextPos,p.result;for(l=i,f=[],y=x();y!==e;)f.push(y),y=x();for(y=Ca(),y===e&&(y=null),c=[],s=x();s!==e;)c.push(s),s=x();return V=l,l=sl(y),N[o]={nextPos:i,result:l},l}function Ca(){var l,f,y,c,s,o,p,u,g=i*76+4,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=bn(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=bn(),u!==e?(V=c,c=ra(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=bn(),u!==e?(V=c,c=ra(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=nl(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function uo(){var l,f,y,c,s,o,p,u,g=i*76+5,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=An(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=An(),u!==e?(V=c,c=$n(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=An(),u!==e?(V=c,c=$n(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=al(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function ls(){var l,f,y,c,s,o,p,u,g=i*76+6,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=fr(),f!==e){for(y=[],c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=fr(),u!==e?(V=c,c=xn(f,u)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(y.push(c),c=i,s=[],o=be();o!==e;)s.push(o),o=be();if(o=Ue(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=fr(),u!==e?(V=c,c=xn(f,u)):(i=c,c=e)}else i=c,c=e}V=l,l=il(f,y)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function bn(){var l,f=i*76+7,y=N[f];return y?(i=y.nextPos,y.result):(l=os(),l===e&&(l=ka(),l===e&&(l=fr())),N[f]={nextPos:i,result:l},l)}function An(){var l,f=i*76+8,y=N[f];return y?(i=y.nextPos,y.result):(l=xr(),l===e&&(l=Ha(),l===e&&(l=os())),N[f]={nextPos:i,result:l},l)}function fr(){var l,f=i*76+9,y=N[f];return y?(i=y.nextPos,y.result):(l=xr(),l===e&&(l=Ha(),l===e&&(l=Pa(),l===e&&(l=ho(),l===e&&(l=fo(),l===e&&(l=Ea(),l===e&&(l=co(),l===e&&(l=po(),l===e&&(l=vo(),l===e&&(l=go(),l===e&&(l=yo(),l===e&&(l=Re()))))))))))),N[f]={nextPos:i,result:l},l)}function Re(){var l,f=i*76+10,y=N[f];return y?(i=y.nextPos,y.result):(l=wo(),l===e&&(l=Dr()),N[f]={nextPos:i,result:l},l)}function Dr(){var l,f=i*76+11,y=N[f];return y?(i=y.nextPos,y.result):(l=xo(),l===e&&(l=Po(),l===e&&(l=Ar(),l===e&&(l=Lr()))),N[f]={nextPos:i,result:l},l)}function Lr(){var l,f,y,c,s,o,p=i*76+12,u=N[p];if(u)return i=u.nextPos,u.result;if(l=Ao(),l===e&&(l=kn(),l===e&&(l=Na(),l===e&&(l=qs(),l===e&&(l=ja(),l===e&&(l=Sn(),l===e&&(l=La(),l===e&&(l=Ba(),l===e&&(l=ko(),l===e&&(l=mo(),l===e&&(l=_o(),l===e)))))))))))if(l=i,t.charCodeAt(i)===40?(f=E,i++):(f=e,_===0&&S(mr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Re(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e?(V=l,l=sa(c)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ie(){var l,f=i*76+13,y=N[f];return y?(i=y.nextPos,y.result):(l=ja(),l===e&&(l=qs(),l===e&&(l=Sn(),l===e&&(l=On(),l===e&&(l=Ua(),l===e&&(l=La()))))),N[f]={nextPos:i,result:l},l)}function os(){var l,f,y,c,s,o,p,u,g,v,m=i*76+14,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===j?(f=j,i+=2):(f=e,_===0&&S($r)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(t.charCodeAt(i)===123?(o=D,i++):(o=e,_===0&&S(sr)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(u=uo(),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();t.charCodeAt(i)===125?(v=W,i++):(v=e,_===0&&S(et)),v!==e?(V=l,l=ll(c,u)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function ka(){var l,f,y,c,s,o,p=i*76+15,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.substr(i,3)===pe?(f=pe,i+=3):(f=e,_===0&&S(Ht)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Be(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();o=Ie(),o!==e?(V=l,l=ol(c,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===pe?(f=pe,i+=3):(f=e,_===0&&S(Ht)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();c=Ie(),c!==e?(V=l,l=ul(c)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function xr(){var l,f,y,c,s,o,p,u,g,v=i*76+16,m=N[v];if(m)return i=m.nextPos,m.result;if(l=i,t.substr(i,3)===te?(f=te,i+=3):(f=e,_===0&&S(jr)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===58?(p=le,i++):(p=e,_===0&&S(dt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=qt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===61?(p=Ae,i++):(p=e,_===0&&S(yt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=Re(),g!==e?(V=l,l=fl(c,s,g)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===U?(f=U,i+=3):(f=e,_===0&&S(ss)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===58?(p=le,i++):(p=e,_===0&&S(dt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=qt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===61?(p=Ae,i++):(p=e,_===0&&S(yt)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();g=Re(),g!==e?(V=l,l=cl(c,s,g)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[v]={nextPos:i,result:l},l}function Pa(){var l,f,y,c,s=i*76+17,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,t.substr(i,2)===L?(f=L,i+=2):(f=e,_===0&&S(Pi)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();c=Re(),c!==e?(V=l,l=hl(c)):(i=l,l=e)}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function fo(){var l,f,y,c,s,o,p,u=i*76+18,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,t.substr(i,2)===q?(f=q,i+=2):(f=e,_===0&&S(Ei)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Be(),c!==e){for(s=i,o=[],p=x();p!==e;)o.push(p),p=x();for(p=Ie(),p!==e?s=p:(i=s,s=e),s===e&&(s=null),o=[],p=x();p!==e;)o.push(p),p=x();t.charCodeAt(i)===93?(p=B,i++):(p=e,_===0&&S(ks)),p!==e?(V=l,l=pl(c,s)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[u]={nextPos:i,result:l},l}function Ea(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+19,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.substr(i,4)===G?(f=G,i+=4):(f=e,_===0&&S(ns)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(t.substr(i,3)===te?(s=te,i+=3):(s=e,_===0&&S(jr)),s!==e){if(o=[],p=x(),p!==e)for(;p!==e;)o.push(p),p=x();else o=e;if(o!==e)if(p=Be(),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();for(t.charCodeAt(i)===44?(g=J,i++):(g=e,_===0&&S(wt)),g===e&&(g=null),v=[],m=x();m!==e;)v.push(m),m=x();if(m=Re(),m!==e)if(t.charCodeAt(i)===41?(w=F,i++):(w=e,_===0&&S(Et)),w!==e){for(C=[],P=x();P!==e;)C.push(P),P=x();P=It(),P!==e?(V=l,l=vl(p,m,P)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,4)===G?(f=G,i+=4):(f=e,_===0&&S(ns)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(t.substr(i,3)===te?(c=te,i+=3):(c=e,_===0&&S(jr)),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();if(v=Re(),v!==e){if(m=[],w=x(),w!==e)for(;w!==e;)m.push(w),w=x();else m=e;m!==e?(w=It(),w!==e?(V=l,l=gl(o,v,w)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function co(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R=i*76+20,Z=N[R];if(Z)return i=Z.nextPos,Z.result;if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(t.substr(i,3)===te?(s=te,i+=3):(s=e,_===0&&S(jr)),s!==e){if(o=[],p=x(),p!==e)for(;p!==e;)o.push(p),p=x();else o=e;if(o!==e)if(p=Be(),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();if(g=i,t.charCodeAt(i)===61?(v=Ae,i++):(v=e,_===0&&S(yt)),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();w=Re(),w!==e?(V=g,g=dl(p,w)):(i=g,g=e)}else i=g,g=e;for(g===e&&(g=null),t.charCodeAt(i)===44?(v=J,i++):(v=e,_===0&&S(wt)),v===e&&(v=null),m=[],w=x();w!==e;)m.push(w),w=x();if(w=Re(),w!==e)if(t.charCodeAt(i)===41?(C=F,i++):(C=e,_===0&&S(Et)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();I=It(),I!==e?(V=l,l=yl(p,g,w,I)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(t.substr(i,3)===te?(c=te,i+=3):(c=e,_===0&&S(jr)),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(u=i,t.charCodeAt(i)===61?(g=Ae,i++):(g=e,_===0&&S(yt)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();m=Re(),m!==e?(V=u,u=wl(o,m)):(i=u,u=e)}else i=u,u=e;for(u===e&&(u=null),t.charCodeAt(i)===44?(g=J,i++):(g=e,_===0&&S(wt)),g===e&&(g=null),v=[],m=x();m!==e;)v.push(m),m=x();if(m=Re(),m!==e){if(w=[],C=x(),C!==e)for(;C!==e;)w.push(C),C=x();else w=e;w!==e?(C=It(),C!==e?(V=l,l=ml(o,u,m,C)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===40?(c=E,i++):(c=e,_===0&&S(mr)),c!==e)if(s=Re(),s!==e)if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();u=It(),u!==e?(V=l,l=$l(s,u)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,t.substr(i,3)===Q?(f=Q,i+=3):(f=e,_===0&&S(pt)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Re(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;s!==e?(o=It(),o!==e?(V=l,l=xl(c,o)):(i=l,l=e)):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e}}return N[R]={nextPos:i,result:l},l}function ho(){var l,f,y,c,s,o=i*76+21,p=N[o];if(p)return i=p.nextPos,p.result;if(l=i,t.substr(i,6)===X?(f=X,i+=6):(f=e,_===0&&S(Ps)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();s=Re(),s!==e?(V=l,l=bl(s)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[o]={nextPos:i,result:l},l}function po(){var l,f,y,c,s,o,p,u,g=i*76+22,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,t.substr(i,4)===$e?(f=$e,i+=4):(f=e,_===0&&S(ur)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===123?(c=D,i++):(c=e,_===0&&S(sr)),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();if(o=ls(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();t.charCodeAt(i)===125?(u=W,i++):(u=e,_===0&&S(et)),u!==e?(V=l,l=Al(o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function vo(){var l,f,y,c,s=i*76+23,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,5)===Pe?(f=Pe,i+=5):(f=e,_===0&&S(Mi)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=_l()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function go(){var l,f,y,c,s=i*76+24,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,8)===ge?(f=ge,i+=8):(f=e,_===0&&S(Si)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Cl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function yo(){var l,f,y,c,s,o,p=i*76+25,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Re(),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.substr(i,2)===qe?(c=qe,i+=2):(c=e,_===0&&S(Fi)),c===e&&(t.substr(i,2)===it?(c=it,i+=2):(c=e,_===0&&S(Ni)),c===e&&(t.charCodeAt(i)===61?(c=Ae,i++):(c=e,_===0&&S(yt)))),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();o=Re(),o!==e?(V=l,l=kl(f,c,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function wo(){var l,f,y,c,s,o,p,u,g=i*76+26,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=Dr(),f!==e){for(y=[],c=i,s=[],o=br();o!==e;)s.push(o),o=br();if(o=Ma(),o!==e){for(p=[],u=br();u!==e;)p.push(u),u=br();u=Dr(),u!==e?(V=c,c=na(f,o,u)):(i=c,c=e)}else i=c,c=e;if(c!==e)for(;c!==e;){for(y.push(c),c=i,s=[],o=br();o!==e;)s.push(o),o=br();if(o=Ma(),o!==e){for(p=[],u=br();u!==e;)p.push(u),u=br();u=Dr(),u!==e?(V=c,c=na(f,o,u)):(i=c,c=e)}else i=c,c=e}else y=e;y!==e?(V=l,l=Pl(f,y)):(i=l,l=e)}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function br(){var l,f,y,c=i*76+27,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===92?(f=Jt,i++):(f=e,_===0&&S(Kn)),f!==e?(y=Ue(),y!==e?(f=[f,y],l=f):(i=l,l=e)):(i=l,l=e),l===e&&(l=be()),N[c]={nextPos:i,result:l},l)}function Ma(){var l,f,y=i*76+28,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===lt?(f=lt,i+=2):(f=e,_===0&&S(Gn)),f===e&&(t.substr(i,2)===nt?(f=nt,i+=2):(f=e,_===0&&S(Oi)),f===e&&(t.substr(i,2)===je?(f=je,i+=2):(f=e,_===0&&S(Ti)),f===e&&(t.substr(i,2)===at?(f=at,i+=2):(f=e,_===0&&S(Ii)),f===e&&(t.substr(i,2)===St?(f=St,i+=2):(f=e,_===0&&S(ji)),f===e&&(t.substr(i,2)===Ft?(f=Ft,i+=2):(f=e,_===0&&S(Ri)),f===e&&(t.charCodeAt(i)===60?(f=Qe,i++):(f=e,_===0&&S(Jn)),f===e&&(t.charCodeAt(i)===62?(f=Nr,i++):(f=e,_===0&&S(dn)),f===e&&(t.charCodeAt(i)===43?(f=Lt,i++):(f=e,_===0&&S(Zn)),f===e&&(t.charCodeAt(i)===45?(f=wr,i++):(f=e,_===0&&S(Di)),f===e&&(t.charCodeAt(i)===42?(f=Pt,i++):(f=e,_===0&&S(Qn)),f===e&&(t.charCodeAt(i)===94?(f=dr,i++):(f=e,_===0&&S(Xn)),f===e&&(t.charCodeAt(i)===47?(f=Or,i++):(f=e,_===0&&S(Li)),f===e&&(t.charCodeAt(i)===37?(f=kr,i++):(f=e,_===0&&S(Bi))))))))))))))),f!==e&&(V=l,f=aa()),l=f,N[y]={nextPos:i,result:l},l)}function mo(){var l,f,y,c=i*76+29,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===33?(f=Mr,i++):(f=e,_===0&&S(Hi)),f!==e?(y=Re(),y!==e?(V=l,l=El(y)):(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function Ar(){var l,f,y,c,s=i*76+30,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,f=Lr(),f!==e){if(y=[],c=_n(),c===e&&(c=Sa(),c===e&&(c=Cn())),c!==e)for(;c!==e;)y.push(c),c=_n(),c===e&&(c=Sa(),c===e&&(c=Cn()));else y=e;y!==e?(V=l,l=Ml(f,y)):(i=l,l=e)}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function _n(){var l,f,y,c,s,o,p=i*76+31,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===40?(f=E,i++):(f=e,_===0&&S(mr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=$o(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e?(V=l,l=Sl(c)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function $o(){var l,f,y,c,s,o,p=i*76+32,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Re(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=Re(),o!==e?(V=c,c=ia(f,o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=Re(),o!==e?(V=c,c=ia(f,o)):(i=c,c=e)):(i=c,c=e);V=l,l=Fl(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Sa(){var l,f,y,c,s,o,p=i*76+33,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=Re(),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=la(c)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Cn(){var l,f,y,c=i*76+34,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===46?(f=H,i++):(f=e,_===0&&S(as)),f!==e?(y=Be(),y!==e?(V=l,l=Nl(y)):(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function xo(){var l,f,y,c,s,o,p,u,g,v,m=i*76+35,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===K?(f=K,i+=2):(f=e,_===0&&S(wn)),f!==e){if(y=[],c=x(),c!==e)for(;c!==e;)y.push(c),c=x();else y=e;if(y!==e)if(c=Re(),c!==e){if(s=[],o=x(),o!==e)for(;o!==e;)s.push(o),o=x();else s=e;if(s!==e)if(o=It(),o!==e){if(p=i,u=[],g=x(),g!==e)for(;g!==e;)u.push(g),g=x();else u=e;if(u!==e?(g=Fa(),g!==e?p=g:(i=p,p=e)):(i=p,p=e),p===e&&(p=null),u=i,g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;g!==e?(v=bo(),v!==e?u=v:(i=u,u=e)):(i=u,u=e),u===e&&(u=null),V=l,l=Ol(c,o,p,u)}else i=l,l=e;else i=l,l=e}else i=l,l=e;else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Fa(){var l,f,y,c,s,o,p=i*76+36,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Us(),f!==e){for(y=[],c=i,s=[],o=x();o!==e;)s.push(o),o=x();for(o=Us(),o!==e?c=o:(i=c,c=e);c!==e;){for(y.push(c),c=i,s=[],o=x();o!==e;)s.push(o),o=x();o=Us(),o!==e?c=o:(i=c,c=e)}V=l,l=Tl(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Us(){var l,f,y,c,s,o,p,u=i*76+37,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,t.substr(i,4)===ee?(f=ee,i+=4):(f=e,_===0&&S(Ui)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();if(s=Re(),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();p=It(),p!==e?(V=l,l=Il(s,p)):(i=l,l=e)}else i=l,l=e}else i=l,l=e;else i=l,l=e;return N[u]={nextPos:i,result:l},l}function bo(){var l,f,y,c,s,o=i*76+38,p=N[o];if(p)return i=p.nextPos,p.result;if(l=i,t.substr(i,4)===fe?(f=fe,i+=4):(f=e,_===0&&S(qi)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();s=It(),s!==e?(V=l,l=jl(s)):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[o]={nextPos:i,result:l},l}function Ao(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=i*76+39,re=N[ye];if(re)return i=re.nextPos,re.result;if(l=i,t.substr(i,5)===he?(f=he,i+=5):(f=e,_===0&&S(zi)),f!==e)if(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();if(s=Re(),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();if(t.charCodeAt(i)===123?(p=D,i++):(p=e,_===0&&S(sr)),p!==e){for(u=[],g=x();g!==e;)u.push(g),g=x();if(g=[],v=i,m=Re(),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();V=v,v=oa(s,m,I)}else i=v,v=e}else i=v,v=e}else i=v,v=e;if(v!==e)for(;v!==e;)if(g.push(v),v=i,m=Re(),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();V=v,v=oa(s,m,I)}else i=v,v=e}else i=v,v=e}else i=v,v=e;else g=e;if(g!==e){if(v=i,t.charCodeAt(i)===42?(m=Pt,i++):(m=e,_===0&&S(Qn)),m!==e){for(w=[],C=x();C!==e;)w.push(C),C=x();if(t.substr(i,2)===ie?(C=ie,i+=2):(C=e,_===0&&S(Es)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();if(I=It(),I!==e){for(R=[],Z=x();Z!==e;)R.push(Z),Z=x();v=I}else i=v,v=e}else i=v,v=e}else i=v,v=e;for(v===e&&(v=null),m=[],w=x();w!==e;)m.push(w),w=x();t.charCodeAt(i)===125?(w=W,i++):(w=e,_===0&&S(et)),w!==e?(V=l,l=Rl(s,g,v)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e;else i=l,l=e;return N[ye]={nextPos:i,result:l},l}function kn(){var l,f,y,c,s,o,p,u,g=i*76+40,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,t.substr(i,4)===Se?(f=Se,i+=4):(f=e,_===0&&S(Ms)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(t.charCodeAt(i)===123?(c=D,i++):(c=e,_===0&&S(sr)),c!==e){for(s=[],o=x();o!==e;)s.push(o),o=x();if(o=ls(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();t.charCodeAt(i)===125?(u=W,i++):(u=e,_===0&&S(et)),u!==e?(V=l,l=ua(o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[g]={nextPos:i,result:l},l}function _o(){var l,f,y=i*76+41,c=N[y];return c?(i=c.nextPos,c.result):(l=i,f=Fo(),f!==e&&(V=l,f=Dl(f)),l=f,N[y]={nextPos:i,result:l},l)}function Na(){var l,f,y,c,s,o,p=i*76+42,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===96?(f=de,i++):(f=e,_===0&&S(Ss)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===96?(o=de,i++):(o=e,_===0&&S(Ss)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Oa(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===96?(o=de,i++):(o=e,_===0&&S(Ss)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Oa(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===96?(c=de,i++):(c=e,_===0&&S(Ss)),c!==e?(V=l,l=Ll(y)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Oa(){var l,f,y,c,s,o,p=i*76+43,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Re(),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();t.charCodeAt(i)===125?(o=W,i++):(o=e,_===0&&S(et)),o!==e?l=c:(i=l,l=e)}else i=l,l=e}else i=l,l=e;if(l===e){if(l=i,f=[],y=Ta(),y!==e)for(;y!==e;)f.push(y),y=Ta();else f=e;f!==e&&(V=l,f=Bl(f)),l=f}return N[p]={nextPos:i,result:l},l}function Ta(){var l,f=i*76+44,y=N[f];return y?(i=y.nextPos,y.result):(l=Ia(),l===e&&(Zt.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Vi))),N[f]={nextPos:i,result:l},l)}function Ia(){var l,f,y,c=i*76+45,s=N[c];return s?(i=s.nextPos,s.result):(l=i,t.charCodeAt(i)===92?(f=Jt,i++):(f=e,_===0&&S(Kn)),f!==e?(Cs.test(t.charAt(i))?(y=t.charAt(i),i++):(y=e,_===0&&S(Fs)),y!==e?l=y:(i=l,l=e)):(i=l,l=e),N[c]={nextPos:i,result:l},l)}function qs(){var l,f,y,c,s,o,p=i*76+46,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===34?(f=we,i++):(f=e,_===0&&S(Ns)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===34?(o=we,i++):(o=e,_===0&&S(Ns)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Pn(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=fa(o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===34?(o=we,i++):(o=e,_===0&&S(Ns)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=Pn(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=fa(o)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===34?(c=we,i++):(c=e,_===0&&S(Ns)),c!==e?(V=l,l=Hl(y)):(i=l,l=e)}else i=l,l=e;if(l===e)if(l=i,t.charCodeAt(i)===39?(f=ue,i++):(f=e,_===0&&S(Os)),f!==e){for(y=[],c=i,s=i,_++,t.charCodeAt(i)===39?(o=ue,i++):(o=e,_===0&&S(Os)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=En(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=ca(o)):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=i,_++,t.charCodeAt(i)===39?(o=ue,i++):(o=e,_===0&&S(Os)),_--,o===e?s=void 0:(i=s,s=e),s!==e?(o=En(),o===e&&(t.length>i?(o=t.charAt(i),i++):(o=e,_===0&&S(tr))),o!==e?(V=c,c=ca(o)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===39?(c=ue,i++):(c=e,_===0&&S(Os)),c!==e?(V=l,l=ha(y)):(i=l,l=e)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Pn(){var l,f,y=i*76+47,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===Te?(f=Te,i+=2):(f=e,_===0&&S(Ts)),f!==e&&(V=l,f=Ul()),l=f,N[y]={nextPos:i,result:l},l)}function En(){var l,f,y=i*76+48,c=N[y];return c?(i=c.nextPos,c.result):(l=i,t.substr(i,2)===He?(f=He,i+=2):(f=e,_===0&&S(Is)),f!==e&&(V=l,f=pa()),l=f,N[y]={nextPos:i,result:l},l)}function ja(){var l,f=i*76+49,y=N[f];return y?(i=y.nextPos,y.result):(l=Mn(),l===e&&(l=Ra()),N[f]={nextPos:i,result:l},l)}function Mn(){var l,f,y,c,s,o,p=i*76+50,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),Ot.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Yn)),f!==e){if(y=[],ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt)),c!==e)for(;c!==e;)y.push(c),ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt));else y=e;if(y!==e)if(t.charCodeAt(i)===46?(c=H,i++):(c=e,_===0&&S(as)),c!==e){if(s=[],ht.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,_===0&&S(Mt)),o!==e)for(;o!==e;)s.push(o),ht.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,_===0&&S(Mt));else s=e;s!==e?(V=l,l=ql()):(i=l,l=e)}else i=l,l=e;else i=l,l=e}else i=l,l=e;if(l===e)if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),ht.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Mt)),f!==e)if(t.charCodeAt(i)===46?(y=H,i++):(y=e,_===0&&S(as)),y!==e){if(c=[],ht.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,_===0&&S(Mt)),s!==e)for(;s!==e;)c.push(s),ht.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,_===0&&S(Mt));else c=e;c!==e?(V=l,l=zl()):(i=l,l=e)}else i=l,l=e;else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ra(){var l,f,y,c,s=i*76+51,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),Ot.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Yn)),f!==e){if(y=[],ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt)),c!==e)for(;c!==e;)y.push(c),ht.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(Mt));else y=e;y!==e?(V=l,l=Vl()):(i=l,l=e)}else i=l,l=e;return l===e&&(l=i,Vr.test(t.charAt(i))?(t.charAt(i),i++):_===0&&S(js),ht.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Mt)),f!==e?(V=l,l=Wl()):(i=l,l=e)),N[s]={nextPos:i,result:l},l}function Sn(){var l,f=i*76+52,y=N[f];return y?(i=y.nextPos,y.result):(l=Da(),l===e&&(l=Co()),N[f]={nextPos:i,result:l},l)}function Da(){var l,f,y,c,s=i*76+53,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,4)===De?(f=De,i+=4):(f=e,_===0&&S(ea)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Kl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function Co(){var l,f,y,c,s=i*76+54,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,5)===Ve?(f=Ve,i+=5):(f=e,_===0&&S(nr)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Gl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function La(){var l,f,y,c,s=i*76+55,o=N[s];return o?(i=o.nextPos,o.result):(l=i,t.substr(i,4)===Je?(f=Je,i+=4):(f=e,_===0&&S(Wi)),f!==e?(y=i,_++,bt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(or)),_--,c===e?y=void 0:(i=y,y=e),y!==e?(V=l,l=Jl()):(i=l,l=e)):(i=l,l=e),N[s]={nextPos:i,result:l},l)}function Ba(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+56,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Re(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=va(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Re(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=va(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=W,i++):(s=e,_===0&&S(et)),s!==e?(V=l,l=Zl(c)):(i=l,l=e)}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function ko(){var l,f,y,c,s,o,p,u,g,v,m=i*76+57,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Re(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=ga(o)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Re(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=ga(o)}else i=s,s=e;for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=da(c)):(i=l,l=e)}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Fn(){var l,f,y,c,s,o,p,u=i*76+58,g=N[u];if(g)return i=g.nextPos,g.result;if(l=i,f=Be(),f!==e){for(y=i,c=[],s=x();s!==e;)c.push(s),s=x();if(t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e){for(o=[],p=x();p!==e;)o.push(p),p=x();p=qt(),p!==e?y=p:(i=y,y=e)}else i=y,y=e;y===e&&(y=null),V=l,l=Ql(f,y)}else i=l,l=e;return N[u]={nextPos:i,result:l},l}function Nn(){var l,f,y,c,s,o,p=i*76+59,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Fn(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=Fn(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=Fn(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);V=l,l=ya(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Ha(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I,R,Z,ye=i*76+60,re=N[ye];if(re)return i=re.nextPos,re.result;if(l=i,t.charCodeAt(i)===64?(f=ct,i++):(f=e,_===0&&S(Ki)),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(c=Be(),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();if(t.charCodeAt(i)===40?(o=E,i++):(o=e,_===0&&S(mr)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(u=Nn(),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();if(t.charCodeAt(i)===41?(v=F,i++):(v=e,_===0&&S(Et)),v!==e){for(m=i,w=[],C=x();C!==e;)w.push(C),C=x();if(t.charCodeAt(i)===58?(C=le,i++):(C=e,_===0&&S(dt)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();I=qt(),I!==e?m=I:(i=m,m=e)}else i=m,m=e;for(m===e&&(m=null),w=[],C=x();C!==e;)w.push(C),C=x();if(t.charCodeAt(i)===123?(C=D,i++):(C=e,_===0&&S(sr)),C!==e){for(P=[],I=x();I!==e;)P.push(I),I=x();for(I=ls(),I===e&&(I=null),R=[],Z=x();Z!==e;)R.push(Z),Z=x();t.charCodeAt(i)===125?(Z=W,i++):(Z=e,_===0&&S(et)),Z!==e?(V=l,l=Xl(y,c,s,u,m,I)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[ye]={nextPos:i,result:l},l}function Po(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P=i*76+61,I=N[P];if(I)return i=I.nextPos,I.result;if(l=i,t.substr(i,2)===xt?(f=xt,i+=2):(f=e,_===0&&S(is)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=Nn(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=i,u=[],g=x();g!==e;)u.push(g),g=x();if(t.charCodeAt(i)===58?(g=le,i++):(g=e,_===0&&S(dt)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();m=qt(),m!==e?p=m:(i=p,p=e)}else i=p,p=e;for(p===e&&(p=null),u=[],g=x();g!==e;)u.push(g),g=x();if(t.charCodeAt(i)===123?(g=D,i++):(g=e,_===0&&S(sr)),g!==e){for(v=[],m=x();m!==e;)v.push(m),m=x();for(m=ls(),m===e&&(m=null),w=[],C=x();C!==e;)w.push(C),C=x();t.charCodeAt(i)===125?(C=W,i++):(C=e,_===0&&S(et)),C!==e?(V=l,l=Yl(c,p,m)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[P]={nextPos:i,result:l},l}function On(){var l,f,y,c,s,o,p,u,g,v,m=i*76+62,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.charCodeAt(i)===91?(f=Nt,i++):(f=e,_===0&&S(yn)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Ie(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=wa(o)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Ie(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();for(t.charCodeAt(i)===44?(u=J,i++):(u=e,_===0&&S(wt)),u===e&&(u=null),g=[],v=x();v!==e;)g.push(v),v=x();V=s,s=wa(o)}else i=s,s=e;for(s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===93?(o=B,i++):(o=e,_===0&&S(ks)),o!==e?(V=l,l=eo(c)):(i=l,l=e)}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Ua(){var l,f,y,c,s,o,p,u,g,v,m,w,C,P,I=i*76+63,R=N[I];if(R)return i=R.nextPos,R.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();if(c=[],s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Ie(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=ma(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,o=Be(),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.charCodeAt(i)===58?(u=le,i++):(u=e,_===0&&S(dt)),u!==e){if(g=[],v=x(),v!==e)for(;v!==e;)g.push(v),v=x();else g=e;if(g!==e)if(v=Ie(),v!==e){for(m=[],w=x();w!==e;)m.push(w),w=x();for(t.charCodeAt(i)===44?(w=J,i++):(w=e,_===0&&S(wt)),w===e&&(t.charCodeAt(i)===59?(w=Ye,i++):(w=e,_===0&&S(Rs))),w===e&&(w=null),C=[],P=x();P!==e;)C.push(P),P=x();V=s,s=ma(o,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=W,i++):(s=e,_===0&&S(et)),s!==e?(V=l,l=$a(c)):(i=l,l=e)}else i=l,l=e;return N[I]={nextPos:i,result:l},l}function qt(){var l,f=i*76+64,y=N[f];return y?(i=y.nextPos,y.result):(l=Eo(),l===e&&(l=So()),N[f]={nextPos:i,result:l},l)}function Eo(){var l,f,y,c,s,o,p,u,g,v,m=i*76+65,w=N[m];if(w)return i=w.nextPos,w.result;if(l=i,t.substr(i,2)===xt?(f=xt,i+=2):(f=e,_===0&&S(is)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=Mo(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();if(t.charCodeAt(i)===41?(o=F,i++):(o=e,_===0&&S(Et)),o!==e){for(p=[],u=x();u!==e;)p.push(u),u=x();if(t.substr(i,2)===ie?(u=ie,i+=2):(u=e,_===0&&S(Es)),u!==e){for(g=[],v=x();v!==e;)g.push(v),v=x();v=qt(),v!==e?(V=l,l=to(c,v)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return N[m]={nextPos:i,result:l},l}function Mo(){var l,f,y,c,s,o,p=i*76+66,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=qt(),f!==e){for(y=[],c=i,s=Br(),s!==e?(o=qt(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,s=Br(),s!==e?(o=qt(),o!==e?c=o:(i=c,c=e)):(i=c,c=e);V=l,l=xa(f,y)}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function So(){var l,f,y,c,s,o,p,u,g=i*76+67,v=N[g];if(v)return i=v.nextPos,v.result;if(l=i,f=Be(),f!==e){for(y=[],c=be();c!==e;)y.push(c),c=be();if(t.charCodeAt(i)===60?(c=Qe,i++):(c=e,_===0&&S(Jn)),c!==e){for(s=[],o=be();o!==e;)s.push(o),o=be();if(o=qt(),o!==e){for(p=[],u=be();u!==e;)p.push(u),u=be();t.charCodeAt(i)===62?(u=Nr,i++):(u=e,_===0&&S(dn)),u!==e?(V=l,l=ro(f,o)):(i=l,l=e)}else i=l,l=e}else i=l,l=e}else i=l,l=e;return l===e&&(l=i,f=Be(),f!==e&&(V=l,f=so(f)),l=f),N[g]={nextPos:i,result:l},l}function Be(){var l,f,y,c,s=i*76+68,o=N[s];if(o)return i=o.nextPos,o.result;if(l=i,jt.test(t.charAt(i))?(f=t.charAt(i),i++):(f=e,_===0&&S(Gi)),f!==e){for(y=[],Vn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(mn));c!==e;)y.push(c),Vn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,_===0&&S(mn));V=l,l=no()}else i=l,l=e;return N[s]={nextPos:i,result:l},l}function Fo(){var l,f,y,c,s,o,p=i*76+69,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,f=Be(),f!==e){for(y=[],c=i,t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e?(o=Be(),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)y.push(c),c=i,t.charCodeAt(i)===58?(s=le,i++):(s=e,_===0&&S(dt)),s!==e?(o=Be(),o!==e?(s=[s,o],c=s):(i=c,c=e)):(i=c,c=e);V=l,l=ao()}else i=l,l=e;return N[p]={nextPos:i,result:l},l}function Br(){var l,f,y,c,s,o=i*76+70,p=N[o];if(p)return i=p.nextPos,p.result;for(l=i,f=[],y=x();y!==e;)f.push(y),y=x();if(t.charCodeAt(i)===44?(y=J,i++):(y=e,_===0&&S(wt)),y!==e){for(c=[],s=x();s!==e;)c.push(s),s=x();f=[f,y,c],l=f}else i=l,l=e;if(l===e)if(l=[],f=x(),f!==e)for(;f!==e;)l.push(f),f=x();else l=e;return N[o]={nextPos:i,result:l},l}function It(){var l,f,y,c,s,o,p=i*76+71,u=N[p];if(u)return i=u.nextPos,u.result;if(l=i,t.charCodeAt(i)===123?(f=D,i++):(f=e,_===0&&S(sr)),f!==e){for(y=[],c=x();c!==e;)y.push(c),c=x();for(c=ls(),c===e&&(c=null),s=[],o=x();o!==e;)s.push(o),o=x();t.charCodeAt(i)===125?(o=W,i++):(o=e,_===0&&S(et)),o!==e?(V=l,l=io(c)):(i=l,l=e)}else i=l,l=e;return l===e&&(l=fr()),N[p]={nextPos:i,result:l},l}function Ue(){var l,f=i*76+72,y=N[f];return y?(i=y.nextPos,y.result):(t.substr(i,2)===Bt?(l=Bt,i+=2):(l=e,_===0&&S(Ji)),l===e&&(Wn.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(ta))),N[f]={nextPos:i,result:l},l)}function qa(){var l,f,y=i*76+73,c=N[y];return c?(i=c.nextPos,c.result):(l=i,_++,t.length>i?(f=t.charAt(i),i++):(f=e,_===0&&S(tr)),_--,f===e?l=void 0:(i=l,l=e),l===e&&(l=Ue()),N[y]={nextPos:i,result:l},l)}function x(){var l,f=i*76+74,y=N[f];return y?(i=y.nextPos,y.result):(_i.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Zi)),N[f]={nextPos:i,result:l},l)}function be(){var l,f=i*76+75,y=N[f];return y?(i=y.nextPos,y.result):(Ci.test(t.charAt(i))?(l=t.charAt(i),i++):(l=e,_===0&&S(Qi)),N[f]={nextPos:i,result:l},l)}function ne(l,f,y){const c={type:l};f.children=y;for(const o of Object.keys(f))f[o]!==void 0&&(c[o]=f[o]);const s=T();return c.loc={start:s.start.offset,end:s.end.offset-1},c}if(Rr=d(),Rr!==e&&i===t.length)return Rr;throw Rr!==e&&i<t.length&&S(se()),Hs(z,a<t.length?t.charAt(a):null,a<t.length?Bs(a,a+1):Bs(a,a))}const ub=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function fb(t){return ub.includes(t.type)}function nd(t){return"chain"in t&&t.chain!==null}function cb(t,r,e){return{type:"call",target:t,args:r,loc:e}}function hb(t,r,e){return{type:"index",target:t,index:r,loc:e}}function pb(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function ot(t,r){const e=r(t);switch(e.type){case"def":{e.expr=ot(e.expr,r);break}case"return":{e.expr=ot(e.expr,r);break}case"each":{e.items=ot(e.items,r),e.for=ot(e.for,r);break}case"for":{e.from!=null&&(e.from=ot(e.from,r)),e.to!=null&&(e.to=ot(e.to,r)),e.times!=null&&(e.times=ot(e.times,r)),e.for=ot(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=ot(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=ot(e.expr,r),e.dest=ot(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=ot(e.operands[n],r);break}case"not":{e.expr=ot(e.expr,r);break}case"if":{e.cond=ot(e.cond,r),e.then=ot(e.then,r);for(const n of e.elseif)n.cond=ot(n.cond,r),n.then=ot(n.then,r);e.else!=null&&(e.else=ot(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=ot(e.children[n],r);break}case"match":{e.about=ot(e.about,r);for(const n of e.qs)n.q=ot(n.q,r),n.a=ot(n.a,r);e.default!=null&&(e.default=ot(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=ot(e.statements[n],r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=ot(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],ot(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=ot(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=ot(e.args[n],r);break}case"indexChain":{e.index=ot(e.index,r);break}case"call":{e.target=ot(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=ot(e.args[n],r);break}case"index":{e.target=ot(e.target,r),e.index=ot(e.index,r);break}case"prop":{e.target=ot(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=ot(e.members[n],r);break}}if(nd(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=ot(e.chain[n],r);return e}const zc=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Vc(t){throw new au(`Reserved word "${t}" cannot be used as variable name.`)}function vb(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{zc.includes(t.name)&&Vc(t.name);break}case"meta":{t.name!=null&&zc.includes(t.name)&&Vc(t.name);break}case"fn":{for(const r of t.args)zc.includes(r.name)&&Vc(r.name);break}}return t}function gb(t){for(const r of t)ot(r,vb);return t}function Av(t){return{type:"simple",name:t}}function db(t,r){return{type:"generic",name:t,inners:r}}function yb(t,r){return{type:"fn",args:t,result:r}}function Bf(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Bf(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Bf(n)).join(", "),e=Bf(t.result);return`@(${r}) { ${e} }`}}}function Nu(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return Av(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Nu(t.inner):r=Av("any"),db(t.name,[r])}}throw new au(`Unknown type: '${Bf(t)}'`)}else{const r=t.args.map(e=>Nu(e));return yb(r,Nu(t.result))}}function wb(t){switch(t.type){case"def":{t.varType!=null&&Nu(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Nu(r.argType);t.retType!=null&&Nu(t.retType);break}}return t}function mb(t){for(const r of t)ot(r,wb);return t}function Hf(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=Hf(n.expr.children)),r.push(n);else{if(e.length>0)throw new au("invalid attribute.");switch(n.type){case"fn":{n.children=Hf(n.children);break}case"block":{n.statements=Hf(n.statements);break}}r.push(n)}if(e.length>0)throw new au("invalid attribute.");return r}function $b(t){if(fb(t)&&nd(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=cb(n,h.args,h.loc);break}case"indexChain":{n=hb(n,h.index,h.loc);break}case"propChain":{n=pb(n,h.name,h.loc);break}}return n}return t}function xb(t){for(let r=0;r<t.length;r++)t[r]=ot(t[r],$b);return t}function Uf(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function ad(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Uf(t,r,e);{const{left:n,right:h,info:d}=t;return Uf(n,ad(h,r,e),d)}}function qo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[qo(t.left),qo(t.right)]}}const bb={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:qo(t.left),right:qo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:qo(t.left),right:qo(t.right)}),priority:3}};function Ab(t){const r=t.operators.map(n=>{const h=bb[n];if(h==null)throw new au(`No such operator: ${n}.`);return h});let e=Uf(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=ad(e,t.operands[2+n],r[1+n]);return qo(e)}function _b(t){for(let r=0;r<t.length;r++)t[r]=ot(t[r],e=>e.type==="infix"?Ab(e):e);return t}const Do=class Do{constructor(){me(this,"plugins");this.plugins={validate:[gb,mb],transform:[Hf,xb,_b]}}static parse(r){return Do.instance==null&&(Do.instance=new Do),Do.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=bv(r,{startRule:"Preprocess"});e=bv(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new au(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`):new au(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}};me(Do,"instance");let Th=Do;const Cb="0.14.1",kb={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Ih=[],Vu=null;function Pb(t){return Ih=Th.parse(t),JSON.stringify(Ih,null,"	")}async function Eb(t){Vu==null||Vu.abort(),Vu=new _s({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:Fh(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:Fh(e.val,!0),print:!1});break}}});try{await Vu.exec(Ih)}catch(r){t.err(r)}}const Mb=Object.freeze(Object.defineProperty({__proto__:null,exec:Eb,parse:Pb,samples:kb,version:Cb},Symbol.toStringTag,{value:"Module"})),Sb=t=>(ey("data-v-449a2641"),t=t(),ty(),t),Fb={id:"root"},Nb={id:"grid1"},Ob={class:"type"},Tb={id:"grid2"},Ib=Sb(()=>hn("header",null,null,-1)),_v=["next","develop","0.16.0","0.15.0","0.14.1"],Cv="0.16.0",jb=lf({__name:"MainArea",props:{ver:{}},setup(t){const r=t,{parse:e,exec:n,version:h,samples:d}={next:H0,develop:A$,"0.16.0":sx,"0.15.0":zx,"0.14.1":Mb}[r.ver],$=Lo(window.localStorage.getItem(h)??'<: "Hello, AiScript!"'),b=Lo([]),k=Lo(""),E=Lo(null);Gu($,()=>{window.localStorage.setItem(h,$.value);try{k.value=e($.value),E.value=null}catch(j){const D=j;E.value=D.message,console.error("info"in D?D.info:D);return}},{immediate:!0});function F(){b.value=[],n({in:j=>new Promise(D=>{const W=window.prompt(j);D(W??"")}),out:j=>b.value.push(j),end:j=>b.value.push(j),err:j=>{console.error(j),window.alert(`${j}`)}})}return(j,D)=>(cr(),Sr("div",Fb,[hn("div",Nb,[hr(ym,{modelValue:$.value,"onUpdate:modelValue":D[0]||(D[0]=W=>$.value=W),samples:tf(d),parseError:E.value,onRun:F},null,8,["modelValue","samples","parseError"]),hr(Ku,{id:"logs"},{header:$s(()=>[In("Output")]),default:$s(()=>[(cr(!0),Sr(Zr,null,Wf(b.value,W=>(cr(),Sr("div",{class:Yr(["log",[{print:W.print},W.type]]),key:W.id},[hn("span",Ob,zo(W.type),1),In(" "+zo(W.text),1)],2))),128))]),_:1})]),hn("div",Tb,[hr(Ku,{id:"ast"},{header:$s(()=>[In("AST")]),default:$s(()=>[hn("pre",null,zo(k.value),1)]),_:1}),hr(Ku,{id:"bin"},{header:$s(()=>[In("Bytecode")]),default:$s(()=>[Ib]),_:1}),hr(Ku,{id:"debugger"},{header:$s(()=>[In("Debugger")]),_:1})])]))}}),Rb=of(jb,[["__scopeId","data-v-449a2641"]]),Db={id:"wrapper"},Lb=lf({__name:"App",setup(t){const r=Lo(window.localStorage.getItem("version")??Cv),e=Object.fromEntries(_v.map(h=>[h,h+(h==Cv?"(latest)":"")]));function n(h){r.value=h,window.localStorage.setItem("version",r.value)}return(h,d)=>(cr(),Sr("div",Db,[hn("h1",null,[In(" AiScript ( "),hr(Pg,{id:"version",options:tf(e),onSelect:n},{default:$s(()=>[In(zo(r.value),1)]),_:1},8,["options"]),In(" ) Playground ")]),(cr(!0),Sr(Zr,null,Wf(tf(_v),$=>(cr(),Sr("div",null,[$==r.value?(cr(),fc(Rb,{key:0,ver:$},null,8,["ver"])):Iu("",!0)]))),256))]))}}),Bb=of(Lb,[["__scopeId","data-v-caf8f745"]]);Nw(Bb).mount("#app");
