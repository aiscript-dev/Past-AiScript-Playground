var oy=Object.defineProperty;var fy=(t,r,e)=>r in t?oy(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var me=(t,r,e)=>(fy(t,typeof r!="symbol"?r+"":r,e),e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))n(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&n(_)}).observe(document,{childList:!0,subtree:!0});function e(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(h){if(h.ep)return;h.ep=!0;const d=e(h);fetch(h.href,d)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kp(t,r){const e=new Set(t.split(","));return r?n=>e.has(n.toLowerCase()):n=>e.has(n)}const Mr={},Uo=[],Ea=()=>{},cy=()=>!1,Rc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ep=t=>t.startsWith("onUpdate:"),us=Object.assign,Mp=(t,r)=>{const e=t.indexOf(r);e>-1&&t.splice(e,1)},hy=Object.prototype.hasOwnProperty,qt=(t,r)=>hy.call(t,r),ut=Array.isArray,qo=t=>Dc(t)==="[object Map]",_g=t=>Dc(t)==="[object Set]",Pt=t=>typeof t=="function",ts=t=>typeof t=="string",vf=t=>typeof t=="symbol",Ar=t=>t!==null&&typeof t=="object",Cg=t=>(Ar(t)||Pt(t))&&Pt(t.then)&&Pt(t.catch),Pg=Object.prototype.toString,Dc=t=>Pg.call(t),py=t=>Dc(t).slice(8,-1),kg=t=>Dc(t)==="[object Object]",Sp=t=>ts(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mf=kp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lc=t=>{const r=Object.create(null);return e=>r[e]||(r[e]=t(e))},vy=/-(\w)/g,ff=Lc(t=>t.replace(vy,(r,e)=>e?e.toUpperCase():"")),gy=/\B([A-Z])/g,gf=Lc(t=>t.replace(gy,"-$1").toLowerCase()),Eg=Lc(t=>t.charAt(0).toUpperCase()+t.slice(1)),sh=Lc(t=>t?`on${Eg(t)}`:""),zu=(t,r)=>!Object.is(t,r),nh=(t,r)=>{for(let e=0;e<t.length;e++)t[e](r)},Pc=(t,r,e)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value:e})},dy=t=>{const r=parseFloat(t);return isNaN(r)?t:r},yy=t=>{const r=ts(t)?Number(t):NaN;return isNaN(r)?t:r};let nv;const Mg=()=>nv||(nv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fp(t){if(ut(t)){const r={};for(let e=0;e<t.length;e++){const n=t[e],h=ts(n)?xy(n):Fp(n);if(h)for(const d in h)r[d]=h[d]}return r}else if(ts(t)||Ar(t))return t}const wy=/;(?![^(]*\))/g,my=/:([^]+)/,$y=/\/\*[^]*?\*\//g;function xy(t){const r={};return t.replace($y,"").split(wy).forEach(e=>{if(e){const n=e.split(my);n.length>1&&(r[n[0].trim()]=n[1].trim())}}),r}function Ds(t){let r="";if(ts(t))r=t;else if(ut(t))for(let e=0;e<t.length;e++){const n=Ds(t[e]);n&&(r+=n+" ")}else if(Ar(t))for(const e in t)t[e]&&(r+=e+" ");return r.trim()}const by="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ay=kp(by);function Sg(t){return!!t||t===""}const co=t=>ts(t)?t:t==null?"":ut(t)||Ar(t)&&(t.toString===Pg||!Pt(t.toString))?JSON.stringify(t,Fg,2):String(t),Fg=(t,r)=>r&&r.__v_isRef?Fg(t,r.value):qo(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((e,[n,h],d)=>(e[ah(n,d)+" =>"]=h,e),{})}:_g(r)?{[`Set(${r.size})`]:[...r.values()].map(e=>ah(e))}:vf(r)?ah(r):Ar(r)&&!ut(r)&&!kg(r)?String(r):r,ah=(t,r="")=>{var e;return vf(t)?`Symbol(${(e=t.description)!=null?e:r})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gi;class _y{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gi,!r&&gi&&(this.index=(gi.scopes||(gi.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const e=gi;try{return gi=this,r()}finally{gi=e}}}on(){gi=this}off(){gi=this.parent}stop(r){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!r){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function Cy(t,r=gi){r&&r.active&&r.effects.push(t)}function Py(){return gi}let ho;class Np{constructor(r,e,n,h){this.fn=r,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Cy(this,h)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Fo();for(let r=0;r<this._depsLength;r++){const e=this.deps[r];if(e.computed&&(ky(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),No()}return this._dirtyLevel>=4}set dirty(r){this._dirtyLevel=r?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let r=Uu,e=ho;try{return Uu=!0,ho=this,this._runnings++,av(this),this.fn()}finally{iv(this),this._runnings--,ho=e,Uu=r}}stop(){var r;this.active&&(av(this),iv(this),(r=this.onStop)==null||r.call(this),this.active=!1)}}function ky(t){return t.value}function av(t){t._trackId++,t._depsLength=0}function iv(t){if(t.deps.length>t._depsLength){for(let r=t._depsLength;r<t.deps.length;r++)Ng(t.deps[r],t);t.deps.length=t._depsLength}}function Ng(t,r){const e=t.get(r);e!==void 0&&r._trackId!==e&&(t.delete(r),t.size===0&&t.cleanup())}let Uu=!0,Ih=0;const Og=[];function Fo(){Og.push(Uu),Uu=!1}function No(){const t=Og.pop();Uu=t===void 0?!0:t}function Op(){Ih++}function Tp(){for(Ih--;!Ih&&jh.length;)jh.shift()()}function Tg(t,r,e){if(r.get(t)!==t._trackId){r.set(t,t._trackId);const n=t.deps[t._depsLength];n!==r?(n&&Ng(n,t),t.deps[t._depsLength++]=r):t._depsLength++}}const jh=[];function Ig(t,r,e){Op();for(const n of t.keys()){let h;n._dirtyLevel<r&&(h??(h=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=r),n._shouldSchedule&&(h??(h=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&jh.push(n.scheduler)))}Tp()}const jg=(t,r)=>{const e=new Map;return e.cleanup=t,e.computed=r,e},Rh=new WeakMap,po=Symbol(""),Dh=Symbol("");function Pn(t,r,e){if(Uu&&ho){let n=Rh.get(t);n||Rh.set(t,n=new Map);let h=n.get(e);h||n.set(e,h=jg(()=>n.delete(e))),Tg(ho,h)}}function mu(t,r,e,n,h,d){const _=Rh.get(t);if(!_)return;let C=[];if(r==="clear")C=[..._.values()];else if(e==="length"&&ut(t)){const M=Number(n);_.forEach((F,O)=>{(O==="length"||!vf(O)&&O>=M)&&C.push(F)})}else switch(e!==void 0&&C.push(_.get(e)),r){case"add":ut(t)?Sp(e)&&C.push(_.get("length")):(C.push(_.get(po)),qo(t)&&C.push(_.get(Dh)));break;case"delete":ut(t)||(C.push(_.get(po)),qo(t)&&C.push(_.get(Dh)));break;case"set":qo(t)&&C.push(_.get(po));break}Op();for(const M of C)M&&Ig(M,4);Tp()}const Ey=kp("__proto__,__v_isRef,__isVue"),Rg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vf)),lv=My();function My(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...e){const n=tr(this);for(let d=0,_=this.length;d<_;d++)Pn(n,"get",d+"");const h=n[r](...e);return h===-1||h===!1?n[r](...e.map(tr)):h}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...e){Fo(),Op();const n=tr(this)[r].apply(this,e);return Tp(),No(),n}}),t}function Sy(t){const r=tr(this);return Pn(r,"has",t),r.hasOwnProperty(t)}class Dg{constructor(r=!1,e=!1){this._isReadonly=r,this._isShallow=e}get(r,e,n){const h=this._isReadonly,d=this._isShallow;if(e==="__v_isReactive")return!h;if(e==="__v_isReadonly")return h;if(e==="__v_isShallow")return d;if(e==="__v_raw")return n===(h?d?qy:Ug:d?Bg:Hg).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(n)?r:void 0;const _=ut(r);if(!h){if(_&&qt(lv,e))return Reflect.get(lv,e,n);if(e==="hasOwnProperty")return Sy}const C=Reflect.get(r,e,n);return(vf(e)?Rg.has(e):Ey(e))||(h||Pn(r,"get",e),d)?C:kn(C)?_&&Sp(e)?C:C.value:Ar(C)?h?qg(C):Rp(C):C}}class Lg extends Dg{constructor(r=!1){super(!1,r)}set(r,e,n,h){let d=r[e];if(!this._isShallow){const M=cf(d);if(!kc(n)&&!cf(n)&&(d=tr(d),n=tr(n)),!ut(r)&&kn(d)&&!kn(n))return M?!1:(d.value=n,!0)}const _=ut(r)&&Sp(e)?Number(e)<r.length:qt(r,e),C=Reflect.set(r,e,n,h);return r===tr(h)&&(_?zu(n,d)&&mu(r,"set",e,n):mu(r,"add",e,n)),C}deleteProperty(r,e){const n=qt(r,e);r[e];const h=Reflect.deleteProperty(r,e);return h&&n&&mu(r,"delete",e,void 0),h}has(r,e){const n=Reflect.has(r,e);return(!vf(e)||!Rg.has(e))&&Pn(r,"has",e),n}ownKeys(r){return Pn(r,"iterate",ut(r)?"length":po),Reflect.ownKeys(r)}}class Fy extends Dg{constructor(r=!1){super(!0,r)}set(r,e){return!0}deleteProperty(r,e){return!0}}const Ny=new Lg,Oy=new Fy,Ty=new Lg(!0),Ip=t=>t,Hc=t=>Reflect.getPrototypeOf(t);function Wf(t,r,e=!1,n=!1){t=t.__v_raw;const h=tr(t),d=tr(r);e||(zu(r,d)&&Pn(h,"get",r),Pn(h,"get",d));const{has:_}=Hc(h),C=n?Ip:e?Lp:Rf;if(_.call(h,r))return C(t.get(r));if(_.call(h,d))return C(t.get(d));t!==h&&t.get(r)}function Gf(t,r=!1){const e=this.__v_raw,n=tr(e),h=tr(t);return r||(zu(t,h)&&Pn(n,"has",t),Pn(n,"has",h)),t===h?e.has(t):e.has(t)||e.has(h)}function Jf(t,r=!1){return t=t.__v_raw,!r&&Pn(tr(t),"iterate",po),Reflect.get(t,"size",t)}function uv(t){t=tr(t);const r=tr(this);return Hc(r).has.call(r,t)||(r.add(t),mu(r,"add",t,t)),this}function ov(t,r){r=tr(r);const e=tr(this),{has:n,get:h}=Hc(e);let d=n.call(e,t);d||(t=tr(t),d=n.call(e,t));const _=h.call(e,t);return e.set(t,r),d?zu(r,_)&&mu(e,"set",t,r):mu(e,"add",t,r),this}function fv(t){const r=tr(this),{has:e,get:n}=Hc(r);let h=e.call(r,t);h||(t=tr(t),h=e.call(r,t)),n&&n.call(r,t);const d=r.delete(t);return h&&mu(r,"delete",t,void 0),d}function cv(){const t=tr(this),r=t.size!==0,e=t.clear();return r&&mu(t,"clear",void 0,void 0),e}function Zf(t,r){return function(n,h){const d=this,_=d.__v_raw,C=tr(_),M=r?Ip:t?Lp:Rf;return!t&&Pn(C,"iterate",po),_.forEach((F,O)=>n.call(h,M(F),M(O),d))}}function Qf(t,r,e){return function(...n){const h=this.__v_raw,d=tr(h),_=qo(d),C=t==="entries"||t===Symbol.iterator&&_,M=t==="keys"&&_,F=h[t](...n),O=e?Ip:r?Lp:Rf;return!r&&Pn(d,"iterate",M?Dh:po),{next(){const{value:D,done:q}=F.next();return q?{value:D,done:q}:{value:C?[O(D[0]),O(D[1])]:O(D),done:q}},[Symbol.iterator](){return this}}}}function Cu(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function Iy(){const t={get(d){return Wf(this,d)},get size(){return Jf(this)},has:Gf,add:uv,set:ov,delete:fv,clear:cv,forEach:Zf(!1,!1)},r={get(d){return Wf(this,d,!1,!0)},get size(){return Jf(this)},has:Gf,add:uv,set:ov,delete:fv,clear:cv,forEach:Zf(!1,!0)},e={get(d){return Wf(this,d,!0)},get size(){return Jf(this,!0)},has(d){return Gf.call(this,d,!0)},add:Cu("add"),set:Cu("set"),delete:Cu("delete"),clear:Cu("clear"),forEach:Zf(!0,!1)},n={get(d){return Wf(this,d,!0,!0)},get size(){return Jf(this,!0)},has(d){return Gf.call(this,d,!0)},add:Cu("add"),set:Cu("set"),delete:Cu("delete"),clear:Cu("clear"),forEach:Zf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=Qf(d,!1,!1),e[d]=Qf(d,!0,!1),r[d]=Qf(d,!1,!0),n[d]=Qf(d,!0,!0)}),[t,e,r,n]}const[jy,Ry,Dy,Ly]=Iy();function jp(t,r){const e=r?t?Ly:Dy:t?Ry:jy;return(n,h,d)=>h==="__v_isReactive"?!t:h==="__v_isReadonly"?t:h==="__v_raw"?n:Reflect.get(qt(e,h)&&h in n?e:n,h,d)}const Hy={get:jp(!1,!1)},By={get:jp(!1,!0)},Uy={get:jp(!0,!1)},Hg=new WeakMap,Bg=new WeakMap,Ug=new WeakMap,qy=new WeakMap;function Ky(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zy(t){return t.__v_skip||!Object.isExtensible(t)?0:Ky(py(t))}function Rp(t){return cf(t)?t:Dp(t,!1,Ny,Hy,Hg)}function Vy(t){return Dp(t,!1,Ty,By,Bg)}function qg(t){return Dp(t,!0,Oy,Uy,Ug)}function Dp(t,r,e,n,h){if(!Ar(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const d=h.get(t);if(d)return d;const _=zy(t);if(_===0)return t;const C=new Proxy(t,_===2?n:e);return h.set(t,C),C}function Ko(t){return cf(t)?Ko(t.__v_raw):!!(t&&t.__v_isReactive)}function cf(t){return!!(t&&t.__v_isReadonly)}function kc(t){return!!(t&&t.__v_isShallow)}function Kg(t){return Ko(t)||cf(t)}function tr(t){const r=t&&t.__v_raw;return r?tr(r):t}function zg(t){return Object.isExtensible(t)&&Pc(t,"__v_skip",!0),t}const Rf=t=>Ar(t)?Rp(t):t,Lp=t=>Ar(t)?qg(t):t;class Vg{constructor(r,e,n,h){this.getter=r,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Np(()=>r(this._value),()=>nc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=n}get value(){const r=tr(this);return(!r._cacheable||r.effect.dirty)&&zu(r._value,r._value=r.effect.run())&&nc(r,4),Wg(r),r.effect._dirtyLevel>=2&&nc(r,2),r._value}set value(r){this._setter(r)}get _dirty(){return this.effect.dirty}set _dirty(r){this.effect.dirty=r}}function Wy(t,r,e=!1){let n,h;const d=Pt(t);return d?(n=t,h=Ea):(n=t.get,h=t.set),new Vg(n,h,d||!h,e)}function Wg(t){var r;Uu&&ho&&(t=tr(t),Tg(ho,(r=t.dep)!=null?r:t.dep=jg(()=>t.dep=void 0,t instanceof Vg?t:void 0)))}function nc(t,r=4,e){t=tr(t);const n=t.dep;n&&Ig(n,r)}function kn(t){return!!(t&&t.__v_isRef===!0)}function ao(t){return Gy(t,!1)}function Gy(t,r){return kn(t)?t:new Jy(t,r)}class Jy{constructor(r,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?r:tr(r),this._value=e?r:Rf(r)}get value(){return Wg(this),this._value}set value(r){const e=this.__v_isShallow||kc(r)||cf(r);r=e?r:tr(r),zu(r,this._rawValue)&&(this._rawValue=r,this._value=e?r:Rf(r),nc(this,4))}}function Df(t){return kn(t)?t.value:t}const Zy={get:(t,r,e)=>Df(Reflect.get(t,r,e)),set:(t,r,e,n)=>{const h=t[r];return kn(h)&&!kn(e)?(h.value=e,!0):Reflect.set(t,r,e,n)}};function Gg(t){return Ko(t)?t:new Proxy(t,Zy)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qu(t,r,e,n){try{return n?t(...n):t()}catch(h){Bc(h,r,e)}}function Sa(t,r,e,n){if(Pt(t)){const d=qu(t,r,e,n);return d&&Cg(d)&&d.catch(_=>{Bc(_,r,e)}),d}const h=[];for(let d=0;d<t.length;d++)h.push(Sa(t[d],r,e,n));return h}function Bc(t,r,e,n=!0){const h=r?r.vnode:null;if(r){let d=r.parent;const _=r.proxy,C=`https://vuejs.org/error-reference/#runtime-${e}`;for(;d;){const F=d.ec;if(F){for(let O=0;O<F.length;O++)if(F[O](t,_,C)===!1)return}d=d.parent}const M=r.appContext.config.errorHandler;if(M){qu(M,null,10,[t,_,C]);return}}Qy(t,e,h,n)}function Qy(t,r,e,n=!0){console.error(t)}let Lf=!1,Lh=!1;const js=[];let Li=0;const zo=[];let Nu=null,ro=0;const Jg=Promise.resolve();let Hp=null;function Xy(t){const r=Hp||Jg;return t?r.then(this?t.bind(this):t):r}function Yy(t){let r=Li+1,e=js.length;for(;r<e;){const n=r+e>>>1,h=js[n],d=Hf(h);d<t||d===t&&h.pre?r=n+1:e=n}return r}function Bp(t){(!js.length||!js.includes(t,Lf&&t.allowRecurse?Li+1:Li))&&(t.id==null?js.push(t):js.splice(Yy(t.id),0,t),Zg())}function Zg(){!Lf&&!Lh&&(Lh=!0,Hp=Jg.then(Xg))}function ew(t){const r=js.indexOf(t);r>Li&&js.splice(r,1)}function tw(t){ut(t)?zo.push(...t):(!Nu||!Nu.includes(t,t.allowRecurse?ro+1:ro))&&zo.push(t),Zg()}function hv(t,r,e=Lf?Li+1:0){for(;e<js.length;e++){const n=js[e];if(n&&n.pre){if(t&&n.id!==t.uid)continue;js.splice(e,1),e--,n()}}}function Qg(t){if(zo.length){const r=[...new Set(zo)].sort((e,n)=>Hf(e)-Hf(n));if(zo.length=0,Nu){Nu.push(...r);return}for(Nu=r,ro=0;ro<Nu.length;ro++)Nu[ro]();Nu=null,ro=0}}const Hf=t=>t.id==null?1/0:t.id,rw=(t,r)=>{const e=Hf(t)-Hf(r);if(e===0){if(t.pre&&!r.pre)return-1;if(r.pre&&!t.pre)return 1}return e};function Xg(t){Lh=!1,Lf=!0,js.sort(rw);try{for(Li=0;Li<js.length;Li++){const r=js[Li];r&&r.active!==!1&&qu(r,null,14)}}finally{Li=0,js.length=0,Qg(),Lf=!1,Hp=null,(js.length||zo.length)&&Xg()}}function sw(t,r,...e){if(t.isUnmounted)return;const n=t.vnode.props||Mr;let h=e;const d=r.startsWith("update:"),_=d&&r.slice(7);if(_&&_ in n){const O=`${_==="modelValue"?"model":_}Modifiers`,{number:D,trim:q}=n[O]||Mr;q&&(h=e.map(Q=>ts(Q)?Q.trim():Q)),D&&(h=e.map(dy))}let C,M=n[C=sh(r)]||n[C=sh(ff(r))];!M&&d&&(M=n[C=sh(gf(r))]),M&&Sa(M,t,6,h);const F=n[C+"Once"];if(F){if(!t.emitted)t.emitted={};else if(t.emitted[C])return;t.emitted[C]=!0,Sa(F,t,6,h)}}function Yg(t,r,e=!1){const n=r.emitsCache,h=n.get(t);if(h!==void 0)return h;const d=t.emits;let _={},C=!1;if(!Pt(t)){const M=F=>{const O=Yg(F,r,!0);O&&(C=!0,us(_,O))};!e&&r.mixins.length&&r.mixins.forEach(M),t.extends&&M(t.extends),t.mixins&&t.mixins.forEach(M)}return!d&&!C?(Ar(t)&&n.set(t,null),null):(ut(d)?d.forEach(M=>_[M]=null):us(_,d),Ar(t)&&n.set(t,_),_)}function Uc(t,r){return!t||!Rc(r)?!1:(r=r.slice(2).replace(/Once$/,""),qt(t,r[0].toLowerCase()+r.slice(1))||qt(t,gf(r))||qt(t,r))}let fn=null,qc=null;function Ec(t){const r=fn;return fn=t,qc=t&&t.type.__scopeId||null,r}function nw(t){qc=t}function aw(){qc=null}function Cn(t,r=fn,e){if(!r||t._n)return t;const n=(...h)=>{n._d&&Av(-1);const d=Ec(r);let _;try{_=t(...h)}finally{Ec(d),n._d&&Av(1)}return _};return n._n=!0,n._c=!0,n._d=!0,n}function ih(t){const{type:r,vnode:e,proxy:n,withProxy:h,props:d,propsOptions:[_],slots:C,attrs:M,emit:F,render:O,renderCache:D,data:q,setupState:Q,ctx:ye,inheritAttrs:ue}=t;let pe,Fe;const W=Ec(t);try{if(e.shapeFlag&4){const G=h||n,J=G;pe=Di(O.call(J,G,D,d,Q,q,ye)),Fe=M}else{const G=r;pe=Di(G.length>1?G(d,{attrs:M,slots:C,emit:F}):G(d,null)),Fe=r.props?M:iw(M)}}catch(G){Tf.length=0,Bc(G,t,1),pe=Ir(Fa)}let z=pe;if(Fe&&ue!==!1){const G=Object.keys(Fe),{shapeFlag:J}=z;G.length&&J&7&&(_&&G.some(Ep)&&(Fe=lw(Fe,_)),z=Vu(z,Fe))}return e.dirs&&(z=Vu(z),z.dirs=z.dirs?z.dirs.concat(e.dirs):e.dirs),e.transition&&(z.transition=e.transition),pe=z,Ec(W),pe}const iw=t=>{let r;for(const e in t)(e==="class"||e==="style"||Rc(e))&&((r||(r={}))[e]=t[e]);return r},lw=(t,r)=>{const e={};for(const n in t)(!Ep(n)||!(n.slice(9)in r))&&(e[n]=t[n]);return e};function uw(t,r,e){const{props:n,children:h,component:d}=t,{props:_,children:C,patchFlag:M}=r,F=d.emitsOptions;if(r.dirs||r.transition)return!0;if(e&&M>=0){if(M&1024)return!0;if(M&16)return n?pv(n,_,F):!!_;if(M&8){const O=r.dynamicProps;for(let D=0;D<O.length;D++){const q=O[D];if(_[q]!==n[q]&&!Uc(F,q))return!0}}}else return(h||C)&&(!C||!C.$stable)?!0:n===_?!1:n?_?pv(n,_,F):!0:!!_;return!1}function pv(t,r,e){const n=Object.keys(r);if(n.length!==Object.keys(t).length)return!0;for(let h=0;h<n.length;h++){const d=n[h];if(r[d]!==t[d]&&!Uc(e,d))return!0}return!1}function ow({vnode:t,parent:r},e){for(;r;){const n=r.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=r.vnode).el=e,r=r.parent;else break}}const fw=Symbol.for("v-ndc"),cw=t=>t.__isSuspense;function hw(t,r){r&&r.pendingBranch?ut(t)?r.effects.push(...t):r.effects.push(t):tw(t)}const pw=Symbol.for("v-scx"),vw=()=>ic(pw),Xf={};function Sf(t,r,e){return ed(t,r,e)}function ed(t,r,{immediate:e,deep:n,flush:h,once:d,onTrack:_,onTrigger:C}=Mr){if(r&&d){const Z=r;r=(...ee)=>{Z(...ee),J()}}const M=Rs,F=Z=>n===!0?Z:Bo(Z,n===!1?1:void 0);let O,D=!1,q=!1;if(kn(t)?(O=()=>t.value,D=kc(t)):Ko(t)?(O=()=>F(t),D=!0):ut(t)?(q=!0,D=t.some(Z=>Ko(Z)||kc(Z)),O=()=>t.map(Z=>{if(kn(Z))return Z.value;if(Ko(Z))return F(Z);if(Pt(Z))return qu(Z,M,2)})):Pt(t)?r?O=()=>qu(t,M,2):O=()=>(Q&&Q(),Sa(t,M,3,[ye])):O=Ea,r&&n){const Z=O;O=()=>Bo(Z())}let Q,ye=Z=>{Q=z.onStop=()=>{qu(Z,M,4),Q=z.onStop=void 0}},ue;if(Jc)if(ye=Ea,r?e&&Sa(r,M,3,[O(),q?[]:void 0,ye]):O(),h==="sync"){const Z=vw();ue=Z.__watcherHandles||(Z.__watcherHandles=[])}else return Ea;let pe=q?new Array(t.length).fill(Xf):Xf;const Fe=()=>{if(!(!z.active||!z.dirty))if(r){const Z=z.run();(n||D||(q?Z.some((ee,se)=>zu(ee,pe[se])):zu(Z,pe)))&&(Q&&Q(),Sa(r,M,3,[Z,pe===Xf?void 0:q&&pe[0]===Xf?[]:pe,ye]),pe=Z)}else z.run()};Fe.allowRecurse=!!r;let W;h==="sync"?W=Fe:h==="post"?W=()=>bn(Fe,M&&M.suspense):(Fe.pre=!0,M&&(Fe.id=M.uid),W=()=>Bp(Fe));const z=new Np(O,Ea,W),G=Py(),J=()=>{z.stop(),G&&Mp(G.effects,z)};return r?e?Fe():pe=z.run():h==="post"?bn(z.run.bind(z),M&&M.suspense):z.run(),ue&&ue.push(J),J}function gw(t,r,e){const n=this.proxy,h=ts(t)?t.includes(".")?td(n,t):()=>n[t]:t.bind(n,n);let d;Pt(r)?d=r:(d=r.handler,e=r);const _=Kf(this),C=ed(h,d.bind(n),e);return _(),C}function td(t,r){const e=r.split(".");return()=>{let n=t;for(let h=0;h<e.length&&n;h++)n=n[e[h]];return n}}function Bo(t,r,e=0,n){if(!Ar(t)||t.__v_skip)return t;if(r&&r>0){if(e>=r)return t;e++}if(n=n||new Set,n.has(t))return t;if(n.add(t),kn(t))Bo(t.value,r,e,n);else if(ut(t))for(let h=0;h<t.length;h++)Bo(t[h],r,e,n);else if(_g(t)||qo(t))t.forEach(h=>{Bo(h,r,e,n)});else if(kg(t))for(const h in t)Bo(t[h],r,e,n);return t}function Xu(t,r,e,n){const h=t.dirs,d=r&&r.dirs;for(let _=0;_<h.length;_++){const C=h[_];d&&(C.oldValue=d[_].value);let M=C.dir[n];M&&(Fo(),Sa(M,e,8,[t.el,C,t,r]),No())}}const Ou=Symbol("_leaveCb"),Yf=Symbol("_enterCb");function dw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return id(()=>{t.isMounted=!0}),ld(()=>{t.isUnmounting=!0}),t}const ma=[Function,Array],rd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ma,onEnter:ma,onAfterEnter:ma,onEnterCancelled:ma,onBeforeLeave:ma,onLeave:ma,onAfterLeave:ma,onLeaveCancelled:ma,onBeforeAppear:ma,onAppear:ma,onAfterAppear:ma,onAppearCancelled:ma},yw={name:"BaseTransition",props:rd,setup(t,{slots:r}){const e=t0(),n=dw();return()=>{const h=r.default&&nd(r.default(),!0);if(!h||!h.length)return;let d=h[0];if(h.length>1){for(const q of h)if(q.type!==Fa){d=q;break}}const _=tr(t),{mode:C}=_;if(n.isLeaving)return lh(d);const M=vv(d);if(!M)return lh(d);const F=Hh(M,_,n,e);Bh(M,F);const O=e.subTree,D=O&&vv(O);if(D&&D.type!==Fa&&!so(M,D)){const q=Hh(D,_,n,e);if(Bh(D,q),C==="out-in")return n.isLeaving=!0,q.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},lh(d);C==="in-out"&&M.type!==Fa&&(q.delayLeave=(Q,ye,ue)=>{const pe=sd(n,D);pe[String(D.key)]=D,Q[Ou]=()=>{ye(),Q[Ou]=void 0,delete F.delayedLeave},F.delayedLeave=ue})}return d}}},ww=yw;function sd(t,r){const{leavingVNodes:e}=t;let n=e.get(r.type);return n||(n=Object.create(null),e.set(r.type,n)),n}function Hh(t,r,e,n){const{appear:h,mode:d,persisted:_=!1,onBeforeEnter:C,onEnter:M,onAfterEnter:F,onEnterCancelled:O,onBeforeLeave:D,onLeave:q,onAfterLeave:Q,onLeaveCancelled:ye,onBeforeAppear:ue,onAppear:pe,onAfterAppear:Fe,onAppearCancelled:W}=r,z=String(t.key),G=sd(e,t),J=(se,ne)=>{se&&Sa(se,n,9,ne)},Z=(se,ne)=>{const Se=ne[1];J(se,ne),ut(se)?se.every(je=>je.length<=1)&&Se():se.length<=1&&Se()},ee={mode:d,persisted:_,beforeEnter(se){let ne=C;if(!e.isMounted)if(h)ne=ue||C;else return;se[Ou]&&se[Ou](!0);const Se=G[z];Se&&so(t,Se)&&Se.el[Ou]&&Se.el[Ou](),J(ne,[se])},enter(se){let ne=M,Se=F,je=O;if(!e.isMounted)if(h)ne=pe||M,Se=Fe||F,je=W||O;else return;let _e=!1;const Xe=se[Yf]=pt=>{_e||(_e=!0,pt?J(je,[se]):J(Se,[se]),ee.delayedLeave&&ee.delayedLeave(),se[Yf]=void 0)};ne?Z(ne,[se,Xe]):Xe()},leave(se,ne){const Se=String(t.key);if(se[Yf]&&se[Yf](!0),e.isUnmounting)return ne();J(D,[se]);let je=!1;const _e=se[Ou]=Xe=>{je||(je=!0,ne(),Xe?J(ye,[se]):J(Q,[se]),se[Ou]=void 0,G[Se]===t&&delete G[Se])};G[Se]=t,q?Z(q,[se,_e]):_e()},clone(se){return Hh(se,r,e,n)}};return ee}function lh(t){if(Kc(t))return t=Vu(t),t.children=null,t}function vv(t){return Kc(t)?t.children?t.children[0]:void 0:t}function Bh(t,r){t.shapeFlag&6&&t.component?Bh(t.component.subTree,r):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function nd(t,r=!1,e){let n=[],h=0;for(let d=0;d<t.length;d++){let _=t[d];const C=e==null?_.key:String(e)+String(_.key!=null?_.key:d);_.type===Is?(_.patchFlag&128&&h++,n=n.concat(nd(_.children,r,C))):(r||_.type!==Fa)&&n.push(C!=null?Vu(_,{key:C}):_)}if(h>1)for(let d=0;d<n.length;d++)n[d].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function qf(t,r){return Pt(t)?us({name:t.name},r,{setup:t}):t}const Ff=t=>!!t.type.__asyncLoader,Kc=t=>t.type.__isKeepAlive;function mw(t,r){ad(t,"a",r)}function $w(t,r){ad(t,"da",r)}function ad(t,r,e=Rs){const n=t.__wdc||(t.__wdc=()=>{let h=e;for(;h;){if(h.isDeactivated)return;h=h.parent}return t()});if(zc(r,n,e),e){let h=e.parent;for(;h&&h.parent;)Kc(h.parent.vnode)&&xw(n,r,e,h),h=h.parent}}function xw(t,r,e,n){const h=zc(r,t,n,!0);ud(()=>{Mp(n[r],h)},e)}function zc(t,r,e=Rs,n=!1){if(e){const h=e[t]||(e[t]=[]),d=r.__weh||(r.__weh=(..._)=>{if(e.isUnmounted)return;Fo();const C=Kf(e),M=Sa(r,e,t,_);return C(),No(),M});return n?h.unshift(d):h.push(d),d}}const $u=t=>(r,e=Rs)=>(!Jc||t==="sp")&&zc(t,(...n)=>r(...n),e),bw=$u("bm"),id=$u("m"),Aw=$u("bu"),_w=$u("u"),ld=$u("bum"),ud=$u("um"),Cw=$u("sp"),Pw=$u("rtg"),kw=$u("rtc");function Ew(t,r=Rs){zc("ec",t,r)}function Mc(t,r,e,n){let h;const d=e&&e[n];if(ut(t)||ts(t)){h=new Array(t.length);for(let _=0,C=t.length;_<C;_++)h[_]=r(t[_],_,void 0,d&&d[_])}else if(typeof t=="number"){h=new Array(t);for(let _=0;_<t;_++)h[_]=r(_+1,_,void 0,d&&d[_])}else if(Ar(t))if(t[Symbol.iterator])h=Array.from(t,(_,C)=>r(_,C,void 0,d&&d[C]));else{const _=Object.keys(t);h=new Array(_.length);for(let C=0,M=_.length;C<M;C++){const F=_[C];h[C]=r(t[F],F,C,d&&d[C])}}else h=[];return e&&(e[n]=h),h}function ac(t,r,e={},n,h){if(fn.isCE||fn.parent&&Ff(fn.parent)&&fn.parent.isCE)return r!=="default"&&(e.name=r),Ir("slot",e,n&&n());let d=t[r];d&&d._c&&(d._d=!1),Tr();const _=d&&od(d(e)),C=Wc(Is,{key:e.key||_&&_.key||`_${r}`},_||(n?n():[]),_&&t._===1?64:-2);return!h&&C.scopeId&&(C.slotScopeIds=[C.scopeId+"-s"]),d&&d._c&&(d._d=!0),C}function od(t){return t.some(r=>Fc(r)?!(r.type===Fa||r.type===Is&&!od(r.children)):!0)?t:null}const Uh=t=>t?xd(t)?zp(t)||t.proxy:Uh(t.parent):null,Nf=us(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Uh(t.parent),$root:t=>Uh(t.root),$emit:t=>t.emit,$options:t=>Up(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Bp(t.update)}),$nextTick:t=>t.n||(t.n=Xy.bind(t.proxy)),$watch:t=>gw.bind(t)}),uh=(t,r)=>t!==Mr&&!t.__isScriptSetup&&qt(t,r),Mw={get({_:t},r){const{ctx:e,setupState:n,data:h,props:d,accessCache:_,type:C,appContext:M}=t;let F;if(r[0]!=="$"){const Q=_[r];if(Q!==void 0)switch(Q){case 1:return n[r];case 2:return h[r];case 4:return e[r];case 3:return d[r]}else{if(uh(n,r))return _[r]=1,n[r];if(h!==Mr&&qt(h,r))return _[r]=2,h[r];if((F=t.propsOptions[0])&&qt(F,r))return _[r]=3,d[r];if(e!==Mr&&qt(e,r))return _[r]=4,e[r];qh&&(_[r]=0)}}const O=Nf[r];let D,q;if(O)return r==="$attrs"&&Pn(t,"get",r),O(t);if((D=C.__cssModules)&&(D=D[r]))return D;if(e!==Mr&&qt(e,r))return _[r]=4,e[r];if(q=M.config.globalProperties,qt(q,r))return q[r]},set({_:t},r,e){const{data:n,setupState:h,ctx:d}=t;return uh(h,r)?(h[r]=e,!0):n!==Mr&&qt(n,r)?(n[r]=e,!0):qt(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(d[r]=e,!0)},has({_:{data:t,setupState:r,accessCache:e,ctx:n,appContext:h,propsOptions:d}},_){let C;return!!e[_]||t!==Mr&&qt(t,_)||uh(r,_)||(C=d[0])&&qt(C,_)||qt(n,_)||qt(Nf,_)||qt(h.config.globalProperties,_)},defineProperty(t,r,e){return e.get!=null?t._.accessCache[r]=0:qt(e,"value")&&this.set(t,r,e.value,null),Reflect.defineProperty(t,r,e)}};function gv(t){return ut(t)?t.reduce((r,e)=>(r[e]=null,r),{}):t}let qh=!0;function Sw(t){const r=Up(t),e=t.proxy,n=t.ctx;qh=!1,r.beforeCreate&&dv(r.beforeCreate,t,"bc");const{data:h,computed:d,methods:_,watch:C,provide:M,inject:F,created:O,beforeMount:D,mounted:q,beforeUpdate:Q,updated:ye,activated:ue,deactivated:pe,beforeDestroy:Fe,beforeUnmount:W,destroyed:z,unmounted:G,render:J,renderTracked:Z,renderTriggered:ee,errorCaptured:se,serverPrefetch:ne,expose:Se,inheritAttrs:je,components:_e,directives:Xe,filters:pt}=r;if(F&&Fw(F,n,null),_)for(const ft in _){const ze=_[ft];Pt(ze)&&(n[ft]=ze.bind(e))}if(h){const ft=h.call(e,e);Ar(ft)&&(t.data=Rp(ft))}if(qh=!0,d)for(const ft in d){const ze=d[ft],ct=Pt(ze)?ze.bind(e,e):Pt(ze.get)?ze.get.bind(e,e):Ea,Lt=!Pt(ze)&&Pt(ze.set)?ze.set.bind(e):Ea,Kt=l0({get:ct,set:Lt});Object.defineProperty(n,ft,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:lt=>Kt.value=lt})}if(C)for(const ft in C)fd(C[ft],n,e,ft);if(M){const ft=Pt(M)?M.call(e):M;Reflect.ownKeys(ft).forEach(ze=>{Rw(ze,ft[ze])})}O&&dv(O,t,"c");function vt(ft,ze){ut(ze)?ze.forEach(ct=>ft(ct.bind(e))):ze&&ft(ze.bind(e))}if(vt(bw,D),vt(id,q),vt(Aw,Q),vt(_w,ye),vt(mw,ue),vt($w,pe),vt(Ew,se),vt(kw,Z),vt(Pw,ee),vt(ld,W),vt(ud,G),vt(Cw,ne),ut(Se))if(Se.length){const ft=t.exposed||(t.exposed={});Se.forEach(ze=>{Object.defineProperty(ft,ze,{get:()=>e[ze],set:ct=>e[ze]=ct})})}else t.exposed||(t.exposed={});J&&t.render===Ea&&(t.render=J),je!=null&&(t.inheritAttrs=je),_e&&(t.components=_e),Xe&&(t.directives=Xe)}function Fw(t,r,e=Ea){ut(t)&&(t=Kh(t));for(const n in t){const h=t[n];let d;Ar(h)?"default"in h?d=ic(h.from||n,h.default,!0):d=ic(h.from||n):d=ic(h),kn(d)?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:()=>d.value,set:_=>d.value=_}):r[n]=d}}function dv(t,r,e){Sa(ut(t)?t.map(n=>n.bind(r.proxy)):t.bind(r.proxy),r,e)}function fd(t,r,e,n){const h=n.includes(".")?td(e,n):()=>e[n];if(ts(t)){const d=r[t];Pt(d)&&Sf(h,d)}else if(Pt(t))Sf(h,t.bind(e));else if(Ar(t))if(ut(t))t.forEach(d=>fd(d,r,e,n));else{const d=Pt(t.handler)?t.handler.bind(e):r[t.handler];Pt(d)&&Sf(h,d,t)}}function Up(t){const r=t.type,{mixins:e,extends:n}=r,{mixins:h,optionsCache:d,config:{optionMergeStrategies:_}}=t.appContext,C=d.get(r);let M;return C?M=C:!h.length&&!e&&!n?M=r:(M={},h.length&&h.forEach(F=>Sc(M,F,_,!0)),Sc(M,r,_)),Ar(r)&&d.set(r,M),M}function Sc(t,r,e,n=!1){const{mixins:h,extends:d}=r;d&&Sc(t,d,e,!0),h&&h.forEach(_=>Sc(t,_,e,!0));for(const _ in r)if(!(n&&_==="expose")){const C=Nw[_]||e&&e[_];t[_]=C?C(t[_],r[_]):r[_]}return t}const Nw={data:yv,props:wv,emits:wv,methods:kf,computed:kf,beforeCreate:rn,created:rn,beforeMount:rn,mounted:rn,beforeUpdate:rn,updated:rn,beforeDestroy:rn,beforeUnmount:rn,destroyed:rn,unmounted:rn,activated:rn,deactivated:rn,errorCaptured:rn,serverPrefetch:rn,components:kf,directives:kf,watch:Tw,provide:yv,inject:Ow};function yv(t,r){return r?t?function(){return us(Pt(t)?t.call(this,this):t,Pt(r)?r.call(this,this):r)}:r:t}function Ow(t,r){return kf(Kh(t),Kh(r))}function Kh(t){if(ut(t)){const r={};for(let e=0;e<t.length;e++)r[t[e]]=t[e];return r}return t}function rn(t,r){return t?[...new Set([].concat(t,r))]:r}function kf(t,r){return t?us(Object.create(null),t,r):r}function wv(t,r){return t?ut(t)&&ut(r)?[...new Set([...t,...r])]:us(Object.create(null),gv(t),gv(r??{})):r}function Tw(t,r){if(!t)return r;if(!r)return t;const e=us(Object.create(null),t);for(const n in r)e[n]=rn(t[n],r[n]);return e}function cd(){return{app:null,config:{isNativeTag:cy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Iw=0;function jw(t,r){return function(n,h=null){Pt(n)||(n=us({},n)),h!=null&&!Ar(h)&&(h=null);const d=cd(),_=new WeakSet;let C=!1;const M=d.app={_uid:Iw++,_component:n,_props:h,_container:null,_context:d,_instance:null,version:u0,get config(){return d.config},set config(F){},use(F,...O){return _.has(F)||(F&&Pt(F.install)?(_.add(F),F.install(M,...O)):Pt(F)&&(_.add(F),F(M,...O))),M},mixin(F){return d.mixins.includes(F)||d.mixins.push(F),M},component(F,O){return O?(d.components[F]=O,M):d.components[F]},directive(F,O){return O?(d.directives[F]=O,M):d.directives[F]},mount(F,O,D){if(!C){const q=Ir(n,h);return q.appContext=d,D===!0?D="svg":D===!1&&(D=void 0),O&&r?r(q,F):t(q,F,D),C=!0,M._container=F,F.__vue_app__=M,zp(q.component)||q.component.proxy}},unmount(){C&&(t(null,M._container),delete M._container.__vue_app__)},provide(F,O){return d.provides[F]=O,M},runWithContext(F){const O=Of;Of=M;try{return F()}finally{Of=O}}};return M}}let Of=null;function Rw(t,r){if(Rs){let e=Rs.provides;const n=Rs.parent&&Rs.parent.provides;n===e&&(e=Rs.provides=Object.create(n)),e[t]=r}}function ic(t,r,e=!1){const n=Rs||fn;if(n||Of){const h=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Of._context.provides;if(h&&t in h)return h[t];if(arguments.length>1)return e&&Pt(r)?r.call(n&&n.proxy):r}}function Dw(t,r,e,n=!1){const h={},d={};Pc(d,Gc,1),t.propsDefaults=Object.create(null),hd(t,r,h,d);for(const _ in t.propsOptions[0])_ in h||(h[_]=void 0);e?t.props=n?h:Vy(h):t.type.props?t.props=h:t.props=d,t.attrs=d}function Lw(t,r,e,n){const{props:h,attrs:d,vnode:{patchFlag:_}}=t,C=tr(h),[M]=t.propsOptions;let F=!1;if((n||_>0)&&!(_&16)){if(_&8){const O=t.vnode.dynamicProps;for(let D=0;D<O.length;D++){let q=O[D];if(Uc(t.emitsOptions,q))continue;const Q=r[q];if(M)if(qt(d,q))Q!==d[q]&&(d[q]=Q,F=!0);else{const ye=ff(q);h[ye]=zh(M,C,ye,Q,t,!1)}else Q!==d[q]&&(d[q]=Q,F=!0)}}}else{hd(t,r,h,d)&&(F=!0);let O;for(const D in C)(!r||!qt(r,D)&&((O=gf(D))===D||!qt(r,O)))&&(M?e&&(e[D]!==void 0||e[O]!==void 0)&&(h[D]=zh(M,C,D,void 0,t,!0)):delete h[D]);if(d!==C)for(const D in d)(!r||!qt(r,D))&&(delete d[D],F=!0)}F&&mu(t,"set","$attrs")}function hd(t,r,e,n){const[h,d]=t.propsOptions;let _=!1,C;if(r)for(let M in r){if(Mf(M))continue;const F=r[M];let O;h&&qt(h,O=ff(M))?!d||!d.includes(O)?e[O]=F:(C||(C={}))[O]=F:Uc(t.emitsOptions,M)||(!(M in n)||F!==n[M])&&(n[M]=F,_=!0)}if(d){const M=tr(e),F=C||Mr;for(let O=0;O<d.length;O++){const D=d[O];e[D]=zh(h,M,D,F[D],t,!qt(F,D))}}return _}function zh(t,r,e,n,h,d){const _=t[e];if(_!=null){const C=qt(_,"default");if(C&&n===void 0){const M=_.default;if(_.type!==Function&&!_.skipFactory&&Pt(M)){const{propsDefaults:F}=h;if(e in F)n=F[e];else{const O=Kf(h);n=F[e]=M.call(null,r),O()}}else n=M}_[0]&&(d&&!C?n=!1:_[1]&&(n===""||n===gf(e))&&(n=!0))}return n}function pd(t,r,e=!1){const n=r.propsCache,h=n.get(t);if(h)return h;const d=t.props,_={},C=[];let M=!1;if(!Pt(t)){const O=D=>{M=!0;const[q,Q]=pd(D,r,!0);us(_,q),Q&&C.push(...Q)};!e&&r.mixins.length&&r.mixins.forEach(O),t.extends&&O(t.extends),t.mixins&&t.mixins.forEach(O)}if(!d&&!M)return Ar(t)&&n.set(t,Uo),Uo;if(ut(d))for(let O=0;O<d.length;O++){const D=ff(d[O]);mv(D)&&(_[D]=Mr)}else if(d)for(const O in d){const D=ff(O);if(mv(D)){const q=d[O],Q=_[D]=ut(q)||Pt(q)?{type:q}:us({},q);if(Q){const ye=bv(Boolean,Q.type),ue=bv(String,Q.type);Q[0]=ye>-1,Q[1]=ue<0||ye<ue,(ye>-1||qt(Q,"default"))&&C.push(D)}}}const F=[_,C];return Ar(t)&&n.set(t,F),F}function mv(t){return t[0]!=="$"&&!Mf(t)}function $v(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function xv(t,r){return $v(t)===$v(r)}function bv(t,r){return ut(r)?r.findIndex(e=>xv(e,t)):Pt(r)&&xv(r,t)?0:-1}const vd=t=>t[0]==="_"||t==="$stable",qp=t=>ut(t)?t.map(Di):[Di(t)],Hw=(t,r,e)=>{if(r._n)return r;const n=Cn((...h)=>qp(r(...h)),e);return n._c=!1,n},gd=(t,r,e)=>{const n=t._ctx;for(const h in t){if(vd(h))continue;const d=t[h];if(Pt(d))r[h]=Hw(h,d,n);else if(d!=null){const _=qp(d);r[h]=()=>_}}},dd=(t,r)=>{const e=qp(r);t.slots.default=()=>e},Bw=(t,r)=>{if(t.vnode.shapeFlag&32){const e=r._;e?(t.slots=tr(r),Pc(r,"_",e)):gd(r,t.slots={})}else t.slots={},r&&dd(t,r);Pc(t.slots,Gc,1)},Uw=(t,r,e)=>{const{vnode:n,slots:h}=t;let d=!0,_=Mr;if(n.shapeFlag&32){const C=r._;C?e&&C===1?d=!1:(us(h,r),!e&&C===1&&delete h._):(d=!r.$stable,gd(r,h)),_=r}else r&&(dd(t,r),_={default:1});if(d)for(const C in h)!vd(C)&&_[C]==null&&delete h[C]};function Vh(t,r,e,n,h=!1){if(ut(t)){t.forEach((q,Q)=>Vh(q,r&&(ut(r)?r[Q]:r),e,n,h));return}if(Ff(n)&&!h)return;const d=n.shapeFlag&4?zp(n.component)||n.component.proxy:n.el,_=h?null:d,{i:C,r:M}=t,F=r&&r.r,O=C.refs===Mr?C.refs={}:C.refs,D=C.setupState;if(F!=null&&F!==M&&(ts(F)?(O[F]=null,qt(D,F)&&(D[F]=null)):kn(F)&&(F.value=null)),Pt(M))qu(M,C,12,[_,O]);else{const q=ts(M),Q=kn(M);if(q||Q){const ye=()=>{if(t.f){const ue=q?qt(D,M)?D[M]:O[M]:M.value;h?ut(ue)&&Mp(ue,d):ut(ue)?ue.includes(d)||ue.push(d):q?(O[M]=[d],qt(D,M)&&(D[M]=O[M])):(M.value=[d],t.k&&(O[t.k]=M.value))}else q?(O[M]=_,qt(D,M)&&(D[M]=_)):Q&&(M.value=_,t.k&&(O[t.k]=_))};_?(ye.id=-1,bn(ye,e)):ye()}}}const bn=hw;function qw(t){return Kw(t)}function Kw(t,r){const e=Mg();e.__VUE__=!0;const{insert:n,remove:h,patchProp:d,createElement:_,createText:C,createComment:M,setText:F,setElementText:O,parentNode:D,nextSibling:q,setScopeId:Q=Ea,insertStaticContent:ye}=t,ue=(V,te,ie,de=null,le=null,ke=null,Ne=void 0,Ae=null,Ce=!!te.dynamicChildren)=>{if(V===te)return;V&&!so(V,te)&&(de=mr(V),lt(V,le,ke,!0),V=null),te.patchFlag===-2&&(Ce=!1,te.dynamicChildren=null);const{type:we,ref:Ke,shapeFlag:Qe}=te;switch(we){case Vc:pe(V,te,ie,de);break;case Fa:Fe(V,te,ie,de);break;case fh:V==null&&W(te,ie,de,Ne);break;case Is:_e(V,te,ie,de,le,ke,Ne,Ae,Ce);break;default:Qe&1?J(V,te,ie,de,le,ke,Ne,Ae,Ce):Qe&6?Xe(V,te,ie,de,le,ke,Ne,Ae,Ce):(Qe&64||Qe&128)&&we.process(V,te,ie,de,le,ke,Ne,Ae,Ce,Cr)}Ke!=null&&le&&Vh(Ke,V&&V.ref,ke,te||V,!te)},pe=(V,te,ie,de)=>{if(V==null)n(te.el=C(te.children),ie,de);else{const le=te.el=V.el;te.children!==V.children&&F(le,te.children)}},Fe=(V,te,ie,de)=>{V==null?n(te.el=M(te.children||""),ie,de):te.el=V.el},W=(V,te,ie,de)=>{[V.el,V.anchor]=ye(V.children,te,ie,de,V.el,V.anchor)},z=({el:V,anchor:te},ie,de)=>{let le;for(;V&&V!==te;)le=q(V),n(V,ie,de),V=le;n(te,ie,de)},G=({el:V,anchor:te})=>{let ie;for(;V&&V!==te;)ie=q(V),h(V),V=ie;h(te)},J=(V,te,ie,de,le,ke,Ne,Ae,Ce)=>{te.type==="svg"?Ne="svg":te.type==="math"&&(Ne="mathml"),V==null?Z(te,ie,de,le,ke,Ne,Ae,Ce):ne(V,te,le,ke,Ne,Ae,Ce)},Z=(V,te,ie,de,le,ke,Ne,Ae)=>{let Ce,we;const{props:Ke,shapeFlag:Qe,transition:Ge,dirs:Je}=V;if(Ce=V.el=_(V.type,ke,Ke&&Ke.is,Ke),Qe&8?O(Ce,V.children):Qe&16&&se(V.children,Ce,null,de,le,oh(V,ke),Ne,Ae),Je&&Xu(V,null,de,"created"),ee(Ce,V,V.scopeId,Ne,de),Ke){for(const ht in Ke)ht!=="value"&&!Mf(ht)&&d(Ce,ht,null,Ke[ht],ke,V.children,de,le,Dt);"value"in Ke&&d(Ce,"value",null,Ke.value,ke),(we=Ke.onVnodeBeforeMount)&&Ii(we,de,V)}Je&&Xu(V,null,de,"beforeMount");const rt=zw(le,Ge);rt&&Ge.beforeEnter(Ce),n(Ce,te,ie),((we=Ke&&Ke.onVnodeMounted)||rt||Je)&&bn(()=>{we&&Ii(we,de,V),rt&&Ge.enter(Ce),Je&&Xu(V,null,de,"mounted")},le)},ee=(V,te,ie,de,le)=>{if(ie&&Q(V,ie),de)for(let ke=0;ke<de.length;ke++)Q(V,de[ke]);if(le){let ke=le.subTree;if(te===ke){const Ne=le.vnode;ee(V,Ne,Ne.scopeId,Ne.slotScopeIds,le.parent)}}},se=(V,te,ie,de,le,ke,Ne,Ae,Ce=0)=>{for(let we=Ce;we<V.length;we++){const Ke=V[we]=Ae?Tu(V[we]):Di(V[we]);ue(null,Ke,te,ie,de,le,ke,Ne,Ae)}},ne=(V,te,ie,de,le,ke,Ne)=>{const Ae=te.el=V.el;let{patchFlag:Ce,dynamicChildren:we,dirs:Ke}=te;Ce|=V.patchFlag&16;const Qe=V.props||Mr,Ge=te.props||Mr;let Je;if(ie&&Yu(ie,!1),(Je=Ge.onVnodeBeforeUpdate)&&Ii(Je,ie,te,V),Ke&&Xu(te,V,ie,"beforeUpdate"),ie&&Yu(ie,!0),we?Se(V.dynamicChildren,we,Ae,ie,de,oh(te,le),ke):Ne||ze(V,te,Ae,null,ie,de,oh(te,le),ke,!1),Ce>0){if(Ce&16)je(Ae,te,Qe,Ge,ie,de,le);else if(Ce&2&&Qe.class!==Ge.class&&d(Ae,"class",null,Ge.class,le),Ce&4&&d(Ae,"style",Qe.style,Ge.style,le),Ce&8){const rt=te.dynamicProps;for(let ht=0;ht<rt.length;ht++){const At=rt[ht],Et=Qe[At],_t=Ge[At];(_t!==Et||At==="value")&&d(Ae,At,Et,_t,le,V.children,ie,de,Dt)}}Ce&1&&V.children!==te.children&&O(Ae,te.children)}else!Ne&&we==null&&je(Ae,te,Qe,Ge,ie,de,le);((Je=Ge.onVnodeUpdated)||Ke)&&bn(()=>{Je&&Ii(Je,ie,te,V),Ke&&Xu(te,V,ie,"updated")},de)},Se=(V,te,ie,de,le,ke,Ne)=>{for(let Ae=0;Ae<te.length;Ae++){const Ce=V[Ae],we=te[Ae],Ke=Ce.el&&(Ce.type===Is||!so(Ce,we)||Ce.shapeFlag&70)?D(Ce.el):ie;ue(Ce,we,Ke,null,de,le,ke,Ne,!0)}},je=(V,te,ie,de,le,ke,Ne)=>{if(ie!==de){if(ie!==Mr)for(const Ae in ie)!Mf(Ae)&&!(Ae in de)&&d(V,Ae,ie[Ae],null,Ne,te.children,le,ke,Dt);for(const Ae in de){if(Mf(Ae))continue;const Ce=de[Ae],we=ie[Ae];Ce!==we&&Ae!=="value"&&d(V,Ae,we,Ce,Ne,te.children,le,ke,Dt)}"value"in de&&d(V,"value",ie.value,de.value,Ne)}},_e=(V,te,ie,de,le,ke,Ne,Ae,Ce)=>{const we=te.el=V?V.el:C(""),Ke=te.anchor=V?V.anchor:C("");let{patchFlag:Qe,dynamicChildren:Ge,slotScopeIds:Je}=te;Je&&(Ae=Ae?Ae.concat(Je):Je),V==null?(n(we,ie,de),n(Ke,ie,de),se(te.children||[],ie,Ke,le,ke,Ne,Ae,Ce)):Qe>0&&Qe&64&&Ge&&V.dynamicChildren?(Se(V.dynamicChildren,Ge,ie,le,ke,Ne,Ae),(te.key!=null||le&&te===le.subTree)&&yd(V,te,!0)):ze(V,te,ie,Ke,le,ke,Ne,Ae,Ce)},Xe=(V,te,ie,de,le,ke,Ne,Ae,Ce)=>{te.slotScopeIds=Ae,V==null?te.shapeFlag&512?le.ctx.activate(te,ie,de,Ne,Ce):pt(te,ie,de,le,ke,Ne,Ce):ar(V,te,Ce)},pt=(V,te,ie,de,le,ke,Ne)=>{const Ae=V.component=e0(V,de,le);if(Kc(V)&&(Ae.ctx.renderer=Cr),r0(Ae),Ae.asyncDep){if(le&&le.registerDep(Ae,vt),!V.el){const Ce=Ae.subTree=Ir(Fa);Fe(null,Ce,te,ie)}}else vt(Ae,V,te,ie,le,ke,Ne)},ar=(V,te,ie)=>{const de=te.component=V.component;if(uw(V,te,ie))if(de.asyncDep&&!de.asyncResolved){ft(de,te,ie);return}else de.next=te,ew(de.update),de.effect.dirty=!0,de.update();else te.el=V.el,de.vnode=te},vt=(V,te,ie,de,le,ke,Ne)=>{const Ae=()=>{if(V.isMounted){let{next:Ke,bu:Qe,u:Ge,parent:Je,vnode:rt}=V;{const bt=wd(V);if(bt){Ke&&(Ke.el=rt.el,ft(V,Ke,Ne)),bt.asyncDep.then(()=>{V.isUnmounted||Ae()});return}}let ht=Ke,At;Yu(V,!1),Ke?(Ke.el=rt.el,ft(V,Ke,Ne)):Ke=rt,Qe&&nh(Qe),(At=Ke.props&&Ke.props.onVnodeBeforeUpdate)&&Ii(At,Je,Ke,rt),Yu(V,!0);const Et=ih(V),_t=V.subTree;V.subTree=Et,ue(_t,Et,D(_t.el),mr(_t),V,le,ke),Ke.el=Et.el,ht===null&&ow(V,Et.el),Ge&&bn(Ge,le),(At=Ke.props&&Ke.props.onVnodeUpdated)&&bn(()=>Ii(At,Je,Ke,rt),le)}else{let Ke;const{el:Qe,props:Ge}=te,{bm:Je,m:rt,parent:ht}=V,At=Ff(te);if(Yu(V,!1),Je&&nh(Je),!At&&(Ke=Ge&&Ge.onVnodeBeforeMount)&&Ii(Ke,ht,te),Yu(V,!0),Qe&&pr){const Et=()=>{V.subTree=ih(V),pr(Qe,V.subTree,V,le,null)};At?te.type.__asyncLoader().then(()=>!V.isUnmounted&&Et()):Et()}else{const Et=V.subTree=ih(V);ue(null,Et,ie,de,V,le,ke),te.el=Et.el}if(rt&&bn(rt,le),!At&&(Ke=Ge&&Ge.onVnodeMounted)){const Et=te;bn(()=>Ii(Ke,ht,Et),le)}(te.shapeFlag&256||ht&&Ff(ht.vnode)&&ht.vnode.shapeFlag&256)&&V.a&&bn(V.a,le),V.isMounted=!0,te=ie=de=null}},Ce=V.effect=new Np(Ae,Ea,()=>Bp(we),V.scope),we=V.update=()=>{Ce.dirty&&Ce.run()};we.id=V.uid,Yu(V,!0),we()},ft=(V,te,ie)=>{te.component=V;const de=V.vnode.props;V.vnode=te,V.next=null,Lw(V,te.props,de,ie),Uw(V,te.children,ie),Fo(),hv(V),No()},ze=(V,te,ie,de,le,ke,Ne,Ae,Ce=!1)=>{const we=V&&V.children,Ke=V?V.shapeFlag:0,Qe=te.children,{patchFlag:Ge,shapeFlag:Je}=te;if(Ge>0){if(Ge&128){Lt(we,Qe,ie,de,le,ke,Ne,Ae,Ce);return}else if(Ge&256){ct(we,Qe,ie,de,le,ke,Ne,Ae,Ce);return}}Je&8?(Ke&16&&Dt(we,le,ke),Qe!==we&&O(ie,Qe)):Ke&16?Je&16?Lt(we,Qe,ie,de,le,ke,Ne,Ae,Ce):Dt(we,le,ke,!0):(Ke&8&&O(ie,""),Je&16&&se(Qe,ie,de,le,ke,Ne,Ae,Ce))},ct=(V,te,ie,de,le,ke,Ne,Ae,Ce)=>{V=V||Uo,te=te||Uo;const we=V.length,Ke=te.length,Qe=Math.min(we,Ke);let Ge;for(Ge=0;Ge<Qe;Ge++){const Je=te[Ge]=Ce?Tu(te[Ge]):Di(te[Ge]);ue(V[Ge],Je,ie,null,le,ke,Ne,Ae,Ce)}we>Ke?Dt(V,le,ke,!0,!1,Qe):se(te,ie,de,le,ke,Ne,Ae,Ce,Qe)},Lt=(V,te,ie,de,le,ke,Ne,Ae,Ce)=>{let we=0;const Ke=te.length;let Qe=V.length-1,Ge=Ke-1;for(;we<=Qe&&we<=Ge;){const Je=V[we],rt=te[we]=Ce?Tu(te[we]):Di(te[we]);if(so(Je,rt))ue(Je,rt,ie,null,le,ke,Ne,Ae,Ce);else break;we++}for(;we<=Qe&&we<=Ge;){const Je=V[Qe],rt=te[Ge]=Ce?Tu(te[Ge]):Di(te[Ge]);if(so(Je,rt))ue(Je,rt,ie,null,le,ke,Ne,Ae,Ce);else break;Qe--,Ge--}if(we>Qe){if(we<=Ge){const Je=Ge+1,rt=Je<Ke?te[Je].el:de;for(;we<=Ge;)ue(null,te[we]=Ce?Tu(te[we]):Di(te[we]),ie,rt,le,ke,Ne,Ae,Ce),we++}}else if(we>Ge)for(;we<=Qe;)lt(V[we],le,ke,!0),we++;else{const Je=we,rt=we,ht=new Map;for(we=rt;we<=Ge;we++){const gt=te[we]=Ce?Tu(te[we]):Di(te[we]);gt.key!=null&&ht.set(gt.key,we)}let At,Et=0;const _t=Ge-rt+1;let bt=!1,qs=0;const zr=new Array(_t);for(we=0;we<_t;we++)zr[we]=0;for(we=Je;we<=Qe;we++){const gt=V[we];if(Et>=_t){lt(gt,le,ke,!0);continue}let Ft;if(gt.key!=null)Ft=ht.get(gt.key);else for(At=rt;At<=Ge;At++)if(zr[At-rt]===0&&so(gt,te[At])){Ft=At;break}Ft===void 0?lt(gt,le,ke,!0):(zr[Ft-rt]=we+1,Ft>=qs?qs=Ft:bt=!0,ue(gt,te[Ft],ie,null,le,ke,Ne,Ae,Ce),Et++)}const Vr=bt?Vw(zr):Uo;for(At=Vr.length-1,we=_t-1;we>=0;we--){const gt=rt+we,Ft=te[gt],gn=gt+1<Ke?te[gt+1].el:de;zr[we]===0?ue(null,Ft,ie,gn,le,ke,Ne,Ae,Ce):bt&&(At<0||we!==Vr[At]?Kt(Ft,ie,gn,2):At--)}}},Kt=(V,te,ie,de,le=null)=>{const{el:ke,type:Ne,transition:Ae,children:Ce,shapeFlag:we}=V;if(we&6){Kt(V.component.subTree,te,ie,de);return}if(we&128){V.suspense.move(te,ie,de);return}if(we&64){Ne.move(V,te,ie,Cr);return}if(Ne===Is){n(ke,te,ie);for(let Qe=0;Qe<Ce.length;Qe++)Kt(Ce[Qe],te,ie,de);n(V.anchor,te,ie);return}if(Ne===fh){z(V,te,ie);return}if(de!==2&&we&1&&Ae)if(de===0)Ae.beforeEnter(ke),n(ke,te,ie),bn(()=>Ae.enter(ke),le);else{const{leave:Qe,delayLeave:Ge,afterLeave:Je}=Ae,rt=()=>n(ke,te,ie),ht=()=>{Qe(ke,()=>{rt(),Je&&Je()})};Ge?Ge(ke,rt,ht):ht()}else n(ke,te,ie)},lt=(V,te,ie,de=!1,le=!1)=>{const{type:ke,props:Ne,ref:Ae,children:Ce,dynamicChildren:we,shapeFlag:Ke,patchFlag:Qe,dirs:Ge}=V;if(Ae!=null&&Vh(Ae,null,ie,V,!0),Ke&256){te.ctx.deactivate(V);return}const Je=Ke&1&&Ge,rt=!Ff(V);let ht;if(rt&&(ht=Ne&&Ne.onVnodeBeforeUnmount)&&Ii(ht,te,V),Ke&6)_r(V.component,ie,de);else{if(Ke&128){V.suspense.unmount(ie,de);return}Je&&Xu(V,null,te,"beforeUnmount"),Ke&64?V.type.remove(V,te,ie,le,Cr,de):we&&(ke!==Is||Qe>0&&Qe&64)?Dt(we,te,ie,!1,!0):(ke===Is&&Qe&384||!le&&Ke&16)&&Dt(Ce,te,ie),de&&Hr(V)}(rt&&(ht=Ne&&Ne.onVnodeUnmounted)||Je)&&bn(()=>{ht&&Ii(ht,te,V),Je&&Xu(V,null,te,"unmounted")},ie)},Hr=V=>{const{type:te,el:ie,anchor:de,transition:le}=V;if(te===Is){rr(ie,de);return}if(te===fh){G(V);return}const ke=()=>{h(ie),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(V.shapeFlag&1&&le&&!le.persisted){const{leave:Ne,delayLeave:Ae}=le,Ce=()=>Ne(ie,ke);Ae?Ae(V.el,ke,Ce):Ce()}else ke()},rr=(V,te)=>{let ie;for(;V!==te;)ie=q(V),h(V),V=ie;h(te)},_r=(V,te,ie)=>{const{bum:de,scope:le,update:ke,subTree:Ne,um:Ae}=V;de&&nh(de),le.stop(),ke&&(ke.active=!1,lt(Ne,V,te,ie)),Ae&&bn(Ae,te),bn(()=>{V.isUnmounted=!0},te),te&&te.pendingBranch&&!te.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===te.pendingId&&(te.deps--,te.deps===0&&te.resolve())},Dt=(V,te,ie,de=!1,le=!1,ke=0)=>{for(let Ne=ke;Ne<V.length;Ne++)lt(V[Ne],te,ie,de,le)},mr=V=>V.shapeFlag&6?mr(V.component.subTree):V.shapeFlag&128?V.suspense.next():q(V.anchor||V.el);let Br=!1;const $r=(V,te,ie)=>{V==null?te._vnode&&lt(te._vnode,null,null,!0):ue(te._vnode||null,V,te,null,null,null,ie),Br||(Br=!0,hv(),Qg(),Br=!1),te._vnode=V},Cr={p:ue,um:lt,m:Kt,r:Hr,mt:pt,mc:se,pc:ze,pbc:Se,n:mr,o:t};let zt,pr;return r&&([zt,pr]=r(Cr)),{render:$r,hydrate:zt,createApp:jw($r,zt)}}function oh({type:t,props:r},e){return e==="svg"&&t==="foreignObject"||e==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:e}function Yu({effect:t,update:r},e){t.allowRecurse=r.allowRecurse=e}function zw(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function yd(t,r,e=!1){const n=t.children,h=r.children;if(ut(n)&&ut(h))for(let d=0;d<n.length;d++){const _=n[d];let C=h[d];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=h[d]=Tu(h[d]),C.el=_.el),e||yd(_,C)),C.type===Vc&&(C.el=_.el)}}function Vw(t){const r=t.slice(),e=[0];let n,h,d,_,C;const M=t.length;for(n=0;n<M;n++){const F=t[n];if(F!==0){if(h=e[e.length-1],t[h]<F){r[n]=h,e.push(n);continue}for(d=0,_=e.length-1;d<_;)C=d+_>>1,t[e[C]]<F?d=C+1:_=C;F<t[e[d]]&&(d>0&&(r[n]=e[d-1]),e[d]=n)}}for(d=e.length,_=e[d-1];d-- >0;)e[d]=_,_=r[_];return e}function wd(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:wd(r)}const Ww=t=>t.__isTeleport,Is=Symbol.for("v-fgt"),Vc=Symbol.for("v-txt"),Fa=Symbol.for("v-cmt"),fh=Symbol.for("v-stc"),Tf=[];let wi=null;function Tr(t=!1){Tf.push(wi=t?null:[])}function Gw(){Tf.pop(),wi=Tf[Tf.length-1]||null}let Bf=1;function Av(t){Bf+=t}function md(t){return t.dynamicChildren=Bf>0?wi||Uo:null,Gw(),Bf>0&&wi&&wi.push(t),t}function ls(t,r,e,n,h,d){return md(Ma(t,r,e,n,h,d,!0))}function Wc(t,r,e,n,h){return md(Ir(t,r,e,n,h,!0))}function Fc(t){return t?t.__v_isVNode===!0:!1}function so(t,r){return t.type===r.type&&t.key===r.key}const Gc="__vInternal",$d=({key:t})=>t??null,lc=({ref:t,ref_key:r,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?ts(t)||kn(t)||Pt(t)?{i:fn,r:t,k:r,f:!!e}:t:null);function Ma(t,r=null,e=null,n=0,h=null,d=t===Is?0:1,_=!1,C=!1){const M={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&$d(r),ref:r&&lc(r),scopeId:qc,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:n,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:fn};return C?(Kp(M,e),d&128&&t.normalize(M)):e&&(M.shapeFlag|=ts(e)?8:16),Bf>0&&!_&&wi&&(M.patchFlag>0||d&6)&&M.patchFlag!==32&&wi.push(M),M}const Ir=Jw;function Jw(t,r=null,e=null,n=0,h=null,d=!1){if((!t||t===fw)&&(t=Fa),Fc(t)){const C=Vu(t,r,!0);return e&&Kp(C,e),Bf>0&&!d&&wi&&(C.shapeFlag&6?wi[wi.indexOf(t)]=C:wi.push(C)),C.patchFlag|=-2,C}if(i0(t)&&(t=t.__vccOpts),r){r=Zw(r);let{class:C,style:M}=r;C&&!ts(C)&&(r.class=Ds(C)),Ar(M)&&(Kg(M)&&!ut(M)&&(M=us({},M)),r.style=Fp(M))}const _=ts(t)?1:cw(t)?128:Ww(t)?64:Ar(t)?4:Pt(t)?2:0;return Ma(t,r,e,n,h,_,d,!0)}function Zw(t){return t?Kg(t)||Gc in t?us({},t):t:null}function Vu(t,r,e=!1){const{props:n,ref:h,patchFlag:d,children:_}=t,C=r?Qw(n||{},r):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:C,key:C&&$d(C),ref:r&&r.ref?e&&h?ut(h)?h.concat(lc(r)):[h,lc(r)]:lc(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Is?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vu(t.ssContent),ssFallback:t.ssFallback&&Vu(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function yi(t=" ",r=0){return Ir(Vc,null,t,r)}function hf(t="",r=!1){return r?(Tr(),Wc(Fa,null,t)):Ir(Fa,null,t)}function Di(t){return t==null||typeof t=="boolean"?Ir(Fa):ut(t)?Ir(Is,null,t.slice()):typeof t=="object"?Tu(t):Ir(Vc,null,String(t))}function Tu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vu(t)}function Kp(t,r){let e=0;const{shapeFlag:n}=t;if(r==null)r=null;else if(ut(r))e=16;else if(typeof r=="object")if(n&65){const h=r.default;h&&(h._c&&(h._d=!1),Kp(t,h()),h._c&&(h._d=!0));return}else{e=32;const h=r._;!h&&!(Gc in r)?r._ctx=fn:h===3&&fn&&(fn.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Pt(r)?(r={default:r,_ctx:fn},e=32):(r=String(r),n&64?(e=16,r=[yi(r)]):e=8);t.children=r,t.shapeFlag|=e}function Qw(...t){const r={};for(let e=0;e<t.length;e++){const n=t[e];for(const h in n)if(h==="class")r.class!==n.class&&(r.class=Ds([r.class,n.class]));else if(h==="style")r.style=Fp([r.style,n.style]);else if(Rc(h)){const d=r[h],_=n[h];_&&d!==_&&!(ut(d)&&d.includes(_))&&(r[h]=d?[].concat(d,_):_)}else h!==""&&(r[h]=n[h])}return r}function Ii(t,r,e,n=null){Sa(t,r,7,[e,n])}const Xw=cd();let Yw=0;function e0(t,r,e){const n=t.type,h=(r?r.appContext:t.appContext)||Xw,d={uid:Yw++,vnode:t,type:n,parent:r,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new _y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pd(n,h),emitsOptions:Yg(n,h),emit:null,emitted:null,propsDefaults:Mr,inheritAttrs:n.inheritAttrs,ctx:Mr,data:Mr,props:Mr,attrs:Mr,slots:Mr,refs:Mr,setupState:Mr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=r?r.root:d,d.emit=sw.bind(null,d),t.ce&&t.ce(d),d}let Rs=null;const t0=()=>Rs||fn;let Nc,Wh;{const t=Mg(),r=(e,n)=>{let h;return(h=t[e])||(h=t[e]=[]),h.push(n),d=>{h.length>1?h.forEach(_=>_(d)):h[0](d)}};Nc=r("__VUE_INSTANCE_SETTERS__",e=>Rs=e),Wh=r("__VUE_SSR_SETTERS__",e=>Jc=e)}const Kf=t=>{const r=Rs;return Nc(t),t.scope.on(),()=>{t.scope.off(),Nc(r)}},_v=()=>{Rs&&Rs.scope.off(),Nc(null)};function xd(t){return t.vnode.shapeFlag&4}let Jc=!1;function r0(t,r=!1){r&&Wh(r);const{props:e,children:n}=t.vnode,h=xd(t);Dw(t,e,h,r),Bw(t,n);const d=h?s0(t,r):void 0;return r&&Wh(!1),d}function s0(t,r){const e=t.type;t.accessCache=Object.create(null),t.proxy=zg(new Proxy(t.ctx,Mw));const{setup:n}=e;if(n){const h=t.setupContext=n.length>1?a0(t):null,d=Kf(t);Fo();const _=qu(n,t,0,[t.props,h]);if(No(),d(),Cg(_)){if(_.then(_v,_v),r)return _.then(C=>{Cv(t,C,r)}).catch(C=>{Bc(C,t,0)});t.asyncDep=_}else Cv(t,_,r)}else bd(t,r)}function Cv(t,r,e){Pt(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:Ar(r)&&(t.setupState=Gg(r)),bd(t,e)}let Pv;function bd(t,r,e){const n=t.type;if(!t.render){if(!r&&Pv&&!n.render){const h=n.template||Up(t).template;if(h){const{isCustomElement:d,compilerOptions:_}=t.appContext.config,{delimiters:C,compilerOptions:M}=n,F=us(us({isCustomElement:d,delimiters:C},_),M);n.render=Pv(h,F)}}t.render=n.render||Ea}{const h=Kf(t);Fo();try{Sw(t)}finally{No(),h()}}}function n0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(r,e){return Pn(t,"get","$attrs"),r[e]}}))}function a0(t){const r=e=>{t.exposed=e||{}};return{get attrs(){return n0(t)},slots:t.slots,emit:t.emit,expose:r}}function zp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gg(zg(t.exposed)),{get(r,e){if(e in r)return r[e];if(e in Nf)return Nf[e](t)},has(r,e){return e in r||e in Nf}}))}function i0(t){return Pt(t)&&"__vccOpts"in t}const l0=(t,r)=>Wy(t,r,Jc);function Eu(t,r,e){const n=arguments.length;return n===2?Ar(r)&&!ut(r)?Fc(r)?Ir(t,null,[r]):Ir(t,r):Ir(t,null,r):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Fc(e)&&(e=[e]),Ir(t,r,e))}const u0="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const o0="http://www.w3.org/2000/svg",f0="http://www.w3.org/1998/Math/MathML",Iu=typeof document<"u"?document:null,kv=Iu&&Iu.createElement("template"),c0={insert:(t,r,e)=>{r.insertBefore(t,e||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,e,n)=>{const h=r==="svg"?Iu.createElementNS(o0,t):r==="mathml"?Iu.createElementNS(f0,t):Iu.createElement(t,e?{is:e}:void 0);return t==="select"&&n&&n.multiple!=null&&h.setAttribute("multiple",n.multiple),h},createText:t=>Iu.createTextNode(t),createComment:t=>Iu.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Iu.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,e,n,h,d){const _=e?e.previousSibling:r.lastChild;if(h&&(h===d||h.nextSibling))for(;r.insertBefore(h.cloneNode(!0),e),!(h===d||!(h=h.nextSibling)););else{kv.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const C=kv.content;if(n==="svg"||n==="mathml"){const M=C.firstChild;for(;M.firstChild;)C.appendChild(M.firstChild);C.removeChild(M)}r.insertBefore(C,e)}return[_?_.nextSibling:r.firstChild,e?e.previousSibling:r.lastChild]}},Pu="transition",$f="animation",Uf=Symbol("_vtc"),Vp=(t,{slots:r})=>Eu(ww,h0(t),r);Vp.displayName="Transition";const Ad={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Vp.props=us({},rd,Ad);const eo=(t,r=[])=>{ut(t)?t.forEach(e=>e(...r)):t&&t(...r)},Ev=t=>t?ut(t)?t.some(r=>r.length>1):t.length>1:!1;function h0(t){const r={};for(const _e in t)_e in Ad||(r[_e]=t[_e]);if(t.css===!1)return r;const{name:e="v",type:n,duration:h,enterFromClass:d=`${e}-enter-from`,enterActiveClass:_=`${e}-enter-active`,enterToClass:C=`${e}-enter-to`,appearFromClass:M=d,appearActiveClass:F=_,appearToClass:O=C,leaveFromClass:D=`${e}-leave-from`,leaveActiveClass:q=`${e}-leave-active`,leaveToClass:Q=`${e}-leave-to`}=t,ye=p0(h),ue=ye&&ye[0],pe=ye&&ye[1],{onBeforeEnter:Fe,onEnter:W,onEnterCancelled:z,onLeave:G,onLeaveCancelled:J,onBeforeAppear:Z=Fe,onAppear:ee=W,onAppearCancelled:se=z}=r,ne=(_e,Xe,pt)=>{to(_e,Xe?O:C),to(_e,Xe?F:_),pt&&pt()},Se=(_e,Xe)=>{_e._isLeaving=!1,to(_e,D),to(_e,Q),to(_e,q),Xe&&Xe()},je=_e=>(Xe,pt)=>{const ar=_e?ee:W,vt=()=>ne(Xe,_e,pt);eo(ar,[Xe,vt]),Mv(()=>{to(Xe,_e?M:d),ku(Xe,_e?O:C),Ev(ar)||Sv(Xe,n,ue,vt)})};return us(r,{onBeforeEnter(_e){eo(Fe,[_e]),ku(_e,d),ku(_e,_)},onBeforeAppear(_e){eo(Z,[_e]),ku(_e,M),ku(_e,F)},onEnter:je(!1),onAppear:je(!0),onLeave(_e,Xe){_e._isLeaving=!0;const pt=()=>Se(_e,Xe);ku(_e,D),d0(),ku(_e,q),Mv(()=>{_e._isLeaving&&(to(_e,D),ku(_e,Q),Ev(G)||Sv(_e,n,pe,pt))}),eo(G,[_e,pt])},onEnterCancelled(_e){ne(_e,!1),eo(z,[_e])},onAppearCancelled(_e){ne(_e,!0),eo(se,[_e])},onLeaveCancelled(_e){Se(_e),eo(J,[_e])}})}function p0(t){if(t==null)return null;if(Ar(t))return[ch(t.enter),ch(t.leave)];{const r=ch(t);return[r,r]}}function ch(t){return yy(t)}function ku(t,r){r.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t[Uf]||(t[Uf]=new Set)).add(r)}function to(t,r){r.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const e=t[Uf];e&&(e.delete(r),e.size||(t[Uf]=void 0))}function Mv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let v0=0;function Sv(t,r,e,n){const h=t._endId=++v0,d=()=>{h===t._endId&&n()};if(e)return setTimeout(d,e);const{type:_,timeout:C,propCount:M}=g0(t,r);if(!_)return n();const F=_+"end";let O=0;const D=()=>{t.removeEventListener(F,q),d()},q=Q=>{Q.target===t&&++O>=M&&D()};setTimeout(()=>{O<M&&D()},C+1),t.addEventListener(F,q)}function g0(t,r){const e=window.getComputedStyle(t),n=ye=>(e[ye]||"").split(", "),h=n(`${Pu}Delay`),d=n(`${Pu}Duration`),_=Fv(h,d),C=n(`${$f}Delay`),M=n(`${$f}Duration`),F=Fv(C,M);let O=null,D=0,q=0;r===Pu?_>0&&(O=Pu,D=_,q=d.length):r===$f?F>0&&(O=$f,D=F,q=M.length):(D=Math.max(_,F),O=D>0?_>F?Pu:$f:null,q=O?O===Pu?d.length:M.length:0);const Q=O===Pu&&/\b(transform|all)(,|$)/.test(n(`${Pu}Property`).toString());return{type:O,timeout:D,propCount:q,hasTransform:Q}}function Fv(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((e,n)=>Nv(e)+Nv(t[n])))}function Nv(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function d0(){return document.body.offsetHeight}function y0(t,r,e){const n=t[Uf];n&&(r=(r?[r,...n]:[...n]).join(" ")),r==null?t.removeAttribute("class"):e?t.setAttribute("class",r):t.className=r}const Ov=Symbol("_vod"),w0=Symbol("_vsh"),m0=Symbol(""),$0=/(^|;)\s*display\s*:/;function x0(t,r,e){const n=t.style,h=ts(e);let d=!1;if(e&&!h){if(r)if(ts(r))for(const _ of r.split(";")){const C=_.slice(0,_.indexOf(":")).trim();e[C]==null&&uc(n,C,"")}else for(const _ in r)e[_]==null&&uc(n,_,"");for(const _ in e)_==="display"&&(d=!0),uc(n,_,e[_])}else if(h){if(r!==e){const _=n[m0];_&&(e+=";"+_),n.cssText=e,d=$0.test(e)}}else r&&t.removeAttribute("style");Ov in t&&(t[Ov]=d?n.display:"",t[w0]&&(n.display="none"))}const Tv=/\s*!important$/;function uc(t,r,e){if(ut(e))e.forEach(n=>uc(t,r,n));else if(e==null&&(e=""),r.startsWith("--"))t.setProperty(r,e);else{const n=b0(t,r);Tv.test(e)?t.setProperty(gf(n),e.replace(Tv,""),"important"):t[n]=e}}const Iv=["Webkit","Moz","ms"],hh={};function b0(t,r){const e=hh[r];if(e)return e;let n=ff(r);if(n!=="filter"&&n in t)return hh[r]=n;n=Eg(n);for(let h=0;h<Iv.length;h++){const d=Iv[h]+n;if(d in t)return hh[r]=d}return r}const jv="http://www.w3.org/1999/xlink";function A0(t,r,e,n,h){if(n&&r.startsWith("xlink:"))e==null?t.removeAttributeNS(jv,r.slice(6,r.length)):t.setAttributeNS(jv,r,e);else{const d=Ay(r);e==null||d&&!Sg(e)?t.removeAttribute(r):t.setAttribute(r,d?"":e)}}function _0(t,r,e,n,h,d,_){if(r==="innerHTML"||r==="textContent"){n&&_(n,h,d),t[r]=e??"";return}const C=t.tagName;if(r==="value"&&C!=="PROGRESS"&&!C.includes("-")){const F=C==="OPTION"?t.getAttribute("value")||"":t.value,O=e??"";(F!==O||!("_value"in t))&&(t.value=O),e==null&&t.removeAttribute(r),t._value=e;return}let M=!1;if(e===""||e==null){const F=typeof t[r];F==="boolean"?e=Sg(e):e==null&&F==="string"?(e="",M=!0):F==="number"&&(e=0,M=!0)}try{t[r]=e}catch{}M&&t.removeAttribute(r)}function C0(t,r,e,n){t.addEventListener(r,e,n)}function P0(t,r,e,n){t.removeEventListener(r,e,n)}const Rv=Symbol("_vei");function k0(t,r,e,n,h=null){const d=t[Rv]||(t[Rv]={}),_=d[r];if(n&&_)_.value=n;else{const[C,M]=E0(r);if(n){const F=d[r]=F0(n,h);C0(t,C,F,M)}else _&&(P0(t,C,_,M),d[r]=void 0)}}const Dv=/(?:Once|Passive|Capture)$/;function E0(t){let r;if(Dv.test(t)){r={};let n;for(;n=t.match(Dv);)t=t.slice(0,t.length-n[0].length),r[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gf(t.slice(2)),r]}let ph=0;const M0=Promise.resolve(),S0=()=>ph||(M0.then(()=>ph=0),ph=Date.now());function F0(t,r){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Sa(N0(n,e.value),r,5,[n])};return e.value=t,e.attached=S0(),e}function N0(t,r){if(ut(r)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},r.map(n=>h=>!h._stopped&&n&&n(h))}else return r}const Lv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,O0=(t,r,e,n,h,d,_,C,M)=>{const F=h==="svg";r==="class"?y0(t,n,F):r==="style"?x0(t,e,n):Rc(r)?Ep(r)||k0(t,r,e,n,_):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):T0(t,r,n,F))?_0(t,r,n,d,_,C,M):(r==="true-value"?t._trueValue=n:r==="false-value"&&(t._falseValue=n),A0(t,r,n,F))};function T0(t,r,e,n){if(n)return!!(r==="innerHTML"||r==="textContent"||r in t&&Lv(r)&&Pt(e));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const h=t.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return Lv(r)&&ts(e)?!1:r in t}const I0=us({patchProp:O0},c0);let Hv;function j0(){return Hv||(Hv=qw(I0))}const R0=(...t)=>{const r=j0().createApp(...t),{mount:e}=r;return r.mount=n=>{const h=L0(n);if(!h)return;const d=r._component;!Pt(d)&&!d.render&&!d.template&&(d.template=h.innerHTML),h.innerHTML="";const _=e(h,!1,D0(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),_},r};function D0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function L0(t){return ts(t)?document.querySelector(t):t}function If(){return If=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},If.apply(this,arguments)}var H0=13,B0=9,U0=8,q0=89,ec=90,K0=77,Bv=57,Uv=219,qv=222,Kv=192,z0=27,zv=100,V0=3e3,W0=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),vh=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),G0=qf({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(r){r?this.codeData=r:this.codeData=""}},content:{immediate:!0,handler:function(){var r=this;this.lineNumbers&&this.$nextTick(function(){r.setLineNumbersHeight()})}},lineNumbers:function(){var r=this;this.$nextTick(function(){r.styleLineNumbers(),r.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var r=this.highlight(this.codeData)+"<br />";return r},lineNumbersCount:function(){var r=this.codeData.split(/\r\n|\n/).length;return r}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var r=this.$refs.pre,e=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(r);this.$nextTick(function(){var h="border-top-left-radius",d="border-bottom-left-radius";if(e){e.style[h]=n[h],e.style[d]=n[d],r.style[h]="0",r.style[d]="0";var _=["background-color","margin-top","padding-top","font-family","font-size","line-height"];_.forEach(function(C){e.style[C]=n[C]}),e.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var r=this.$refs.textarea;if(r){var e=r.value,n=r.selectionStart,h=r.selectionEnd;this._recordChange({value:e,selectionStart:n,selectionEnd:h})}},_getLines:function(r,e){return r.substring(0,e).split(`
`)},_applyEdits:function(r){var e=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&e&&(this.history.stack[this.history.offset]=If({},n,{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})),this._recordChange(r),this._updateInput(r)},_recordChange:function(r,e){e===void 0&&(e=!1);var n=this.history,h=n.stack,d=n.offset;if(h.length&&d>-1){this.history.stack=h.slice(0,d+1);var _=this.history.stack.length;if(_>zv){var C=_-zv;this.history.stack=h.slice(C,_),this.history.offset=Math.max(this.history.offset-C,0)}}var M=Date.now();if(e){var F=this.history.stack[this.history.offset];if(F&&M-F.timestamp<V0){var O,D,q=/[^a-z0-9]([a-z0-9]+)$/i,Q=(O=this._getLines(F.value,F.selectionStart).pop())===null||O===void 0?void 0:O.match(q),ye=(D=this._getLines(r.value,r.selectionStart).pop())===null||D===void 0?void 0:D.match(q);if(Q&&ye&&ye[1].startsWith(Q[1])){this.history.stack[this.history.offset]=If({},r,{timestamp:M});return}}}this.history.stack.push(If({},r,{timestamp:M})),this.history.offset++},_updateInput:function(r){var e=this.$refs.textarea;e&&(e.value=r.value,e.selectionStart=r.selectionStart,e.selectionEnd=r.selectionEnd,this.$emit("update:modelValue",r.value))},handleChange:function(r){var e=r.target,n=e.value,h=e.selectionStart,d=e.selectionEnd;this._recordChange({value:n,selectionStart:h,selectionEnd:d},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var r=this.history,e=r.stack,n=r.offset,h=e[n-1];h&&(this._updateInput(h),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var r=this.history,e=r.stack,n=r.offset,h=e[n+1];h&&(this._updateInput(h),this.history.offset=Math.min(n+1,e.length-1))},handleKeyDown:function(r){var e=this.tabSize,n=this.insertSpaces,h=this.ignoreTabKey;if(this.$emit("keydown",r),!r.defaultPrevented){r.keyCode===z0&&(r.target.blur(),this.$emit("blur",r));var d=r.target,_=d.value,C=d.selectionStart,M=d.selectionEnd,F=(n?" ":"	").repeat(e);if(r.keyCode===B0&&!h&&this.capture)if(r.preventDefault(),r.shiftKey){var O=this._getLines(_,C),D=O.length-1,q=this._getLines(_,M).length-1,Q=_.split(`
`).map(function(_e,Xe){return Xe>=D&&Xe<=q&&_e.startsWith(F)?_e.substring(F.length):_e}).join(`
`);if(_!==Q){var ye=O[D];this._applyEdits({value:Q,selectionStart:ye.startsWith(F)?C-F.length:C,selectionEnd:M-(_.length-Q.length)})}}else if(C!==M){var ue=this._getLines(_,C),pe=ue.length-1,Fe=this._getLines(_,M).length-1,W=ue[pe];this._applyEdits({value:_.split(`
`).map(function(_e,Xe){return Xe>=pe&&Xe<=Fe?F+_e:_e}).join(`
`),selectionStart:/\S/.test(W)?C+F.length:C,selectionEnd:M+F.length*(Fe-pe+1)})}else{var z=C+F.length;this._applyEdits({value:_.substring(0,C)+F+_.substring(M),selectionStart:z,selectionEnd:z})}else if(r.keyCode===U0){var G=C!==M,J=_.substring(0,C);if(J.endsWith(F)&&!G){r.preventDefault();var Z=C-F.length;this._applyEdits({value:_.substring(0,C-F.length)+_.substring(M),selectionStart:Z,selectionEnd:Z})}}else if(r.keyCode===H0){if(C===M){var ee=this._getLines(_,C).pop(),se=ee==null?void 0:ee.match(/^\s+/);if(se&&se[0]){r.preventDefault();var ne=`
`+se[0],Se=C+ne.length;this._applyEdits({value:_.substring(0,C)+ne+_.substring(M),selectionStart:Se,selectionEnd:Se})}}}else if(r.keyCode===Bv||r.keyCode===Uv||r.keyCode===qv||r.keyCode===Kv){var je;r.keyCode===Bv&&r.shiftKey?je=["(",")"]:r.keyCode===Uv?r.shiftKey?je=["{","}"]:je=["[","]"]:r.keyCode===qv?r.shiftKey?je=['"','"']:je=["'","'"]:r.keyCode===Kv&&!r.shiftKey&&(je=["`","`"]),C!==M&&je&&(r.preventDefault(),this._applyEdits({value:_.substring(0,C)+je[0]+_.substring(C,M)+je[1]+_.substring(M),selectionStart:C,selectionEnd:M+2}))}else(vh?r.metaKey&&r.keyCode===ec:r.ctrlKey&&r.keyCode===ec)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),this._undoEdit()):(vh?r.metaKey&&r.keyCode===ec&&r.shiftKey:W0?r.ctrlKey&&r.keyCode===q0:r.ctrlKey&&r.keyCode===ec&&r.shiftKey)&&!r.altKey?(r.preventDefault(),this._redoEdit()):r.keyCode===K0&&r.ctrlKey&&(!vh||r.shiftKey)&&(r.preventDefault(),this.capture=!this.capture)}}},render:function(){var r=this,e=Eu("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=Eu("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[e,Array.from(Array(this.lineNumbersCount).keys()).map(function(C,M){return Eu("div",{class:"prism-editor__line-number token comment"},""+ ++M)})]),h=Eu("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(M){r.$emit("click",M)},onKeyup:function(M){r.$emit("keyup",M)},onFocus:function(M){r.$emit("focus",M)},onBlur:function(M){r.$emit("blur",M)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),d=Eu("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),_=Eu("div",{class:"prism-editor__container"},[h,d]);return Eu("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,_])}}),ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z0(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var e=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var h=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,h.get?h:{enumerable:!0,get:function(){return t[n]}})}),e}var Q0={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(n){var h=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,_={},C={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function W(z){return z instanceof M?new M(z.type,W(z.content),z.alias):Array.isArray(z)?z.map(W):z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(W){return Object.prototype.toString.call(W).slice(8,-1)},objId:function(W){return W.__id||Object.defineProperty(W,"__id",{value:++d}),W.__id},clone:function W(z,G){G=G||{};var J,Z;switch(C.util.type(z)){case"Object":if(Z=C.util.objId(z),G[Z])return G[Z];J={},G[Z]=J;for(var ee in z)z.hasOwnProperty(ee)&&(J[ee]=W(z[ee],G));return J;case"Array":return Z=C.util.objId(z),G[Z]?G[Z]:(J=[],G[Z]=J,z.forEach(function(se,ne){J[ne]=W(se,G)}),J);default:return z}},getLanguage:function(W){for(;W;){var z=h.exec(W.className);if(z)return z[1].toLowerCase();W=W.parentElement}return"none"},setLanguage:function(W,z){W.className=W.className.replace(RegExp(h,"gi"),""),W.classList.add("language-"+z)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(J){var W=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(J.stack)||[])[1];if(W){var z=document.getElementsByTagName("script");for(var G in z)if(z[G].src==W)return z[G]}return null}},isActive:function(W,z,G){for(var J="no-"+z;W;){var Z=W.classList;if(Z.contains(z))return!0;if(Z.contains(J))return!1;W=W.parentElement}return!!G}},languages:{plain:_,plaintext:_,text:_,txt:_,extend:function(W,z){var G=C.util.clone(C.languages[W]);for(var J in z)G[J]=z[J];return G},insertBefore:function(W,z,G,J){J=J||C.languages;var Z=J[W],ee={};for(var se in Z)if(Z.hasOwnProperty(se)){if(se==z)for(var ne in G)G.hasOwnProperty(ne)&&(ee[ne]=G[ne]);G.hasOwnProperty(se)||(ee[se]=Z[se])}var Se=J[W];return J[W]=ee,C.languages.DFS(C.languages,function(je,_e){_e===Se&&je!=W&&(this[je]=ee)}),ee},DFS:function W(z,G,J,Z){Z=Z||{};var ee=C.util.objId;for(var se in z)if(z.hasOwnProperty(se)){G.call(z,se,z[se],J||se);var ne=z[se],Se=C.util.type(ne);Se==="Object"&&!Z[ee(ne)]?(Z[ee(ne)]=!0,W(ne,G,null,Z)):Se==="Array"&&!Z[ee(ne)]&&(Z[ee(ne)]=!0,W(ne,G,se,Z))}}},plugins:{},highlightAll:function(W,z){C.highlightAllUnder(document,W,z)},highlightAllUnder:function(W,z,G){var J={callback:G,container:W,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",J),J.elements=Array.prototype.slice.apply(J.container.querySelectorAll(J.selector)),C.hooks.run("before-all-elements-highlight",J);for(var Z=0,ee;ee=J.elements[Z++];)C.highlightElement(ee,z===!0,J.callback)},highlightElement:function(W,z,G){var J=C.util.getLanguage(W),Z=C.languages[J];C.util.setLanguage(W,J);var ee=W.parentElement;ee&&ee.nodeName.toLowerCase()==="pre"&&C.util.setLanguage(ee,J);var se=W.textContent,ne={element:W,language:J,grammar:Z,code:se};function Se(_e){ne.highlightedCode=_e,C.hooks.run("before-insert",ne),ne.element.innerHTML=ne.highlightedCode,C.hooks.run("after-highlight",ne),C.hooks.run("complete",ne),G&&G.call(ne.element)}if(C.hooks.run("before-sanity-check",ne),ee=ne.element.parentElement,ee&&ee.nodeName.toLowerCase()==="pre"&&!ee.hasAttribute("tabindex")&&ee.setAttribute("tabindex","0"),!ne.code){C.hooks.run("complete",ne),G&&G.call(ne.element);return}if(C.hooks.run("before-highlight",ne),!ne.grammar){Se(C.util.encode(ne.code));return}if(z&&n.Worker){var je=new Worker(C.filename);je.onmessage=function(_e){Se(_e.data)},je.postMessage(JSON.stringify({language:ne.language,code:ne.code,immediateClose:!0}))}else Se(C.highlight(ne.code,ne.grammar,ne.language))},highlight:function(W,z,G){var J={code:W,grammar:z,language:G};if(C.hooks.run("before-tokenize",J),!J.grammar)throw new Error('The language "'+J.language+'" has no grammar.');return J.tokens=C.tokenize(J.code,J.grammar),C.hooks.run("after-tokenize",J),M.stringify(C.util.encode(J.tokens),J.language)},tokenize:function(W,z){var G=z.rest;if(G){for(var J in G)z[J]=G[J];delete z.rest}var Z=new D;return q(Z,Z.head,W),O(W,Z,z,Z.head,0),ye(Z)},hooks:{all:{},add:function(W,z){var G=C.hooks.all;G[W]=G[W]||[],G[W].push(z)},run:function(W,z){var G=C.hooks.all[W];if(!(!G||!G.length))for(var J=0,Z;Z=G[J++];)Z(z)}},Token:M};n.Prism=C;function M(W,z,G,J){this.type=W,this.content=z,this.alias=G,this.length=(J||"").length|0}M.stringify=function W(z,G){if(typeof z=="string")return z;if(Array.isArray(z)){var J="";return z.forEach(function(Se){J+=W(Se,G)}),J}var Z={type:z.type,content:W(z.content,G),tag:"span",classes:["token",z.type],attributes:{},language:G},ee=z.alias;ee&&(Array.isArray(ee)?Array.prototype.push.apply(Z.classes,ee):Z.classes.push(ee)),C.hooks.run("wrap",Z);var se="";for(var ne in Z.attributes)se+=" "+ne+'="'+(Z.attributes[ne]||"").replace(/"/g,"&quot;")+'"';return"<"+Z.tag+' class="'+Z.classes.join(" ")+'"'+se+">"+Z.content+"</"+Z.tag+">"};function F(W,z,G,J){W.lastIndex=z;var Z=W.exec(G);if(Z&&J&&Z[1]){var ee=Z[1].length;Z.index+=ee,Z[0]=Z[0].slice(ee)}return Z}function O(W,z,G,J,Z,ee){for(var se in G)if(!(!G.hasOwnProperty(se)||!G[se])){var ne=G[se];ne=Array.isArray(ne)?ne:[ne];for(var Se=0;Se<ne.length;++Se){if(ee&&ee.cause==se+","+Se)return;var je=ne[Se],_e=je.inside,Xe=!!je.lookbehind,pt=!!je.greedy,ar=je.alias;if(pt&&!je.pattern.global){var vt=je.pattern.toString().match(/[imsuy]*$/)[0];je.pattern=RegExp(je.pattern.source,vt+"g")}for(var ft=je.pattern||je,ze=J.next,ct=Z;ze!==z.tail&&!(ee&&ct>=ee.reach);ct+=ze.value.length,ze=ze.next){var Lt=ze.value;if(z.length>W.length)return;if(!(Lt instanceof M)){var Kt=1,lt;if(pt){if(lt=F(ft,ct,W,Xe),!lt||lt.index>=W.length)break;var Dt=lt.index,Hr=lt.index+lt[0].length,rr=ct;for(rr+=ze.value.length;Dt>=rr;)ze=ze.next,rr+=ze.value.length;if(rr-=ze.value.length,ct=rr,ze.value instanceof M)continue;for(var _r=ze;_r!==z.tail&&(rr<Hr||typeof _r.value=="string");_r=_r.next)Kt++,rr+=_r.value.length;Kt--,Lt=W.slice(ct,rr),lt.index-=ct}else if(lt=F(ft,0,Lt,Xe),!lt)continue;var Dt=lt.index,mr=lt[0],Br=Lt.slice(0,Dt),$r=Lt.slice(Dt+mr.length),Cr=ct+Lt.length;ee&&Cr>ee.reach&&(ee.reach=Cr);var zt=ze.prev;Br&&(zt=q(z,zt,Br),ct+=Br.length),Q(z,zt,Kt);var pr=new M(se,_e?C.tokenize(mr,_e):mr,ar,mr);if(ze=q(z,zt,pr),$r&&q(z,ze,$r),Kt>1){var V={cause:se+","+Se,reach:Cr};O(W,z,G,ze.prev,ct,V),ee&&V.reach>ee.reach&&(ee.reach=V.reach)}}}}}}function D(){var W={value:null,prev:null,next:null},z={value:null,prev:W,next:null};W.next=z,this.head=W,this.tail=z,this.length=0}function q(W,z,G){var J=z.next,Z={value:G,prev:z,next:J};return z.next=Z,J.prev=Z,W.length++,Z}function Q(W,z,G){for(var J=z.next,Z=0;Z<G&&J!==W.tail;Z++)J=J.next;z.next=J,J.prev=z,W.length-=Z}function ye(W){for(var z=[],G=W.head.next;G!==W.tail;)z.push(G.value),G=G.next;return z}if(!n.document)return n.addEventListener&&(C.disableWorkerMessageHandler||n.addEventListener("message",function(W){var z=JSON.parse(W.data),G=z.language,J=z.code,Z=z.immediateClose;n.postMessage(C.highlight(J,C.languages[G],G)),Z&&n.close()},!1)),C;var ue=C.util.currentScript();ue&&(C.filename=ue.src,ue.hasAttribute("data-manual")&&(C.manual=!0));function pe(){C.manual||C.highlightAll()}if(!C.manual){var Fe=document.readyState;Fe==="loading"||Fe==="interactive"&&ue&&ue.defer?document.addEventListener("DOMContentLoaded",pe):window.requestAnimationFrame?window.requestAnimationFrame(pe):window.setTimeout(pe,16)}return C}(r);t.exports&&(t.exports=e),typeof ra<"u"&&(ra.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(h,d){var _={};_["language-"+d]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[d]},_.cdata=/^<!\[CDATA\[|\]\]>$/i;var C={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:_}};C["language-"+d]={pattern:/[\s\S]+/,inside:e.languages[d]};var M={};M[h]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return h}),"i"),lookbehind:!0,greedy:!0,inside:C},e.languages.insertBefore("markup","cdata",M)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(n,h){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[h,"language-"+h],inside:e.languages[h]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(n){var h=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+h.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+h.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+h.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+h.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:h,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var d=n.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",h=function(ue,pe){return"✖ Error "+ue+" while fetching file: "+pe},d="✖ Error: File does not exist or is empty",_={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},C="data-src-status",M="loading",F="loaded",O="failed",D="pre[data-src]:not(["+C+'="'+F+'"]):not(['+C+'="'+M+'"])';function q(ue,pe,Fe){var W=new XMLHttpRequest;W.open("GET",ue,!0),W.onreadystatechange=function(){W.readyState==4&&(W.status<400&&W.responseText?pe(W.responseText):W.status>=400?Fe(h(W.status,W.statusText)):Fe(d))},W.send(null)}function Q(ue){var pe=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(ue||"");if(pe){var Fe=Number(pe[1]),W=pe[2],z=pe[3];return W?z?[Fe,Number(z)]:[Fe,void 0]:[Fe,Fe]}}e.hooks.add("before-highlightall",function(ue){ue.selector+=", "+D}),e.hooks.add("before-sanity-check",function(ue){var pe=ue.element;if(pe.matches(D)){ue.code="",pe.setAttribute(C,M);var Fe=pe.appendChild(document.createElement("CODE"));Fe.textContent=n;var W=pe.getAttribute("data-src"),z=ue.language;if(z==="none"){var G=(/\.(\w+)$/.exec(W)||[,"none"])[1];z=_[G]||G}e.util.setLanguage(Fe,z),e.util.setLanguage(pe,z);var J=e.plugins.autoloader;J&&J.loadLanguages(z),q(W,function(Z){pe.setAttribute(C,F);var ee=Q(pe.getAttribute("data-range"));if(ee){var se=Z.split(/\r\n?|\n/g),ne=ee[0],Se=ee[1]==null?se.length:ee[1];ne<0&&(ne+=se.length),ne=Math.max(0,Math.min(ne-1,se.length)),Se<0&&(Se+=se.length),Se=Math.max(0,Math.min(Se,se.length)),Z=se.slice(ne,Se).join(`
`),pe.hasAttribute("data-start")||pe.setAttribute("data-start",String(ne+1))}Fe.textContent=Z,e.highlightElement(Fe)},function(Z){pe.setAttribute(C,O),Fe.textContent=Z})}}),e.plugins.fileHighlight={highlight:function(pe){for(var Fe=(pe||document).querySelectorAll(D),W=0,z;z=Fe[W++];)e.highlightElement(z)}};var ye=!1;e.fileHighlight=function(){ye||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),ye=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Q0);var _d={exports:{}};(function(t){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(n){var h=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,_={},C={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function W(z){return z instanceof M?new M(z.type,W(z.content),z.alias):Array.isArray(z)?z.map(W):z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(W){return Object.prototype.toString.call(W).slice(8,-1)},objId:function(W){return W.__id||Object.defineProperty(W,"__id",{value:++d}),W.__id},clone:function W(z,G){G=G||{};var J,Z;switch(C.util.type(z)){case"Object":if(Z=C.util.objId(z),G[Z])return G[Z];J={},G[Z]=J;for(var ee in z)z.hasOwnProperty(ee)&&(J[ee]=W(z[ee],G));return J;case"Array":return Z=C.util.objId(z),G[Z]?G[Z]:(J=[],G[Z]=J,z.forEach(function(se,ne){J[ne]=W(se,G)}),J);default:return z}},getLanguage:function(W){for(;W;){var z=h.exec(W.className);if(z)return z[1].toLowerCase();W=W.parentElement}return"none"},setLanguage:function(W,z){W.className=W.className.replace(RegExp(h,"gi"),""),W.classList.add("language-"+z)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(J){var W=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(J.stack)||[])[1];if(W){var z=document.getElementsByTagName("script");for(var G in z)if(z[G].src==W)return z[G]}return null}},isActive:function(W,z,G){for(var J="no-"+z;W;){var Z=W.classList;if(Z.contains(z))return!0;if(Z.contains(J))return!1;W=W.parentElement}return!!G}},languages:{plain:_,plaintext:_,text:_,txt:_,extend:function(W,z){var G=C.util.clone(C.languages[W]);for(var J in z)G[J]=z[J];return G},insertBefore:function(W,z,G,J){J=J||C.languages;var Z=J[W],ee={};for(var se in Z)if(Z.hasOwnProperty(se)){if(se==z)for(var ne in G)G.hasOwnProperty(ne)&&(ee[ne]=G[ne]);G.hasOwnProperty(se)||(ee[se]=Z[se])}var Se=J[W];return J[W]=ee,C.languages.DFS(C.languages,function(je,_e){_e===Se&&je!=W&&(this[je]=ee)}),ee},DFS:function W(z,G,J,Z){Z=Z||{};var ee=C.util.objId;for(var se in z)if(z.hasOwnProperty(se)){G.call(z,se,z[se],J||se);var ne=z[se],Se=C.util.type(ne);Se==="Object"&&!Z[ee(ne)]?(Z[ee(ne)]=!0,W(ne,G,null,Z)):Se==="Array"&&!Z[ee(ne)]&&(Z[ee(ne)]=!0,W(ne,G,se,Z))}}},plugins:{},highlightAll:function(W,z){C.highlightAllUnder(document,W,z)},highlightAllUnder:function(W,z,G){var J={callback:G,container:W,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};C.hooks.run("before-highlightall",J),J.elements=Array.prototype.slice.apply(J.container.querySelectorAll(J.selector)),C.hooks.run("before-all-elements-highlight",J);for(var Z=0,ee;ee=J.elements[Z++];)C.highlightElement(ee,z===!0,J.callback)},highlightElement:function(W,z,G){var J=C.util.getLanguage(W),Z=C.languages[J];C.util.setLanguage(W,J);var ee=W.parentElement;ee&&ee.nodeName.toLowerCase()==="pre"&&C.util.setLanguage(ee,J);var se=W.textContent,ne={element:W,language:J,grammar:Z,code:se};function Se(_e){ne.highlightedCode=_e,C.hooks.run("before-insert",ne),ne.element.innerHTML=ne.highlightedCode,C.hooks.run("after-highlight",ne),C.hooks.run("complete",ne),G&&G.call(ne.element)}if(C.hooks.run("before-sanity-check",ne),ee=ne.element.parentElement,ee&&ee.nodeName.toLowerCase()==="pre"&&!ee.hasAttribute("tabindex")&&ee.setAttribute("tabindex","0"),!ne.code){C.hooks.run("complete",ne),G&&G.call(ne.element);return}if(C.hooks.run("before-highlight",ne),!ne.grammar){Se(C.util.encode(ne.code));return}if(z&&n.Worker){var je=new Worker(C.filename);je.onmessage=function(_e){Se(_e.data)},je.postMessage(JSON.stringify({language:ne.language,code:ne.code,immediateClose:!0}))}else Se(C.highlight(ne.code,ne.grammar,ne.language))},highlight:function(W,z,G){var J={code:W,grammar:z,language:G};if(C.hooks.run("before-tokenize",J),!J.grammar)throw new Error('The language "'+J.language+'" has no grammar.');return J.tokens=C.tokenize(J.code,J.grammar),C.hooks.run("after-tokenize",J),M.stringify(C.util.encode(J.tokens),J.language)},tokenize:function(W,z){var G=z.rest;if(G){for(var J in G)z[J]=G[J];delete z.rest}var Z=new D;return q(Z,Z.head,W),O(W,Z,z,Z.head,0),ye(Z)},hooks:{all:{},add:function(W,z){var G=C.hooks.all;G[W]=G[W]||[],G[W].push(z)},run:function(W,z){var G=C.hooks.all[W];if(!(!G||!G.length))for(var J=0,Z;Z=G[J++];)Z(z)}},Token:M};n.Prism=C;function M(W,z,G,J){this.type=W,this.content=z,this.alias=G,this.length=(J||"").length|0}M.stringify=function W(z,G){if(typeof z=="string")return z;if(Array.isArray(z)){var J="";return z.forEach(function(Se){J+=W(Se,G)}),J}var Z={type:z.type,content:W(z.content,G),tag:"span",classes:["token",z.type],attributes:{},language:G},ee=z.alias;ee&&(Array.isArray(ee)?Array.prototype.push.apply(Z.classes,ee):Z.classes.push(ee)),C.hooks.run("wrap",Z);var se="";for(var ne in Z.attributes)se+=" "+ne+'="'+(Z.attributes[ne]||"").replace(/"/g,"&quot;")+'"';return"<"+Z.tag+' class="'+Z.classes.join(" ")+'"'+se+">"+Z.content+"</"+Z.tag+">"};function F(W,z,G,J){W.lastIndex=z;var Z=W.exec(G);if(Z&&J&&Z[1]){var ee=Z[1].length;Z.index+=ee,Z[0]=Z[0].slice(ee)}return Z}function O(W,z,G,J,Z,ee){for(var se in G)if(!(!G.hasOwnProperty(se)||!G[se])){var ne=G[se];ne=Array.isArray(ne)?ne:[ne];for(var Se=0;Se<ne.length;++Se){if(ee&&ee.cause==se+","+Se)return;var je=ne[Se],_e=je.inside,Xe=!!je.lookbehind,pt=!!je.greedy,ar=je.alias;if(pt&&!je.pattern.global){var vt=je.pattern.toString().match(/[imsuy]*$/)[0];je.pattern=RegExp(je.pattern.source,vt+"g")}for(var ft=je.pattern||je,ze=J.next,ct=Z;ze!==z.tail&&!(ee&&ct>=ee.reach);ct+=ze.value.length,ze=ze.next){var Lt=ze.value;if(z.length>W.length)return;if(!(Lt instanceof M)){var Kt=1,lt;if(pt){if(lt=F(ft,ct,W,Xe),!lt||lt.index>=W.length)break;var Dt=lt.index,Hr=lt.index+lt[0].length,rr=ct;for(rr+=ze.value.length;Dt>=rr;)ze=ze.next,rr+=ze.value.length;if(rr-=ze.value.length,ct=rr,ze.value instanceof M)continue;for(var _r=ze;_r!==z.tail&&(rr<Hr||typeof _r.value=="string");_r=_r.next)Kt++,rr+=_r.value.length;Kt--,Lt=W.slice(ct,rr),lt.index-=ct}else if(lt=F(ft,0,Lt,Xe),!lt)continue;var Dt=lt.index,mr=lt[0],Br=Lt.slice(0,Dt),$r=Lt.slice(Dt+mr.length),Cr=ct+Lt.length;ee&&Cr>ee.reach&&(ee.reach=Cr);var zt=ze.prev;Br&&(zt=q(z,zt,Br),ct+=Br.length),Q(z,zt,Kt);var pr=new M(se,_e?C.tokenize(mr,_e):mr,ar,mr);if(ze=q(z,zt,pr),$r&&q(z,ze,$r),Kt>1){var V={cause:se+","+Se,reach:Cr};O(W,z,G,ze.prev,ct,V),ee&&V.reach>ee.reach&&(ee.reach=V.reach)}}}}}}function D(){var W={value:null,prev:null,next:null},z={value:null,prev:W,next:null};W.next=z,this.head=W,this.tail=z,this.length=0}function q(W,z,G){var J=z.next,Z={value:G,prev:z,next:J};return z.next=Z,J.prev=Z,W.length++,Z}function Q(W,z,G){for(var J=z.next,Z=0;Z<G&&J!==W.tail;Z++)J=J.next;z.next=J,J.prev=z,W.length-=Z}function ye(W){for(var z=[],G=W.head.next;G!==W.tail;)z.push(G.value),G=G.next;return z}if(!n.document)return n.addEventListener&&(C.disableWorkerMessageHandler||n.addEventListener("message",function(W){var z=JSON.parse(W.data),G=z.language,J=z.code,Z=z.immediateClose;n.postMessage(C.highlight(J,C.languages[G],G)),Z&&n.close()},!1)),C;var ue=C.util.currentScript();ue&&(C.filename=ue.src,ue.hasAttribute("data-manual")&&(C.manual=!0));function pe(){C.manual||C.highlightAll()}if(!C.manual){var Fe=document.readyState;Fe==="loading"||Fe==="interactive"&&ue&&ue.defer?document.addEventListener("DOMContentLoaded",pe):window.requestAnimationFrame?window.requestAnimationFrame(pe):window.setTimeout(pe,16)}return C}(r);t.exports&&(t.exports=e),typeof ra<"u"&&(ra.Prism=e)})(_d);var Vv=_d.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const X0={computed:{hasHeader(){return!!this.$slots.header},hasFooter(){return!!this.$slots.footer}}},Y0="_container_zhbxc_2",em="_header_zhbxc_9",tm="_main_zhbxc_14",rm="_footer_zhbxc_19",sm={container:Y0,header:em,main:tm,footer:rm},zf=(t,r)=>{const e=t.__vccOpts||t;for(const[n,h]of r)e[n]=h;return e};function nm(t,r,e,n,h,d){return Tr(),ls("div",{class:Ds(t.$style.container)},[d.hasHeader?(Tr(),ls("header",{key:0,class:Ds(t.$style.header)},[ac(t.$slots,"header")],2)):hf("",!0),Ma("main",{class:Ds(t.$style.main)},[ac(t.$slots,"default")],2),d.hasFooter?(Tr(),ls("footer",{key:1,class:Ds(t.$style.footer)},[ac(t.$slots,"footer")],2)):hf("",!0)],2)}const am={$style:sm},Ef=zf(X0,[["render",nm],["__cssModules",am]]),im={key:0},lm=["onClick"],um={key:1},om=["onClick"],fm=qf({__name:"MenuButton",props:{options:{}},emits:["select"],setup(t,{emit:r}){const e=ao(!1),n=r;return(h,d)=>(Tr(),ls("div",{class:Ds(h.$style.wrapper)},[Ma("button",{onClick:d[0]||(d[0]=_=>e.value=!e.value)},[ac(h.$slots,"default")]),Ir(Vp,null,{default:Cn(()=>[e.value?(Tr(),ls("div",{key:0,class:Ds(h.$style.menu)},[h.options instanceof Array?(Tr(),ls("div",im,[(Tr(!0),ls(Is,null,Mc(h.options,_=>(Tr(),ls("div",{class:Ds(h.$style.opt),onClick:C=>{e.value=!1,n("select",_)}},co(_),11,lm))),256))])):(Tr(),ls("div",um,[(Tr(!0),ls(Is,null,Mc(Object.keys(h.options),_=>(Tr(),ls("div",{class:Ds(h.$style.opt),onClick:C=>{e.value=!1,n("select",_)}},co(h.options[_]),11,om))),256))]))],2)):hf("",!0)]),_:1})],2))}}),cm="_wrapper_1dk0z_2",hm="_menu_1dk0z_5",pm="_opt_1dk0z_12",vm={wrapper:cm,menu:hm,opt:pm},gm={$style:vm},Cd=zf(fm,[["__cssModules",gm]]),dm=qf({__name:"Editor",props:{modelValue:{},samples:{},parseError:{}},emits:["run","update:modelValue"],setup(t,{emit:r}){const e=t,n=r,h=ao(e.modelValue);Sf(h,()=>{n("update:modelValue",h.value)},{immediate:!0});function d(C){h.value=e.samples[C]}const _=C=>Vv.highlight(C,Vv.languages.js,"javascript");return(C,M)=>(Tr(),Wc(Ef,null,{header:Cn(()=>[yi(" Input "),e.samples?(Tr(),ls("div",{key:0,class:Ds(C.$style.actions)},[Ir(Cd,{options:Object.keys(e.samples),onSelect:d},{default:Cn(()=>[yi("Samples")]),_:1},8,["options"])],2)):hf("",!0)]),footer:Cn(()=>[e.parseError?(Tr(),ls("span",{key:0,class:Ds(C.$style.parseError)},co(e.parseError),3)):hf("",!0),Ma("div",{class:Ds(C.$style.actions)},[Ma("button",{onClick:M[1]||(M[1]=F=>n("run"))},"RUN")],2)]),default:Cn(()=>[Ir(Df(G0),{class:Ds(C.$style.code),modelValue:h.value,"onUpdate:modelValue":M[0]||(M[0]=F=>h.value=F),highlight:_,"line-numbers":!1},null,8,["class","modelValue"])]),_:1}))}}),ym="_code_af8rl_2",wm="_parseError_af8rl_6",mm="_actions_af8rl_9",$m={code:ym,parseError:wm,actions:mm},xm={$style:$m},bm=zf(dm,[["__cssModules",xm]]);function Sr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let pf=class Pd extends Error{constructor(e,n){super(e);me(this,"name","AiScript");me(this,"info");me(this,"loc");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Pd)}},Wv=class extends pf{constructor(e){super(e.message??`${e}`,e);me(this,"name","Internal")}},jt=class extends pf{constructor(e,n,h){super(`${e} (Line ${n.line}, Column ${n.column})`,h);me(this,"loc");me(this,"name","Syntax");this.loc=n}};class Gv extends pf{constructor(e,n,h){super(`${e} (Line ${n.line}, Column ${n.column})`,h);me(this,"loc");me(this,"name","Namespace");this.loc=n}}let Yt=class extends pf{constructor(e,n){super(e,n);me(this,"name","Runtime")}},Jv=class extends Yt{constructor(r,e){super(r,e)}},Am=class extends Yt{constructor(e,n){super(e,n);me(this,"name","")}};var Wu=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let xu=class kd{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new kd(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new Yt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new Yt(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new Yt(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new Yt(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Wu([Sr],xu.prototype,"log",null);Wu([Sr],xu.prototype,"onUpdated",null);Wu([Sr],xu.prototype,"createChildScope",null);Wu([Sr],xu.prototype,"get",null);Wu([Sr],xu.prototype,"exists",null);Wu([Sr],xu.prototype,"getAll",null);Wu([Sr],xu.prototype,"add",null);Wu([Sr],xu.prototype,"assign",null);let tc;const _m=new Uint8Array(16);function Cm(){if(!tc&&(tc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tc(_m)}const $s=[];for(let t=0;t<256;++t)$s.push((t+256).toString(16).slice(1));function Pm(t,r=0){return $s[t[r+0]]+$s[t[r+1]]+$s[t[r+2]]+$s[t[r+3]]+"-"+$s[t[r+4]]+$s[t[r+5]]+"-"+$s[t[r+6]]+$s[t[r+7]]+"-"+$s[t[r+8]]+$s[t[r+9]]+"-"+$s[t[r+10]]+$s[t[r+11]]+$s[t[r+12]]+$s[t[r+13]]+$s[t[r+14]]+$s[t[r+15]]}const km=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zv={randomUUID:km};function Zc(t,r,e){if(Zv.randomUUID&&!r&&!t)return Zv.randomUUID();t=t||{};const n=t.random||(t.rng||Cm)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return Pm(n)}var Wp={exports:{}};Wp.exports;(function(t){(function(r,e,n){function h(M){var F=this,O=C();F.next=function(){var D=2091639*F.s0+F.c*23283064365386963e-26;return F.s0=F.s1,F.s1=F.s2,F.s2=D-(F.c=D|0)},F.c=1,F.s0=O(" "),F.s1=O(" "),F.s2=O(" "),F.s0-=O(M),F.s0<0&&(F.s0+=1),F.s1-=O(M),F.s1<0&&(F.s1+=1),F.s2-=O(M),F.s2<0&&(F.s2+=1),O=null}function d(M,F){return F.c=M.c,F.s0=M.s0,F.s1=M.s1,F.s2=M.s2,F}function _(M,F){var O=new h(M),D=F&&F.state,q=O.next;return q.int32=function(){return O.next()*4294967296|0},q.double=function(){return q()+(q()*2097152|0)*11102230246251565e-32},q.quick=q,D&&(typeof D=="object"&&d(D,O),q.state=function(){return d(O,{})}),q}function C(){var M=4022871197,F=function(O){O=String(O);for(var D=0;D<O.length;D++){M+=O.charCodeAt(D);var q=.02519603282416938*M;M=q>>>0,q-=M,q*=M,M=q>>>0,q-=M,M+=q*4294967296}return(M>>>0)*23283064365386963e-26};return F}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.alea=_})(ra,t,!1)})(Wp);var Em=Wp.exports,Gp={exports:{}};Gp.exports;(function(t){(function(r,e,n){function h(C){var M=this,F="";M.x=0,M.y=0,M.z=0,M.w=0,M.next=function(){var D=M.x^M.x<<11;return M.x=M.y,M.y=M.z,M.z=M.w,M.w^=M.w>>>19^D^D>>>8},C===(C|0)?M.x=C:F+=C;for(var O=0;O<F.length+64;O++)M.x^=F.charCodeAt(O)|0,M.next()}function d(C,M){return M.x=C.x,M.y=C.y,M.z=C.z,M.w=C.w,M}function _(C,M){var F=new h(C),O=M&&M.state,D=function(){return(F.next()>>>0)/4294967296};return D.double=function(){do var q=F.next()>>>11,Q=(F.next()>>>0)/4294967296,ye=(q+Q)/(1<<21);while(ye===0);return ye},D.int32=F.next,D.quick=D,O&&(typeof O=="object"&&d(O,F),D.state=function(){return d(F,{})}),D}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.xor128=_})(ra,t,!1)})(Gp);var Mm=Gp.exports,Jp={exports:{}};Jp.exports;(function(t){(function(r,e,n){function h(C){var M=this,F="";M.next=function(){var D=M.x^M.x>>>2;return M.x=M.y,M.y=M.z,M.z=M.w,M.w=M.v,(M.d=M.d+362437|0)+(M.v=M.v^M.v<<4^(D^D<<1))|0},M.x=0,M.y=0,M.z=0,M.w=0,M.v=0,C===(C|0)?M.x=C:F+=C;for(var O=0;O<F.length+64;O++)M.x^=F.charCodeAt(O)|0,O==F.length&&(M.d=M.x<<10^M.x>>>4),M.next()}function d(C,M){return M.x=C.x,M.y=C.y,M.z=C.z,M.w=C.w,M.v=C.v,M.d=C.d,M}function _(C,M){var F=new h(C),O=M&&M.state,D=function(){return(F.next()>>>0)/4294967296};return D.double=function(){do var q=F.next()>>>11,Q=(F.next()>>>0)/4294967296,ye=(q+Q)/(1<<21);while(ye===0);return ye},D.int32=F.next,D.quick=D,O&&(typeof O=="object"&&d(O,F),D.state=function(){return d(F,{})}),D}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.xorwow=_})(ra,t,!1)})(Jp);var Sm=Jp.exports,Zp={exports:{}};Zp.exports;(function(t){(function(r,e,n){function h(C){var M=this;M.next=function(){var O=M.x,D=M.i,q,Q;return q=O[D],q^=q>>>7,Q=q^q<<24,q=O[D+1&7],Q^=q^q>>>10,q=O[D+3&7],Q^=q^q>>>3,q=O[D+4&7],Q^=q^q<<7,q=O[D+7&7],q=q^q<<13,Q^=q^q<<9,O[D]=Q,M.i=D+1&7,Q};function F(O,D){var q,Q=[];if(D===(D|0))Q[0]=D;else for(D=""+D,q=0;q<D.length;++q)Q[q&7]=Q[q&7]<<15^D.charCodeAt(q)+Q[q+1&7]<<13;for(;Q.length<8;)Q.push(0);for(q=0;q<8&&Q[q]===0;++q);for(q==8?Q[7]=-1:Q[q],O.x=Q,O.i=0,q=256;q>0;--q)O.next()}F(M,C)}function d(C,M){return M.x=C.x.slice(),M.i=C.i,M}function _(C,M){C==null&&(C=+new Date);var F=new h(C),O=M&&M.state,D=function(){return(F.next()>>>0)/4294967296};return D.double=function(){do var q=F.next()>>>11,Q=(F.next()>>>0)/4294967296,ye=(q+Q)/(1<<21);while(ye===0);return ye},D.int32=F.next,D.quick=D,O&&(O.x&&d(O,F),D.state=function(){return d(F,{})}),D}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.xorshift7=_})(ra,t,!1)})(Zp);var Fm=Zp.exports,Qp={exports:{}};Qp.exports;(function(t){(function(r,e,n){function h(C){var M=this;M.next=function(){var O=M.w,D=M.X,q=M.i,Q,ye;return M.w=O=O+1640531527|0,ye=D[q+34&127],Q=D[q=q+1&127],ye^=ye<<13,Q^=Q<<17,ye^=ye>>>15,Q^=Q>>>12,ye=D[q]=ye^Q,M.i=q,ye+(O^O>>>16)|0};function F(O,D){var q,Q,ye,ue,pe,Fe=[],W=128;for(D===(D|0)?(Q=D,D=null):(D=D+"\0",Q=0,W=Math.max(W,D.length)),ye=0,ue=-32;ue<W;++ue)D&&(Q^=D.charCodeAt((ue+32)%D.length)),ue===0&&(pe=Q),Q^=Q<<10,Q^=Q>>>15,Q^=Q<<4,Q^=Q>>>13,ue>=0&&(pe=pe+1640531527|0,q=Fe[ue&127]^=Q+pe,ye=q==0?ye+1:0);for(ye>=128&&(Fe[(D&&D.length||0)&127]=-1),ye=127,ue=4*128;ue>0;--ue)Q=Fe[ye+34&127],q=Fe[ye=ye+1&127],Q^=Q<<13,q^=q<<17,Q^=Q>>>15,q^=q>>>12,Fe[ye]=Q^q;O.w=pe,O.X=Fe,O.i=ye}F(M,C)}function d(C,M){return M.i=C.i,M.w=C.w,M.X=C.X.slice(),M}function _(C,M){C==null&&(C=+new Date);var F=new h(C),O=M&&M.state,D=function(){return(F.next()>>>0)/4294967296};return D.double=function(){do var q=F.next()>>>11,Q=(F.next()>>>0)/4294967296,ye=(q+Q)/(1<<21);while(ye===0);return ye},D.int32=F.next,D.quick=D,O&&(O.X&&d(O,F),D.state=function(){return d(F,{})}),D}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.xor4096=_})(ra,t,!1)})(Qp);var Nm=Qp.exports,Xp={exports:{}};Xp.exports;(function(t){(function(r,e,n){function h(C){var M=this,F="";M.next=function(){var D=M.b,q=M.c,Q=M.d,ye=M.a;return D=D<<25^D>>>7^q,q=q-Q|0,Q=Q<<24^Q>>>8^ye,ye=ye-D|0,M.b=D=D<<20^D>>>12^q,M.c=q=q-Q|0,M.d=Q<<16^q>>>16^ye,M.a=ye-D|0},M.a=0,M.b=0,M.c=-1640531527,M.d=1367130551,C===Math.floor(C)?(M.a=C/4294967296|0,M.b=C|0):F+=C;for(var O=0;O<F.length+20;O++)M.b^=F.charCodeAt(O)|0,M.next()}function d(C,M){return M.a=C.a,M.b=C.b,M.c=C.c,M.d=C.d,M}function _(C,M){var F=new h(C),O=M&&M.state,D=function(){return(F.next()>>>0)/4294967296};return D.double=function(){do var q=F.next()>>>11,Q=(F.next()>>>0)/4294967296,ye=(q+Q)/(1<<21);while(ye===0);return ye},D.int32=F.next,D.quick=D,O&&(typeof O=="object"&&d(O,F),D.state=function(){return d(F,{})}),D}e&&e.exports?e.exports=_:n&&n.amd?n(function(){return _}):this.tychei=_})(ra,t,!1)})(Xp);var Om=Xp.exports,Ed={exports:{}};const Tm={},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),jm=Z0(Im);(function(t){(function(r,e,n){var h=256,d=6,_=52,C="random",M=n.pow(h,d),F=n.pow(2,_),O=F*2,D=h-1,q;function Q(G,J,Z){var ee=[];J=J==!0?{entropy:!0}:J||{};var se=Fe(pe(J.entropy?[G,z(e)]:G??W(),3),ee),ne=new ye(ee),Se=function(){for(var je=ne.g(d),_e=M,Xe=0;je<F;)je=(je+Xe)*h,_e*=h,Xe=ne.g(1);for(;je>=O;)je/=2,_e/=2,Xe>>>=1;return(je+Xe)/_e};return Se.int32=function(){return ne.g(4)|0},Se.quick=function(){return ne.g(4)/4294967296},Se.double=Se,Fe(z(ne.S),e),(J.pass||Z||function(je,_e,Xe,pt){return pt&&(pt.S&&ue(pt,ne),je.state=function(){return ue(ne,{})}),Xe?(n[C]=je,_e):je})(Se,se,"global"in J?J.global:this==n,J.state)}function ye(G){var J,Z=G.length,ee=this,se=0,ne=ee.i=ee.j=0,Se=ee.S=[];for(Z||(G=[Z++]);se<h;)Se[se]=se++;for(se=0;se<h;se++)Se[se]=Se[ne=D&ne+G[se%Z]+(J=Se[se])],Se[ne]=J;(ee.g=function(je){for(var _e,Xe=0,pt=ee.i,ar=ee.j,vt=ee.S;je--;)_e=vt[pt=D&pt+1],Xe=Xe*h+vt[D&(vt[pt]=vt[ar=D&ar+_e])+(vt[ar]=_e)];return ee.i=pt,ee.j=ar,Xe})(h)}function ue(G,J){return J.i=G.i,J.j=G.j,J.S=G.S.slice(),J}function pe(G,J){var Z=[],ee=typeof G,se;if(J&&ee=="object")for(se in G)try{Z.push(pe(G[se],J-1))}catch{}return Z.length?Z:ee=="string"?G:G+"\0"}function Fe(G,J){for(var Z=G+"",ee,se=0;se<Z.length;)J[D&se]=D&(ee^=J[D&se]*19)+Z.charCodeAt(se++);return z(J)}function W(){try{var G;return q&&(G=q.randomBytes)?G=G(h):(G=new Uint8Array(h),(r.crypto||r.msCrypto).getRandomValues(G)),z(G)}catch{var J=r.navigator,Z=J&&J.plugins;return[+new Date,r,Z,r.screen,z(e)]}}function z(G){return String.fromCharCode.apply(0,G)}if(Fe(n.random(),e),t.exports){t.exports=Q;try{q=jm}catch{}}else n["seed"+C]=Q})(typeof self<"u"?self:ra,[],Math)})(Ed);var Rm=Ed.exports,Dm=Em,Lm=Mm,Hm=Sm,Bm=Fm,Um=Nm,qm=Om,Oo=Rm;Oo.alea=Dm;Oo.xor128=Lm;Oo.xorwow=Hm;Oo.xorshift7=Bm;Oo.xor4096=Um;Oo.tychei=qm;var Km=Oo;const df=J0(Km),Rt={type:"null"},$a={type:"bool",value:!0},xa={type:"bool",value:!1},Te=t=>({type:"num",value:t}),Zt=t=>({type:"str",value:t}),vo=t=>({type:"bool",value:t}),Oc=t=>({type:"obj",value:t}),kr=t=>({type:"arr",value:t}),zm=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),he=t=>({type:"fn",native:t}),Vm=t=>({type:"return",value:t}),Wm=()=>({type:"break",value:null}),Gm=()=>({type:"continue",value:null}),Jm=t=>t.type==="return"?t.value:t,Gh=(t,r)=>({type:"error",value:t,info:r});function An(t){if(t==null)throw new Yt("Expect anything, but got nothing.")}function sn(t){if(t==null)throw new Yt("Expect boolean, but got nothing.");if(t.type!=="bool")throw new Yt(`Expect boolean, but got ${t.type}.`)}function ju(t){if(t==null)throw new Yt("Expect function, but got nothing.");if(t.type!=="fn")throw new Yt(`Expect function, but got ${t.type}.`)}function Ur(t){if(t==null)throw new Yt("Expect string, but got nothing.");if(t.type!=="str")throw new Yt(`Expect string, but got ${t.type}.`)}function Me(t){if(t==null)throw new Yt("Expect number, but got nothing.");if(t.type!=="num")throw new Yt(`Expect number, but got ${t.type}.`)}function ji(t){if(t==null)throw new Yt("Expect object, but got nothing.");if(t.type!=="obj")throw new Yt(`Expect object, but got ${t.type}.`)}function Vo(t){if(t==null)throw new Yt("Expect array, but got nothing.");if(t.type!=="arr")throw new Yt(`Expect array, but got ${t.type}.`)}function gh(t){return t.type==="obj"}function Qv(t){return t.type==="arr"}function Wo(t,r){return t.type==="fn"&&r.type==="fn"?t.native&&r.native?t.native===r.native:t===r:t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function Jh(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>Jh(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Zh(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Zh(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=Zh(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function Qh(t){if(t===null)return Rt;if(typeof t=="boolean")return vo(t);if(typeof t=="string")return Zt(t);if(typeof t=="number")return Te(t);if(Array.isArray(t))return kr(t.map(r=>Qh(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,Qh(n));return Oc(r)}return Rt}function Go(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(Go(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${Go(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Zm={version:"0.18.0"},Qm=Zm.version,Xm=new TextEncoder,Ym=new TextDecoder,e$={help:Zt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Zt(Qm),"Core:ai":Zt("kawaii"),"Core:not":he(([t])=>(sn(t),t.value?xa:$a)),"Core:eq":he(([t,r])=>(An(t),An(r),Wo(t,r)?$a:xa)),"Core:neq":he(([t,r])=>(An(t),An(r),Wo(t,r)?xa:$a)),"Core:and":he(([t,r])=>(sn(t),t.value?(sn(r),r.value?$a:xa):xa)),"Core:or":he(([t,r])=>(sn(t),t.value?$a:(sn(r),r.value?$a:xa))),"Core:add":he(([t,r])=>(Me(t),Me(r),Te(t.value+r.value))),"Core:sub":he(([t,r])=>(Me(t),Me(r),Te(t.value-r.value))),"Core:mul":he(([t,r])=>(Me(t),Me(r),Te(t.value*r.value))),"Core:pow":he(([t,r])=>{Me(t),Me(r);const e=t.value**r.value;if(isNaN(e))throw new Yt("Invalid operation.");return Te(e)}),"Core:div":he(([t,r])=>{Me(t),Me(r);const e=t.value/r.value;if(isNaN(e))throw new Yt("Invalid operation.");return Te(e)}),"Core:mod":he(([t,r])=>(Me(t),Me(r),Te(t.value%r.value))),"Core:gt":he(([t,r])=>(Me(t),Me(r),t.value>r.value?$a:xa)),"Core:lt":he(([t,r])=>(Me(t),Me(r),t.value<r.value?$a:xa)),"Core:gteq":he(([t,r])=>(Me(t),Me(r),t.value>=r.value?$a:xa)),"Core:lteq":he(([t,r])=>(Me(t),Me(r),t.value<=r.value?$a:xa)),"Core:type":he(([t])=>(An(t),Zt(t.type))),"Core:to_str":he(([t])=>(An(t),Zt(Go(t)))),"Core:range":he(([t,r])=>(Me(t),Me(r),t.value<r.value?kr(Array.from({length:r.value-t.value+1},(e,n)=>Te(n+t.value))):t.value>r.value?kr(Array.from({length:t.value-r.value+1},(e,n)=>Te(t.value-n))):kr([t]))),"Core:sleep":he(async([t])=>(Me(t),await new Promise(r=>setTimeout(r,t.value)),Rt)),"Core:abort":he(async([t])=>{throw Ur(t),new Am(t.value)}),"Util:uuid":he(()=>Zt(Zc())),"Json:stringify":he(([t])=>(An(t),Zt(JSON.stringify(Zh(t))))),"Json:parse":he(([t])=>{Ur(t);try{return Qh(JSON.parse(t.value))}catch{return Gh("not_json")}}),"Json:parsable":he(([t])=>{Ur(t);try{JSON.parse(t.value)}catch{return vo(!1)}return vo(!0)}),"Date:now":he(()=>Te(Date.now())),"Date:year":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:millisecond":he(([t])=>(t&&Me(t),Te(new Date((t==null?void 0:t.value)||Date.now()).getMilliseconds()))),"Date:parse":he(([t])=>(Ur(t),Te(new Date(t.value).getTime()))),"Math:Infinity":Te(1/0),"Math:E":Te(Math.E),"Math:LN2":Te(Math.LN2),"Math:LN10":Te(Math.LN10),"Math:LOG2E":Te(Math.LOG2E),"Math:LOG10E":Te(Math.LOG10E),"Math:PI":Te(Math.PI),"Math:SQRT1_2":Te(Math.SQRT1_2),"Math:SQRT2":Te(Math.SQRT2),"Math:abs":he(([t])=>(Me(t),Te(Math.abs(t.value)))),"Math:acos":he(([t])=>(Me(t),Te(Math.acos(t.value)))),"Math:acosh":he(([t])=>(Me(t),Te(Math.acosh(t.value)))),"Math:asin":he(([t])=>(Me(t),Te(Math.asin(t.value)))),"Math:asinh":he(([t])=>(Me(t),Te(Math.asinh(t.value)))),"Math:atan":he(([t])=>(Me(t),Te(Math.atan(t.value)))),"Math:atanh":he(([t])=>(Me(t),Te(Math.atanh(t.value)))),"Math:atan2":he(([t,r])=>(Me(t),Me(r),Te(Math.atan2(t.value,r.value)))),"Math:cbrt":he(([t])=>(Me(t),Te(Math.cbrt(t.value)))),"Math:ceil":he(([t])=>(Me(t),Te(Math.ceil(t.value)))),"Math:clz32":he(([t])=>(Me(t),Te(Math.clz32(t.value)))),"Math:cos":he(([t])=>(Me(t),Te(Math.cos(t.value)))),"Math:cosh":he(([t])=>(Me(t),Te(Math.cosh(t.value)))),"Math:exp":he(([t])=>(Me(t),Te(Math.exp(t.value)))),"Math:expm1":he(([t])=>(Me(t),Te(Math.expm1(t.value)))),"Math:floor":he(([t])=>(Me(t),Te(Math.floor(t.value)))),"Math:fround":he(([t])=>(Me(t),Te(Math.fround(t.value)))),"Math:hypot":he(([t])=>{Vo(t);const r=[];for(const e of t.value)Me(e),r.push(e.value);return Te(Math.hypot(...r))}),"Math:imul":he(([t,r])=>(Me(t),Me(r),Te(Math.imul(t.value,r.value)))),"Math:log":he(([t])=>(Me(t),Te(Math.log(t.value)))),"Math:log1p":he(([t])=>(Me(t),Te(Math.log1p(t.value)))),"Math:log10":he(([t])=>(Me(t),Te(Math.log10(t.value)))),"Math:log2":he(([t])=>(Me(t),Te(Math.log2(t.value)))),"Math:max":he(([t,r])=>(Me(t),Me(r),Te(Math.max(t.value,r.value)))),"Math:min":he(([t,r])=>(Me(t),Me(r),Te(Math.min(t.value,r.value)))),"Math:pow":he(([t,r])=>(Me(t),Me(r),Te(Math.pow(t.value,r.value)))),"Math:round":he(([t])=>(Me(t),Te(Math.round(t.value)))),"Math:sign":he(([t])=>(Me(t),Te(Math.sign(t.value)))),"Math:sin":he(([t])=>(Me(t),Te(Math.sin(t.value)))),"Math:sinh":he(([t])=>(Me(t),Te(Math.sinh(t.value)))),"Math:sqrt":he(([t])=>{Me(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new Yt("Invalid operation.");return Te(r)}),"Math:tan":he(([t])=>(Me(t),Te(Math.tan(t.value)))),"Math:tanh":he(([t])=>(Me(t),Te(Math.tanh(t.value)))),"Math:trunc":he(([t])=>(Me(t),Te(Math.trunc(t.value)))),"Math:rnd":he(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Te(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Te(Math.random())),"Math:gen_rng":he(([t])=>{if(An(t),t.type!=="num"&&t.type!=="str")return Rt;const r=df(t.value.toString());return he(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Te(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Te(r()))}),"Num:from_hex":he(([t])=>(Ur(t),Te(parseInt(t.value,16)))),"Str:lf":Zt(`
`),"Str:lt":he(([t,r])=>(Ur(t),Ur(r),t.value<r.value?Te(-1):t.value===r.value?Te(0):Te(1))),"Str:gt":he(([t,r])=>(Ur(t),Ur(r),t.value>r.value?Te(-1):t.value===r.value?Te(0):Te(1))),"Str:from_codepoint":he(([t])=>(Me(t),Zt(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":he(([t])=>(Vo(t),Zt(Array.from(t.value.map(r=>(Me(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":he(([t])=>(Vo(t),Zt(Ym.decode(Uint8Array.from(t.value.map(r=>(Me(r),r.value))))))),"Arr:create":he(([t,r])=>{Me(t);try{return kr(Array(t.value).fill(r??Rt))}catch(e){throw t.value<0?new Yt("Arr:create expected non-negative number, got negative"):Number.isInteger(t.value)?e:new Yt("Arr:create expected integer, got non-integer")}}),"Obj:keys":he(([t])=>(ji(t),kr(Array.from(t.value.keys()).map(r=>Zt(r))))),"Obj:vals":he(([t])=>(ji(t),kr(Array.from(t.value.values())))),"Obj:kvs":he(([t])=>(ji(t),kr(Array.from(t.value.entries()).map(([r,e])=>kr([Zt(r),e]))))),"Obj:get":he(([t,r])=>(ji(t),Ur(r),t.value.get(r.value)??Rt)),"Obj:set":he(([t,r,e])=>(ji(t),Ur(r),An(e),t.value.set(r.value,e),Rt)),"Obj:has":he(([t,r])=>(ji(t),Ur(r),vo(t.value.has(r.value)))),"Obj:copy":he(([t])=>(ji(t),Oc(new Map(t.value)))),"Obj:merge":he(([t,r])=>(ji(t),ji(r),Oc(new Map([...t.value,...r.value])))),"Error:create":he(([t,r])=>(Ur(t),Gh(t.value,r))),"Async:interval":he(async([t,r,e],n)=>{Me(t),ju(r),e&&(sn(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),he(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":he(async([t,r],e)=>{Me(t),ju(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),he(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})};var To={},t$=()=>{const t="\\ud800-\\udfff",_="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff"+"\\u1ab0-\\u1aff"+"\\u1dc0-\\u1dff",C="\\ufe0e\\ufe0f",M="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",F=`[${t}]`,O=`[${_}]`,D="\\ud83c[\\udffb-\\udfff]",q=`(?:${O}|${D})`,Q=`[^${t}]`,ye="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="\\u200d",Fe="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",W=`[${M}]`,z=`${q}?`,G=`[${C}]?`,J=`(?:${pe}(?:${[Q,ye,ue].join("|")})${G+z})*`,Z=G+z+J,se=`(?:${[`${Q}${O}?`,O,ye,ue,F,W].join("|")})`;return new RegExp(`${Fe}|${D}(?=${D})|${se+Z}`,"g")},r$=ra&&ra.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(To,"__esModule",{value:!0});var Qc=r$(t$);function Xh(t){if(typeof t!="string")throw new Error("A string is expected as input");return t.match(Qc.default())||[]}var cn=To.toArray=Xh;function Yp(t){if(typeof t!="string")throw new Error("Input must be a string");var r=t.match(Qc.default());return r===null?0:r.length}var yf=To.length=Yp;function Md(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");(typeof r!="number"||r<0)&&(r=0),typeof e=="number"&&e<0&&(e=0);var n=t.match(Qc.default());return n?n.slice(r,e).join(""):""}var wf=To.substring=Md;function s$(t,r,e){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");var n=Yp(t);if(typeof r!="number"&&(r=parseInt(r,10)),r>=n)return"";r<0&&(r+=n);var h;typeof e>"u"?h=n:(typeof e!="number"&&(e=parseInt(e,10)),h=e>=0?e+r:r);var d=t.match(Qc.default());return d?d.slice(r,h).join(""):""}To.substr=s$;function n$(t,r,e,n){if(r===void 0&&(r=16),e===void 0&&(e="#"),n===void 0&&(n="right"),typeof t!="string"||typeof r!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(n)===-1)throw new Error("Pad position should be either left or right");typeof e!="string"&&(e=String(e));var h=Yp(t);if(h>r)return Md(t,0,r);if(h<r){var d=e.repeat(r-h);return n==="left"?d+t:t+d}return t}To.limit=n$;function a$(t,r,e){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");if(t==="")return r===""?0:-1;e=Number(e),e=isNaN(e)?0:e,r=String(r);var n=Xh(t);if(e>=n.length)return r===""?n.length:-1;if(r==="")return e;var h=Xh(r),d=!1,_;for(_=e;_<n.length;_+=1){for(var C=0;C<h.length&&h[C]===n[_+C];)C+=1;if(C===h.length&&h[C-1]===n[_+C-1]){d=!0;break}}return d?_:-1}var mf=To.indexOf=a$;const Xv={num:{to_str:t=>he(async(r,e)=>Zt(t.value.toString())),to_hex:t=>he(async(r,e)=>Zt(t.value.toString(16)))},str:{to_num:t=>he(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?Rt:Te(n)}),to_arr:t=>he(async(r,e)=>kr(cn(t.value).map(n=>Zt(n)))),to_unicode_arr:t=>he(async(r,e)=>kr([...t.value].map(n=>Zt(n)))),to_unicode_codepoint_arr:t=>he(async(r,e)=>kr([...t.value].map(n=>{const h=n.codePointAt(0);return Te(h??n.charCodeAt(0))}))),to_char_arr:t=>he(async(r,e)=>kr(t.value.split("").map(n=>Zt(n)))),to_charcode_arr:t=>he(async(r,e)=>kr(t.value.split("").map(n=>Te(n.charCodeAt(0))))),to_utf8_byte_arr:t=>he(async(r,e)=>kr(Array.from(Xm.encode(t.value)).map(n=>Te(n)))),len:t=>Te(yf(t.value)),replace:t=>he(async([r,e],n)=>(Ur(r),Ur(e),Zt(t.value.split(r.value).join(e.value)))),index_of:t=>he(async([r,e],n)=>{Ur(r),e&&Me(e);const h=e?e.value<0?t.value.length+e.value:e.value:void 0;return Te(mf(t.value,r.value,h))}),incl:t=>he(async([r],e)=>(Ur(r),t.value.includes(r.value)?$a:xa)),trim:t=>he(async(r,e)=>Zt(t.value.trim())),upper:t=>he(async(r,e)=>Zt(t.value.toUpperCase())),lower:t=>he(async(r,e)=>Zt(t.value.toLowerCase())),split:t=>he(async([r],e)=>(r&&Ur(r),kr(r?t.value.split(r?r.value:"").map(n=>Zt(n)):cn(t.value).map(n=>Zt(n))))),slice:t=>he(async([r,e],n)=>(Me(r),Me(e),Zt(wf(t.value,r.value,e.value)))),pick:t=>he(async([r],e)=>{Me(r);const h=cn(t.value)[r.value];return h?Zt(h):Rt}),charcode_at:t=>he(([r],e)=>{Me(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?Rt:Te(n)}),codepoint_at:t=>he(([r],e)=>{Me(r);const n=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(n)?Rt:Te(n)})},arr:{len:t=>Te(t.value.length),push:t=>he(async([r],e)=>(An(r),t.value.push(r),t)),unshift:t=>he(async([r],e)=>(An(r),t.value.unshift(r),t)),pop:t=>he(async(r,e)=>t.value.pop()??Rt),shift:t=>he(async(r,e)=>t.value.shift()??Rt),concat:t=>he(async([r],e)=>(Vo(r),kr(t.value.concat(r.value)))),slice:t=>he(async([r,e],n)=>(Me(r),Me(e),kr(t.value.slice(r.value,e.value)))),join:t=>he(async([r],e)=>(r&&Ur(r),Zt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>he(async([r],e)=>{ju(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Te(d)]));return kr(await Promise.all(n))}),filter:t=>he(async([r],e)=>{ju(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,Te(h)]);sn(_),_.value&&n.push(d)}return kr(n)}),reduce:t=>he(async([r,e],n)=>{ju(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,Te(_)])}return d}),find:t=>he(async([r],e)=>{ju(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Te(n)]);if(sn(d),d.value)return h}return Rt}),incl:t=>he(async([r],e)=>(An(r),t.value.some(n=>Wo(r,n))?$a:xa)),index_of:t=>he(async([r,e],n)=>{if(An(r),e){Me(e);const h=t.value.slice(0,e.value).length,d=t.value.slice(e.value).findIndex(_=>Wo(_,r));return Te(d<0?d:d+h)}else return Te(t.value.findIndex(h=>Wo(h,r)))}),reverse:t=>he(async(r,e)=>(t.value.reverse(),Rt)),copy:t=>he(async(r,e)=>kr([...t.value])),sort:t=>he(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);Me(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return ju(r),Vo(t),t.value=await n(t.value,r),t}),fill:t=>he(async([r,e,n],h)=>{const d=r??Rt,_=e&&(Me(e),e.value),C=n&&(Me(n),n.value);return t.value.fill(d,_,C),t}),repeat:t=>he(async([r],e)=>{Me(r);try{return kr(Array(r.value).fill(t.value).flat())}catch(n){throw r.value<0?new Yt("arr.repeat expected non-negative number, got negative"):Number.isInteger(r.value)?n:new Yt("arr.repeat expected integer, got non-integer")}})},error:{name:t=>Zt(t.value),info:t=>t.info??Rt}};function i$(t,r){if(Object.hasOwn(Xv,t.type)){const e=Xv[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new Yt(`No such prop (${r}) in ${t.type}.`)}else throw new Yt(`Cannot read prop of ${t.type}. (reading ${r})`)}const l$={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var Ls=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Sd=300,u$=Sd-1;let As=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:he(([h])=>{An(h),this.opts.out&&this.opts.out(h)}),readline:he(async h=>{const d=h[0];if(Ur(d),this.opts.in==null)return Rt;const _=await this.opts.in(d.value);return Zt(_)})};this.vars=Object.fromEntries(Object.entries({...r,...e$,...n}).map(([h,d])=>[h,l$.const(d)])),this.scope=new xu([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),Gh("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof pf?this.opts.err(r):this.opts.err(new Wv(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Gv('No "var" in namespace declaration: '+n.name,n.loc);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:{const d=n;throw new Gv("invalid ns member type: "+d.type,d.loc)}}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Rt;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return Jm(await this._run(r.statements,h))}}_eval(r,e){return this.__eval(r,e).catch(n=>{if(n.loc)throw n;{const h=n instanceof pf?n:new Wv(n);throw h.loc=r.loc,h.message=`${h.message} (Line ${r.loc.line}, Column ${r.loc.column})`,h}})}async __eval(r,e){if(this.stop)return Rt;if(this.stepCount%Sd===u$&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new Yt("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);ju(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(sn(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(sn(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Rt}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(Wo(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):Rt}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Rt}case"for":{if(r.times){const n=await this._eval(r.times,e);Me(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Me(n),Me(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Te(d)}]])));if(_.type==="break")break;if(_.type==="return")return _}}return Rt}case"each":{const n=await this._eval(r.items,e);Vo(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return Rt}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),Rt}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),Rt}case"addAssign":{const n=await this._eval(r.dest,e);Me(n);const h=await this._eval(r.expr,e);return Me(h),await this.assign(e,r.dest,Te(n.value+h.value)),Rt}case"subAssign":{const n=await this._eval(r.dest,e);Me(n);const h=await this._eval(r.expr,e);return Me(h),await this.assign(e,r.dest,Te(n.value-h.value)),Rt}case"null":return Rt;case"bool":return vo(r.value);case"num":return Te(r.value);case"str":return Zt(r.value);case"arr":return kr(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return Oc(n)}case"prop":{const n=await this._eval(r.target,e);return gh(n)?n.value.has(r.name)?n.value.get(r.name):Rt:i$(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(Qv(n)){Me(h);const d=n.value[h.value];if(d===void 0)throw new Jv(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(gh(n))return Ur(h),n.value.has(h.value)?n.value.get(h.value):Rt;throw new Yt(`Cannot read prop (${Go(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return sn(n),vo(!n.value)}case"fn":return zm(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return vo(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=Go(d)}return Zt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),Vm(n)}case"break":return this.log("block:break",{scope:e.name}),Wm();case"continue":return this.log("block:continue",{scope:e.name}),Gm();case"ns":return Rt;case"meta":return Rt;case"and":{const n=await this._eval(r.left,e);if(sn(n),n.value){const h=await this._eval(r.right,e);return sn(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(sn(n),n.value)return n;{const h=await this._eval(r.right,e);return sn(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=Rt;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(Qv(h)){if(Me(d),h.value[d.value]===void 0)throw new Jv(`Index out of range. index: ${d.value} max: ${h.value.length-1}`);h.value[d.value]=n}else if(gh(h))Ur(d),h.value.set(d.value,n);else throw new Yt(`Cannot read prop (${Go(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);ji(h),h.value.set(e.name,n)}else throw new Yt("The left-hand side of an assignment expression must be a variable or a property/index access.")}};Ls([Sr],As.prototype,"exec",null);Ls([Sr],As.prototype,"execFn",null);Ls([Sr],As.prototype,"execFnSimple",null);Ls([Sr],As.prototype,"handleError",null);Ls([Sr],As.prototype,"log",null);Ls([Sr],As.prototype,"collectNs",null);Ls([Sr],As.prototype,"collectNsMember",null);Ls([Sr],As.prototype,"_fn",null);Ls([Sr],As.prototype,"_eval",null);Ls([Sr],As.prototype,"__eval",null);Ls([Sr],As.prototype,"_run",null);Ls([Sr],As.prototype,"registerAbortHandler",null);Ls([Sr],As.prototype,"unregisterAbortHandler",null);Ls([Sr],As.prototype,"abort",null);Ls([Sr],As.prototype,"assign",null);Ls([Sr],As,"collectMetadata",null);class o${constructor(r,e){me(this,"pages");me(this,"firstPageIndex");me(this,"lastPageIndex");me(this,"pageIndex");me(this,"address");me(this,"_char");me(this,"line");me(this,"column");this.pages=new Map,this.pages.set(0,r),this.firstPageIndex=0,this.lastPageIndex=0,this.pageIndex=0,this.address=0,this.line=(e==null?void 0:e.line)??0,this.column=(e==null?void 0:e.column)??0,this.moveNext()}get eof(){return this.endOfPage&&this.isLastPage}get char(){if(this.eof)throw new Error("end of stream");return this._char}getPos(){return{line:this.line+1,column:this.column+1}}next(){!this.eof&&this._char===`
`?(this.line++,this.column=0):this.column++,this.incAddr(),this.moveNext()}prev(){this.decAddr(),this.movePrev()}get isFirstPage(){return this.pageIndex<=this.firstPageIndex}get isLastPage(){return this.pageIndex>=this.lastPageIndex}get endOfPage(){const r=this.pages.get(this.pageIndex);return this.address>=r.length}moveNext(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.incAddr(),this.loadChar();continue}break}}incAddr(){this.endOfPage?this.isLastPage||(this.pageIndex++,this.address=0):this.address++}movePrev(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.decAddr(),this.loadChar();continue}break}}decAddr(){this.address>0?this.address--:this.isFirstPage||(this.pageIndex--,this.address=this.pages.get(this.pageIndex).length-1)}loadChar(){this.eof?this._char=void 0:this._char=this.pages.get(this.pageIndex)[this.address]}}var B;(function(t){t[t.EOF=0]="EOF",t[t.NewLine=1]="NewLine",t[t.Identifier=2]="Identifier",t[t.NumberLiteral=3]="NumberLiteral",t[t.StringLiteral=4]="StringLiteral",t[t.Template=5]="Template",t[t.TemplateStringElement=6]="TemplateStringElement",t[t.TemplateExprElement=7]="TemplateExprElement",t[t.NullKeyword=8]="NullKeyword",t[t.TrueKeyword=9]="TrueKeyword",t[t.FalseKeyword=10]="FalseKeyword",t[t.EachKeyword=11]="EachKeyword",t[t.ForKeyword=12]="ForKeyword",t[t.LoopKeyword=13]="LoopKeyword",t[t.BreakKeyword=14]="BreakKeyword",t[t.ContinueKeyword=15]="ContinueKeyword",t[t.MatchKeyword=16]="MatchKeyword",t[t.CaseKeyword=17]="CaseKeyword",t[t.DefaultKeyword=18]="DefaultKeyword",t[t.IfKeyword=19]="IfKeyword",t[t.ElifKeyword=20]="ElifKeyword",t[t.ElseKeyword=21]="ElseKeyword",t[t.ReturnKeyword=22]="ReturnKeyword",t[t.EvalKeyword=23]="EvalKeyword",t[t.VarKeyword=24]="VarKeyword",t[t.LetKeyword=25]="LetKeyword",t[t.ExistsKeyword=26]="ExistsKeyword",t[t.Not=27]="Not",t[t.NotEq=28]="NotEq",t[t.OpenSharpBracket=29]="OpenSharpBracket",t[t.Sharp3=30]="Sharp3",t[t.Percent=31]="Percent",t[t.And2=32]="And2",t[t.OpenParen=33]="OpenParen",t[t.CloseParen=34]="CloseParen",t[t.Asterisk=35]="Asterisk",t[t.Plus=36]="Plus",t[t.PlusEq=37]="PlusEq",t[t.Comma=38]="Comma",t[t.Minus=39]="Minus",t[t.MinusEq=40]="MinusEq",t[t.Dot=41]="Dot",t[t.Slash=42]="Slash",t[t.Colon=43]="Colon",t[t.Colon2=44]="Colon2",t[t.SemiColon=45]="SemiColon",t[t.Lt=46]="Lt",t[t.LtEq=47]="LtEq",t[t.Out=48]="Out",t[t.Eq=49]="Eq",t[t.Eq2=50]="Eq2",t[t.Arrow=51]="Arrow",t[t.Gt=52]="Gt",t[t.GtEq=53]="GtEq",t[t.At=54]="At",t[t.OpenBracket=55]="OpenBracket",t[t.BackSlash=56]="BackSlash",t[t.CloseBracket=57]="CloseBracket",t[t.Hat=58]="Hat",t[t.OpenBrace=59]="OpenBrace",t[t.Or2=60]="Or2",t[t.CloseBrace=61]="CloseBrace"})(B||(B={}));class f${constructor(r,e,n=!1,h,d){me(this,"kind");me(this,"loc");me(this,"hasLeftSpacing");me(this,"value");me(this,"children");this.kind=r,this.loc=e,this.hasLeftSpacing=n,this.value=h,this.children=d}}function Ze(t,r,e){return new f$(t,r,e==null?void 0:e.hasLeftSpacing,e==null?void 0:e.value,e==null?void 0:e.children)}const Yv=[" ","	"],c$=["\r",`
`],eg=/^[0-9]$/,h$=/^[A-Za-z0-9_]$/;class p${constructor(r){me(this,"stream");me(this,"_tokens",[]);typeof r=="string"?this.stream=new o$(r):this.stream=r,this._tokens.push(this.readToken())}get token(){return this._tokens[0]}getKind(){return this.token.kind}next(){this._tokens[0].kind!==B.EOF&&(this._tokens.shift(),this._tokens.length===0&&this._tokens.push(this.readToken()))}lookahead(r){for(;this._tokens.length<=r;)this._tokens.push(this.readToken());return this._tokens[r]}expect(r){if(this.getKind()!==r)throw new jt(`unexpected token: ${B[this.getKind()]}`,this.token.loc)}nextWith(r){this.expect(r),this.next()}readToken(){let r,e=!1;for(;;){if(this.stream.eof){r=Ze(B.EOF,this.stream.getPos(),{hasLeftSpacing:e});break}if(Yv.includes(this.stream.char)){this.stream.next(),e=!0;continue}const n=this.stream.getPos();if(c$.includes(this.stream.char))return this.stream.next(),r=Ze(B.NewLine,n,{hasLeftSpacing:e}),r;switch(this.stream.char){case"!":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.NotEq,n,{hasLeftSpacing:e})):r=Ze(B.Not,n,{hasLeftSpacing:e});break}case'"':case"'":{r=this.readStringLiteral(e);break}case"#":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="#")this.stream.next(),!this.stream.eof&&this.stream.char==="#"&&(this.stream.next(),r=Ze(B.Sharp3,n,{hasLeftSpacing:e}));else if(!this.stream.eof&&this.stream.char==="[")this.stream.next(),r=Ze(B.OpenSharpBracket,n,{hasLeftSpacing:e});else throw new jt('invalid character: "#"',n);break}case"%":{this.stream.next(),r=Ze(B.Percent,n,{hasLeftSpacing:e});break}case"&":{this.stream.next(),!this.stream.eof&&this.stream.char==="&"&&(this.stream.next(),r=Ze(B.And2,n,{hasLeftSpacing:e}));break}case"(":{this.stream.next(),r=Ze(B.OpenParen,n,{hasLeftSpacing:e});break}case")":{this.stream.next(),r=Ze(B.CloseParen,n,{hasLeftSpacing:e});break}case"*":{this.stream.next(),r=Ze(B.Asterisk,n,{hasLeftSpacing:e});break}case"+":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.PlusEq,n,{hasLeftSpacing:e})):r=Ze(B.Plus,n,{hasLeftSpacing:e});break}case",":{this.stream.next(),r=Ze(B.Comma,n,{hasLeftSpacing:e});break}case"-":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.MinusEq,n,{hasLeftSpacing:e})):r=Ze(B.Minus,n,{hasLeftSpacing:e});break}case".":{this.stream.next(),r=Ze(B.Dot,n,{hasLeftSpacing:e});break}case"/":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else r=Ze(B.Slash,n,{hasLeftSpacing:e});break}case":":{this.stream.next(),!this.stream.eof&&this.stream.char===":"?(this.stream.next(),r=Ze(B.Colon2,n,{hasLeftSpacing:e})):r=Ze(B.Colon,n,{hasLeftSpacing:e});break}case";":{this.stream.next(),r=Ze(B.SemiColon,n,{hasLeftSpacing:e});break}case"<":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.LtEq,n,{hasLeftSpacing:e})):!this.stream.eof&&this.stream.char===":"?(this.stream.next(),r=Ze(B.Out,n,{hasLeftSpacing:e})):r=Ze(B.Lt,n,{hasLeftSpacing:e});break}case"=":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.Eq2,n,{hasLeftSpacing:e})):!this.stream.eof&&this.stream.char===">"?(this.stream.next(),r=Ze(B.Arrow,n,{hasLeftSpacing:e})):r=Ze(B.Eq,n,{hasLeftSpacing:e});break}case">":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),r=Ze(B.GtEq,n,{hasLeftSpacing:e})):r=Ze(B.Gt,n,{hasLeftSpacing:e});break}case"@":{this.stream.next(),r=Ze(B.At,n,{hasLeftSpacing:e});break}case"[":{this.stream.next(),r=Ze(B.OpenBracket,n,{hasLeftSpacing:e});break}case"\\":{this.stream.next(),r=Ze(B.BackSlash,n,{hasLeftSpacing:e});break}case"]":{this.stream.next(),r=Ze(B.CloseBracket,n,{hasLeftSpacing:e});break}case"^":{this.stream.next(),r=Ze(B.Hat,n,{hasLeftSpacing:e});break}case"`":{r=this.readTemplate(e);break}case"{":{this.stream.next(),r=Ze(B.OpenBrace,n,{hasLeftSpacing:e});break}case"|":{this.stream.next(),!this.stream.eof&&this.stream.char==="|"&&(this.stream.next(),r=Ze(B.Or2,n,{hasLeftSpacing:e}));break}case"}":{this.stream.next(),r=Ze(B.CloseBrace,n,{hasLeftSpacing:e});break}}if(r==null){const h=this.tryReadDigits(e);if(h){r=h;break}const d=this.tryReadWord(e);if(d){r=d;break}throw new jt(`invalid character: "${this.stream.char}"`,n)}break}return r}tryReadWord(r){let e="";const n=this.stream.getPos();for(;!this.stream.eof&&h$.test(this.stream.char);)e+=this.stream.char,this.stream.next();if(e.length!==0)switch(e){case"null":return Ze(B.NullKeyword,n,{hasLeftSpacing:r});case"true":return Ze(B.TrueKeyword,n,{hasLeftSpacing:r});case"false":return Ze(B.FalseKeyword,n,{hasLeftSpacing:r});case"each":return Ze(B.EachKeyword,n,{hasLeftSpacing:r});case"for":return Ze(B.ForKeyword,n,{hasLeftSpacing:r});case"loop":return Ze(B.LoopKeyword,n,{hasLeftSpacing:r});case"break":return Ze(B.BreakKeyword,n,{hasLeftSpacing:r});case"continue":return Ze(B.ContinueKeyword,n,{hasLeftSpacing:r});case"match":return Ze(B.MatchKeyword,n,{hasLeftSpacing:r});case"case":return Ze(B.CaseKeyword,n,{hasLeftSpacing:r});case"default":return Ze(B.DefaultKeyword,n,{hasLeftSpacing:r});case"if":return Ze(B.IfKeyword,n,{hasLeftSpacing:r});case"elif":return Ze(B.ElifKeyword,n,{hasLeftSpacing:r});case"else":return Ze(B.ElseKeyword,n,{hasLeftSpacing:r});case"return":return Ze(B.ReturnKeyword,n,{hasLeftSpacing:r});case"eval":return Ze(B.EvalKeyword,n,{hasLeftSpacing:r});case"var":return Ze(B.VarKeyword,n,{hasLeftSpacing:r});case"let":return Ze(B.LetKeyword,n,{hasLeftSpacing:r});case"exists":return Ze(B.ExistsKeyword,n,{hasLeftSpacing:r});default:return Ze(B.Identifier,n,{hasLeftSpacing:r,value:e})}}tryReadDigits(r){let e="",n="";const h=this.stream.getPos();for(;!this.stream.eof&&eg.test(this.stream.char);)e+=this.stream.char,this.stream.next();if(e.length===0)return;if(!this.stream.eof&&this.stream.char==="."){for(this.stream.next();!this.stream.eof&&eg.test(this.stream.char);)n+=this.stream.char,this.stream.next();if(n.length===0)throw new jt("digit expected",h)}let d;return n.length>0?d=e+"."+n:d=e,Ze(B.NumberLiteral,h,{hasLeftSpacing:r,value:d})}readStringLiteral(r){let e="";const n=this.stream.char;let h="string";const d=this.stream.getPos();for(this.stream.next();h!=="finish";)switch(h){case"string":{if(this.stream.eof)throw new jt("unexpected EOF",d);if(this.stream.char==="\\"){this.stream.next(),h="escape";break}if(this.stream.char===n){this.stream.next(),h="finish";break}e+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new jt("unexpected EOF",d);e+=this.stream.char,this.stream.next(),h="string";break}}return Ze(B.StringLiteral,d,{hasLeftSpacing:r,value:e})}readTemplate(r){const e=[];let n="",h=[],d="string";const _=this.stream.getPos();let C=_;for(this.stream.next();d!=="finish";)switch(d){case"string":{if(this.stream.eof)throw new jt("unexpected EOF",_);if(this.stream.char==="\\"){this.stream.next(),d="escape";break}if(this.stream.char==="`"){this.stream.next(),n.length>0&&e.push(Ze(B.TemplateStringElement,C,{hasLeftSpacing:r,value:n})),d="finish";break}if(this.stream.char==="{"){this.stream.next(),n.length>0&&(e.push(Ze(B.TemplateStringElement,C,{hasLeftSpacing:r,value:n})),n=""),C=this.stream.getPos(),d="expr";break}n+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new jt("unexpected EOF",_);n+=this.stream.char,this.stream.next(),d="string";break}case"expr":{if(this.stream.eof)throw new jt("unexpected EOF",_);if(Yv.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="}"){this.stream.next(),e.push(Ze(B.TemplateExprElement,C,{hasLeftSpacing:r,children:h})),h=[],C=this.stream.getPos(),d="string";break}const M=this.readToken();h.push(M);break}}return Ze(B.Template,_,{hasLeftSpacing:r,children:e})}skipCommentLine(){for(;!(this.stream.eof||this.stream.char===`
`);)this.stream.next()}skipCommentRange(){for(;!this.stream.eof;){if(this.stream.char==="*"){if(this.stream.next(),this.stream.char==="/"){this.stream.next();break}continue}this.stream.next()}}}function ot(t,r,e){const n={type:t};for(const h of Object.keys(r))r[h]!==void 0&&(n[h]=r[h]);return n.loc=e,n}function Wn(t,r,e){return ot("call",{target:ot("identifier",{name:t},e),args:r},e)}function Fd(t){const r=[];for(t.nextWith(B.OpenParen),t.getKind()===B.NewLine&&t.next();t.getKind()!==B.CloseParen;){t.expect(B.Identifier);const e=t.token.value;t.next();let n;switch(t.getKind()===B.Colon&&(t.next(),n=Co(t)),r.push({name:e,argType:n}),t.getKind()){case B.NewLine:{t.next();break}case B.Comma:{t.next(),t.getKind()===B.NewLine&&t.next();break}case B.CloseParen:break;default:throw new jt("separator expected",t.token.loc)}}return t.nextWith(B.CloseParen),r}function Vf(t){for(t.nextWith(B.OpenBrace);t.getKind()===B.NewLine;)t.next();const r=[];for(;t.getKind()!==B.CloseBrace;)switch(r.push(Xc(t)),t.getKind()){case B.NewLine:case B.SemiColon:{for(;[B.NewLine,B.SemiColon].includes(t.getKind());)t.next();break}case B.CloseBrace:break;default:throw new jt("Multiple statements cannot be placed on a single line.",t.token.loc)}return t.nextWith(B.CloseBrace),r}function Co(t){return t.getKind()===B.At?v$(t):g$(t)}function v$(t){const r=t.token.loc;t.nextWith(B.At),t.nextWith(B.OpenParen);const e=[];for(;t.getKind()!==B.CloseParen;){if(e.length>0)switch(t.getKind()){case B.Comma:{t.next();break}default:throw new jt("separator expected",t.token.loc)}const h=Co(t);e.push(h)}t.nextWith(B.CloseParen),t.nextWith(B.Arrow);const n=Co(t);return ot("fnTypeSource",{args:e,result:n},r)}function g$(t){const r=t.token.loc;t.expect(B.Identifier);const e=t.token.value;t.next();let n=null;return t.getKind()===B.Lt&&(t.next(),n=Co(t),t.nextWith(B.Gt)),ot("namedTypeSource",{name:e,inner:n},r)}class d${constructor(r){me(this,"source");me(this,"index");me(this,"_token");this.source=r,this.index=0,this.load()}get eof(){return this.index>=this.source.length}get token(){return this.eof?Ze(B.EOF,{line:-1,column:-1}):this._token}getKind(){return this.token.kind}next(){this.eof||this.index++,this.load()}lookahead(r){return this.index+r<this.source.length?this.source[this.index+r]:Ze(B.EOF,{line:-1,column:-1})}expect(r){if(this.getKind()!==r)throw new jt(`unexpected token: ${B[this.getKind()]}`,this.token.loc)}nextWith(r){this.expect(r),this.next()}load(){this.eof?this._token=Ze(B.EOF,{line:-1,column:-1}):this._token=this.source[this.index]}}function jr(t,r){return r?Nd(t,!0):ev(t,0)}const dh=[{opKind:"postfix",kind:B.OpenParen,bp:20},{opKind:"postfix",kind:B.OpenBracket,bp:20},{opKind:"infix",kind:B.Dot,lbp:18,rbp:19},{opKind:"infix",kind:B.Hat,lbp:17,rbp:16},{opKind:"prefix",kind:B.Plus,bp:14},{opKind:"prefix",kind:B.Minus,bp:14},{opKind:"prefix",kind:B.Not,bp:14},{opKind:"infix",kind:B.Asterisk,lbp:12,rbp:13},{opKind:"infix",kind:B.Slash,lbp:12,rbp:13},{opKind:"infix",kind:B.Percent,lbp:12,rbp:13},{opKind:"infix",kind:B.Plus,lbp:10,rbp:11},{opKind:"infix",kind:B.Minus,lbp:10,rbp:11},{opKind:"infix",kind:B.Lt,lbp:8,rbp:9},{opKind:"infix",kind:B.LtEq,lbp:8,rbp:9},{opKind:"infix",kind:B.Gt,lbp:8,rbp:9},{opKind:"infix",kind:B.GtEq,lbp:8,rbp:9},{opKind:"infix",kind:B.Eq2,lbp:6,rbp:7},{opKind:"infix",kind:B.NotEq,lbp:6,rbp:7},{opKind:"infix",kind:B.And2,lbp:4,rbp:5},{opKind:"infix",kind:B.Or2,lbp:2,rbp:3}];function y$(t,r){const e=t.token.loc,n=t.getKind();t.next(),t.getKind()===B.BackSlash&&(t.next(),t.nextWith(B.NewLine));const h=ev(t,r);switch(n){case B.Plus:{if(h.type==="num")return ot("num",{value:h.value},e);throw new jt("currently, sign is only supported for number literal.",e)}case B.Minus:{if(h.type==="num")return ot("num",{value:-1*h.value},e);throw new jt("currently, sign is only supported for number literal.",e)}case B.Not:return ot("not",{expr:h},e);default:throw new jt(`unexpected token: ${B[n]}`,e)}}function w$(t,r,e){const n=t.token.loc,h=t.getKind();if(t.next(),t.getKind()===B.BackSlash&&(t.next(),t.nextWith(B.NewLine)),h===B.Dot){t.expect(B.Identifier);const d=t.token.value;return t.next(),ot("prop",{target:r,name:d},n)}else{const d=ev(t,e);switch(h){case B.Hat:return Wn("Core:pow",[r,d],n);case B.Asterisk:return Wn("Core:mul",[r,d],n);case B.Slash:return Wn("Core:div",[r,d],n);case B.Percent:return Wn("Core:mod",[r,d],n);case B.Plus:return Wn("Core:add",[r,d],n);case B.Minus:return Wn("Core:sub",[r,d],n);case B.Lt:return Wn("Core:lt",[r,d],n);case B.LtEq:return Wn("Core:lteq",[r,d],n);case B.Gt:return Wn("Core:gt",[r,d],n);case B.GtEq:return Wn("Core:gteq",[r,d],n);case B.Eq2:return Wn("Core:eq",[r,d],n);case B.NotEq:return Wn("Core:neq",[r,d],n);case B.And2:return ot("and",{left:r,right:d},n);case B.Or2:return ot("or",{left:r,right:d},n);default:throw new jt(`unexpected token: ${B[h]}`,n)}}}function m$(t,r){const e=t.token.loc,n=t.getKind();switch(n){case B.OpenParen:return $$(t,r);case B.OpenBracket:{t.next();const h=jr(t,!1);return t.nextWith(B.CloseBracket),ot("index",{target:r,index:h},e)}default:throw new jt(`unexpected token: ${B[n]}`,e)}}function Nd(t,r){const e=t.token.loc;switch(t.getKind()){case B.IfKeyword:{if(r)break;return x$(t)}case B.At:{if(r)break;return b$(t)}case B.MatchKeyword:{if(r)break;return A$(t)}case B.EvalKeyword:{if(r)break;return _$(t)}case B.ExistsKeyword:{if(r)break;return C$(t)}case B.Template:{const n=[];if(r)break;for(const h of t.token.children)switch(h.kind){case B.TemplateStringElement:{n.push(ot("str",{value:h.value},h.loc));break}case B.TemplateExprElement:{const d=new d$(h.children),_=jr(d,!1);if(d.getKind()!==B.EOF)throw new jt(`unexpected token: ${B[d.token.kind]}`,d.token.loc);n.push(_);break}default:throw new jt(`unexpected token: ${B[h.kind]}`,h.loc)}return t.next(),ot("tmpl",{tmpl:n},e)}case B.StringLiteral:{const n=t.token.value;return t.next(),ot("str",{value:n},e)}case B.NumberLiteral:{const n=Number(t.token.value);return t.next(),ot("num",{value:n},e)}case B.TrueKeyword:case B.FalseKeyword:{const n=t.getKind()===B.TrueKeyword;return t.next(),ot("bool",{value:n},e)}case B.NullKeyword:return t.next(),ot("null",{},e);case B.OpenBrace:return P$(t,r);case B.OpenBracket:return k$(t,r);case B.Identifier:{if(r)break;return Od(t)}case B.OpenParen:{t.next();const n=jr(t,r);return t.nextWith(B.CloseParen),n}}throw new jt(`unexpected token: ${B[t.getKind()]}`,e)}function $$(t,r){const e=t.token.loc,n=[];for(t.nextWith(B.OpenParen),t.getKind()===B.NewLine&&t.next();t.getKind()!==B.CloseParen;)switch(n.push(jr(t,!1)),t.getKind()){case B.NewLine:{t.next();break}case B.Comma:{t.next(),t.getKind()===B.NewLine&&t.next();break}case B.CloseParen:break;default:throw new jt("separator expected",t.token.loc)}return t.nextWith(B.CloseParen),ot("call",{target:r,args:n},e)}function x$(t){const r=t.token.loc;t.nextWith(B.IfKeyword);const e=jr(t,!1),n=Ku(t);t.getKind()===B.NewLine&&[B.ElifKeyword,B.ElseKeyword].includes(t.lookahead(1).kind)&&t.next();const h=[];for(;t.getKind()===B.ElifKeyword;){t.next();const _=jr(t,!1),C=Ku(t);t.getKind()===B.NewLine&&[B.ElifKeyword,B.ElseKeyword].includes(t.lookahead(1).kind)&&t.next(),h.push({cond:_,then:C})}let d;return t.getKind()===B.ElseKeyword&&(t.next(),d=Ku(t)),ot("if",{cond:e,then:n,elseif:h,else:d},r)}function b$(t){const r=t.token.loc;t.nextWith(B.At);const e=Fd(t);let n;t.getKind()===B.Colon&&(t.next(),n=Co(t));const h=Vf(t);return ot("fn",{args:e,retType:n,children:h},r)}function A$(t){const r=t.token.loc;t.nextWith(B.MatchKeyword);const e=jr(t,!1);t.nextWith(B.OpenBrace),t.getKind()===B.NewLine&&t.next();const n=[];for(;t.getKind()!==B.DefaultKeyword&&t.getKind()!==B.CloseBrace;){t.nextWith(B.CaseKeyword);const d=jr(t,!1);t.nextWith(B.Arrow);const _=Ku(t);switch(n.push({q:d,a:_}),t.getKind()){case B.NewLine:{t.next();break}case B.Comma:{t.next(),t.getKind()===B.NewLine&&t.next();break}case B.DefaultKeyword:case B.CloseBrace:break;default:throw new jt("separator expected",t.token.loc)}}let h;if(t.getKind()===B.DefaultKeyword)switch(t.next(),t.nextWith(B.Arrow),h=Ku(t),t.getKind()){case B.NewLine:{t.next();break}case B.Comma:{t.next(),t.getKind()===B.NewLine&&t.next();break}case B.CloseBrace:break;default:throw new jt("separator expected",t.token.loc)}return t.nextWith(B.CloseBrace),ot("match",{about:e,qs:n,default:h},r)}function _$(t){const r=t.token.loc;t.nextWith(B.EvalKeyword);const e=Vf(t);return ot("block",{statements:e},r)}function C$(t){const r=t.token.loc;t.nextWith(B.ExistsKeyword);const e=Od(t);return ot("exists",{identifier:e},r)}function Od(t){const r=t.token.loc,e=[];for(;;){if(e.length>0)if(t.getKind()===B.Colon){if(t.token.hasLeftSpacing)throw new jt("Cannot use spaces in a reference.",t.token.loc);if(t.next(),t.token.hasLeftSpacing)throw new jt("Cannot use spaces in a reference.",t.token.loc)}else break;t.expect(B.Identifier),e.push(t.token.value),t.next()}return ot("identifier",{name:e.join(":")},r)}function P$(t,r){const e=t.token.loc;for(t.nextWith(B.OpenBrace);t.getKind()===B.NewLine;)t.next();const n=new Map;for(;t.getKind()!==B.CloseBrace;){t.expect(B.Identifier);const h=t.token.value;t.next(),t.nextWith(B.Colon);const d=jr(t,r);switch(n.set(h,d),t.getKind()){case B.NewLine:case B.Comma:{for(t.next();t.getKind()===B.NewLine;)t.next();break}case B.CloseBrace:break;default:throw new jt("separator expected",t.token.loc)}}return t.nextWith(B.CloseBrace),ot("obj",{value:n},e)}function k$(t,r){const e=t.token.loc;for(t.nextWith(B.OpenBracket);t.getKind()===B.NewLine;)t.next();const n=[];for(;t.getKind()!==B.CloseBracket;)switch(n.push(jr(t,r)),t.getKind()){case B.NewLine:case B.Comma:{for(t.next();t.getKind()===B.NewLine;)t.next();break}case B.CloseBracket:break;default:throw new jt("separator expected",t.token.loc)}return t.nextWith(B.CloseBracket),ot("arr",{value:n},e)}function ev(t,r){let e;const n=t.getKind(),h=dh.find(d=>d.opKind==="prefix"&&d.kind===n);for(h!=null?e=y$(t,h.bp):e=Nd(t,!1);;){t.getKind()===B.BackSlash&&(t.next(),t.nextWith(B.NewLine));const d=t.getKind(),_=dh.find(M=>M.opKind==="postfix"&&M.kind===d);if(_!=null){if(_.bp<r)break;if(!([B.OpenBracket,B.OpenParen].includes(d)&&t.token.hasLeftSpacing)){e=m$(t,e);continue}}const C=dh.find(M=>M.opKind==="infix"&&M.kind===d);if(C!=null){if(C.lbp<r)break;e=w$(t,e,C.rbp);continue}break}return e}function Xc(t){const r=t.token.loc;switch(t.getKind()){case B.VarKeyword:case B.LetKeyword:return Td(t);case B.At:{if(t.lookahead(1).kind===B.Identifier)return Id(t);break}case B.Out:return M$(t);case B.ReturnKeyword:return N$(t);case B.OpenSharpBracket:return O$(t);case B.EachKeyword:return S$(t);case B.ForKeyword:return F$(t);case B.LoopKeyword:return I$(t);case B.BreakKeyword:return t.next(),ot("break",{},r);case B.ContinueKeyword:return t.next(),ot("continue",{},r)}const e=jr(t,!1),n=j$(t,e);return n||e}function E$(t){switch(t.getKind()){case B.VarKeyword:case B.LetKeyword:return Td(t);case B.At:return Id(t);default:throw new jt(`unexpected token: ${B[t.getKind()]}`,t.token.loc)}}function Ku(t){const r=t.token.loc;if(t.getKind()===B.OpenBrace){const e=Vf(t);return ot("block",{statements:e},r)}else return Xc(t)}function Td(t){const r=t.token.loc;let e;switch(t.getKind()){case B.LetKeyword:{e=!1;break}case B.VarKeyword:{e=!0;break}default:throw new jt(`unexpected token: ${B[t.getKind()]}`,t.token.loc)}t.next(),t.expect(B.Identifier);const n=t.token.value;t.next();let h;t.getKind()===B.Colon&&(t.next(),h=Co(t)),t.nextWith(B.Eq),t.getKind()===B.NewLine&&t.next();const d=jr(t,!1);return ot("def",{name:n,varType:h,expr:d,mut:e,attr:[]},r)}function Id(t){const r=t.token.loc;t.nextWith(B.At),t.expect(B.Identifier);const e=t.token.value;t.next();const n=Fd(t);let h;t.getKind()===B.Colon&&(t.next(),h=Co(t));const d=Vf(t);return ot("def",{name:e,expr:ot("fn",{args:n,retType:h,children:d},r),mut:!1,attr:[]},r)}function M$(t){const r=t.token.loc;t.nextWith(B.Out);const e=jr(t,!1);return Wn("print",[e],r)}function S$(t){const r=t.token.loc;let e=!1;t.nextWith(B.EachKeyword),t.getKind()===B.OpenParen&&(e=!0,t.next()),t.nextWith(B.LetKeyword),t.expect(B.Identifier);const n=t.token.value;if(t.next(),t.getKind()===B.Comma)t.next();else throw new jt("separator expected",t.token.loc);const h=jr(t,!1);e&&t.nextWith(B.CloseParen);const d=Ku(t);return ot("each",{var:n,items:h,for:d},r)}function F$(t){const r=t.token.loc;let e=!1;if(t.nextWith(B.ForKeyword),t.getKind()===B.OpenParen&&(e=!0,t.next()),t.getKind()===B.LetKeyword){t.next();const n=t.token.loc;t.expect(B.Identifier);const h=t.token.value;t.next();let d;if(t.getKind()===B.Eq?(t.next(),d=jr(t,!1)):d=ot("num",{value:0},n),t.getKind()===B.Comma)t.next();else throw new jt("separator expected",t.token.loc);const _=jr(t,!1);e&&t.nextWith(B.CloseParen);const C=Ku(t);return ot("for",{var:h,from:d,to:_,for:C},r)}else{const n=jr(t,!1);e&&t.nextWith(B.CloseParen);const h=Ku(t);return ot("for",{times:n,for:h},r)}}function N$(t){const r=t.token.loc;t.nextWith(B.ReturnKeyword);const e=jr(t,!1);return ot("return",{expr:e},r)}function O$(t){const r=[];for(;t.getKind()===B.OpenSharpBracket;)r.push(T$(t)),t.nextWith(B.NewLine);const e=Xc(t);if(e.type!=="def")throw new jt("invalid attribute.",e.loc);return e.attr!=null?e.attr.push(...r):e.attr=r,e}function T$(t){const r=t.token.loc;t.nextWith(B.OpenSharpBracket),t.expect(B.Identifier);const e=t.token.value;t.next();let n;return t.getKind()!==B.CloseBracket?n=jr(t,!0):n=ot("bool",{value:!0},r),t.nextWith(B.CloseBracket),ot("attr",{name:e,value:n},r)}function I$(t){const r=t.token.loc;t.nextWith(B.LoopKeyword);const e=Vf(t);return ot("loop",{statements:e},r)}function j$(t,r){const e=t.token.loc;switch(t.getKind()){case B.Eq:{t.next();const n=jr(t,!1);return ot("assign",{dest:r,expr:n},e)}case B.PlusEq:{t.next();const n=jr(t,!1);return ot("addAssign",{dest:r,expr:n},e)}case B.MinusEq:{t.next();const n=jr(t,!1);return ot("subAssign",{dest:r,expr:n},e)}default:return}}function R$(t){const r=[];for(;t.getKind()===B.NewLine;)t.next();for(;t.getKind()!==B.EOF;){switch(t.getKind()){case B.Colon2:{r.push(jd(t));break}case B.Sharp3:{r.push(D$(t));break}default:{r.push(Xc(t));break}}switch(t.getKind()){case B.NewLine:case B.SemiColon:{for(;[B.NewLine,B.SemiColon].includes(t.getKind());)t.next();break}case B.EOF:break;default:throw new jt("Multiple statements cannot be placed on a single line.",t.token.loc)}}return r}function jd(t){const r=t.token.loc;t.nextWith(B.Colon2),t.expect(B.Identifier);const e=t.token.value;t.next();const n=[];for(t.nextWith(B.OpenBrace);t.getKind()===B.NewLine;)t.next();for(;t.getKind()!==B.CloseBrace;){switch(t.getKind()){case B.VarKeyword:case B.LetKeyword:case B.At:{n.push(E$(t));break}case B.Colon2:{n.push(jd(t));break}}switch(t.getKind()){case B.NewLine:case B.SemiColon:{for(;[B.NewLine,B.SemiColon].includes(t.getKind());)t.next();break}case B.CloseBrace:break;default:throw new jt("Multiple statements cannot be placed on a single line.",t.token.loc)}}return t.nextWith(B.CloseBrace),ot("ns",{name:e,members:n},r)}function D$(t){const r=t.token.loc;t.nextWith(B.Sharp3);let e=null;t.getKind()===B.Identifier&&(e=t.token.value,t.next());const n=jr(t,!0);return ot("meta",{name:e,value:n},r)}function Tt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Tt(e.expr,r);break}case"return":{e.expr=Tt(e.expr,r);break}case"each":{e.items=Tt(e.items,r),e.for=Tt(e.for,r);break}case"for":{e.from!=null&&(e.from=Tt(e.from,r)),e.to!=null&&(e.to=Tt(e.to,r)),e.times!=null&&(e.times=Tt(e.times,r)),e.for=Tt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=Tt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Tt(e.expr,r),e.dest=Tt(e.dest,r);break}case"not":{e.expr=Tt(e.expr,r);break}case"if":{e.cond=Tt(e.cond,r),e.then=Tt(e.then,r);for(const n of e.elseif)n.cond=Tt(n.cond,r),n.then=Tt(n.then,r);e.else!=null&&(e.else=Tt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=Tt(e.children[n],r);break}case"match":{e.about=Tt(e.about,r);for(const n of e.qs)n.q=Tt(n.q,r),n.a=Tt(n.a,r);e.default!=null&&(e.default=Tt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=Tt(e.statements[n],r);break}case"exists":{e.identifier=Tt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=Tt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],Tt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=Tt(e.value[n],r);break}case"call":{e.target=Tt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=Tt(e.args[n],r);break}case"index":{e.target=Tt(e.target,r),e.index=Tt(e.index,r);break}case"prop":{e.target=Tt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=Tt(e.members[n],r);break}case"or":case"and":{e.left=Tt(e.left,r),e.right=Tt(e.right,r);break}}return e}const Ro=["as","async","attr","attribute","await","catch","class","component","constructor","dictionary","do","enum","export","finally","fn","hash","in","interface","out","private","public","ref","static","struct","table","this","throw","trait","try","undefined","use","using","when","while","yield","import","is","meta","module","namespace","new"];function Do(t,r){throw new jt(`Reserved word "${t}" cannot be used as variable name.`,r)}function L$(t){switch(t.type){case"ns":case"def":case"attr":case"identifier":case"prop":{Ro.includes(t.name)&&Do(t.name,t.loc);break}case"meta":{t.name!=null&&Ro.includes(t.name)&&Do(t.name,t.loc);break}case"each":{Ro.includes(t.var)&&Do(t.var,t.loc);break}case"for":{t.var!=null&&Ro.includes(t.var)&&Do(t.var,t.loc);break}case"fn":{for(const r of t.args)Ro.includes(r.name)&&Do(r.name,t.loc);break}case"obj":{for(const r of t.value.keys())Ro.includes(r)&&Do(r,t.loc);break}}return t}function H$(t){for(const r of t)Tt(r,L$);return t}function tg(t){return{type:"simple",name:t}}function B$(t,r){return{type:"generic",name:t,inners:r}}function U$(t,r){return{type:"fn",args:t,result:r}}function oc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=oc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>oc(n)).join(", "),e=oc(t.result);return`@(${r}) { ${e} }`}}}function Jo(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return tg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Jo(t.inner):r=tg("any"),B$(t.name,[r])}}throw new jt(`Unknown type: '${oc(t)}'`,t.loc)}else{const r=t.args.map(e=>Jo(e));return U$(r,Jo(t.result))}}function q$(t){switch(t.type){case"def":{t.varType!=null&&Jo(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Jo(r.argType);t.retType!=null&&Jo(t.retType);break}}return t}function K$(t){for(const r of t)Tt(r,q$);return t}var vu;let z$=(vu=class{constructor(){me(this,"plugins");this.plugins={validate:[H$,K$],transform:[]}}static parse(r){return vu.instance==null&&(vu.instance=new vu),vu.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;const n=new p$(r);e=R$(n);for(const h of this.plugins.validate)e=h(e);for(const h of this.plugins.transform)e=h(e);return e}},me(vu,"instance"),vu);const V$="next",W$={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Yh=[],xf=null;function G$(t){return Yh=z$.parse(t),JSON.stringify(Yh,null,"	")}async function J$(t){xf==null||xf.abort(),xf=new As({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:Jh(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:Jh(e.val,!0),print:!1});break}}});try{await xf.exec(Yh)}catch(r){t.err(r)}}const Z$=Object.freeze(Object.defineProperty({__proto__:null,exec:J$,parse:G$,samples:W$,version:V$},Symbol.toStringTag,{value:"Module"}));function Rr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let Yc=class Rd extends Error{constructor(e,n){super(e);me(this,"name","AiScript");me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Rd)}},Q$=class extends Yc{constructor(e){super(e.message??`${e}`,e);me(this,"name","Internal")}},Po=class extends Yc{constructor(e,n){super(e,n);me(this,"name","Syntax")}},er=class extends Yc{constructor(e,n){super(e,n);me(this,"name","Runtime")}},rg=class extends er{constructor(r,e){super(r,e)}};class X$ extends er{constructor(e,n){super(e,n);me(this,"name","")}}var Gu=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let bu=class Dd{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Dd(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new er(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new er(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new er(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new er(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Gu([Rr],bu.prototype,"log",null);Gu([Rr],bu.prototype,"onUpdated",null);Gu([Rr],bu.prototype,"createChildScope",null);Gu([Rr],bu.prototype,"get",null);Gu([Rr],bu.prototype,"exists",null);Gu([Rr],bu.prototype,"getAll",null);Gu([Rr],bu.prototype,"add",null);Gu([Rr],bu.prototype,"assign",null);const It={type:"null"},ba={type:"bool",value:!0},Aa={type:"bool",value:!1},Ie=t=>({type:"num",value:t}),Qt=t=>({type:"str",value:t}),go=t=>({type:"bool",value:t}),Tc=t=>({type:"obj",value:t}),Er=t=>({type:"arr",value:t}),Y$=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ce=t=>({type:"fn",native:t}),ex=t=>({type:"return",value:t}),tx=()=>({type:"break",value:null}),rx=()=>({type:"continue",value:null}),sx=t=>t.type==="return"?t.value:t,ep=(t,r)=>({type:"error",value:t,info:r});function _n(t){if(t==null)throw new er("Expect anything, but got nothing.")}function nn(t){if(t==null)throw new er("Expect boolean, but got nothing.");if(t.type!=="bool")throw new er(`Expect boolean, but got ${t.type}.`)}function Ru(t){if(t==null)throw new er("Expect function, but got nothing.");if(t.type!=="fn")throw new er(`Expect function, but got ${t.type}.`)}function qr(t){if(t==null)throw new er("Expect string, but got nothing.");if(t.type!=="str")throw new er(`Expect string, but got ${t.type}.`)}function Ee(t){if(t==null)throw new er("Expect number, but got nothing.");if(t.type!=="num")throw new er(`Expect number, but got ${t.type}.`)}function di(t){if(t==null)throw new er("Expect object, but got nothing.");if(t.type!=="obj")throw new er(`Expect object, but got ${t.type}.`)}function yo(t){if(t==null)throw new er("Expect array, but got nothing.");if(t.type!=="arr")throw new er(`Expect array, but got ${t.type}.`)}function yh(t){return t.type==="obj"}function sg(t){return t.type==="arr"}function Zo(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function tp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>tp(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function rp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>rp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=rp(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function sp(t){if(t===null)return It;if(typeof t=="boolean")return go(t);if(typeof t=="string")return Qt(t);if(typeof t=="number")return Ie(t);if(Array.isArray(t))return Er(t.map(r=>sp(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,sp(n));return Tc(r)}return It}function Qo(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(Qo(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${Qo(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const nx={version:"0.18.0"},ax=nx.version,ix=new TextEncoder,lx=new TextDecoder,ux={help:Qt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Qt(ax),"Core:ai":Qt("kawaii"),"Core:not":ce(([t])=>(nn(t),t.value?Aa:ba)),"Core:eq":ce(([t,r])=>(_n(t),_n(r),Zo(t,r)?ba:Aa)),"Core:neq":ce(([t,r])=>(_n(t),_n(r),Zo(t,r)?Aa:ba)),"Core:and":ce(([t,r])=>(nn(t),t.value?(nn(r),r.value?ba:Aa):Aa)),"Core:or":ce(([t,r])=>(nn(t),t.value?ba:(nn(r),r.value?ba:Aa))),"Core:add":ce(([t,r])=>(Ee(t),Ee(r),Ie(t.value+r.value))),"Core:sub":ce(([t,r])=>(Ee(t),Ee(r),Ie(t.value-r.value))),"Core:mul":ce(([t,r])=>(Ee(t),Ee(r),Ie(t.value*r.value))),"Core:pow":ce(([t,r])=>{Ee(t),Ee(r);const e=t.value**r.value;if(isNaN(e))throw new er("Invalid operation.");return Ie(e)}),"Core:div":ce(([t,r])=>{Ee(t),Ee(r);const e=t.value/r.value;if(isNaN(e))throw new er("Invalid operation.");return Ie(e)}),"Core:mod":ce(([t,r])=>(Ee(t),Ee(r),Ie(t.value%r.value))),"Core:gt":ce(([t,r])=>(Ee(t),Ee(r),t.value>r.value?ba:Aa)),"Core:lt":ce(([t,r])=>(Ee(t),Ee(r),t.value<r.value?ba:Aa)),"Core:gteq":ce(([t,r])=>(Ee(t),Ee(r),t.value>=r.value?ba:Aa)),"Core:lteq":ce(([t,r])=>(Ee(t),Ee(r),t.value<=r.value?ba:Aa)),"Core:type":ce(([t])=>(_n(t),Qt(t.type))),"Core:to_str":ce(([t])=>(_n(t),Qt(Qo(t)))),"Core:range":ce(([t,r])=>(Ee(t),Ee(r),t.value<r.value?Er(Array.from({length:r.value-t.value+1},(e,n)=>Ie(n+t.value))):t.value>r.value?Er(Array.from({length:t.value-r.value+1},(e,n)=>Ie(t.value-n))):Er([t]))),"Core:sleep":ce(async([t])=>(Ee(t),await new Promise(r=>setTimeout(r,t.value)),It)),"Core:abort":ce(async([t])=>{throw qr(t),new X$(t.value)}),"Util:uuid":ce(()=>Qt(Zc())),"Json:stringify":ce(([t])=>(_n(t),Qt(JSON.stringify(rp(t))))),"Json:parse":ce(([t])=>{qr(t);try{return sp(JSON.parse(t.value))}catch{return ep("not_json")}}),"Json:parsable":ce(([t])=>{qr(t);try{JSON.parse(t.value)}catch{return go(!1)}return go(!0)}),"Date:now":ce(()=>Ie(Date.now())),"Date:year":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:millisecond":ce(([t])=>(t&&Ee(t),Ie(new Date((t==null?void 0:t.value)||Date.now()).getMilliseconds()))),"Date:parse":ce(([t])=>(qr(t),Ie(new Date(t.value).getTime()))),"Math:Infinity":Ie(1/0),"Math:E":Ie(Math.E),"Math:LN2":Ie(Math.LN2),"Math:LN10":Ie(Math.LN10),"Math:LOG2E":Ie(Math.LOG2E),"Math:LOG10E":Ie(Math.LOG10E),"Math:PI":Ie(Math.PI),"Math:SQRT1_2":Ie(Math.SQRT1_2),"Math:SQRT2":Ie(Math.SQRT2),"Math:abs":ce(([t])=>(Ee(t),Ie(Math.abs(t.value)))),"Math:acos":ce(([t])=>(Ee(t),Ie(Math.acos(t.value)))),"Math:acosh":ce(([t])=>(Ee(t),Ie(Math.acosh(t.value)))),"Math:asin":ce(([t])=>(Ee(t),Ie(Math.asin(t.value)))),"Math:asinh":ce(([t])=>(Ee(t),Ie(Math.asinh(t.value)))),"Math:atan":ce(([t])=>(Ee(t),Ie(Math.atan(t.value)))),"Math:atanh":ce(([t])=>(Ee(t),Ie(Math.atanh(t.value)))),"Math:atan2":ce(([t,r])=>(Ee(t),Ee(r),Ie(Math.atan2(t.value,r.value)))),"Math:cbrt":ce(([t])=>(Ee(t),Ie(Math.cbrt(t.value)))),"Math:ceil":ce(([t])=>(Ee(t),Ie(Math.ceil(t.value)))),"Math:clz32":ce(([t])=>(Ee(t),Ie(Math.clz32(t.value)))),"Math:cos":ce(([t])=>(Ee(t),Ie(Math.cos(t.value)))),"Math:cosh":ce(([t])=>(Ee(t),Ie(Math.cosh(t.value)))),"Math:exp":ce(([t])=>(Ee(t),Ie(Math.exp(t.value)))),"Math:expm1":ce(([t])=>(Ee(t),Ie(Math.expm1(t.value)))),"Math:floor":ce(([t])=>(Ee(t),Ie(Math.floor(t.value)))),"Math:fround":ce(([t])=>(Ee(t),Ie(Math.fround(t.value)))),"Math:hypot":ce(([t])=>{yo(t);const r=[];for(const e of t.value)Ee(e),r.push(e.value);return Ie(Math.hypot(...r))}),"Math:imul":ce(([t,r])=>(Ee(t),Ee(r),Ie(Math.imul(t.value,r.value)))),"Math:log":ce(([t])=>(Ee(t),Ie(Math.log(t.value)))),"Math:log1p":ce(([t])=>(Ee(t),Ie(Math.log1p(t.value)))),"Math:log10":ce(([t])=>(Ee(t),Ie(Math.log10(t.value)))),"Math:log2":ce(([t])=>(Ee(t),Ie(Math.log2(t.value)))),"Math:max":ce(([t,r])=>(Ee(t),Ee(r),Ie(Math.max(t.value,r.value)))),"Math:min":ce(([t,r])=>(Ee(t),Ee(r),Ie(Math.min(t.value,r.value)))),"Math:pow":ce(([t,r])=>(Ee(t),Ee(r),Ie(Math.pow(t.value,r.value)))),"Math:round":ce(([t])=>(Ee(t),Ie(Math.round(t.value)))),"Math:sign":ce(([t])=>(Ee(t),Ie(Math.sign(t.value)))),"Math:sin":ce(([t])=>(Ee(t),Ie(Math.sin(t.value)))),"Math:sinh":ce(([t])=>(Ee(t),Ie(Math.sinh(t.value)))),"Math:sqrt":ce(([t])=>{Ee(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new er("Invalid operation.");return Ie(r)}),"Math:tan":ce(([t])=>(Ee(t),Ie(Math.tan(t.value)))),"Math:tanh":ce(([t])=>(Ee(t),Ie(Math.tanh(t.value)))),"Math:trunc":ce(([t])=>(Ee(t),Ie(Math.trunc(t.value)))),"Math:rnd":ce(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Ie(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Ie(Math.random())),"Math:gen_rng":ce(([t])=>{if(_n(t),t.type!=="num"&&t.type!=="str")return It;const r=df(t.value.toString());return ce(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Ie(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Ie(r()))}),"Num:to_hex":ce(([t])=>(Ee(t),Qt(t.value.toString(16)))),"Num:from_hex":ce(([t])=>(qr(t),Ie(parseInt(t.value,16)))),"Str:lf":Qt(`
`),"Str:lt":ce(([t,r])=>(qr(t),qr(r),t.value<r.value?Ie(-1):t.value===r.value?Ie(0):Ie(1))),"Str:gt":ce(([t,r])=>(qr(t),qr(r),t.value>r.value?Ie(-1):t.value===r.value?Ie(0):Ie(1))),"Str:from_codepoint":ce(([t])=>(Ee(t),Qt(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":ce(([t])=>(yo(t),Qt(Array.from(t.value.map(r=>(Ee(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":ce(([t])=>(yo(t),Qt(lx.decode(Uint8Array.from(t.value.map(r=>(Ee(r),r.value))))))),"Arr:create":ce(([t,r])=>{Ee(t);try{return Er(Array(t.value).fill(r??It))}catch(e){throw t.value<0?new er("Arr:create expected non-negative number, got negative"):Number.isInteger(t.value)?e:new er("Arr:create expected integer, got non-integer")}}),"Obj:keys":ce(([t])=>(di(t),Er(Array.from(t.value.keys()).map(r=>Qt(r))))),"Obj:vals":ce(([t])=>(di(t),Er(Array.from(t.value.values())))),"Obj:kvs":ce(([t])=>(di(t),Er(Array.from(t.value.entries()).map(([r,e])=>Er([Qt(r),e]))))),"Obj:get":ce(([t,r])=>(di(t),qr(r),t.value.get(r.value)??It)),"Obj:set":ce(([t,r,e])=>(di(t),qr(r),_n(e),t.value.set(r.value,e),It)),"Obj:has":ce(([t,r])=>(di(t),qr(r),go(t.value.has(r.value)))),"Obj:copy":ce(([t])=>(di(t),Tc(new Map(t.value)))),"Obj:merge":ce(([t,r])=>(di(t),di(r),Tc(new Map([...t.value,...r.value])))),"Error:create":ce(([t,r])=>(qr(t),ep(t.value,r))),"Async:interval":ce(async([t,r,e],n)=>{Ee(t),Ru(r),e&&(nn(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),ce(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":ce(async([t,r],e)=>{Ee(t),Ru(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),ce(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},ng={num:{to_str:t=>ce(async(r,e)=>Qt(t.value.toString()))},str:{to_num:t=>ce(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?It:Ie(n)}),to_arr:t=>ce(async(r,e)=>Er(cn(t.value).map(n=>Qt(n)))),to_unicode_arr:t=>ce(async(r,e)=>Er([...t.value].map(n=>Qt(n)))),to_unicode_codepoint_arr:t=>ce(async(r,e)=>Er([...t.value].map(n=>{const h=n.codePointAt(0);return Ie(h??n.charCodeAt(0))}))),to_char_arr:t=>ce(async(r,e)=>Er(t.value.split("").map(n=>Qt(n)))),to_charcode_arr:t=>ce(async(r,e)=>Er(t.value.split("").map(n=>Ie(n.charCodeAt(0))))),to_utf8_byte_arr:t=>ce(async(r,e)=>Er(Array.from(ix.encode(t.value)).map(n=>Ie(n)))),len:t=>Ie(yf(t.value)),replace:t=>ce(async([r,e],n)=>(qr(r),qr(e),Qt(t.value.split(r.value).join(e.value)))),index_of:t=>ce(async([r,e],n)=>{qr(r),e&&Ee(e);const h=e?e.value<0?t.value.length+e.value:e.value:void 0;return Ie(mf(t.value,r.value,h))}),incl:t=>ce(async([r],e)=>(qr(r),t.value.includes(r.value)?ba:Aa)),trim:t=>ce(async(r,e)=>Qt(t.value.trim())),upper:t=>ce(async(r,e)=>Qt(t.value.toUpperCase())),lower:t=>ce(async(r,e)=>Qt(t.value.toLowerCase())),split:t=>ce(async([r],e)=>(r&&qr(r),Er(r?t.value.split(r?r.value:"").map(n=>Qt(n)):cn(t.value).map(n=>Qt(n))))),slice:t=>ce(async([r,e],n)=>(Ee(r),Ee(e),Qt(wf(t.value,r.value,e.value)))),pick:t=>ce(async([r],e)=>{Ee(r);const h=cn(t.value)[r.value];return h?Qt(h):It}),charcode_at:t=>ce(([r],e)=>{Ee(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?It:Ie(n)}),codepoint_at:t=>ce(([r],e)=>{Ee(r);const n=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(n)?It:Ie(n)})},arr:{len:t=>Ie(t.value.length),push:t=>ce(async([r],e)=>(_n(r),t.value.push(r),t)),unshift:t=>ce(async([r],e)=>(_n(r),t.value.unshift(r),t)),pop:t=>ce(async(r,e)=>t.value.pop()??It),shift:t=>ce(async(r,e)=>t.value.shift()??It),concat:t=>ce(async([r],e)=>(yo(r),Er(t.value.concat(r.value)))),slice:t=>ce(async([r,e],n)=>(Ee(r),Ee(e),Er(t.value.slice(r.value,e.value)))),join:t=>ce(async([r],e)=>(r&&qr(r),Qt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>ce(async([r],e)=>{Ru(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Ie(d)]));return Er(await Promise.all(n))}),filter:t=>ce(async([r],e)=>{Ru(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,Ie(h)]);nn(_),_.value&&n.push(d)}return Er(n)}),reduce:t=>ce(async([r,e],n)=>{Ru(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,Ie(_)])}return d}),find:t=>ce(async([r],e)=>{Ru(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Ie(n)]);if(nn(d),d.value)return h}return It}),incl:t=>ce(async([r],e)=>(_n(r),t.value.some(n=>Zo(r,n))?ba:Aa)),index_of:t=>ce(async([r,e],n)=>{if(_n(r),e){Ee(e);const h=t.value.slice(0,e.value).length,d=t.value.slice(e.value).findIndex(_=>Zo(_,r));return Ie(d<0?d:d+h)}else return Ie(t.value.findIndex(h=>Zo(h,r)))}),reverse:t=>ce(async(r,e)=>(t.value.reverse(),It)),copy:t=>ce(async(r,e)=>Er([...t.value])),sort:t=>ce(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);Ee(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return Ru(r),yo(t),t.value=await n(t.value,r),t}),fill:t=>ce(async([r,e,n],h)=>{const d=r??It,_=e&&(Ee(e),e.value),C=n&&(Ee(n),n.value);return t.value.fill(d,_,C),t}),repeat:t=>ce(async([r],e)=>{Ee(r);try{return Er(Array(r.value).fill(t.value).flat())}catch(n){throw r.value<0?new er("arr.repeat expected non-negative number, got negative"):Number.isInteger(r.value)?n:new er("arr.repeat expected integer, got non-integer")}})},error:{name:t=>Qt(t.value),info:t=>t.info??It}};function ox(t,r){if(Object.hasOwn(ng,t.type)){const e=ng[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new er(`No such prop (${r}) in ${t.type}.`)}else throw new er(`Cannot read prop of ${t.type}. (reading ${r})`)}const fx={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var hn=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Ld=300,cx=Ld-1;let Hs=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:ce(([h])=>{_n(h),this.opts.out&&this.opts.out(h)}),readline:ce(async h=>{const d=h[0];if(qr(d),this.opts.in==null)return It;const _=await this.opts.in(d.value);return Qt(_)})};this.vars=Object.fromEntries(Object.entries({...r,...ux,...n}).map(([h,d])=>[h,fx.const(d)])),this.scope=new bu([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),ep("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof Yc?this.opts.err(r):this.opts.err(new Q$(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Error("Namespaces cannot include mutable variable: "+n.name);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??It;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return sx(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return It;if(this.stepCount%Ld===cx&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new er("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);Ru(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(nn(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(nn(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return It}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(Zo(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):It}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return It}case"for":{if(r.times){const n=await this._eval(r.times,e);Ee(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Ee(n),Ee(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Ie(d)}]])));if(_.type==="break")break;if(_.type==="return")return _}}return It}case"each":{const n=await this._eval(r.items,e);yo(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return It}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),It}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),It}case"addAssign":{const n=await this._eval(r.dest,e);Ee(n);const h=await this._eval(r.expr,e);return Ee(h),await this.assign(e,r.dest,Ie(n.value+h.value)),It}case"subAssign":{const n=await this._eval(r.dest,e);Ee(n);const h=await this._eval(r.expr,e);return Ee(h),await this.assign(e,r.dest,Ie(n.value-h.value)),It}case"null":return It;case"bool":return go(r.value);case"num":return Ie(r.value);case"str":return Qt(r.value);case"arr":return Er(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return Tc(n)}case"prop":{const n=await this._eval(r.target,e);return yh(n)?n.value.has(r.name)?n.value.get(r.name):It:ox(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(sg(n)){Ee(h);const d=n.value[h.value];if(d===void 0)throw new rg(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(yh(n))return qr(h),n.value.has(h.value)?n.value.get(h.value):It;throw new er(`Cannot read prop (${Qo(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return nn(n),go(!n.value)}case"fn":return Y$(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return go(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=Qo(d)}return Qt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),ex(n)}case"break":return this.log("block:break",{scope:e.name}),tx();case"continue":return this.log("block:continue",{scope:e.name}),rx();case"ns":return It;case"meta":return It;case"and":{const n=await this._eval(r.left,e);if(nn(n),n.value){const h=await this._eval(r.right,e);return nn(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(nn(n),n.value)return n;{const h=await this._eval(r.right,e);return nn(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=It;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(sg(h)){if(Ee(d),h.value[d.value]===void 0)throw new rg(`Index out of range. index: ${d.value} max: ${h.value.length-1}`);h.value[d.value]=n}else if(yh(h))qr(d),h.value.set(d.value,n);else throw new er(`Cannot read prop (${Qo(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);di(h),h.value.set(e.name,n)}else if(e.type==="arr")yo(n),await Promise.all(e.value.map((h,d)=>this.assign(r,h,n.value[d]??It)));else if(e.type==="obj")di(n),await Promise.all([...e.value].map(([h,d])=>this.assign(r,d,n.value.get(h)??It)));else throw new er("The left-hand side of an assignment expression must be a variable or a property/index access.")}};hn([Rr],Hs.prototype,"exec",null);hn([Rr],Hs.prototype,"execFn",null);hn([Rr],Hs.prototype,"execFnSimple",null);hn([Rr],Hs.prototype,"handleError",null);hn([Rr],Hs.prototype,"log",null);hn([Rr],Hs.prototype,"collectNs",null);hn([Rr],Hs.prototype,"collectNsMember",null);hn([Rr],Hs.prototype,"_fn",null);hn([Rr],Hs.prototype,"_eval",null);hn([Rr],Hs.prototype,"_run",null);hn([Rr],Hs.prototype,"registerAbortHandler",null);hn([Rr],Hs.prototype,"unregisterAbortHandler",null);hn([Rr],Hs.prototype,"abort",null);hn([Rr],Hs.prototype,"assign",null);hn([Rr],Hs,"collectMetadata",null);function hx(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function wo(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,wo.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}hx(wo,Error);function wh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}wo.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+d.line+":"+d.column;if(e){var C=this.location.end,M=wh("",d.line.toString().length," "),F=e[h.line-1],O=h.line===C.line?C.column:F.length+1,D=O-h.column||1;r+=`
 --> `+_+`
`+M+` |
`+d.line+" | "+F+`
`+M+" | "+wh("",h.column-1," ")+wh("",D,"^")}else r+=`
 at `+_}return r};wo.buildMessage=function(t,r){var e={literal:function(F){return'"'+h(F.text)+'"'},class:function(F){var O=F.parts.map(function(D){return Array.isArray(D)?d(D[0])+"-"+d(D[1]):d(D)});return"["+(F.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};function n(F){return F.charCodeAt(0).toString(16).toUpperCase()}function h(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function d(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function _(F){return e[F.type](F)}function C(F){var O=F.map(_),D,q;if(O.sort(),O.length>0){for(D=1,q=1;D<O.length;D++)O[D-1]!==O[D]&&(O[q]=O[D],q++);O.length=q}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}function M(F){return F?'"'+h(F)+'"':"end of input"}return"Expected "+C(t)+" but "+M(r)+" found."};function ag(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:Gt,Main:ri},d=Gt,_="//",C="/*",M="*/",F="(",O=")",D="::",q="{",Q="}",ye="###",ue="let",pe=":",Fe="=",W="var",z="<:",G="#[",J="]",Z="each",ee=",",se="for",ne="return",Se="loop",je="break",_e="continue",Xe="+=",pt="-=",ar="\\",vt="||",ft="&&",ze="==",ct="!=",Lt="<=",Kt=">=",lt="!",Hr="[",rr=".",_r="if",Dt="elif",mr="else",Br="match",$r="=>",Cr="*",zt="eval",pr="exists",V="`",te='"',ie="'",de='\\"',le="\\'",ke="true",Ne="false",Ae="null",Ce="@",we="@(",Ke="<",Qe=">",Ge=`\r
`,Je=/^[A-Z0-9_:]/i,rt=/^[%*-+\-\/<>\^]/,ht=/^[^`{]/,At=/^[{}`]/,Et=/^[+\-]/,_t=/^[1-9]/,bt=/^[0-9]/,qs=/^[,;]/,zr=/^[A-Z_]/i,Vr=/^[A-Z0-9_]/i,gt=/^[\r\n]/,Ft=/^[ \t\r\n]/,gn=/^[ \t]/,Gr=E(),Bi=j("//",!1),Ui=j("/*",!1),ir=j("*/",!1),Vt=j("(",!1),_s=j(")",!1),Sn=j("::",!1),Wt=j("{",!1),$t=j("}",!1),Pr=j("###",!1),sr=j("let",!1),tt=j(":",!1),Ht=j("=",!1),rs=j("var",!1),Nt=j("<:",!1),Ot=j("#[",!1),Jr=j("]",!1),mi=j("each",!1),gs=j(",",!1),os=j("for",!1),ds=j("return",!1),dt=nr([["A","Z"],["0","9"],"_",":"],!1,!0),Mt=j("loop",!1),Ks=j("break",!1),xr=j("continue",!1),br=j("+=",!1),qi=j("-=",!1),$i=j("\\",!1),Ki=j("||",!1),zi=j("&&",!1),Na=j("==",!1),Oa=j("!=",!1),Vi=j("<=",!1),Wi=j(">=",!1),Gi=nr(["%",["*","+"],"-","/","<",">","^"],!1,!1),Ji=j("!",!1),Ta=j("[",!1),Fn=j(".",!1),Nn=j("if",!1),Ia=j("elif",!1),Zi=j("else",!1),ja=j("match",!1),dn=j("=>",!1),Qi=j("*",!1),Xi=j("eval",!1),Yi=j("exists",!1),Cs=j("`",!1),ys=nr(["`","{"],!0,!1),On=nr(["{","}","`"],!1,!1),aa=j('"',!1),ia=j("'",!1),el=j('\\"',!1),zs=j("\\'",!1),fs=nr(["+","-"],!1,!1),Ps=nr([["1","9"]],!1,!1),cs=nr([["0","9"]],!1,!1),Vs=j("true",!1),Ws=j("false",!1),Gs=j("null",!1),hs=nr([",",";"],!1,!1),Js=j("@",!1),ks=j("@(",!1),Ra=j("<",!1),Bt=j(">",!1),Da=nr([["A","Z"],"_"],!1,!0),lr=nr([["A","Z"],["0","9"],"_"],!1,!0),tl=j(`\r
`,!1),Zs=nr(["\r",`
`],!1,!1),rl=nr([" ","	","\r",`
`],!1,!1),ws=nr([" ","	"],!1,!1),sl=function(y){return y.join("")},Tn=function(){return l()},nl=function(){return l()},La=function(){return""},al=function(){return""},il=function(y){return y??[]},xi=function(y,m){return m},ll=function(y,m){return[y,...m]},bi=function(y,m){return m},ul=function(y,m){return[y,...m]},Ai=function(y,m){return m},ol=function(y,m){return[y,...m]},Ha=function(y){return y},fl=function(y,m){return ge("ns",{name:y,members:m})},In=function(y,m){return ge("meta",{name:y,value:m})},cl=function(y){return ge("meta",{name:null,value:y})},jn=function(y,m,P){return ge("def",{name:y,varType:m,expr:P,mut:!1,attr:[]})},hl=function(y,m,P){return ge("def",{name:y,varType:m,expr:P,mut:!0,attr:[]})},Ba=function(y){return ge("identifier",{name:"print",chain:[ge("callChain",{args:[y]})]})},pl=function(y,m){return ge("attr",{name:y,value:m??ge("bool",{value:!0})})},vl=function(y,m,P){return ge("each",{var:y,items:m,for:P})},gl=function(y,m,P){return ge("each",{var:y,items:m,for:P})},dl=function(y,m){return m},yl=function(y,m,P,b){return ge("for",{var:y,from:m??ge("num",{value:0}),to:P,for:b})},wl=function(y,m){return m},ml=function(y,m,P,b){return ge("for",{var:y,from:m??ge("num",{value:0}),to:P,for:b})},$l=function(y,m){return ge("for",{times:y,for:m})},xl=function(y,m){return ge("for",{times:y,for:m})},bl=function(y){return ge("return",{expr:y})},Al=function(y){return ge("loop",{statements:y})},_l=function(){return ge("break",{})},Cl=function(){return ge("continue",{})},Pl=function(y,m,P){return m==="+="?ge("addAssign",{dest:y,expr:P}):m==="-="?ge("subAssign",{dest:y,expr:P}):ge("assign",{dest:y,expr:P})},_i=function(y,m,P){return{op:m,term:P}},kl=function(y,m){return ge("infix",{operands:[y,...m.map(P=>P.term)],operators:m.map(P=>P.op)})},El=function(){return l()},Ml=function(y){return ge("not",{expr:y})},Sl=function(y,m){return y.chain?{...y,chain:[...y.chain,...m]}:{...y,chain:m}},Fl=function(y){return ge("callChain",{args:y??[]})},la=function(y,m){return m},Nl=function(y,m){return[y,...m]},Ua=function(y){return ge("indexChain",{index:y})},Ol=function(y){return ge("propChain",{name:y})},Tl=function(y,m,P,b){return ge("if",{cond:y,then:m,elseif:P??[],else:b})},Il=function(y,m){return[y,...m]},qa=function(y,m){return{cond:y,then:m}},jl=function(y){return y},ua=function(y,m,P){return{q:m,a:P}},Rl=function(y,m,P){return ge("match",{about:y,qs:m??[],default:P})},Dl=function(y){return ge("block",{statements:y})},Ll=function(y){return ge("exists",{identifier:y})},Hl=function(y){return ge("identifier",{name:y})},Bl=function(y){return ge("tmpl",{tmpl:y})},Ka=function(y){return y.join("")},Ci=function(y){return y},za=function(y){return ge("str",{value:y.join("")})},Pi=function(y){return y},Ul=function(y){return ge("str",{value:y.join("")})},ql=function(){return'"'},Va=function(){return"'"},Kl=function(){return ge("num",{value:parseFloat(l())})},Wa=function(){return ge("num",{value:parseFloat(l())})},Ga=function(){return ge("num",{value:parseInt(l(),10)})},zl=function(){return ge("num",{value:parseInt(l(),10)})},Ja=function(){return ge("bool",{value:!0})},Vl=function(){return ge("bool",{value:!1})},Wl=function(){return ge("null",{})},ki=function(y,m){return{k:y,v:m}},Gl=function(y){const m=new Map;for(const P of y)m.set(P.k,P.v);return ge("obj",{value:m})},Ei=function(y){return y},Jl=function(y){return ge("arr",{value:y})},Zl=function(y,m){return{name:y,argType:m}},Za=function(y,m){return[y,...m]},Ql=function(y,m,P,b,a,o){return(y.length>0||P.length>0)&&S("Cannot use spaces before or after the function name."),ge("def",{name:m,expr:ge("fn",{args:b??[],retType:a},o??[]),mut:!1,attr:[]})},Qa=function(y,m,P){return ge("fn",{args:y??[],retType:m},P??[])},oa=function(y){return y},Xl=function(y){return ge("arr",{value:y})},fa=function(y,m){return{k:y,v:m}},Yl=function(y){const m=new Map;for(const P of y)m.set(P.k,P.v);return ge("obj",{value:m})},eu=function(y,m){return ge("fnTypeSource",{args:y??[],result:m})},Xa=function(y,m){return[y,...m]},tu=function(y,m){return ge("namedTypeSource",{name:y,inner:m})},Ya=function(y){return ge("namedTypeSource",{name:y,inner:null})},ei=function(){return l()},ru=function(){return l()},ti=function(y){return ge("block",{statements:y??[]})},$=r.peg$currPos|0,be=$,yn=[{line:1,column:1}],ss=$,ca=r.peg$maxFailExpected||[],i=r.peg$silentFails|0,R={},ns;if(r.startRule){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function l(){return t.substring(be,$)}function Y(){return ae(be,$)}function S(y,m){throw m=m!==void 0?m:ae(be,$),su(y,m)}function j(y,m){return{type:"literal",text:y,ignoreCase:m}}function nr(y,m,P){return{type:"class",parts:y,inverted:m,ignoreCase:P}}function E(){return{type:"any"}}function H(){return{type:"end"}}function Es(y){var m=yn[y],P;if(m)return m;if(y>=yn.length)P=yn.length-1;else for(P=y;!yn[--P];);for(m=yn[P],m={line:m.line,column:m.column};P<y;)t.charCodeAt(P)===10?(m.line++,m.column=1):m.column++,P++;return yn[y]=m,m}function ae(y,m,P){var b=Es(y),a=Es(m),o={source:n,start:{offset:y,line:b.line,column:b.column},end:{offset:m,line:a.line,column:a.column}};return P&&n&&typeof n.offset=="function"&&(o.start=n.offset(o.start),o.end=n.offset(o.end)),o}function X(y){$<ss||($>ss&&(ss=$,ca=[]),ca.push(y))}function su(y,m){return new wo(y,null,null,m)}function fe(y,m,P){return new wo(wo.buildMessage(y,m),y,m,P)}function Gt(){var y,m,P,b=$*77+0,a=R[b];if(a)return $=a.nextPos,a.result;for(y=$,m=[],P=Ms();P!==e;)m.push(P),P=Ms();return be=y,m=sl(m),y=m,R[b]={nextPos:$,result:y},y}function Ms(){var y,m,P=$*77+1,b=R[P];return b?($=b.nextPos,b.result):(y=$,m=Ni(),m!==e&&(be=y,m=Tn()),y=m,y===e&&(y=$,m=Hn(),m!==e&&(be=y,m=nl()),y=m,y===e&&(y=I(),y===e&&(t.length>$?(y=t.charAt($),$++):(y=e,i===0&&X(Gr))))),R[P]={nextPos:$,result:y},y)}function I(){var y,m,P,b,a,o,w=$*77+2,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.substr($,2)===_?(m=_,$+=2):(m=e,i===0&&X(Bi)),m!==e){for(P=[],b=$,a=$,i++,o=Ti(),i--,o===e?a=void 0:($=a,a=e),a!==e?(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr)),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=$,i++,o=Ti(),i--,o===e?a=void 0:($=a,a=e),a!==e?(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr)),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);be=y,y=La()}else $=y,y=e;if(y===e)if(y=$,t.substr($,2)===C?(m=C,$+=2):(m=e,i===0&&X(Ui)),m!==e){for(P=[],b=$,a=$,i++,t.substr($,2)===M?(o=M,$+=2):(o=e,i===0&&X(ir)),i--,o===e?a=void 0:($=a,a=e),a!==e?(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr)),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=$,i++,t.substr($,2)===M?(o=M,$+=2):(o=e,i===0&&X(ir)),i--,o===e?a=void 0:($=a,a=e),a!==e?(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr)),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);t.substr($,2)===M?(b=M,$+=2):(b=e,i===0&&X(ir)),b!==e?(be=y,y=al()):($=y,y=e)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function ri(){var y,m,P,b,a,o=$*77+3,w=R[o];if(w)return $=w.nextPos,w.result;for(y=$,m=[],P=U();P!==e;)m.push(P),P=U();for(P=Qs(),P===e&&(P=null),b=[],a=U();a!==e;)b.push(a),a=U();return be=y,y=il(P),R[o]={nextPos:$,result:y},y}function Qs(){var y,m,P,b,a,o,w,c,s=$*77+4,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,m=si(),m!==e){for(P=[],b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=si(),c!==e?(be=b,b=xi(m,c)):($=b,b=e)}else $=b,b=e;for(;b!==e;){for(P.push(b),b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=si(),c!==e?(be=b,b=xi(m,c)):($=b,b=e)}else $=b,b=e}be=y,y=ll(m,P)}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function T(){var y,m,P,b,a,o,w,c,s=$*77+5,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,m=Rn(),m!==e){for(P=[],b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=Rn(),c!==e?(be=b,b=bi(m,c)):($=b,b=e)}else $=b,b=e;for(;b!==e;){for(P.push(b),b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=Rn(),c!==e?(be=b,b=bi(m,c)):($=b,b=e)}else $=b,b=e}be=y,y=ul(m,P)}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function Xs(){var y,m,P,b,a,o,w,c,s=$*77+6,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,m=Ys(),m!==e){for(P=[],b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=Ys(),c!==e?(be=b,b=Ai(m,c)):($=b,b=e)}else $=b,b=e;for(;b!==e;){for(P.push(b),b=$,a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Ve(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=Ys(),c!==e?(be=b,b=Ai(m,c)):($=b,b=e)}else $=b,b=e}be=y,y=ol(m,P)}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function si(){var y,m=$*77+7,P=R[m];return P?($=P.nextPos,P.result):(y=vr(),y===e&&(y=We(),y===e&&(y=Ys())),R[m]={nextPos:$,result:y},y)}function Rn(){var y,m=$*77+8,P=R[m];return P?($=P.nextPos,P.result):(y=Qr(),y===e&&(y=wa(),y===e&&(y=vr())),R[m]={nextPos:$,result:y},y)}function Ys(){var y,m=$*77+9,P=R[m];return P?($=P.nextPos,P.result):(y=Qr(),y===e&&(y=wa(),y===e&&(y=is(),y===e&&(y=Fr(),y===e&&(y=qe(),y===e&&(y=ms(),y===e&&(y=ni(),y===e&&(y=ai(),y===e&&(y=nu(),y===e&&(y=ii(),y===e&&(y=au(),y===e&&(y=St()))))))))))),R[m]={nextPos:$,result:y},y)}function St(){var y,m=$*77+10,P=R[m];return P?($=P.nextPos,P.result):(y=iu(),y===e&&(y=Zr()),R[m]={nextPos:$,result:y},y)}function Zr(){var y,m=$*77+11,P=R[m];return P?($=P.nextPos,P.result):(y=Or(),y===e&&(y=cu(),y===e&&(y=uu(),y===e&&(y=wn()))),R[m]={nextPos:$,result:y},y)}function wn(){var y,m,P,b,a,o,w=$*77+12,c=R[w];if(c)return $=c.nextPos,c.result;if(y=Ln(),y===e&&(y=ou(),y===e&&(y=oi(),y===e&&(y=Ni(),y===e&&(y=Hn(),y===e&&(y=ga(),y===e&&(y=$n(),y===e&&(y=da(),y===e&&(y=qn(),y===e&&(y=ci(),y===e&&(y=lu(),y===e&&(y=Fs(),y===e))))))))))))if(y=$,t.charCodeAt($)===40?(m=F,$++):(m=e,i===0&&X(Vt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=St(),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===41?(o=O,$++):(o=e,i===0&&X(_s)),o!==e?(be=y,y=Ha(b)):($=y,y=e)}else $=y,y=e}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function as(){var y,m=$*77+13,P=R[m];return P?($=P.nextPos,P.result):(y=ga(),y===e&&(y=Hn(),y===e&&(y=$n(),y===e&&(y=Kn(),y===e&&(y=zn(),y===e&&(y=da()))))),R[m]={nextPos:$,result:y},y)}function vr(){var y,m,P,b,a,o,w,c,s,u,p=$*77+14,f=R[p];if(f)return $=f.nextPos,f.result;if(y=$,t.substr($,2)===D?(m=D,$+=2):(m=e,i===0&&X(Sn)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(b=nt(),b!==e){if(a=[],o=U(),o!==e)for(;o!==e;)a.push(o),o=U();else a=e;if(a!==e)if(t.charCodeAt($)===123?(o=q,$++):(o=e,i===0&&X(Wt)),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(c=T(),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();t.charCodeAt($)===125?(u=Q,$++):(u=e,i===0&&X($t)),u!==e?(be=y,y=fl(b,c)):($=y,y=e)}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;return R[p]={nextPos:$,result:y},y}function We(){var y,m,P,b,a,o,w=$*77+15,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.substr($,3)===ye?(m=ye,$+=3):(m=e,i===0&&X(Pr)),m!==e){for(P=[],b=Ye();b!==e;)P.push(b),b=Ye();if(b=nt(),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();o=as(),o!==e?(be=y,y=In(b,o)):($=y,y=e)}else $=y,y=e}else $=y,y=e;if(y===e)if(y=$,t.substr($,3)===ye?(m=ye,$+=3):(m=e,i===0&&X(Pr)),m!==e){for(P=[],b=Ye();b!==e;)P.push(b),b=Ye();b=as(),b!==e?(be=y,y=cl(b)):($=y,y=e)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function Qr(){var y,m,P,b,a,o,w,c,s,u=$*77+16,p=R[u];if(p)return $=p.nextPos,p.result;if(y=$,t.substr($,3)===ue?(m=ue,$+=3):(m=e,i===0&&X(sr)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(b=nt(),b!==e){for(a=$,o=[],w=U();w!==e;)o.push(w),w=U();if(t.charCodeAt($)===58?(w=pe,$++):(w=e,i===0&&X(tt)),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();s=Xr(),s!==e?a=s:($=a,a=e)}else $=a,a=e;for(a===e&&(a=null),o=[],w=U();w!==e;)o.push(w),w=U();if(t.charCodeAt($)===61?(w=Fe,$++):(w=e,i===0&&X(Ht)),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();s=St(),s!==e?(be=y,y=jn(b,a,s)):($=y,y=e)}else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e)if(y=$,t.substr($,3)===W?(m=W,$+=3):(m=e,i===0&&X(rs)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(b=nt(),b!==e){for(a=$,o=[],w=U();w!==e;)o.push(w),w=U();if(t.charCodeAt($)===58?(w=pe,$++):(w=e,i===0&&X(tt)),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();s=Xr(),s!==e?a=s:($=a,a=e)}else $=a,a=e;for(a===e&&(a=null),o=[],w=U();w!==e;)o.push(w),w=U();if(t.charCodeAt($)===61?(w=Fe,$++):(w=e,i===0&&X(Ht)),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();s=St(),s!==e?(be=y,y=hl(b,a,s)):($=y,y=e)}else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;return R[u]={nextPos:$,result:y},y}function is(){var y,m,P,b,a=$*77+17,o=R[a];if(o)return $=o.nextPos,o.result;if(y=$,t.substr($,2)===z?(m=z,$+=2):(m=e,i===0&&X(Nt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();b=St(),b!==e?(be=y,y=Ba(b)):($=y,y=e)}else $=y,y=e;return R[a]={nextPos:$,result:y},y}function qe(){var y,m,P,b,a,o,w,c=$*77+18,s=R[c];if(s)return $=s.nextPos,s.result;if(y=$,t.substr($,2)===G?(m=G,$+=2):(m=e,i===0&&X(Ot)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=nt(),b!==e){for(a=$,o=[],w=U();w!==e;)o.push(w),w=U();for(w=as(),w!==e?a=w:($=a,a=e),a===e&&(a=null),o=[],w=U();w!==e;)o.push(w),w=U();t.charCodeAt($)===93?(w=J,$++):(w=e,i===0&&X(Jr)),w!==e?(be=y,y=pl(b,a)):($=y,y=e)}else $=y,y=e}else $=y,y=e;return R[c]={nextPos:$,result:y},y}function ms(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A=$*77+19,x=R[A];if(x)return $=x.nextPos,x.result;if(y=$,t.substr($,4)===Z?(m=Z,$+=4):(m=e,i===0&&X(mi)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.charCodeAt($)===40?(b=F,$++):(b=e,i===0&&X(Vt)),b!==e)if(t.substr($,3)===ue?(a=ue,$+=3):(a=e,i===0&&X(sr)),a!==e){if(o=[],w=U(),w!==e)for(;w!==e;)o.push(w),w=U();else o=e;if(o!==e)if(w=nt(),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();for(t.charCodeAt($)===44?(s=ee,$++):(s=e,i===0&&X(gs)),s===e&&(s=null),u=[],p=U();p!==e;)u.push(p),p=U();if(p=St(),p!==e)if(t.charCodeAt($)===41?(f=O,$++):(f=e,i===0&&X(_s)),f!==e){for(g=[],v=U();v!==e;)g.push(v),v=U();v=Yr(),v!==e?(be=y,y=vl(w,p,v)):($=y,y=e)}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e)if(y=$,t.substr($,4)===Z?(m=Z,$+=4):(m=e,i===0&&X(mi)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(t.substr($,3)===ue?(b=ue,$+=3):(b=e,i===0&&X(sr)),b!==e){if(a=[],o=U(),o!==e)for(;o!==e;)a.push(o),o=U();else a=e;if(a!==e)if(o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(t.charCodeAt($)===44?(c=ee,$++):(c=e,i===0&&X(gs)),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();if(u=St(),u!==e){if(p=[],f=U(),f!==e)for(;f!==e;)p.push(f),f=U();else p=e;p!==e?(f=Yr(),f!==e?(be=y,y=gl(o,u,f)):($=y,y=e)):($=y,y=e)}else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;return R[A]={nextPos:$,result:y},y}function ni(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A,x=$*77+20,k=R[x];if(k)return $=k.nextPos,k.result;if(y=$,t.substr($,3)===se?(m=se,$+=3):(m=e,i===0&&X(os)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.charCodeAt($)===40?(b=F,$++):(b=e,i===0&&X(Vt)),b!==e)if(t.substr($,3)===ue?(a=ue,$+=3):(a=e,i===0&&X(sr)),a!==e){if(o=[],w=U(),w!==e)for(;w!==e;)o.push(w),w=U();else o=e;if(o!==e)if(w=nt(),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();if(s=$,t.charCodeAt($)===61?(u=Fe,$++):(u=e,i===0&&X(Ht)),u!==e){for(p=[],f=U();f!==e;)p.push(f),f=U();f=St(),f!==e?(be=s,s=dl(w,f)):($=s,s=e)}else $=s,s=e;for(s===e&&(s=null),t.charCodeAt($)===44?(u=ee,$++):(u=e,i===0&&X(gs)),u===e&&(u=null),p=[],f=U();f!==e;)p.push(f),f=U();if(f=St(),f!==e)if(t.charCodeAt($)===41?(g=O,$++):(g=e,i===0&&X(_s)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();A=Yr(),A!==e?(be=y,y=yl(w,s,f,A)):($=y,y=e)}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e){if(y=$,t.substr($,3)===se?(m=se,$+=3):(m=e,i===0&&X(os)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(t.substr($,3)===ue?(b=ue,$+=3):(b=e,i===0&&X(sr)),b!==e){if(a=[],o=U(),o!==e)for(;o!==e;)a.push(o),o=U();else a=e;if(a!==e)if(o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(c=$,t.charCodeAt($)===61?(s=Fe,$++):(s=e,i===0&&X(Ht)),s!==e){for(u=[],p=U();p!==e;)u.push(p),p=U();p=St(),p!==e?(be=c,c=wl(o,p)):($=c,c=e)}else $=c,c=e;for(c===e&&(c=null),t.charCodeAt($)===44?(s=ee,$++):(s=e,i===0&&X(gs)),s===e&&(s=null),u=[],p=U();p!==e;)u.push(p),p=U();if(p=St(),p!==e){if(f=[],g=U(),g!==e)for(;g!==e;)f.push(g),g=U();else f=e;f!==e?(g=Yr(),g!==e?(be=y,y=ml(o,c,p,g)):($=y,y=e)):($=y,y=e)}else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e){if(y=$,t.substr($,3)===se?(m=se,$+=3):(m=e,i===0&&X(os)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.charCodeAt($)===40?(b=F,$++):(b=e,i===0&&X(Vt)),b!==e)if(a=St(),a!==e)if(t.charCodeAt($)===41?(o=O,$++):(o=e,i===0&&X(_s)),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();c=Yr(),c!==e?(be=y,y=$l(a,c)):($=y,y=e)}else $=y,y=e;else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e)if(y=$,t.substr($,3)===se?(m=se,$+=3):(m=e,i===0&&X(os)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(b=St(),b!==e){if(a=[],o=U(),o!==e)for(;o!==e;)a.push(o),o=U();else a=e;a!==e?(o=Yr(),o!==e?(be=y,y=xl(b,o)):($=y,y=e)):($=y,y=e)}else $=y,y=e;else $=y,y=e}else $=y,y=e}}return R[x]={nextPos:$,result:y},y}function Fr(){var y,m,P,b,a,o=$*77+21,w=R[o];if(w)return $=w.nextPos,w.result;if(y=$,t.substr($,6)===ne?(m=ne,$+=6):(m=e,i===0&&X(ds)),m!==e)if(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e){for(b=[],a=U();a!==e;)b.push(a),a=U();a=St(),a!==e?(be=y,y=bl(a)):($=y,y=e)}else $=y,y=e;else $=y,y=e;return R[o]={nextPos:$,result:y},y}function ai(){var y,m,P,b,a,o,w,c,s=$*77+22,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,t.substr($,4)===Se?(m=Se,$+=4):(m=e,i===0&&X(Mt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.charCodeAt($)===123?(b=q,$++):(b=e,i===0&&X(Wt)),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();if(o=Xs(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();t.charCodeAt($)===125?(c=Q,$++):(c=e,i===0&&X($t)),c!==e?(be=y,y=Al(o)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function nu(){var y,m,P,b,a=$*77+23,o=R[a];return o?($=o.nextPos,o.result):(y=$,t.substr($,5)===je?(m=je,$+=5):(m=e,i===0&&X(Ks)),m!==e?(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e?(be=y,y=_l()):($=y,y=e)):($=y,y=e),R[a]={nextPos:$,result:y},y)}function ii(){var y,m,P,b,a=$*77+24,o=R[a];return o?($=o.nextPos,o.result):(y=$,t.substr($,8)===_e?(m=_e,$+=8):(m=e,i===0&&X(xr)),m!==e?(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e?(be=y,y=Cl()):($=y,y=e)):($=y,y=e),R[a]={nextPos:$,result:y},y)}function au(){var y,m,P,b,a,o,w=$*77+25,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=St(),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.substr($,2)===Xe?(b=Xe,$+=2):(b=e,i===0&&X(br)),b===e&&(t.substr($,2)===pt?(b=pt,$+=2):(b=e,i===0&&X(qi)),b===e&&(t.charCodeAt($)===61?(b=Fe,$++):(b=e,i===0&&X(Ht)))),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();o=St(),o!==e?(be=y,y=Pl(m,b,o)):($=y,y=e)}else $=y,y=e}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function iu(){var y,m,P,b,a,o,w,c,s=$*77+26,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,m=Zr(),m!==e){for(P=[],b=$,a=[],o=Ss();o!==e;)a.push(o),o=Ss();if(o=Mi(),o!==e){for(w=[],c=Ss();c!==e;)w.push(c),c=Ss();c=Zr(),c!==e?(be=b,b=_i(m,o,c)):($=b,b=e)}else $=b,b=e;if(b!==e)for(;b!==e;){for(P.push(b),b=$,a=[],o=Ss();o!==e;)a.push(o),o=Ss();if(o=Mi(),o!==e){for(w=[],c=Ss();c!==e;)w.push(c),c=Ss();c=Zr(),c!==e?(be=b,b=_i(m,o,c)):($=b,b=e)}else $=b,b=e}else P=e;P!==e?(be=y,y=kl(m,P)):($=y,y=e)}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function Ss(){var y,m,P,b=$*77+27,a=R[b];return a?($=a.nextPos,a.result):(y=$,t.charCodeAt($)===92?(m=ar,$++):(m=e,i===0&&X($i)),m!==e?(P=Ve(),P!==e?(m=[m,P],y=m):($=y,y=e)):($=y,y=e),y===e&&(y=Ye()),R[b]={nextPos:$,result:y},y)}function Mi(){var y,m,P=$*77+28,b=R[P];return b?($=b.nextPos,b.result):(y=$,t.substr($,2)===vt?(m=vt,$+=2):(m=e,i===0&&X(Ki)),m===e&&(t.substr($,2)===ft?(m=ft,$+=2):(m=e,i===0&&X(zi)),m===e&&(t.substr($,2)===ze?(m=ze,$+=2):(m=e,i===0&&X(Na)),m===e&&(t.substr($,2)===ct?(m=ct,$+=2):(m=e,i===0&&X(Oa)),m===e&&(t.substr($,2)===Lt?(m=Lt,$+=2):(m=e,i===0&&X(Vi)),m===e&&(t.substr($,2)===Kt?(m=Kt,$+=2):(m=e,i===0&&X(Wi)),m===e&&(m=t.charAt($),rt.test(m)?$++:(m=e,i===0&&X(Gi)))))))),m!==e&&(be=y,m=El()),y=m,R[P]={nextPos:$,result:y},y)}function lu(){var y,m,P,b=$*77+29,a=R[b];return a?($=a.nextPos,a.result):(y=$,t.charCodeAt($)===33?(m=lt,$++):(m=e,i===0&&X(Ji)),m!==e?(P=St(),P!==e?(be=y,y=Ml(P)):($=y,y=e)):($=y,y=e),R[b]={nextPos:$,result:y},y)}function uu(){var y,m,P,b,a=$*77+30,o=R[a];if(o)return $=o.nextPos,o.result;if(y=$,m=wn(),m!==e){if(P=[],b=Si(),b===e&&(b=ha(),b===e&&(b=Fi())),b!==e)for(;b!==e;)P.push(b),b=Si(),b===e&&(b=ha(),b===e&&(b=Fi()));else P=e;P!==e?(be=y,y=Sl(m,P)):($=y,y=e)}else $=y,y=e;return R[a]={nextPos:$,result:y},y}function Si(){var y,m,P,b,a,o,w=$*77+31,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===40?(m=F,$++):(m=e,i===0&&X(Vt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();for(b=Nr(),b===e&&(b=null),a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===41?(o=O,$++):(o=e,i===0&&X(_s)),o!==e?(be=y,y=Fl(b)):($=y,y=e)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function Nr(){var y,m,P,b,a,o,w=$*77+32,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=St(),m!==e){for(P=[],b=$,a=xn(),a!==e?(o=St(),o!==e?(be=b,b=la(m,o)):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=xn(),a!==e?(o=St(),o!==e?(be=b,b=la(m,o)):($=b,b=e)):($=b,b=e);be=y,y=Nl(m,P)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function ha(){var y,m,P,b,a,o,w=$*77+33,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===91?(m=Hr,$++):(m=e,i===0&&X(Ta)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=St(),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===93?(o=J,$++):(o=e,i===0&&X(Jr)),o!==e?(be=y,y=Ua(b)):($=y,y=e)}else $=y,y=e}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function Fi(){var y,m,P,b=$*77+34,a=R[b];return a?($=a.nextPos,a.result):(y=$,t.charCodeAt($)===46?(m=rr,$++):(m=e,i===0&&X(Fn)),m!==e?(P=nt(),P!==e?(be=y,y=Ol(P)):($=y,y=e)):($=y,y=e),R[b]={nextPos:$,result:y},y)}function Or(){var y,m,P,b,a,o,w,c,s,u,p=$*77+35,f=R[p];if(f)return $=f.nextPos,f.result;if(y=$,t.substr($,2)===_r?(m=_r,$+=2):(m=e,i===0&&X(Nn)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;if(P!==e)if(b=St(),b!==e){if(a=[],o=U(),o!==e)for(;o!==e;)a.push(o),o=U();else a=e;if(a!==e)if(o=Yr(),o!==e){if(w=$,c=[],s=U(),s!==e)for(;s!==e;)c.push(s),s=U();else c=e;if(c!==e?(s=Dn(),s!==e?w=s:($=w,w=e)):($=w,w=e),w===e&&(w=null),c=$,s=[],u=U(),u!==e)for(;u!==e;)s.push(u),u=U();else s=e;s!==e?(u=ui(),u!==e?c=u:($=c,c=e)):($=c,c=e),c===e&&(c=null),be=y,y=Tl(b,o,w,c)}else $=y,y=e;else $=y,y=e}else $=y,y=e;else $=y,y=e}else $=y,y=e;return R[p]={nextPos:$,result:y},y}function Dn(){var y,m,P,b,a,o,w=$*77+36,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=li(),m!==e){for(P=[],b=$,a=[],o=U();o!==e;)a.push(o),o=U();for(o=li(),o!==e?b=o:($=b,b=e);b!==e;){for(P.push(b),b=$,a=[],o=U();o!==e;)a.push(o),o=U();o=li(),o!==e?b=o:($=b,b=e)}be=y,y=Il(m,P)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function li(){var y,m,P,b,a,o,w,c=$*77+37,s=R[c];if(s)return $=s.nextPos,s.result;if(y=$,t.substr($,4)===Dt?(m=Dt,$+=4):(m=e,i===0&&X(Ia)),m!==e)if(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e){for(b=[],a=U();a!==e;)b.push(a),a=U();if(a=St(),a!==e){for(o=[],w=U();w!==e;)o.push(w),w=U();w=Yr(),w!==e?(be=y,y=qa(a,w)):($=y,y=e)}else $=y,y=e}else $=y,y=e;else $=y,y=e;return R[c]={nextPos:$,result:y},y}function ui(){var y,m,P,b,a,o=$*77+38,w=R[o];if(w)return $=w.nextPos,w.result;if(y=$,t.substr($,4)===mr?(m=mr,$+=4):(m=e,i===0&&X(Zi)),m!==e)if(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e){for(b=[],a=U();a!==e;)b.push(a),a=U();a=Yr(),a!==e?(be=y,y=jl(a)):($=y,y=e)}else $=y,y=e;else $=y,y=e;return R[o]={nextPos:$,result:y},y}function Ln(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A,x,k,N=$*77+39,L=R[N];if(L)return $=L.nextPos,L.result;if(y=$,t.substr($,5)===Br?(m=Br,$+=5):(m=e,i===0&&X(ja)),m!==e)if(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e){for(b=[],a=U();a!==e;)b.push(a),a=U();if(a=St(),a!==e){for(o=[],w=U();w!==e;)o.push(w),w=U();if(t.charCodeAt($)===123?(w=q,$++):(w=e,i===0&&X(Wt)),w!==e){for(c=[],s=U();s!==e;)c.push(s),s=U();if(s=[],u=$,p=St(),p!==e){for(f=[],g=U();g!==e;)f.push(g),g=U();if(t.substr($,2)===$r?(g=$r,$+=2):(g=e,i===0&&X(dn)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();if(A=Yr(),A!==e){for(x=[],k=U();k!==e;)x.push(k),k=U();be=u,u=ua(a,p,A)}else $=u,u=e}else $=u,u=e}else $=u,u=e;if(u!==e)for(;u!==e;)if(s.push(u),u=$,p=St(),p!==e){for(f=[],g=U();g!==e;)f.push(g),g=U();if(t.substr($,2)===$r?(g=$r,$+=2):(g=e,i===0&&X(dn)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();if(A=Yr(),A!==e){for(x=[],k=U();k!==e;)x.push(k),k=U();be=u,u=ua(a,p,A)}else $=u,u=e}else $=u,u=e}else $=u,u=e;else s=e;if(s!==e){if(u=$,t.charCodeAt($)===42?(p=Cr,$++):(p=e,i===0&&X(Qi)),p!==e){for(f=[],g=U();g!==e;)f.push(g),g=U();if(t.substr($,2)===$r?(g=$r,$+=2):(g=e,i===0&&X(dn)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();if(A=Yr(),A!==e){for(x=[],k=U();k!==e;)x.push(k),k=U();u=A}else $=u,u=e}else $=u,u=e}else $=u,u=e;for(u===e&&(u=null),p=[],f=U();f!==e;)p.push(f),f=U();t.charCodeAt($)===125?(f=Q,$++):(f=e,i===0&&X($t)),f!==e?(be=y,y=Rl(a,s,u)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e}else $=y,y=e;else $=y,y=e;return R[N]={nextPos:$,result:y},y}function ou(){var y,m,P,b,a,o,w,c,s=$*77+40,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,t.substr($,4)===zt?(m=zt,$+=4):(m=e,i===0&&X(Xi)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(t.charCodeAt($)===123?(b=q,$++):(b=e,i===0&&X(Wt)),b!==e){for(a=[],o=U();o!==e;)a.push(o),o=U();if(o=Xs(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();t.charCodeAt($)===125?(c=Q,$++):(c=e,i===0&&X($t)),c!==e?(be=y,y=Dl(o)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e;return R[s]={nextPos:$,result:y},y}function oi(){var y,m,P,b,a=$*77+41,o=R[a];if(o)return $=o.nextPos,o.result;if(y=$,t.substr($,6)===pr?(m=pr,$+=6):(m=e,i===0&&X(Yi)),m!==e){if(P=[],b=U(),b!==e)for(;b!==e;)P.push(b),b=U();else P=e;P!==e?(b=Fs(),b!==e?(be=y,y=Ll(b)):($=y,y=e)):($=y,y=e)}else $=y,y=e;return R[a]={nextPos:$,result:y},y}function Fs(){var y,m,P=$*77+42,b=R[P];return b?($=b.nextPos,b.result):(y=$,m=pu(),m!==e&&(be=y,m=Hl(m)),y=m,R[P]={nextPos:$,result:y},y)}function Ni(){var y,m,P,b,a,o,w=$*77+43,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===96?(m=V,$++):(m=e,i===0&&X(Cs)),m!==e){for(P=[],b=$,a=$,i++,t.charCodeAt($)===96?(o=V,$++):(o=e,i===0&&X(Cs)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=Oi(),o!==e?b=o:($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=$,i++,t.charCodeAt($)===96?(o=V,$++):(o=e,i===0&&X(Cs)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=Oi(),o!==e?b=o:($=b,b=e)):($=b,b=e);t.charCodeAt($)===96?(b=V,$++):(b=e,i===0&&X(Cs)),b!==e?(be=y,y=Bl(P)):($=y,y=e)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function Oi(){var y,m,P,b,a,o,w=$*77+44,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===123?(m=q,$++):(m=e,i===0&&X(Wt)),m!==e){for(P=[],b=Ye();b!==e;)P.push(b),b=Ye();if(b=St(),b!==e){for(a=[],o=Ye();o!==e;)a.push(o),o=Ye();t.charCodeAt($)===125?(o=Q,$++):(o=e,i===0&&X($t)),o!==e?y=b:($=y,y=e)}else $=y,y=e}else $=y,y=e;if(y===e){if(y=$,m=[],P=mn(),P!==e)for(;P!==e;)m.push(P),P=mn();else m=e;m!==e&&(be=y,m=Ka(m)),y=m}return R[w]={nextPos:$,result:y},y}function mn(){var y,m=$*77+45,P=R[m];return P?($=P.nextPos,P.result):(y=fu(),y===e&&(y=t.charAt($),ht.test(y)?$++:(y=e,i===0&&X(ys))),R[m]={nextPos:$,result:y},y)}function fu(){var y,m,P,b=$*77+46,a=R[b];return a?($=a.nextPos,a.result):(y=$,t.charCodeAt($)===92?(m=ar,$++):(m=e,i===0&&X($i)),m!==e?(P=t.charAt($),At.test(P)?$++:(P=e,i===0&&X(On)),P!==e?y=P:($=y,y=e)):($=y,y=e),R[b]={nextPos:$,result:y},y)}function Hn(){var y,m,P,b,a,o,w=$*77+47,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===34?(m=te,$++):(m=e,i===0&&X(aa)),m!==e){for(P=[],b=$,a=$,i++,t.charCodeAt($)===34?(o=te,$++):(o=e,i===0&&X(aa)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=pa(),o===e&&(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr))),o!==e?(be=b,b=Ci(o)):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=$,i++,t.charCodeAt($)===34?(o=te,$++):(o=e,i===0&&X(aa)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=pa(),o===e&&(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr))),o!==e?(be=b,b=Ci(o)):($=b,b=e)):($=b,b=e);t.charCodeAt($)===34?(b=te,$++):(b=e,i===0&&X(aa)),b!==e?(be=y,y=za(P)):($=y,y=e)}else $=y,y=e;if(y===e)if(y=$,t.charCodeAt($)===39?(m=ie,$++):(m=e,i===0&&X(ia)),m!==e){for(P=[],b=$,a=$,i++,t.charCodeAt($)===39?(o=ie,$++):(o=e,i===0&&X(ia)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=va(),o===e&&(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr))),o!==e?(be=b,b=Pi(o)):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=$,i++,t.charCodeAt($)===39?(o=ie,$++):(o=e,i===0&&X(ia)),i--,o===e?a=void 0:($=a,a=e),a!==e?(o=va(),o===e&&(t.length>$?(o=t.charAt($),$++):(o=e,i===0&&X(Gr))),o!==e?(be=b,b=Pi(o)):($=b,b=e)):($=b,b=e);t.charCodeAt($)===39?(b=ie,$++):(b=e,i===0&&X(ia)),b!==e?(be=y,y=Ul(P)):($=y,y=e)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function pa(){var y,m,P=$*77+48,b=R[P];return b?($=b.nextPos,b.result):(y=$,t.substr($,2)===de?(m=de,$+=2):(m=e,i===0&&X(el)),m!==e&&(be=y,m=ql()),y=m,R[P]={nextPos:$,result:y},y)}function va(){var y,m,P=$*77+49,b=R[P];return b?($=b.nextPos,b.result):(y=$,t.substr($,2)===le?(m=le,$+=2):(m=e,i===0&&X(zs)),m!==e&&(be=y,m=Va()),y=m,R[P]={nextPos:$,result:y},y)}function ga(){var y,m=$*77+50,P=R[m];return P?($=P.nextPos,P.result):(y=en(),y===e&&(y=Bn()),R[m]={nextPos:$,result:y},y)}function en(){var y,m,P,b,a,o,w,c=$*77+51,s=R[c];if(s)return $=s.nextPos,s.result;if(y=$,m=t.charAt($),Et.test(m)?$++:(m=e,i===0&&X(fs)),m===e&&(m=null),P=t.charAt($),_t.test(P)?$++:(P=e,i===0&&X(Ps)),P!==e){if(b=[],a=t.charAt($),bt.test(a)?$++:(a=e,i===0&&X(cs)),a!==e)for(;a!==e;)b.push(a),a=t.charAt($),bt.test(a)?$++:(a=e,i===0&&X(cs));else b=e;if(b!==e)if(t.charCodeAt($)===46?(a=rr,$++):(a=e,i===0&&X(Fn)),a!==e){if(o=[],w=t.charAt($),bt.test(w)?$++:(w=e,i===0&&X(cs)),w!==e)for(;w!==e;)o.push(w),w=t.charAt($),bt.test(w)?$++:(w=e,i===0&&X(cs));else o=e;o!==e?(be=y,y=Kl()):($=y,y=e)}else $=y,y=e;else $=y,y=e}else $=y,y=e;if(y===e)if(y=$,m=t.charAt($),Et.test(m)?$++:(m=e,i===0&&X(fs)),m===e&&(m=null),P=t.charAt($),bt.test(P)?$++:(P=e,i===0&&X(cs)),P!==e)if(t.charCodeAt($)===46?(b=rr,$++):(b=e,i===0&&X(Fn)),b!==e){if(a=[],o=t.charAt($),bt.test(o)?$++:(o=e,i===0&&X(cs)),o!==e)for(;o!==e;)a.push(o),o=t.charAt($),bt.test(o)?$++:(o=e,i===0&&X(cs));else a=e;a!==e?(be=y,y=Wa()):($=y,y=e)}else $=y,y=e;else $=y,y=e;return R[c]={nextPos:$,result:y},y}function Bn(){var y,m,P,b,a,o=$*77+52,w=R[o];if(w)return $=w.nextPos,w.result;if(y=$,m=t.charAt($),Et.test(m)?$++:(m=e,i===0&&X(fs)),m===e&&(m=null),P=t.charAt($),_t.test(P)?$++:(P=e,i===0&&X(Ps)),P!==e){if(b=[],a=t.charAt($),bt.test(a)?$++:(a=e,i===0&&X(cs)),a!==e)for(;a!==e;)b.push(a),a=t.charAt($),bt.test(a)?$++:(a=e,i===0&&X(cs));else b=e;b!==e?(be=y,y=Ga()):($=y,y=e)}else $=y,y=e;return y===e&&(y=$,m=t.charAt($),Et.test(m)?$++:(m=e,i===0&&X(fs)),m===e&&(m=null),P=t.charAt($),bt.test(P)?$++:(P=e,i===0&&X(cs)),P!==e?(be=y,y=zl()):($=y,y=e)),R[o]={nextPos:$,result:y},y}function $n(){var y,m=$*77+53,P=R[m];return P?($=P.nextPos,P.result):(y=fi(),y===e&&(y=Un()),R[m]={nextPos:$,result:y},y)}function fi(){var y,m,P,b,a=$*77+54,o=R[a];return o?($=o.nextPos,o.result):(y=$,t.substr($,4)===ke?(m=ke,$+=4):(m=e,i===0&&X(Vs)),m!==e?(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e?(be=y,y=Ja()):($=y,y=e)):($=y,y=e),R[a]={nextPos:$,result:y},y)}function Un(){var y,m,P,b,a=$*77+55,o=R[a];return o?($=o.nextPos,o.result):(y=$,t.substr($,5)===Ne?(m=Ne,$+=5):(m=e,i===0&&X(Ws)),m!==e?(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e?(be=y,y=Vl()):($=y,y=e)):($=y,y=e),R[a]={nextPos:$,result:y},y)}function da(){var y,m,P,b,a=$*77+56,o=R[a];return o?($=o.nextPos,o.result):(y=$,t.substr($,4)===Ae?(m=Ae,$+=4):(m=e,i===0&&X(Gs)),m!==e?(P=$,i++,b=t.charAt($),Je.test(b)?$++:(b=e,i===0&&X(dt)),i--,b===e?P=void 0:($=P,P=e),P!==e?(be=y,y=Wl()):($=y,y=e)):($=y,y=e),R[a]={nextPos:$,result:y},y)}function qn(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A=$*77+57,x=R[A];if(x)return $=x.nextPos,x.result;if(y=$,t.charCodeAt($)===123?(m=q,$++):(m=e,i===0&&X(Wt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=[],a=$,o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(t.charCodeAt($)===58?(c=pe,$++):(c=e,i===0&&X(tt)),c!==e){if(s=[],u=U(),u!==e)for(;u!==e;)s.push(u),u=U();else s=e;if(s!==e)if(u=St(),u!==e){for(p=[],f=U();f!==e;)p.push(f),f=U();for(f=t.charAt($),qs.test(f)?$++:(f=e,i===0&&X(hs)),f===e&&(f=null),g=[],v=U();v!==e;)g.push(v),v=U();be=a,a=ki(o,u)}else $=a,a=e;else $=a,a=e}else $=a,a=e}else $=a,a=e;for(;a!==e;)if(b.push(a),a=$,o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(t.charCodeAt($)===58?(c=pe,$++):(c=e,i===0&&X(tt)),c!==e){if(s=[],u=U(),u!==e)for(;u!==e;)s.push(u),u=U();else s=e;if(s!==e)if(u=St(),u!==e){for(p=[],f=U();f!==e;)p.push(f),f=U();for(f=t.charAt($),qs.test(f)?$++:(f=e,i===0&&X(hs)),f===e&&(f=null),g=[],v=U();v!==e;)g.push(v),v=U();be=a,a=ki(o,u)}else $=a,a=e;else $=a,a=e}else $=a,a=e}else $=a,a=e;t.charCodeAt($)===125?(a=Q,$++):(a=e,i===0&&X($t)),a!==e?(be=y,y=Gl(b)):($=y,y=e)}else $=y,y=e;return R[A]={nextPos:$,result:y},y}function ci(){var y,m,P,b,a,o,w,c,s,u,p=$*77+58,f=R[p];if(f)return $=f.nextPos,f.result;if(y=$,t.charCodeAt($)===91?(m=Hr,$++):(m=e,i===0&&X(Ta)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=[],a=$,o=St(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(t.charCodeAt($)===44?(c=ee,$++):(c=e,i===0&&X(gs)),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();be=a,a=Ei(o)}else $=a,a=e;for(;a!==e;)if(b.push(a),a=$,o=St(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(t.charCodeAt($)===44?(c=ee,$++):(c=e,i===0&&X(gs)),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();be=a,a=Ei(o)}else $=a,a=e;for(a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===93?(o=J,$++):(o=e,i===0&&X(Jr)),o!==e?(be=y,y=Jl(b)):($=y,y=e)}else $=y,y=e;return R[p]={nextPos:$,result:y},y}function hi(){var y,m,P,b,a,o,w,c=$*77+59,s=R[c];if(s)return $=s.nextPos,s.result;if(y=$,m=nt(),m!==e){for(P=$,b=[],a=U();a!==e;)b.push(a),a=U();if(t.charCodeAt($)===58?(a=pe,$++):(a=e,i===0&&X(tt)),a!==e){for(o=[],w=U();w!==e;)o.push(w),w=U();w=Xr(),w!==e?P=w:($=P,P=e)}else $=P,P=e;P===e&&(P=null),be=y,y=Zl(m,P)}else $=y,y=e;return R[c]={nextPos:$,result:y},y}function ya(){var y,m,P,b,a,o,w=$*77+60,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=hi(),m!==e){for(P=[],b=$,a=xn(),a!==e?(o=hi(),o!==e?b=o:($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=xn(),a!==e?(o=hi(),o!==e?b=o:($=b,b=e)):($=b,b=e);be=y,y=Za(m,P)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function wa(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A,x,k,N=$*77+61,L=R[N];if(L)return $=L.nextPos,L.result;if(y=$,t.charCodeAt($)===64?(m=Ce,$++):(m=e,i===0&&X(Js)),m!==e){for(P=[],b=Ye();b!==e;)P.push(b),b=Ye();if(b=nt(),b!==e){for(a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(t.charCodeAt($)===40?(o=F,$++):(o=e,i===0&&X(Vt)),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(c=ya(),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();if(t.charCodeAt($)===41?(u=O,$++):(u=e,i===0&&X(_s)),u!==e){for(p=$,f=[],g=U();g!==e;)f.push(g),g=U();if(t.charCodeAt($)===58?(g=pe,$++):(g=e,i===0&&X(tt)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();A=Xr(),A!==e?p=A:($=p,p=e)}else $=p,p=e;for(p===e&&(p=null),f=[],g=U();g!==e;)f.push(g),g=U();if(t.charCodeAt($)===123?(g=q,$++):(g=e,i===0&&X(Wt)),g!==e){for(v=[],A=U();A!==e;)v.push(A),A=U();for(A=Xs(),A===e&&(A=null),x=[],k=U();k!==e;)x.push(k),k=U();t.charCodeAt($)===125?(k=Q,$++):(k=e,i===0&&X($t)),k!==e?(be=y,y=Ql(P,b,a,c,p,A)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e}else $=y,y=e}else $=y,y=e;return R[N]={nextPos:$,result:y},y}function cu(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v=$*77+62,A=R[v];if(A)return $=A.nextPos,A.result;if(y=$,t.substr($,2)===we?(m=we,$+=2):(m=e,i===0&&X(ks)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();for(b=ya(),b===e&&(b=null),a=[],o=U();o!==e;)a.push(o),o=U();if(t.charCodeAt($)===41?(o=O,$++):(o=e,i===0&&X(_s)),o!==e){for(w=$,c=[],s=U();s!==e;)c.push(s),s=U();if(t.charCodeAt($)===58?(s=pe,$++):(s=e,i===0&&X(tt)),s!==e){for(u=[],p=U();p!==e;)u.push(p),p=U();p=Xr(),p!==e?w=p:($=w,w=e)}else $=w,w=e;for(w===e&&(w=null),c=[],s=U();s!==e;)c.push(s),s=U();if(t.charCodeAt($)===123?(s=q,$++):(s=e,i===0&&X(Wt)),s!==e){for(u=[],p=U();p!==e;)u.push(p),p=U();for(p=Xs(),p===e&&(p=null),f=[],g=U();g!==e;)f.push(g),g=U();t.charCodeAt($)===125?(g=Q,$++):(g=e,i===0&&X($t)),g!==e?(be=y,y=Qa(b,w,p)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e;return R[v]={nextPos:$,result:y},y}function Kn(){var y,m,P,b,a,o,w,c,s,u,p=$*77+63,f=R[p];if(f)return $=f.nextPos,f.result;if(y=$,t.charCodeAt($)===91?(m=Hr,$++):(m=e,i===0&&X(Ta)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=[],a=$,o=as(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(t.charCodeAt($)===44?(c=ee,$++):(c=e,i===0&&X(gs)),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();be=a,a=oa(o)}else $=a,a=e;for(;a!==e;)if(b.push(a),a=$,o=as(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();for(t.charCodeAt($)===44?(c=ee,$++):(c=e,i===0&&X(gs)),c===e&&(c=null),s=[],u=U();u!==e;)s.push(u),u=U();be=a,a=oa(o)}else $=a,a=e;for(a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===93?(o=J,$++):(o=e,i===0&&X(Jr)),o!==e?(be=y,y=Xl(b)):($=y,y=e)}else $=y,y=e;return R[p]={nextPos:$,result:y},y}function zn(){var y,m,P,b,a,o,w,c,s,u,p,f,g,v,A=$*77+64,x=R[A];if(x)return $=x.nextPos,x.result;if(y=$,t.charCodeAt($)===123?(m=q,$++):(m=e,i===0&&X(Wt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();if(b=[],a=$,o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(t.charCodeAt($)===58?(c=pe,$++):(c=e,i===0&&X(tt)),c!==e){if(s=[],u=U(),u!==e)for(;u!==e;)s.push(u),u=U();else s=e;if(s!==e)if(u=as(),u!==e){for(p=[],f=U();f!==e;)p.push(f),f=U();for(f=t.charAt($),qs.test(f)?$++:(f=e,i===0&&X(hs)),f===e&&(f=null),g=[],v=U();v!==e;)g.push(v),v=U();be=a,a=fa(o,u)}else $=a,a=e;else $=a,a=e}else $=a,a=e}else $=a,a=e;for(;a!==e;)if(b.push(a),a=$,o=nt(),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(t.charCodeAt($)===58?(c=pe,$++):(c=e,i===0&&X(tt)),c!==e){if(s=[],u=U(),u!==e)for(;u!==e;)s.push(u),u=U();else s=e;if(s!==e)if(u=as(),u!==e){for(p=[],f=U();f!==e;)p.push(f),f=U();for(f=t.charAt($),qs.test(f)?$++:(f=e,i===0&&X(hs)),f===e&&(f=null),g=[],v=U();v!==e;)g.push(v),v=U();be=a,a=fa(o,u)}else $=a,a=e;else $=a,a=e}else $=a,a=e}else $=a,a=e;t.charCodeAt($)===125?(a=Q,$++):(a=e,i===0&&X($t)),a!==e?(be=y,y=Yl(b)):($=y,y=e)}else $=y,y=e;return R[A]={nextPos:$,result:y},y}function Xr(){var y,m=$*77+65,P=R[m];return P?($=P.nextPos,P.result):(y=hu(),y===e&&(y=pi()),R[m]={nextPos:$,result:y},y)}function hu(){var y,m,P,b,a,o,w,c,s,u,p=$*77+66,f=R[p];if(f)return $=f.nextPos,f.result;if(y=$,t.substr($,2)===we?(m=we,$+=2):(m=e,i===0&&X(ks)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();for(b=Vn(),b===e&&(b=null),a=[],o=U();o!==e;)a.push(o),o=U();if(t.charCodeAt($)===41?(o=O,$++):(o=e,i===0&&X(_s)),o!==e){for(w=[],c=U();c!==e;)w.push(c),c=U();if(t.substr($,2)===$r?(c=$r,$+=2):(c=e,i===0&&X(dn)),c!==e){for(s=[],u=U();u!==e;)s.push(u),u=U();u=Xr(),u!==e?(be=y,y=eu(b,u)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e;return R[p]={nextPos:$,result:y},y}function Vn(){var y,m,P,b,a,o,w=$*77+67,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=Xr(),m!==e){for(P=[],b=$,a=xn(),a!==e?(o=Xr(),o!==e?b=o:($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,a=xn(),a!==e?(o=Xr(),o!==e?b=o:($=b,b=e)):($=b,b=e);be=y,y=Xa(m,P)}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function pi(){var y,m,P,b,a,o,w,c,s=$*77+68,u=R[s];if(u)return $=u.nextPos,u.result;if(y=$,m=nt(),m!==e){for(P=[],b=Ye();b!==e;)P.push(b),b=Ye();if(t.charCodeAt($)===60?(b=Ke,$++):(b=e,i===0&&X(Ra)),b!==e){for(a=[],o=Ye();o!==e;)a.push(o),o=Ye();if(o=Xr(),o!==e){for(w=[],c=Ye();c!==e;)w.push(c),c=Ye();t.charCodeAt($)===62?(c=Qe,$++):(c=e,i===0&&X(Bt)),c!==e?(be=y,y=tu(m,o)):($=y,y=e)}else $=y,y=e}else $=y,y=e}else $=y,y=e;return y===e&&(y=$,m=nt(),m!==e&&(be=y,m=Ya(m)),y=m),R[s]={nextPos:$,result:y},y}function nt(){var y,m,P,b,a=$*77+69,o=R[a];if(o)return $=o.nextPos,o.result;if(y=$,m=t.charAt($),zr.test(m)?$++:(m=e,i===0&&X(Da)),m!==e){for(P=[],b=t.charAt($),Vr.test(b)?$++:(b=e,i===0&&X(lr));b!==e;)P.push(b),b=t.charAt($),Vr.test(b)?$++:(b=e,i===0&&X(lr));be=y,y=ei()}else $=y,y=e;return R[a]={nextPos:$,result:y},y}function pu(){var y,m,P,b,a,o,w=$*77+70,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,m=nt(),m!==e){for(P=[],b=$,t.charCodeAt($)===58?(a=pe,$++):(a=e,i===0&&X(tt)),a!==e?(o=nt(),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);b!==e;)P.push(b),b=$,t.charCodeAt($)===58?(a=pe,$++):(a=e,i===0&&X(tt)),a!==e?(o=nt(),o!==e?(a=[a,o],b=a):($=b,b=e)):($=b,b=e);be=y,y=ru()}else $=y,y=e;return R[w]={nextPos:$,result:y},y}function xn(){var y,m,P,b,a,o=$*77+71,w=R[o];if(w)return $=w.nextPos,w.result;for(y=$,m=[],P=U();P!==e;)m.push(P),P=U();if(t.charCodeAt($)===44?(P=ee,$++):(P=e,i===0&&X(gs)),P!==e){for(b=[],a=U();a!==e;)b.push(a),a=U();m=[m,P,b],y=m}else $=y,y=e;if(y===e)if(y=[],m=U(),m!==e)for(;m!==e;)y.push(m),m=U();else y=e;return R[o]={nextPos:$,result:y},y}function Yr(){var y,m,P,b,a,o,w=$*77+72,c=R[w];if(c)return $=c.nextPos,c.result;if(y=$,t.charCodeAt($)===123?(m=q,$++):(m=e,i===0&&X(Wt)),m!==e){for(P=[],b=U();b!==e;)P.push(b),b=U();for(b=Xs(),b===e&&(b=null),a=[],o=U();o!==e;)a.push(o),o=U();t.charCodeAt($)===125?(o=Q,$++):(o=e,i===0&&X($t)),o!==e?(be=y,y=ti(b)):($=y,y=e)}else $=y,y=e;return y===e&&(y=Ys()),R[w]={nextPos:$,result:y},y}function Ve(){var y,m=$*77+73,P=R[m];return P?($=P.nextPos,P.result):(t.substr($,2)===Ge?(y=Ge,$+=2):(y=e,i===0&&X(tl)),y===e&&(y=t.charAt($),gt.test(y)?$++:(y=e,i===0&&X(Zs))),R[m]={nextPos:$,result:y},y)}function Ti(){var y,m,P=$*77+74,b=R[P];return b?($=b.nextPos,b.result):(y=$,i++,t.length>$?(m=t.charAt($),$++):(m=e,i===0&&X(Gr)),i--,m===e?y=void 0:($=y,y=e),y===e&&(y=Ve()),R[P]={nextPos:$,result:y},y)}function U(){var y,m=$*77+75,P=R[m];return P?($=P.nextPos,P.result):(y=t.charAt($),Ft.test(y)?$++:(y=e,i===0&&X(rl)),R[m]={nextPos:$,result:y},y)}function Ye(){var y,m=$*77+76,P=R[m];return P?($=P.nextPos,P.result):(y=t.charAt($),gn.test(y)?$++:(y=e,i===0&&X(ws)),R[m]={nextPos:$,result:y},y)}function ge(y,m,P){const b={type:y};m.children=P;for(const o of Object.keys(m))m[o]!==void 0&&(b[o]=m[o]);const a=Y();return b.loc={start:a.start.offset,end:a.end.offset-1},b}if(ns=d(),r.peg$library)return{peg$result:ns,peg$currPos:$,peg$FAILED:e,peg$maxFailExpected:ca,peg$maxFailPos:ss};if(ns!==e&&$===t.length)return ns;throw ns!==e&&$<t.length&&X(H()),fe(ca,ss<t.length?t.charAt(ss):null,ss<t.length?ae(ss,ss+1):ae(ss,ss))}const px=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function vx(t){return px.includes(t.type)}function Hd(t){return"chain"in t&&t.chain!==null}function gx(t,r,e){return{type:"call",target:t,args:r,loc:e}}function dx(t,r,e){return{type:"index",target:t,index:r,loc:e}}function yx(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function yt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=yt(e.expr,r);break}case"return":{e.expr=yt(e.expr,r);break}case"each":{e.items=yt(e.items,r),e.for=yt(e.for,r);break}case"for":{e.from!=null&&(e.from=yt(e.from,r)),e.to!=null&&(e.to=yt(e.to,r)),e.times!=null&&(e.times=yt(e.times,r)),e.for=yt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=yt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=yt(e.expr,r),e.dest=yt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=yt(e.operands[n],r);break}case"not":{e.expr=yt(e.expr,r);break}case"if":{e.cond=yt(e.cond,r),e.then=yt(e.then,r);for(const n of e.elseif)n.cond=yt(n.cond,r),n.then=yt(n.then,r);e.else!=null&&(e.else=yt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=yt(e.children[n],r);break}case"match":{e.about=yt(e.about,r);for(const n of e.qs)n.q=yt(n.q,r),n.a=yt(n.a,r);e.default!=null&&(e.default=yt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=yt(e.statements[n],r);break}case"exists":{e.identifier=yt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=yt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],yt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=yt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=yt(e.args[n],r);break}case"indexChain":{e.index=yt(e.index,r);break}case"call":{e.target=yt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=yt(e.args[n],r);break}case"index":{e.target=yt(e.target,r),e.index=yt(e.index,r);break}case"prop":{e.target=yt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=yt(e.members[n],r);break}case"or":case"and":{e.left=yt(e.left,r),e.right=yt(e.right,r);break}}if(Hd(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=yt(e.chain[n],r);return e}const mh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function $h(t){throw new Po(`Reserved word "${t}" cannot be used as variable name.`)}function wx(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{mh.includes(t.name)&&$h(t.name);break}case"meta":{t.name!=null&&mh.includes(t.name)&&$h(t.name);break}case"fn":{for(const r of t.args)mh.includes(r.name)&&$h(r.name);break}}return t}function mx(t){for(const r of t)yt(r,wx);return t}function ig(t){return{type:"simple",name:t}}function $x(t,r){return{type:"generic",name:t,inners:r}}function xx(t,r){return{type:"fn",args:t,result:r}}function fc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=fc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>fc(n)).join(", "),e=fc(t.result);return`@(${r}) { ${e} }`}}}function Xo(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return ig(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=Xo(t.inner):r=ig("any"),$x(t.name,[r])}}throw new Po(`Unknown type: '${fc(t)}'`)}else{const r=t.args.map(e=>Xo(e));return xx(r,Xo(t.result))}}function bx(t){switch(t.type){case"def":{t.varType!=null&&Xo(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&Xo(r.argType);t.retType!=null&&Xo(t.retType);break}}return t}function Ax(t){for(const r of t)yt(r,bx);return t}function cc(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=cc(n.expr.children)),r.push(n);else{if(e.length>0)throw new Po("invalid attribute.");switch(n.type){case"fn":{n.children=cc(n.children);break}case"block":{n.statements=cc(n.statements);break}}r.push(n)}if(e.length>0)throw new Po("invalid attribute.");return r}function _x(t){if(vx(t)&&Hd(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=gx(n,h.args,h.loc);break}case"indexChain":{n=dx(n,h.index,h.loc);break}case"propChain":{n=yx(n,h.name,h.loc);break}}return n}return t}function Cx(t){for(let r=0;r<t.length;r++)t[r]=yt(t[r],_x);return t}function hc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function Bd(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return hc(t,r,e);{const{left:n,right:h,info:d}=t;return hc(n,Bd(h,r,e),d)}}function io(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[io(t.left),io(t.right)]}}const Px={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:io(t.left),right:io(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:io(t.left),right:io(t.right)}),priority:3}};function kx(t){const r=t.operators.map(n=>{const h=Px[n];if(h==null)throw new Po(`No such operator: ${n}.`);return h});let e=hc(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=Bd(e,t.operands[2+n],r[1+n]);return io(e)}function Ex(t){for(let r=0;r<t.length;r++)t[r]=yt(t[r],e=>e.type==="infix"?kx(e):e);return t}var gu;let Mx=(gu=class{constructor(){me(this,"plugins");this.plugins={validate:[mx,Ax],transform:[cc,Cx,Ex]}}static parse(r){return gu.instance==null&&(gu.instance=new gu),gu.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=ag(r,{startRule:"Preprocess"});e=ag(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new Po(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`,n):new Po(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`,n):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(gu,"instance"),gu);const Sx="develop",Fx={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let np=[],bf=null;function Nx(t){return np=Mx.parse(t),JSON.stringify(np,null,"	")}async function Ox(t){bf==null||bf.abort(),bf=new Hs({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:tp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:tp(e.val,!0),print:!1});break}}});try{await bf.exec(np)}catch(r){t.err(r)}}const Tx=Object.freeze(Object.defineProperty({__proto__:null,exec:Ox,parse:Nx,samples:Fx,version:Sx},Symbol.toStringTag,{value:"Module"}));function Dr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let eh=class Ud extends Error{constructor(e,n){super(e);me(this,"name","AiScript");me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Ud)}},Ix=class extends eh{constructor(e){super(e.message??`${e}`,e);me(this,"name","Internal")}},ko=class extends eh{constructor(e,n){super(e,n);me(this,"name","Syntax")}},cr=class extends eh{constructor(e,n){super(e,n);me(this,"name","Runtime")}},lg=class extends cr{constructor(r,e){super(r,e)}};var Ju=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Au=class qd{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new qd(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new cr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new cr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new cr(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new cr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Ju([Dr],Au.prototype,"log",null);Ju([Dr],Au.prototype,"onUpdated",null);Ju([Dr],Au.prototype,"createChildScope",null);Ju([Dr],Au.prototype,"get",null);Ju([Dr],Au.prototype,"exists",null);Ju([Dr],Au.prototype,"getAll",null);Ju([Dr],Au.prototype,"add",null);Ju([Dr],Au.prototype,"assign",null);const Ut={type:"null"},_a={type:"bool",value:!0},Gn={type:"bool",value:!1},De=t=>({type:"num",value:t}),Xt=t=>({type:"str",value:t}),mo=t=>({type:"bool",value:t}),Ic=t=>({type:"obj",value:t}),Kr=t=>({type:"arr",value:t}),jx=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),ve=t=>({type:"fn",native:t}),Rx=t=>({type:"return",value:t}),Dx=()=>({type:"break",value:null}),Lx=()=>({type:"continue",value:null}),Hx=t=>t.type==="return"?t.value:t,ap=(t,r)=>({type:"error",value:t,info:r});function Xn(t){if(t==null)throw new cr("Expect anything, but got nothing.")}function an(t){if(t==null)throw new cr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new cr(`Expect boolean, but got ${t.type}.`)}function Du(t){if(t==null)throw new cr("Expect function, but got nothing.");if(t.type!=="fn")throw new cr(`Expect function, but got ${t.type}.`)}function Wr(t){if(t==null)throw new cr("Expect string, but got nothing.");if(t.type!=="str")throw new cr(`Expect string, but got ${t.type}.`)}function Oe(t){if(t==null)throw new cr("Expect number, but got nothing.");if(t.type!=="num")throw new cr(`Expect number, but got ${t.type}.`)}function Ri(t){if(t==null)throw new cr("Expect object, but got nothing.");if(t.type!=="obj")throw new cr(`Expect object, but got ${t.type}.`)}function Yo(t){if(t==null)throw new cr("Expect array, but got nothing.");if(t.type!=="arr")throw new cr(`Expect array, but got ${t.type}.`)}function xh(t){return t.type==="obj"}function ug(t){return t.type==="arr"}function ip(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function lp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>lp(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function up(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>up(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=up(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function op(t){if(t===null)return Ut;if(typeof t=="boolean")return mo(t);if(typeof t=="string")return Xt(t);if(typeof t=="number")return De(t);if(Array.isArray(t))return Kr(t.map(r=>op(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,op(n));return Ic(r)}return Ut}function ef(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(ef(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${ef(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Bx={version:"0.17.0"},Ux=Bx.version,qx=new TextEncoder,Kx=new TextDecoder,zx={help:Xt("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":Xt(Ux),"Core:ai":Xt("kawaii"),"Core:not":ve(([t])=>(an(t),t.value?Gn:_a)),"Core:eq":ve(([t,r])=>(Xn(t),Xn(r),ip(t,r)?_a:Gn)),"Core:neq":ve(([t,r])=>(Xn(t),Xn(r),ip(t,r)?Gn:_a)),"Core:and":ve(([t,r])=>(an(t),t.value?(an(r),r.value?_a:Gn):Gn)),"Core:or":ve(([t,r])=>(an(t),t.value?_a:(an(r),r.value?_a:Gn))),"Core:add":ve(([t,r])=>(Oe(t),Oe(r),De(t.value+r.value))),"Core:sub":ve(([t,r])=>(Oe(t),Oe(r),De(t.value-r.value))),"Core:mul":ve(([t,r])=>(Oe(t),Oe(r),De(t.value*r.value))),"Core:pow":ve(([t,r])=>{Oe(t),Oe(r);const e=t.value**r.value;if(isNaN(e))throw new cr("Invalid operation.");return De(e)}),"Core:div":ve(([t,r])=>{Oe(t),Oe(r);const e=t.value/r.value;if(isNaN(e))throw new cr("Invalid operation.");return De(e)}),"Core:mod":ve(([t,r])=>(Oe(t),Oe(r),De(t.value%r.value))),"Core:gt":ve(([t,r])=>(Oe(t),Oe(r),t.value>r.value?_a:Gn)),"Core:lt":ve(([t,r])=>(Oe(t),Oe(r),t.value<r.value?_a:Gn)),"Core:gteq":ve(([t,r])=>(Oe(t),Oe(r),t.value>=r.value?_a:Gn)),"Core:lteq":ve(([t,r])=>(Oe(t),Oe(r),t.value<=r.value?_a:Gn)),"Core:type":ve(([t])=>(Xn(t),Xt(t.type))),"Core:to_str":ve(([t])=>(Xn(t),Xt(ef(t)))),"Core:range":ve(([t,r])=>(Oe(t),Oe(r),t.value<r.value?Kr(Array.from({length:r.value-t.value+1},(e,n)=>De(n+t.value))):t.value>r.value?Kr(Array.from({length:t.value-r.value+1},(e,n)=>De(t.value-n))):Kr([t]))),"Core:sleep":ve(async([t])=>(Oe(t),await new Promise(r=>setTimeout(r,t.value)),Ut)),"Util:uuid":ve(()=>Xt(Zc())),"Json:stringify":ve(([t])=>(Xn(t),Xt(JSON.stringify(up(t))))),"Json:parse":ve(([t])=>{Wr(t);try{return op(JSON.parse(t.value))}catch{return ap("not_json")}}),"Json:parsable":ve(([t])=>{Wr(t);try{JSON.parse(t.value)}catch{return mo(!1)}return mo(!0)}),"Date:now":ve(()=>De(Date.now())),"Date:year":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":ve(([t])=>(t&&Oe(t),De(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":ve(([t])=>(Wr(t),De(new Date(t.value).getTime()))),"Math:Infinity":De(1/0),"Math:E":De(Math.E),"Math:LN2":De(Math.LN2),"Math:LN10":De(Math.LN10),"Math:LOG2E":De(Math.LOG2E),"Math:LOG10E":De(Math.LOG10E),"Math:PI":De(Math.PI),"Math:SQRT1_2":De(Math.SQRT1_2),"Math:SQRT2":De(Math.SQRT2),"Math:abs":ve(([t])=>(Oe(t),De(Math.abs(t.value)))),"Math:acos":ve(([t])=>(Oe(t),De(Math.acos(t.value)))),"Math:acosh":ve(([t])=>(Oe(t),De(Math.acosh(t.value)))),"Math:asin":ve(([t])=>(Oe(t),De(Math.asin(t.value)))),"Math:asinh":ve(([t])=>(Oe(t),De(Math.asinh(t.value)))),"Math:atan":ve(([t])=>(Oe(t),De(Math.atan(t.value)))),"Math:atanh":ve(([t])=>(Oe(t),De(Math.atanh(t.value)))),"Math:atan2":ve(([t,r])=>(Oe(t),Oe(r),De(Math.atan2(t.value,r.value)))),"Math:cbrt":ve(([t])=>(Oe(t),De(Math.cbrt(t.value)))),"Math:ceil":ve(([t])=>(Oe(t),De(Math.ceil(t.value)))),"Math:clz32":ve(([t])=>(Oe(t),De(Math.clz32(t.value)))),"Math:cos":ve(([t])=>(Oe(t),De(Math.cos(t.value)))),"Math:cosh":ve(([t])=>(Oe(t),De(Math.cosh(t.value)))),"Math:exp":ve(([t])=>(Oe(t),De(Math.exp(t.value)))),"Math:expm1":ve(([t])=>(Oe(t),De(Math.expm1(t.value)))),"Math:floor":ve(([t])=>(Oe(t),De(Math.floor(t.value)))),"Math:fround":ve(([t])=>(Oe(t),De(Math.fround(t.value)))),"Math:hypot":ve(([t])=>{Yo(t);const r=[];for(const e of t.value)Oe(e),r.push(e.value);return De(Math.hypot(...r))}),"Math:imul":ve(([t,r])=>(Oe(t),Oe(r),De(Math.imul(t.value,r.value)))),"Math:log":ve(([t])=>(Oe(t),De(Math.log(t.value)))),"Math:log1p":ve(([t])=>(Oe(t),De(Math.log1p(t.value)))),"Math:log10":ve(([t])=>(Oe(t),De(Math.log10(t.value)))),"Math:log2":ve(([t])=>(Oe(t),De(Math.log2(t.value)))),"Math:max":ve(([t,r])=>(Oe(t),Oe(r),De(Math.max(t.value,r.value)))),"Math:min":ve(([t,r])=>(Oe(t),Oe(r),De(Math.min(t.value,r.value)))),"Math:pow":ve(([t,r])=>(Oe(t),Oe(r),De(Math.pow(t.value,r.value)))),"Math:round":ve(([t])=>(Oe(t),De(Math.round(t.value)))),"Math:sign":ve(([t])=>(Oe(t),De(Math.sign(t.value)))),"Math:sin":ve(([t])=>(Oe(t),De(Math.sin(t.value)))),"Math:sinh":ve(([t])=>(Oe(t),De(Math.sinh(t.value)))),"Math:sqrt":ve(([t])=>{Oe(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new cr("Invalid operation.");return De(r)}),"Math:tan":ve(([t])=>(Oe(t),De(Math.tan(t.value)))),"Math:tanh":ve(([t])=>(Oe(t),De(Math.tanh(t.value)))),"Math:trunc":ve(([t])=>(Oe(t),De(Math.trunc(t.value)))),"Math:rnd":ve(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?De(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):De(Math.random())),"Math:gen_rng":ve(([t])=>{if(Xn(t),t.type!=="num"&&t.type!=="str")return Ut;const r=df(t.value.toString());return ve(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?De(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):De(r()))}),"Num:to_hex":ve(([t])=>(Oe(t),Xt(t.value.toString(16)))),"Num:from_hex":ve(([t])=>(Wr(t),De(parseInt(t.value,16)))),"Str:lf":Xt(`
`),"Str:lt":ve(([t,r])=>(Wr(t),Wr(r),t.value<r.value?De(-1):t.value===r.value?De(0):De(1))),"Str:gt":ve(([t,r])=>(Wr(t),Wr(r),t.value>r.value?De(-1):t.value===r.value?De(0):De(1))),"Str:from_codepoint":ve(([t])=>(Oe(t),Xt(String.fromCodePoint(t.value)))),"Str:from_unicode_codepoints":ve(([t])=>(Yo(t),Xt(Array.from(t.value.map(r=>(Oe(r),String.fromCodePoint(r.value)))).join("")))),"Str:from_utf8_bytes":ve(([t])=>(Yo(t),Xt(Kx.decode(Uint8Array.from(t.value.map(r=>(Oe(r),r.value))))))),"Obj:keys":ve(([t])=>(Ri(t),Kr(Array.from(t.value.keys()).map(r=>Xt(r))))),"Obj:vals":ve(([t])=>(Ri(t),Kr(Array.from(t.value.values())))),"Obj:kvs":ve(([t])=>(Ri(t),Kr(Array.from(t.value.entries()).map(([r,e])=>Kr([Xt(r),e]))))),"Obj:get":ve(([t,r])=>(Ri(t),Wr(r),t.value.get(r.value)??Ut)),"Obj:set":ve(([t,r,e])=>(Ri(t),Wr(r),Xn(e),t.value.set(r.value,e),Ut)),"Obj:has":ve(([t,r])=>(Ri(t),Wr(r),mo(t.value.has(r.value)))),"Obj:copy":ve(([t])=>(Ri(t),Ic(new Map(t.value)))),"Obj:merge":ve(([t,r])=>(Ri(t),Ri(r),Ic(new Map([...t.value,...r.value])))),"Error:create":ve(([t,r])=>(Wr(t),ap(t.value,r))),"Async:interval":ve(async([t,r,e],n)=>{Oe(t),Du(r),e&&(an(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),ve(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":ve(async([t,r],e)=>{Oe(t),Du(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),ve(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},og={num:{to_str:t=>ve(async(r,e)=>Xt(t.value.toString()))},str:{to_num:t=>ve(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?Ut:De(n)}),to_arr:t=>ve(async(r,e)=>Kr(cn(t.value).map(n=>Xt(n)))),to_unicode_arr:t=>ve(async(r,e)=>Kr([...t.value].map(n=>Xt(n)))),to_unicode_codepoint_arr:t=>ve(async(r,e)=>Kr([...t.value].map(n=>{const h=n.codePointAt(0);return De(h??n.charCodeAt(0))}))),to_char_arr:t=>ve(async(r,e)=>Kr(t.value.split("").map(n=>Xt(n)))),to_charcode_arr:t=>ve(async(r,e)=>Kr(t.value.split("").map(n=>De(n.charCodeAt(0))))),to_utf8_byte_arr:t=>ve(async(r,e)=>Kr(Array.from(qx.encode(t.value)).map(n=>De(n)))),len:t=>De(yf(t.value)),replace:t=>ve(async([r,e],n)=>(Wr(r),Wr(e),Xt(t.value.split(r.value).join(e.value)))),index_of:t=>ve(async([r],e)=>(Wr(r),De(mf(t.value,r.value)))),incl:t=>ve(async([r],e)=>(Wr(r),t.value.includes(r.value)?_a:Gn)),trim:t=>ve(async(r,e)=>Xt(t.value.trim())),upper:t=>ve(async(r,e)=>Xt(t.value.toUpperCase())),lower:t=>ve(async(r,e)=>Xt(t.value.toLowerCase())),split:t=>ve(async([r],e)=>(r&&Wr(r),Kr(r?t.value.split(r?r.value:"").map(n=>Xt(n)):cn(t.value).map(n=>Xt(n))))),slice:t=>ve(async([r,e],n)=>(Oe(r),Oe(e),Xt(wf(t.value,r.value,e.value)))),pick:t=>ve(async([r],e)=>{Oe(r);const h=cn(t.value)[r.value];return h?Xt(h):Ut}),charcode_at:t=>ve(([r],e)=>{Oe(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?Ut:De(n)}),codepoint_at:t=>ve(([r],e)=>{Oe(r);const n=t.value.codePointAt(r.value)??t.value.charCodeAt(r.value);return Number.isNaN(n)?Ut:De(n)})},arr:{len:t=>De(t.value.length),push:t=>ve(async([r],e)=>(Xn(r),t.value.push(r),t)),unshift:t=>ve(async([r],e)=>(Xn(r),t.value.unshift(r),t)),pop:t=>ve(async(r,e)=>t.value.pop()??Ut),shift:t=>ve(async(r,e)=>t.value.shift()??Ut),concat:t=>ve(async([r],e)=>(Yo(r),Kr(t.value.concat(r.value)))),slice:t=>ve(async([r,e],n)=>(Oe(r),Oe(e),Kr(t.value.slice(r.value,e.value)))),join:t=>ve(async([r],e)=>(r&&Wr(r),Xt(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>ve(async([r],e)=>{Du(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,De(d)]));return Kr(await Promise.all(n))}),filter:t=>ve(async([r],e)=>{Du(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,De(h)]);an(_),_.value&&n.push(d)}return Kr(n)}),reduce:t=>ve(async([r,e],n)=>{Du(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,De(_)])}return d}),find:t=>ve(async([r],e)=>{Du(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,De(n)]);if(an(d),d.value)return h}return Ut}),incl:t=>ve(async([r],e)=>(Xn(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Gn:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?_a:Gn)),reverse:t=>ve(async(r,e)=>(t.value.reverse(),Ut)),copy:t=>ve(async(r,e)=>Kr([...t.value])),sort:t=>ve(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);Oe(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return Du(r),Yo(t),t.value=await n(t.value,r),t})},error:{name:t=>Xt(t.value),info:t=>t.info??Ut}};function Vx(t,r){if(Object.hasOwn(og,t.type)){const e=og[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new cr(`No such prop (${r}) in ${t.type}.`)}else throw new cr(`Cannot read prop of ${t.type}. (reading ${r})`)}const Wx={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var pn=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Kd=300,Gx=Kd-1;let Bs=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:ve(([h])=>{Xn(h),this.opts.out&&this.opts.out(h)}),readline:ve(async h=>{const d=h[0];if(Wr(d),this.opts.in==null)return Ut;const _=await this.opts.in(d.value);return Xt(_)})};this.vars=Object.fromEntries(Object.entries({...r,...zx,...n}).map(([h,d])=>[h,Wx.const(d)])),this.scope=new Au([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),ap("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof eh?this.opts.err(r):this.opts.err(new Ix(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Error("Namespaces cannot include mutable variable: "+n.name);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Ut;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return Hx(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return Ut;if(this.stepCount%Kd===Gx&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new cr("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);Du(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(an(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(an(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Ut}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(ip(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):Ut}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Ut}case"for":{if(r.times){const n=await this._eval(r.times,e);Oe(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Oe(n),Oe(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:De(d)}]])));if(_.type==="break")break;if(_.type==="return")return _}}return Ut}case"each":{const n=await this._eval(r.items,e);Yo(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return Ut}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),Ut}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),Ut}case"addAssign":{const n=await this._eval(r.dest,e);Oe(n);const h=await this._eval(r.expr,e);return Oe(h),await this.assign(e,r.dest,De(n.value+h.value)),Ut}case"subAssign":{const n=await this._eval(r.dest,e);Oe(n);const h=await this._eval(r.expr,e);return Oe(h),await this.assign(e,r.dest,De(n.value-h.value)),Ut}case"null":return Ut;case"bool":return mo(r.value);case"num":return De(r.value);case"str":return Xt(r.value);case"arr":return Kr(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return Ic(n)}case"prop":{const n=await this._eval(r.target,e);return xh(n)?n.value.has(r.name)?n.value.get(r.name):Ut:Vx(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(ug(n)){Oe(h);const d=n.value[h.value];if(d===void 0)throw new lg(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(xh(n))return Wr(h),n.value.has(h.value)?n.value.get(h.value):Ut;throw new cr(`Cannot read prop (${ef(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return an(n),mo(!n.value)}case"fn":return jx(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return mo(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=ef(d)}return Xt(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),Rx(n)}case"break":return this.log("block:break",{scope:e.name}),Dx();case"continue":return this.log("block:continue",{scope:e.name}),Lx();case"ns":return Ut;case"meta":return Ut;case"and":{const n=await this._eval(r.left,e);if(an(n),n.value){const h=await this._eval(r.right,e);return an(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(an(n),n.value)return n;{const h=await this._eval(r.right,e);return an(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=Ut;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(ug(h)){if(Oe(d),h.value[d.value]===void 0)throw new lg(`Index out of range. index: ${d.value} max: ${h.value.length-1}`);h.value[d.value]=n}else if(xh(h))Wr(d),h.value.set(d.value,n);else throw new cr(`Cannot read prop (${ef(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);Ri(h),h.value.set(e.name,n)}else throw new cr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};pn([Dr],Bs.prototype,"exec",null);pn([Dr],Bs.prototype,"execFn",null);pn([Dr],Bs.prototype,"execFnSimple",null);pn([Dr],Bs.prototype,"handleError",null);pn([Dr],Bs.prototype,"log",null);pn([Dr],Bs.prototype,"collectNs",null);pn([Dr],Bs.prototype,"collectNsMember",null);pn([Dr],Bs.prototype,"_fn",null);pn([Dr],Bs.prototype,"_eval",null);pn([Dr],Bs.prototype,"_run",null);pn([Dr],Bs.prototype,"registerAbortHandler",null);pn([Dr],Bs.prototype,"unregisterAbortHandler",null);pn([Dr],Bs.prototype,"abort",null);pn([Dr],Bs.prototype,"assign",null);pn([Dr],Bs,"collectMetadata",null);function Jx(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function $o(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,$o.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}Jx($o,Error);function bh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}$o.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+d.line+":"+d.column;if(e){var C=this.location.end,M=bh("",d.line.toString().length," "),F=e[h.line-1],O=h.line===C.line?C.column:F.length+1,D=O-h.column||1;r+=`
 --> `+_+`
`+M+` |
`+d.line+" | "+F+`
`+M+" | "+bh("",h.column-1," ")+bh("",D,"^")}else r+=`
 at `+_}return r};$o.buildMessage=function(t,r){var e={literal:function(F){return'"'+h(F.text)+'"'},class:function(F){var O=F.parts.map(function(D){return Array.isArray(D)?d(D[0])+"-"+d(D[1]):d(D)});return"["+(F.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};function n(F){return F.charCodeAt(0).toString(16).toUpperCase()}function h(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function d(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function _(F){return e[F.type](F)}function C(F){var O=F.map(_),D,q;if(O.sort(),O.length>0){for(D=1,q=1;D<O.length;D++)O[D-1]!==O[D]&&(O[q]=O[D],q++);O.length=q}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}function M(F){return F?'"'+h(F)+'"':"end of input"}return"Expected "+C(t)+" but "+M(r)+" found."};function fg(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:Rn,Main:Zr},d=Rn,_="//",C="/*",M="*/",F="(",O=")",D="::",q="{",Q="}",ye="###",ue="let",pe=":",Fe="=",W="var",z="<:",G="#[",J="]",Z="each",ee=",",se="for",ne="return",Se="loop",je="break",_e="continue",Xe="+=",pt="-=",ar="\\",vt="||",ft="&&",ze="==",ct="!=",Lt="<=",Kt=">=",lt="<",Hr=">",rr="+",_r="-",Dt="*",mr="^",Br="/",$r="%",Cr="!",zt="[",pr=".",V="if",te="elif",ie="else",de="match",le="=>",ke="eval",Ne="exists",Ae="`",Ce='"',we="'",Ke='\\"',Qe="\\'",Ge="true",Je="false",rt="null",ht=";",At="@",Et="@(",_t=`\r
`,bt=/^[A-Z0-9_:]/i,qs=/^[^`{]/,zr=/^[{}`]/,Vr=/^[+\-]/,gt=/^[1-9]/,Ft=/^[0-9]/,gn=/^[A-Z_]/i,Gr=/^[A-Z0-9_]/i,Bi=/^[\r\n]/,Ui=/^[ \t\r\n]/,ir=/^[ \t]/,Vt=Ms(),_s=fe("//",!1),Sn=fe("/*",!1),Wt=fe("*/",!1),$t=fe("(",!1),Pr=fe(")",!1),sr=fe("::",!1),tt=fe("{",!1),Ht=fe("}",!1),rs=fe("###",!1),Nt=fe("let",!1),Ot=fe(":",!1),Jr=fe("=",!1),mi=fe("var",!1),gs=fe("<:",!1),os=fe("#[",!1),ds=fe("]",!1),dt=fe("each",!1),Mt=fe(",",!1),Ks=fe("for",!1),xr=fe("return",!1),br=Gt([["A","Z"],["0","9"],"_",":"],!1,!0),qi=fe("loop",!1),$i=fe("break",!1),Ki=fe("continue",!1),zi=fe("+=",!1),Na=fe("-=",!1),Oa=fe("\\",!1),Vi=fe("||",!1),Wi=fe("&&",!1),Gi=fe("==",!1),Ji=fe("!=",!1),Ta=fe("<=",!1),Fn=fe(">=",!1),Nn=fe("<",!1),Ia=fe(">",!1),Zi=fe("+",!1),ja=fe("-",!1),dn=fe("*",!1),Qi=fe("^",!1),Xi=fe("/",!1),Yi=fe("%",!1),Cs=fe("!",!1),ys=fe("[",!1),On=fe(".",!1),aa=fe("if",!1),ia=fe("elif",!1),el=fe("else",!1),zs=fe("match",!1),fs=fe("=>",!1),Ps=fe("eval",!1),cs=fe("exists",!1),Vs=fe("`",!1),Ws=Gt(["`","{"],!0,!1),Gs=Gt(["{","}","`"],!1,!1),hs=fe('"',!1),Js=fe("'",!1),ks=fe('\\"',!1),Ra=fe("\\'",!1),Bt=Gt(["+","-"],!1,!1),Da=Gt([["1","9"]],!1,!1),lr=Gt([["0","9"]],!1,!1),tl=fe("true",!1),Zs=fe("false",!1),rl=fe("null",!1),ws=fe(";",!1),sl=fe("@",!1),Tn=fe("@(",!1),nl=Gt([["A","Z"],"_"],!1,!0),La=Gt([["A","Z"],["0","9"],"_"],!1,!0),al=fe(`\r
`,!1),il=Gt(["\r",`
`],!1,!1),xi=Gt([" ","	","\r",`
`],!1,!1),ll=Gt([" ","	"],!1,!1),bi=function(s){return s.join("")},ul=function(){return ae()},Ai=function(){return ae()},ol=function(){return""},Ha=function(){return""},fl=function(s){return s??[]},In=function(s,u){return u},cl=function(s,u){return[s,...u]},jn=function(s,u){return u},hl=function(s,u){return[s,...u]},Ba=function(s,u){return u},pl=function(s,u){return[s,...u]},vl=function(s){return s},gl=function(s,u){return c("ns",{name:s,members:u})},dl=function(s,u){return c("meta",{name:s,value:u})},yl=function(s){return c("meta",{name:null,value:s})},wl=function(s,u,p){return c("def",{name:s,varType:u,expr:p,mut:!1,attr:[]})},ml=function(s,u,p){return c("def",{name:s,varType:u,expr:p,mut:!0,attr:[]})},$l=function(s){return c("identifier",{name:"print",chain:[c("callChain",{args:[s]})]})},xl=function(s,u){return c("attr",{name:s,value:u??c("bool",{value:!0})})},bl=function(s,u,p){return c("each",{var:s,items:u,for:p})},Al=function(s,u,p){return c("each",{var:s,items:u,for:p})},_l=function(s,u){return u},Cl=function(s,u,p,f){return c("for",{var:s,from:u??c("num",{value:0}),to:p,for:f})},Pl=function(s,u){return u},_i=function(s,u,p,f){return c("for",{var:s,from:u??c("num",{value:0}),to:p,for:f})},kl=function(s,u){return c("for",{times:s,for:u})},El=function(s,u){return c("for",{times:s,for:u})},Ml=function(s){return c("return",{expr:s})},Sl=function(s){return c("loop",{statements:s})},Fl=function(){return c("break",{})},la=function(){return c("continue",{})},Nl=function(s,u,p){return u==="+="?c("addAssign",{dest:s,expr:p}):u==="-="?c("subAssign",{dest:s,expr:p}):c("assign",{dest:s,expr:p})},Ua=function(s,u,p){return{op:u,term:p}},Ol=function(s,u){return c("infix",{operands:[s,...u.map(p=>p.term)],operators:u.map(p=>p.op)})},Tl=function(){return ae()},Il=function(s){return c("not",{expr:s})},qa=function(s,u){return s.chain?{...s,chain:[...s.chain,...u]}:{...s,chain:u}},jl=function(s){return c("callChain",{args:s??[]})},ua=function(s,u){return u},Rl=function(s,u){return[s,...u]},Dl=function(s){return c("indexChain",{index:s})},Ll=function(s){return c("propChain",{name:s})},Hl=function(s,u,p,f){return c("if",{cond:s,then:u,elseif:p??[],else:f})},Bl=function(s,u){return[s,...u]},Ka=function(s,u){return{cond:s,then:u}},Ci=function(s){return s},za=function(s,u,p){return{q:u,a:p}},Pi=function(s,u,p){return c("match",{about:s,qs:u??[],default:p})},Ul=function(s){return c("block",{statements:s})},ql=function(s){return c("exists",{identifier:s})},Va=function(s){return c("identifier",{name:s})},Kl=function(s){return c("tmpl",{tmpl:s})},Wa=function(s){return s.join("")},Ga=function(s){return s},zl=function(s){return c("str",{value:s.join("")})},Ja=function(s){return s},Vl=function(s){return c("str",{value:s.join("")})},Wl=function(){return'"'},ki=function(){return"'"},Gl=function(){return c("num",{value:parseFloat(ae())})},Ei=function(){return c("num",{value:parseFloat(ae())})},Jl=function(){return c("num",{value:parseInt(ae(),10)})},Zl=function(){return c("num",{value:parseInt(ae(),10)})},Za=function(){return c("bool",{value:!0})},Ql=function(){return c("bool",{value:!1})},Qa=function(){return c("null",{})},oa=function(s,u){return{k:s,v:u}},Xl=function(s){const u=new Map;for(const p of s)u.set(p.k,p.v);return c("obj",{value:u})},fa=function(s){return s},Yl=function(s){return c("arr",{value:s})},eu=function(s,u){return{name:s,argType:u}},Xa=function(s,u){return[s,...u]},tu=function(s,u,p,f,g,v){return(s.length>0||p.length>0)&&su("Cannot use spaces before or after the function name."),c("def",{name:u,expr:c("fn",{args:f??[],retType:g},v??[]),mut:!1,attr:[]})},Ya=function(s,u,p){return c("fn",{args:s??[],retType:u},p??[])},ei=function(s){return s},ru=function(s){return c("arr",{value:s})},ti=function(s,u){return{k:s,v:u}},$=function(s){const u=new Map;for(const p of s)u.set(p.k,p.v);return c("obj",{value:u})},be=function(s,u){return c("fnTypeSource",{args:s??[],result:u})},yn=function(s,u){return[s,...u]},ss=function(s,u){return c("namedTypeSource",{name:s,inner:u})},ca=function(s){return c("namedTypeSource",{name:s,inner:null})},i=function(){return ae()},R=function(){return ae()},ns=function(s){return c("block",{statements:s??[]})},l=0,Y=0,S=[{line:1,column:1}],j=0,nr=[],E=0,H={},Es;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function ae(){return t.substring(Y,l)}function X(){return Qs(Y,l)}function su(s,u){throw u=u!==void 0?u:Qs(Y,l),Xs(s,u)}function fe(s,u){return{type:"literal",text:s,ignoreCase:u}}function Gt(s,u,p){return{type:"class",parts:s,inverted:u,ignoreCase:p}}function Ms(){return{type:"any"}}function I(){return{type:"end"}}function ri(s){var u=S[s],p;if(u)return u;for(p=s-1;!S[p];)p--;for(u=S[p],u={line:u.line,column:u.column};p<s;)t.charCodeAt(p)===10?(u.line++,u.column=1):u.column++,p++;return S[s]=u,u}function Qs(s,u,p){var f=ri(s),g=ri(u),v={source:n,start:{offset:s,line:f.line,column:f.column},end:{offset:u,line:g.line,column:g.column}};return p&&n&&typeof n.offset=="function"&&(v.start=n.offset(v.start),v.end=n.offset(v.end)),v}function T(s){l<j||(l>j&&(j=l,nr=[]),nr.push(s))}function Xs(s,u){return new $o(s,null,null,u)}function si(s,u,p){return new $o($o.buildMessage(s,u),s,u,p)}function Rn(){var s,u,p,f=l*77+0,g=H[f];if(g)return l=g.nextPos,g.result;for(s=l,u=[],p=Ys();p!==e;)u.push(p),p=Ys();return Y=s,u=bi(u),s=u,H[f]={nextPos:l,result:s},s}function Ys(){var s,u,p=l*77+1,f=H[p];return f?(l=f.nextPos,f.result):(s=l,u=en(),u!==e&&(Y=s,u=ul()),s=u,s===e&&(s=l,u=Un(),u!==e&&(Y=s,u=Ai()),s=u,s===e&&(s=St(),s===e&&(t.length>l?(s=t.charAt(l),l++):(s=e,E===0&&T(Vt))))),H[p]={nextPos:l,result:s},s)}function St(){var s,u,p,f,g,v,A=l*77+2,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.substr(l,2)===_?(u=_,l+=2):(u=e,E===0&&T(_s)),u!==e){for(p=[],f=l,g=l,E++,v=a(),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,v=a(),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);Y=s,s=ol()}else l=s,s=e;if(s===e)if(s=l,t.substr(l,2)===C?(u=C,l+=2):(u=e,E===0&&T(Sn)),u!==e){for(p=[],f=l,g=l,E++,t.substr(l,2)===M?(v=M,l+=2):(v=e,E===0&&T(Wt)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.substr(l,2)===M?(v=M,l+=2):(v=e,E===0&&T(Wt)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);t.substr(l,2)===M?(f=M,l+=2):(f=e,E===0&&T(Wt)),f!==e?(Y=s,s=Ha()):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Zr(){var s,u,p,f,g,v=l*77+3,A=H[v];if(A)return l=A.nextPos,A.result;for(s=l,u=[],p=o();p!==e;)u.push(p),p=o();for(p=wn(),p===e&&(p=null),f=[],g=o();g!==e;)f.push(g),g=o();return Y=s,s=fl(p),H[v]={nextPos:l,result:s},s}function wn(){var s,u,p,f,g,v,A,x,k=l*77+4,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=We(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=We(),x!==e?(Y=f,f=In(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=We(),x!==e?(Y=f,f=In(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=cl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function as(){var s,u,p,f,g,v,A,x,k=l*77+5,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=Qr(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=Qr(),x!==e?(Y=f,f=jn(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=Qr(),x!==e?(Y=f,f=jn(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=hl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function vr(){var s,u,p,f,g,v,A,x,k=l*77+6,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=is(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=is(),x!==e?(Y=f,f=Ba(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=is(),x!==e?(Y=f,f=Ba(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=pl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function We(){var s,u=l*77+7,p=H[u];return p?(l=p.nextPos,p.result):(s=ai(),s===e&&(s=nu(),s===e&&(s=is())),H[u]={nextPos:l,result:s},s)}function Qr(){var s,u=l*77+8,p=H[u];return p?(l=p.nextPos,p.result):(s=ii(),s===e&&(s=nt(),s===e&&(s=ai())),H[u]={nextPos:l,result:s},s)}function is(){var s,u=l*77+9,p=H[u];return p?(l=p.nextPos,p.result):(s=ii(),s===e&&(s=nt(),s===e&&(s=au(),s===e&&(s=lu(),s===e&&(s=iu(),s===e&&(s=Ss(),s===e&&(s=Mi(),s===e&&(s=uu(),s===e&&(s=Si(),s===e&&(s=Nr(),s===e&&(s=ha(),s===e&&(s=qe()))))))))))),H[u]={nextPos:l,result:s},s)}function qe(){var s,u=l*77+10,p=H[u];return p?(l=p.nextPos,p.result):(s=Fi(),s===e&&(s=ms()),H[u]={nextPos:l,result:s},s)}function ms(){var s,u=l*77+11,p=H[u];return p?(l=p.nextPos,p.result):(s=Ni(),s===e&&(s=pu(),s===e&&(s=ui(),s===e&&(s=ni()))),H[u]={nextPos:l,result:s},s)}function ni(){var s,u,p,f,g,v,A=l*77+12,x=H[A];if(x)return l=x.nextPos,x.result;if(s=Hn(),s===e&&(s=pa(),s===e&&(s=va(),s===e&&(s=en(),s===e&&(s=Un(),s===e&&(s=ci(),s===e&&(s=wa(),s===e&&(s=zn(),s===e&&(s=Xr(),s===e&&(s=hu(),s===e&&(s=li(),s===e&&(s=ga(),s===e))))))))))))if(s=l,t.charCodeAt(l)===40?(u=F,l++):(u=e,E===0&&T($t)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=qe(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e?(Y=s,s=vl(f)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fr(){var s,u=l*77+13,p=H[u];return p?(l=p.nextPos,p.result):(s=ci(),s===e&&(s=Un(),s===e&&(s=wa(),s===e&&(s=xn(),s===e&&(s=Yr(),s===e&&(s=zn()))))),H[u]={nextPos:l,result:s},s)}function ai(){var s,u,p,f,g,v,A,x,k,N,L=l*77+14,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===D?(u=D,l+=2):(u=e,E===0&&T(sr)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(t.charCodeAt(l)===123?(v=q,l++):(v=e,E===0&&T(tt)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(x=as(),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();t.charCodeAt(l)===125?(N=Q,l++):(N=e,E===0&&T(Ht)),N!==e?(Y=s,s=gl(f,x)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function nu(){var s,u,p,f,g,v,A=l*77+15,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.substr(l,3)===ye?(u=ye,l+=3):(u=e,E===0&&T(rs)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=ge(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();v=Fr(),v!==e?(Y=s,s=dl(f,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===ye?(u=ye,l+=3):(u=e,E===0&&T(rs)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();f=Fr(),f!==e?(Y=s,s=yl(f)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ii(){var s,u,p,f,g,v,A,x,k,N=l*77+16,L=H[N];if(L)return l=L.nextPos,L.result;if(s=l,t.substr(l,3)===ue?(u=ue,l+=3):(u=e,E===0&&T(Nt)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===58?(A=pe,l++):(A=e,E===0&&T(Ot)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=Ve(),k!==e?g=k:(l=g,g=e)}else l=g,g=e;for(g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===61?(A=Fe,l++):(A=e,E===0&&T(Jr)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=qe(),k!==e?(Y=s,s=wl(f,g,k)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===W?(u=W,l+=3):(u=e,E===0&&T(mi)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===58?(A=pe,l++):(A=e,E===0&&T(Ot)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=Ve(),k!==e?g=k:(l=g,g=e)}else l=g,g=e;for(g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===61?(A=Fe,l++):(A=e,E===0&&T(Jr)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=qe(),k!==e?(Y=s,s=ml(f,g,k)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[N]={nextPos:l,result:s},s}function au(){var s,u,p,f,g=l*77+17,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,t.substr(l,2)===z?(u=z,l+=2):(u=e,E===0&&T(gs)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();f=qe(),f!==e?(Y=s,s=$l(f)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function iu(){var s,u,p,f,g,v,A,x=l*77+18,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,t.substr(l,2)===G?(u=G,l+=2):(u=e,E===0&&T(os)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();for(A=Fr(),A!==e?g=A:(l=g,g=e),g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();t.charCodeAt(l)===93?(A=J,l++):(A=e,E===0&&T(ds)),A!==e?(Y=s,s=xl(f,g)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[x]={nextPos:l,result:s},s}function Ss(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+19,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.substr(l,4)===Z?(u=Z,l+=4):(u=e,E===0&&T(dt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(t.substr(l,3)===ue?(g=ue,l+=3):(g=e,E===0&&T(Nt)),g!==e){if(v=[],A=o(),A!==e)for(;A!==e;)v.push(A),A=o();else v=e;if(v!==e)if(A=ge(),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();for(t.charCodeAt(l)===44?(k=ee,l++):(k=e,E===0&&T(Mt)),k===e&&(k=null),N=[],L=o();L!==e;)N.push(L),L=o();if(L=qe(),L!==e)if(t.charCodeAt(l)===41?(K=O,l++):(K=e,E===0&&T(Pr)),K!==e){for(re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Pe=P(),Pe!==e?(Y=s,s=bl(A,L,Pe)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,4)===Z?(u=Z,l+=4):(u=e,E===0&&T(dt)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(t.substr(l,3)===ue?(f=ue,l+=3):(f=e,E===0&&T(Nt)),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();if(N=qe(),N!==e){if(L=[],K=o(),K!==e)for(;K!==e;)L.push(K),K=o();else L=e;L!==e?(K=P(),K!==e?(Y=s,s=Al(v,N,K)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function Mi(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at=l*77+20,it=H[at];if(it)return l=it.nextPos,it.result;if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(t.substr(l,3)===ue?(g=ue,l+=3):(g=e,E===0&&T(Nt)),g!==e){if(v=[],A=o(),A!==e)for(;A!==e;)v.push(A),A=o();else v=e;if(v!==e)if(A=ge(),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();if(k=l,t.charCodeAt(l)===61?(N=Fe,l++):(N=e,E===0&&T(Jr)),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();K=qe(),K!==e?(Y=k,k=_l(A,K)):(l=k,k=e)}else l=k,k=e;for(k===e&&(k=null),t.charCodeAt(l)===44?(N=ee,l++):(N=e,E===0&&T(Mt)),N===e&&(N=null),L=[],K=o();K!==e;)L.push(K),K=o();if(K=qe(),K!==e)if(t.charCodeAt(l)===41?(re=O,l++):(re=e,E===0&&T(Pr)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();oe=P(),oe!==e?(Y=s,s=Cl(A,k,K,oe)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(t.substr(l,3)===ue?(f=ue,l+=3):(f=e,E===0&&T(Nt)),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(x=l,t.charCodeAt(l)===61?(k=Fe,l++):(k=e,E===0&&T(Jr)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();L=qe(),L!==e?(Y=x,x=Pl(v,L)):(l=x,x=e)}else l=x,x=e;for(x===e&&(x=null),t.charCodeAt(l)===44?(k=ee,l++):(k=e,E===0&&T(Mt)),k===e&&(k=null),N=[],L=o();L!==e;)N.push(L),L=o();if(L=qe(),L!==e){if(K=[],re=o(),re!==e)for(;re!==e;)K.push(re),re=o();else K=e;K!==e?(re=P(),re!==e?(Y=s,s=_i(v,x,L,re)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(g=qe(),g!==e)if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=P(),x!==e?(Y=s,s=kl(g,x)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=qe(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;g!==e?(v=P(),v!==e?(Y=s,s=El(f,v)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e}}return H[at]={nextPos:l,result:s},s}function lu(){var s,u,p,f,g,v=l*77+21,A=H[v];if(A)return l=A.nextPos,A.result;if(s=l,t.substr(l,6)===ne?(u=ne,l+=6):(u=e,E===0&&T(xr)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();g=qe(),g!==e?(Y=s,s=Ml(g)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[v]={nextPos:l,result:s},s}function uu(){var s,u,p,f,g,v,A,x,k=l*77+22,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,t.substr(l,4)===Se?(u=Se,l+=4):(u=e,E===0&&T(qi)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===123?(f=q,l++):(f=e,E===0&&T(tt)),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();if(v=vr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();t.charCodeAt(l)===125?(x=Q,l++):(x=e,E===0&&T(Ht)),x!==e?(Y=s,s=Sl(v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function Si(){var s,u,p,f,g=l*77+23,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,5)===je?(u=je,l+=5):(u=e,E===0&&T($i)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Fl()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Nr(){var s,u,p,f,g=l*77+24,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,8)===_e?(u=_e,l+=8):(u=e,E===0&&T(Ki)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=la()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function ha(){var s,u,p,f,g,v,A=l*77+25,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=qe(),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.substr(l,2)===Xe?(f=Xe,l+=2):(f=e,E===0&&T(zi)),f===e&&(t.substr(l,2)===pt?(f=pt,l+=2):(f=e,E===0&&T(Na)),f===e&&(t.charCodeAt(l)===61?(f=Fe,l++):(f=e,E===0&&T(Jr)))),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();v=qe(),v!==e?(Y=s,s=Nl(u,f,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fi(){var s,u,p,f,g,v,A,x,k=l*77+26,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=ms(),u!==e){for(p=[],f=l,g=[],v=Or();v!==e;)g.push(v),v=Or();if(v=Dn(),v!==e){for(A=[],x=Or();x!==e;)A.push(x),x=Or();x=ms(),x!==e?(Y=f,f=Ua(u,v,x)):(l=f,f=e)}else l=f,f=e;if(f!==e)for(;f!==e;){for(p.push(f),f=l,g=[],v=Or();v!==e;)g.push(v),v=Or();if(v=Dn(),v!==e){for(A=[],x=Or();x!==e;)A.push(x),x=Or();x=ms(),x!==e?(Y=f,f=Ua(u,v,x)):(l=f,f=e)}else l=f,f=e}else p=e;p!==e?(Y=s,s=Ol(u,p)):(l=s,s=e)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function Or(){var s,u,p,f=l*77+27,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===92?(u=ar,l++):(u=e,E===0&&T(Oa)),u!==e?(p=b(),p!==e?(u=[u,p],s=u):(l=s,s=e)):(l=s,s=e),s===e&&(s=w()),H[f]={nextPos:l,result:s},s)}function Dn(){var s,u,p=l*77+28,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===vt?(u=vt,l+=2):(u=e,E===0&&T(Vi)),u===e&&(t.substr(l,2)===ft?(u=ft,l+=2):(u=e,E===0&&T(Wi)),u===e&&(t.substr(l,2)===ze?(u=ze,l+=2):(u=e,E===0&&T(Gi)),u===e&&(t.substr(l,2)===ct?(u=ct,l+=2):(u=e,E===0&&T(Ji)),u===e&&(t.substr(l,2)===Lt?(u=Lt,l+=2):(u=e,E===0&&T(Ta)),u===e&&(t.substr(l,2)===Kt?(u=Kt,l+=2):(u=e,E===0&&T(Fn)),u===e&&(t.charCodeAt(l)===60?(u=lt,l++):(u=e,E===0&&T(Nn)),u===e&&(t.charCodeAt(l)===62?(u=Hr,l++):(u=e,E===0&&T(Ia)),u===e&&(t.charCodeAt(l)===43?(u=rr,l++):(u=e,E===0&&T(Zi)),u===e&&(t.charCodeAt(l)===45?(u=_r,l++):(u=e,E===0&&T(ja)),u===e&&(t.charCodeAt(l)===42?(u=Dt,l++):(u=e,E===0&&T(dn)),u===e&&(t.charCodeAt(l)===94?(u=mr,l++):(u=e,E===0&&T(Qi)),u===e&&(t.charCodeAt(l)===47?(u=Br,l++):(u=e,E===0&&T(Xi)),u===e&&(t.charCodeAt(l)===37?(u=$r,l++):(u=e,E===0&&T(Yi))))))))))))))),u!==e&&(Y=s,u=Tl()),s=u,H[p]={nextPos:l,result:s},s)}function li(){var s,u,p,f=l*77+29,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===33?(u=Cr,l++):(u=e,E===0&&T(Cs)),u!==e?(p=qe(),p!==e?(Y=s,s=Il(p)):(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function ui(){var s,u,p,f,g=l*77+30,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,u=ni(),u!==e){if(p=[],f=Ln(),f===e&&(f=oi(),f===e&&(f=Fs())),f!==e)for(;f!==e;)p.push(f),f=Ln(),f===e&&(f=oi(),f===e&&(f=Fs()));else p=e;p!==e?(Y=s,s=qa(u,p)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function Ln(){var s,u,p,f,g,v,A=l*77+31,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===40?(u=F,l++):(u=e,E===0&&T($t)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=ou(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e?(Y=s,s=jl(f)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ou(){var s,u,p,f,g,v,A=l*77+32,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=qe(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=qe(),v!==e?(Y=f,f=ua(u,v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=qe(),v!==e?(Y=f,f=ua(u,v)):(l=f,f=e)):(l=f,f=e);Y=s,s=Rl(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function oi(){var s,u,p,f,g,v,A=l*77+33,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=qe(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=Dl(f)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fs(){var s,u,p,f=l*77+34,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===46?(u=pr,l++):(u=e,E===0&&T(On)),u!==e?(p=ge(),p!==e?(Y=s,s=Ll(p)):(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function Ni(){var s,u,p,f,g,v,A,x,k,N,L=l*77+35,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===V?(u=V,l+=2):(u=e,E===0&&T(aa)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=qe(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=P(),v!==e){if(A=l,x=[],k=o(),k!==e)for(;k!==e;)x.push(k),k=o();else x=e;if(x!==e?(k=Oi(),k!==e?A=k:(l=A,A=e)):(l=A,A=e),A===e&&(A=null),x=l,k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;k!==e?(N=fu(),N!==e?x=N:(l=x,x=e)):(l=x,x=e),x===e&&(x=null),Y=s,s=Hl(f,v,A,x)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Oi(){var s,u,p,f,g,v,A=l*77+36,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=mn(),u!==e){for(p=[],f=l,g=[],v=o();v!==e;)g.push(v),v=o();for(v=mn(),v!==e?f=v:(l=f,f=e);f!==e;){for(p.push(f),f=l,g=[],v=o();v!==e;)g.push(v),v=o();v=mn(),v!==e?f=v:(l=f,f=e)}Y=s,s=Bl(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function mn(){var s,u,p,f,g,v,A,x=l*77+37,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,t.substr(l,4)===te?(u=te,l+=4):(u=e,E===0&&T(ia)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();if(g=qe(),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();A=P(),A!==e?(Y=s,s=Ka(g,A)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e;return H[x]={nextPos:l,result:s},s}function fu(){var s,u,p,f,g,v=l*77+38,A=H[v];if(A)return l=A.nextPos,A.result;if(s=l,t.substr(l,4)===ie?(u=ie,l+=4):(u=e,E===0&&T(el)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();g=P(),g!==e?(Y=s,s=Ci(g)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[v]={nextPos:l,result:s},s}function Hn(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at,it,vi=l*77+39,tn=H[vi];if(tn)return l=tn.nextPos,tn.result;if(s=l,t.substr(l,5)===de?(u=de,l+=5):(u=e,E===0&&T(zs)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();if(g=qe(),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===123?(A=q,l++):(A=e,E===0&&T(tt)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();if(k=[],N=l,L=qe(),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();Y=N,N=za(g,L,oe)}else l=N,N=e}else l=N,N=e}else l=N,N=e;if(N!==e)for(;N!==e;)if(k.push(N),N=l,L=qe(),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();Y=N,N=za(g,L,oe)}else l=N,N=e}else l=N,N=e}else l=N,N=e;else k=e;if(k!==e){if(N=l,t.charCodeAt(l)===42?(L=Dt,l++):(L=e,E===0&&T(dn)),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();N=oe}else l=N,N=e}else l=N,N=e}else l=N,N=e;for(N===e&&(N=null),L=[],K=o();K!==e;)L.push(K),K=o();t.charCodeAt(l)===125?(K=Q,l++):(K=e,E===0&&T(Ht)),K!==e?(Y=s,s=Pi(g,k,N)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e;else l=s,s=e;return H[vi]={nextPos:l,result:s},s}function pa(){var s,u,p,f,g,v,A,x,k=l*77+40,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,t.substr(l,4)===ke?(u=ke,l+=4):(u=e,E===0&&T(Ps)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===123?(f=q,l++):(f=e,E===0&&T(tt)),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();if(v=vr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();t.charCodeAt(l)===125?(x=Q,l++):(x=e,E===0&&T(Ht)),x!==e?(Y=s,s=Ul(v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function va(){var s,u,p,f,g=l*77+41,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,t.substr(l,6)===Ne?(u=Ne,l+=6):(u=e,E===0&&T(cs)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;p!==e?(f=ga(),f!==e?(Y=s,s=ql(f)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function ga(){var s,u,p=l*77+42,f=H[p];return f?(l=f.nextPos,f.result):(s=l,u=y(),u!==e&&(Y=s,u=Va(u)),s=u,H[p]={nextPos:l,result:s},s)}function en(){var s,u,p,f,g,v,A=l*77+43,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===96?(u=Ae,l++):(u=e,E===0&&T(Vs)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===96?(v=Ae,l++):(v=e,E===0&&T(Vs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=Bn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===96?(v=Ae,l++):(v=e,E===0&&T(Vs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=Bn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===96?(f=Ae,l++):(f=e,E===0&&T(Vs)),f!==e?(Y=s,s=Kl(p)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Bn(){var s,u,p,f,g,v,A=l*77+44,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=qe(),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();t.charCodeAt(l)===125?(v=Q,l++):(v=e,E===0&&T(Ht)),v!==e?s=f:(l=s,s=e)}else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,u=[],p=$n(),p!==e)for(;p!==e;)u.push(p),p=$n();else u=e;u!==e&&(Y=s,u=Wa(u)),s=u}return H[A]={nextPos:l,result:s},s}function $n(){var s,u=l*77+45,p=H[u];return p?(l=p.nextPos,p.result):(s=fi(),s===e&&(qs.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(Ws))),H[u]={nextPos:l,result:s},s)}function fi(){var s,u,p,f=l*77+46,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===92?(u=ar,l++):(u=e,E===0&&T(Oa)),u!==e?(zr.test(t.charAt(l))?(p=t.charAt(l),l++):(p=e,E===0&&T(Gs)),p!==e?s=p:(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function Un(){var s,u,p,f,g,v,A=l*77+47,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===34?(u=Ce,l++):(u=e,E===0&&T(hs)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===34?(v=Ce,l++):(v=e,E===0&&T(hs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=da(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ga(v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===34?(v=Ce,l++):(v=e,E===0&&T(hs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=da(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ga(v)):(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===34?(f=Ce,l++):(f=e,E===0&&T(hs)),f!==e?(Y=s,s=zl(p)):(l=s,s=e)}else l=s,s=e;if(s===e)if(s=l,t.charCodeAt(l)===39?(u=we,l++):(u=e,E===0&&T(Js)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===39?(v=we,l++):(v=e,E===0&&T(Js)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=qn(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ja(v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===39?(v=we,l++):(v=e,E===0&&T(Js)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=qn(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ja(v)):(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===39?(f=we,l++):(f=e,E===0&&T(Js)),f!==e?(Y=s,s=Vl(p)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function da(){var s,u,p=l*77+48,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===Ke?(u=Ke,l+=2):(u=e,E===0&&T(ks)),u!==e&&(Y=s,u=Wl()),s=u,H[p]={nextPos:l,result:s},s)}function qn(){var s,u,p=l*77+49,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===Qe?(u=Qe,l+=2):(u=e,E===0&&T(Ra)),u!==e&&(Y=s,u=ki()),s=u,H[p]={nextPos:l,result:s},s)}function ci(){var s,u=l*77+50,p=H[u];return p?(l=p.nextPos,p.result):(s=hi(),s===e&&(s=ya()),H[u]={nextPos:l,result:s},s)}function hi(){var s,u,p,f,g,v,A=l*77+51,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),gt.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(Da)),u!==e){if(p=[],Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr)),f!==e)for(;f!==e;)p.push(f),Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr));else p=e;if(p!==e)if(t.charCodeAt(l)===46?(f=pr,l++):(f=e,E===0&&T(On)),f!==e){if(g=[],Ft.test(t.charAt(l))?(v=t.charAt(l),l++):(v=e,E===0&&T(lr)),v!==e)for(;v!==e;)g.push(v),Ft.test(t.charAt(l))?(v=t.charAt(l),l++):(v=e,E===0&&T(lr));else g=e;g!==e?(Y=s,s=Gl()):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),Ft.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(lr)),u!==e)if(t.charCodeAt(l)===46?(p=pr,l++):(p=e,E===0&&T(On)),p!==e){if(f=[],Ft.test(t.charAt(l))?(g=t.charAt(l),l++):(g=e,E===0&&T(lr)),g!==e)for(;g!==e;)f.push(g),Ft.test(t.charAt(l))?(g=t.charAt(l),l++):(g=e,E===0&&T(lr));else f=e;f!==e?(Y=s,s=Ei()):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ya(){var s,u,p,f,g=l*77+52,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),gt.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(Da)),u!==e){if(p=[],Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr)),f!==e)for(;f!==e;)p.push(f),Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr));else p=e;p!==e?(Y=s,s=Jl()):(l=s,s=e)}else l=s,s=e;return s===e&&(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),Ft.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(lr)),u!==e?(Y=s,s=Zl()):(l=s,s=e)),H[g]={nextPos:l,result:s},s}function wa(){var s,u=l*77+53,p=H[u];return p?(l=p.nextPos,p.result):(s=cu(),s===e&&(s=Kn()),H[u]={nextPos:l,result:s},s)}function cu(){var s,u,p,f,g=l*77+54,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,4)===Ge?(u=Ge,l+=4):(u=e,E===0&&T(tl)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Za()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Kn(){var s,u,p,f,g=l*77+55,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,5)===Je?(u=Je,l+=5):(u=e,E===0&&T(Zs)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Ql()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function zn(){var s,u,p,f,g=l*77+56,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,4)===rt?(u=rt,l+=4):(u=e,E===0&&T(rl)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Qa()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Xr(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+57,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=qe(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=oa(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=qe(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=oa(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;t.charCodeAt(l)===125?(g=Q,l++):(g=e,E===0&&T(Ht)),g!==e?(Y=s,s=Xl(f)):(l=s,s=e)}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function hu(){var s,u,p,f,g,v,A,x,k,N,L=l*77+58,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=qe(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=fa(v)}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=qe(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=fa(v)}else l=g,g=e;for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=Yl(f)):(l=s,s=e)}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Vn(){var s,u,p,f,g,v,A,x=l*77+59,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,u=ge(),u!==e){for(p=l,f=[],g=o();g!==e;)f.push(g),g=o();if(t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();A=Ve(),A!==e?p=A:(l=p,p=e)}else l=p,p=e;p===e&&(p=null),Y=s,s=eu(u,p)}else l=s,s=e;return H[x]={nextPos:l,result:s},s}function pi(){var s,u,p,f,g,v,A=l*77+60,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=Vn(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=Vn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=Vn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);Y=s,s=Xa(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function nt(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at,it,vi=l*77+61,tn=H[vi];if(tn)return l=tn.nextPos,tn.result;if(s=l,t.charCodeAt(l)===64?(u=At,l++):(u=e,E===0&&T(sl)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=ge(),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();if(t.charCodeAt(l)===40?(v=F,l++):(v=e,E===0&&T($t)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(x=pi(),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();if(t.charCodeAt(l)===41?(N=O,l++):(N=e,E===0&&T(Pr)),N!==e){for(L=l,K=[],re=o();re!==e;)K.push(re),re=o();if(t.charCodeAt(l)===58?(re=pe,l++):(re=e,E===0&&T(Ot)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();oe=Ve(),oe!==e?L=oe:(l=L,L=e)}else l=L,L=e;for(L===e&&(L=null),K=[],re=o();re!==e;)K.push(re),re=o();if(t.charCodeAt(l)===123?(re=q,l++):(re=e,E===0&&T(tt)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();for(oe=vr(),oe===e&&(oe=null),at=[],it=o();it!==e;)at.push(it),it=o();t.charCodeAt(l)===125?(it=Q,l++):(it=e,E===0&&T(Ht)),it!==e?(Y=s,s=tu(p,f,g,x,L,oe)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[vi]={nextPos:l,result:s},s}function pu(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=l*77+62,oe=H[Pe];if(oe)return l=oe.nextPos,oe.result;if(s=l,t.substr(l,2)===Et?(u=Et,l+=2):(u=e,E===0&&T(Tn)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=pi(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=l,x=[],k=o();k!==e;)x.push(k),k=o();if(t.charCodeAt(l)===58?(k=pe,l++):(k=e,E===0&&T(Ot)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();L=Ve(),L!==e?A=L:(l=A,A=e)}else l=A,A=e;for(A===e&&(A=null),x=[],k=o();k!==e;)x.push(k),k=o();if(t.charCodeAt(l)===123?(k=q,l++):(k=e,E===0&&T(tt)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();for(L=vr(),L===e&&(L=null),K=[],re=o();re!==e;)K.push(re),re=o();t.charCodeAt(l)===125?(re=Q,l++):(re=e,E===0&&T(Ht)),re!==e?(Y=s,s=Ya(f,A,L)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[Pe]={nextPos:l,result:s},s}function xn(){var s,u,p,f,g,v,A,x,k,N,L=l*77+63,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=Fr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=ei(v)}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=Fr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=ei(v)}else l=g,g=e;for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=ru(f)):(l=s,s=e)}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Yr(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+64,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=Fr(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=ti(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=Fr(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=ti(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;t.charCodeAt(l)===125?(g=Q,l++):(g=e,E===0&&T(Ht)),g!==e?(Y=s,s=$(f)):(l=s,s=e)}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function Ve(){var s,u=l*77+65,p=H[u];return p?(l=p.nextPos,p.result):(s=Ti(),s===e&&(s=Ye()),H[u]={nextPos:l,result:s},s)}function Ti(){var s,u,p,f,g,v,A,x,k,N,L=l*77+66,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===Et?(u=Et,l+=2):(u=e,E===0&&T(Tn)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=U(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.substr(l,2)===le?(x=le,l+=2):(x=e,E===0&&T(fs)),x!==e){for(k=[],N=o();N!==e;)k.push(N),N=o();N=Ve(),N!==e?(Y=s,s=be(f,N)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function U(){var s,u,p,f,g,v,A=l*77+67,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=Ve(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=Ve(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=Ve(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);Y=s,s=yn(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Ye(){var s,u,p,f,g,v,A,x,k=l*77+68,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=ge(),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(t.charCodeAt(l)===60?(f=lt,l++):(f=e,E===0&&T(Nn)),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();if(v=Ve(),v!==e){for(A=[],x=w();x!==e;)A.push(x),x=w();t.charCodeAt(l)===62?(x=Hr,l++):(x=e,E===0&&T(Ia)),x!==e?(Y=s,s=ss(u,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return s===e&&(s=l,u=ge(),u!==e&&(Y=s,u=ca(u)),s=u),H[k]={nextPos:l,result:s},s}function ge(){var s,u,p,f,g=l*77+69,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,gn.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(nl)),u!==e){for(p=[],Gr.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(La));f!==e;)p.push(f),Gr.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(La));Y=s,s=i()}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function y(){var s,u,p,f,g,v,A=l*77+70,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=ge(),u!==e){for(p=[],f=l,t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e?(v=ge(),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e?(v=ge(),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);Y=s,s=R()}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function m(){var s,u,p,f,g,v=l*77+71,A=H[v];if(A)return l=A.nextPos,A.result;for(s=l,u=[],p=o();p!==e;)u.push(p),p=o();if(t.charCodeAt(l)===44?(p=ee,l++):(p=e,E===0&&T(Mt)),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();u=[u,p,f],s=u}else l=s,s=e;if(s===e)if(s=[],u=o(),u!==e)for(;u!==e;)s.push(u),u=o();else s=e;return H[v]={nextPos:l,result:s},s}function P(){var s,u,p,f,g,v,A=l*77+72,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=vr(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===125?(v=Q,l++):(v=e,E===0&&T(Ht)),v!==e?(Y=s,s=ns(f)):(l=s,s=e)}else l=s,s=e;return s===e&&(s=is()),H[A]={nextPos:l,result:s},s}function b(){var s,u=l*77+73,p=H[u];return p?(l=p.nextPos,p.result):(t.substr(l,2)===_t?(s=_t,l+=2):(s=e,E===0&&T(al)),s===e&&(Bi.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(il))),H[u]={nextPos:l,result:s},s)}function a(){var s,u,p=l*77+74,f=H[p];return f?(l=f.nextPos,f.result):(s=l,E++,t.length>l?(u=t.charAt(l),l++):(u=e,E===0&&T(Vt)),E--,u===e?s=void 0:(l=s,s=e),s===e&&(s=b()),H[p]={nextPos:l,result:s},s)}function o(){var s,u=l*77+75,p=H[u];return p?(l=p.nextPos,p.result):(Ui.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(xi)),H[u]={nextPos:l,result:s},s)}function w(){var s,u=l*77+76,p=H[u];return p?(l=p.nextPos,p.result):(ir.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(ll)),H[u]={nextPos:l,result:s},s)}function c(s,u,p){const f={type:s};u.children=p;for(const v of Object.keys(u))u[v]!==void 0&&(f[v]=u[v]);const g=X();return f.loc={start:g.start.offset,end:g.end.offset-1},f}if(Es=d(),Es!==e&&l===t.length)return Es;throw Es!==e&&l<t.length&&T(I()),si(nr,j<t.length?t.charAt(j):null,j<t.length?Qs(j,j+1):Qs(j,j))}const Zx=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function Qx(t){return Zx.includes(t.type)}function zd(t){return"chain"in t&&t.chain!==null}function Xx(t,r,e){return{type:"call",target:t,args:r,loc:e}}function Yx(t,r,e){return{type:"index",target:t,index:r,loc:e}}function eb(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function wt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=wt(e.expr,r);break}case"return":{e.expr=wt(e.expr,r);break}case"each":{e.items=wt(e.items,r),e.for=wt(e.for,r);break}case"for":{e.from!=null&&(e.from=wt(e.from,r)),e.to!=null&&(e.to=wt(e.to,r)),e.times!=null&&(e.times=wt(e.times,r)),e.for=wt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=wt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=wt(e.expr,r),e.dest=wt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=wt(e.operands[n],r);break}case"not":{e.expr=wt(e.expr,r);break}case"if":{e.cond=wt(e.cond,r),e.then=wt(e.then,r);for(const n of e.elseif)n.cond=wt(n.cond,r),n.then=wt(n.then,r);e.else!=null&&(e.else=wt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=wt(e.children[n],r);break}case"match":{e.about=wt(e.about,r);for(const n of e.qs)n.q=wt(n.q,r),n.a=wt(n.a,r);e.default!=null&&(e.default=wt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=wt(e.statements[n],r);break}case"exists":{e.identifier=wt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=wt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],wt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=wt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=wt(e.args[n],r);break}case"indexChain":{e.index=wt(e.index,r);break}case"call":{e.target=wt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=wt(e.args[n],r);break}case"index":{e.target=wt(e.target,r),e.index=wt(e.index,r);break}case"prop":{e.target=wt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=wt(e.members[n],r);break}case"or":case"and":{e.left=wt(e.left,r),e.right=wt(e.right,r);break}}if(zd(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=wt(e.chain[n],r);return e}const Ah=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function _h(t){throw new ko(`Reserved word "${t}" cannot be used as variable name.`)}function tb(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Ah.includes(t.name)&&_h(t.name);break}case"meta":{t.name!=null&&Ah.includes(t.name)&&_h(t.name);break}case"fn":{for(const r of t.args)Ah.includes(r.name)&&_h(r.name);break}}return t}function rb(t){for(const r of t)wt(r,tb);return t}function cg(t){return{type:"simple",name:t}}function sb(t,r){return{type:"generic",name:t,inners:r}}function nb(t,r){return{type:"fn",args:t,result:r}}function pc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=pc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>pc(n)).join(", "),e=pc(t.result);return`@(${r}) { ${e} }`}}}function tf(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return cg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=tf(t.inner):r=cg("any"),sb(t.name,[r])}}throw new ko(`Unknown type: '${pc(t)}'`)}else{const r=t.args.map(e=>tf(e));return nb(r,tf(t.result))}}function ab(t){switch(t.type){case"def":{t.varType!=null&&tf(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&tf(r.argType);t.retType!=null&&tf(t.retType);break}}return t}function ib(t){for(const r of t)wt(r,ab);return t}function vc(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=vc(n.expr.children)),r.push(n);else{if(e.length>0)throw new ko("invalid attribute.");switch(n.type){case"fn":{n.children=vc(n.children);break}case"block":{n.statements=vc(n.statements);break}}r.push(n)}if(e.length>0)throw new ko("invalid attribute.");return r}function lb(t){if(Qx(t)&&zd(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=Xx(n,h.args,h.loc);break}case"indexChain":{n=Yx(n,h.index,h.loc);break}case"propChain":{n=eb(n,h.name,h.loc);break}}return n}return t}function ub(t){for(let r=0;r<t.length;r++)t[r]=wt(t[r],lb);return t}function gc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function Vd(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return gc(t,r,e);{const{left:n,right:h,info:d}=t;return gc(n,Vd(h,r,e),d)}}function lo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[lo(t.left),lo(t.right)]}}const ob={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:lo(t.left),right:lo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:lo(t.left),right:lo(t.right)}),priority:3}};function fb(t){const r=t.operators.map(n=>{const h=ob[n];if(h==null)throw new ko(`No such operator: ${n}.`);return h});let e=gc(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=Vd(e,t.operands[2+n],r[1+n]);return lo(e)}function cb(t){for(let r=0;r<t.length;r++)t[r]=wt(t[r],e=>e.type==="infix"?fb(e):e);return t}var du;let hb=(du=class{constructor(){me(this,"plugins");this.plugins={validate:[rb,ib],transform:[vc,ub,cb]}}static parse(r){return du.instance==null&&(du.instance=new du),du.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=fg(r,{startRule:"Preprocess"});e=fg(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new ko(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`,n):new ko(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`,n):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(du,"instance"),du);const pb="0.17.0",vb={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let fp=[],Af=null;function gb(t){return fp=hb.parse(t),JSON.stringify(fp,null,"	")}async function db(t){Af==null||Af.abort(),Af=new Bs({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:lp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:lp(e.val,!0),print:!1});break}}});try{await Af.exec(fp)}catch(r){t.err(r)}}const yb=Object.freeze(Object.defineProperty({__proto__:null,exec:db,parse:gb,samples:vb,version:pb},Symbol.toStringTag,{value:"Module"}));function Lr(t,r,e){let n=e.value;return{configurable:!0,get(){const h=n.bind(this);return Object.defineProperty(this,r,{configurable:!0,writable:!0,value:h}),h},set(h){n=h}}}let th=class Wd extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,Wd)}};class wb extends th{constructor(r){super(`Internal Error. ${r}`,r)}}class Eo extends th{constructor(r,e){super(r,e)}}class hr extends th{constructor(r,e){super(r,e)}}class mb extends hr{constructor(r,e){super(r,e)}}var Zu=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let _u=class Gd{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Gd(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r).value;return this.log("read",{var:r,val:n}),n}throw new hr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(r){for(const e of this.layerdStates)if(e.has(r))return this.log("exists",{var:r}),!0;return this.log("not exists",{var:r}),!1}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new hr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e.value)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){const d=h.get(r);if(!d.isMutable)throw new hr(`Cannot assign to an immutable variable ${r}.`);d.value=e,this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new hr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Zu([Lr],_u.prototype,"log",null);Zu([Lr],_u.prototype,"onUpdated",null);Zu([Lr],_u.prototype,"createChildScope",null);Zu([Lr],_u.prototype,"get",null);Zu([Lr],_u.prototype,"exists",null);Zu([Lr],_u.prototype,"getAll",null);Zu([Lr],_u.prototype,"add",null);Zu([Lr],_u.prototype,"assign",null);const Jt={type:"null"},Ca={type:"bool",value:!0},Jn={type:"bool",value:!1},Be=t=>({type:"num",value:t}),fr=t=>({type:"str",value:t}),xo=t=>({type:"bool",value:t}),tv=t=>({type:"obj",value:t}),Ns=t=>({type:"arr",value:t}),$b=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),$e=t=>({type:"fn",native:t}),xb=t=>({type:"return",value:t}),bb=()=>({type:"break",value:null}),Ab=()=>({type:"continue",value:null}),_b=t=>t.type==="return"?t.value:t,Jd=(t,r)=>({type:"error",value:t,info:r});function Yn(t){if(t==null)throw new hr("Expect anything, but got nothing.")}function ln(t){if(t==null)throw new hr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new hr(`Expect boolean, but got ${t.type}.`)}function Lu(t){if(t==null)throw new hr("Expect function, but got nothing.");if(t.type!=="fn")throw new hr(`Expect function, but got ${t.type}.`)}function es(t){if(t==null)throw new hr("Expect string, but got nothing.");if(t.type!=="str")throw new hr(`Expect string, but got ${t.type}.`)}function Re(t){if(t==null)throw new hr("Expect number, but got nothing.");if(t.type!=="num")throw new hr(`Expect number, but got ${t.type}.`)}function Mu(t){if(t==null)throw new hr("Expect object, but got nothing.");if(t.type!=="obj")throw new hr(`Expect object, but got ${t.type}.`)}function jc(t){if(t==null)throw new hr("Expect array, but got nothing.");if(t.type!=="arr")throw new hr(`Expect array, but got ${t.type}.`)}function Ch(t){return t.type==="obj"}function hg(t){return t.type==="arr"}function cp(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function hp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>hp(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function pp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>pp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=pp(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function vp(t){if(t===null)return Jt;if(typeof t=="boolean")return xo(t);if(typeof t=="string")return fr(t);if(typeof t=="number")return Be(t);if(Array.isArray(t))return Ns(t.map(r=>vp(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,vp(n));return tv(r)}return Jt}function rf(t,r=!1,e=new Set){if((t.type==="arr"||t.type==="obj")&&e.has(t.value))return"...";if(r&&t.type==="str")return'"'+t.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(t.type==="str")return t.value;if(t.type==="num")return t.value.toString();if(t.type==="arr"){e.add(t.value);const n=[];for(const h of t.value)n.push(rf(h,!0,e));return"[ "+n.join(", ")+" ]"}if(t.type==="obj"){e.add(t.value);const n=[];for(const[h,d]of t.value)n.push(`${h}: ${rf(d,!0,e)}`);return"{ "+n.join(", ")+" }"}return t.type==="bool"?t.value.toString():t.type==="null"?"null":t.type==="fn"?`@( ${(t.args??[]).join(", ")} ) { ... }`:"?"}const Cb={help:fr("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":fr("0.16.0"),"Core:ai":fr("kawaii"),"Core:not":$e(([t])=>(ln(t),t.value?Jn:Ca)),"Core:eq":$e(([t,r])=>(Yn(t),Yn(r),cp(t,r)?Ca:Jn)),"Core:neq":$e(([t,r])=>(Yn(t),Yn(r),cp(t,r)?Jn:Ca)),"Core:and":$e(([t,r])=>(ln(t),t.value?(ln(r),r.value?Ca:Jn):Jn)),"Core:or":$e(([t,r])=>(ln(t),t.value?Ca:(ln(r),r.value?Ca:Jn))),"Core:add":$e(([t,r])=>(Re(t),Re(r),Be(t.value+r.value))),"Core:sub":$e(([t,r])=>(Re(t),Re(r),Be(t.value-r.value))),"Core:mul":$e(([t,r])=>(Re(t),Re(r),Be(t.value*r.value))),"Core:pow":$e(([t,r])=>{Re(t),Re(r);const e=t.value**r.value;if(isNaN(e))throw new hr("Invalid operation.");return Be(e)}),"Core:div":$e(([t,r])=>{Re(t),Re(r);const e=t.value/r.value;if(isNaN(e))throw new hr("Invalid operation.");return Be(e)}),"Core:mod":$e(([t,r])=>(Re(t),Re(r),Be(t.value%r.value))),"Core:gt":$e(([t,r])=>(Re(t),Re(r),t.value>r.value?Ca:Jn)),"Core:lt":$e(([t,r])=>(Re(t),Re(r),t.value<r.value?Ca:Jn)),"Core:gteq":$e(([t,r])=>(Re(t),Re(r),t.value>=r.value?Ca:Jn)),"Core:lteq":$e(([t,r])=>(Re(t),Re(r),t.value<=r.value?Ca:Jn)),"Core:type":$e(([t])=>(Yn(t),fr(t.type))),"Core:to_str":$e(([t])=>(Yn(t),fr(rf(t)))),"Core:range":$e(([t,r])=>(Re(t),Re(r),t.value<r.value?Ns(Array.from({length:r.value-t.value+1},(e,n)=>Be(n+t.value))):t.value>r.value?Ns(Array.from({length:t.value-r.value+1},(e,n)=>Be(t.value-n))):Ns([t]))),"Core:sleep":$e(async([t])=>(Re(t),await new Promise(r=>setTimeout(r,t.value)),Jt)),"Util:uuid":$e(()=>fr(Zc())),"Json:stringify":$e(([t])=>(Yn(t),fr(JSON.stringify(pp(t))))),"Json:parse":$e(([t])=>{es(t);try{return vp(JSON.parse(t.value))}catch{return Jd("not_json")}}),"Json:parsable":$e(([t])=>{es(t);try{JSON.parse(t.value)}catch{return xo(!1)}return xo(!0)}),"Date:now":$e(()=>Be(Date.now())),"Date:year":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":$e(([t])=>(t&&Re(t),Be(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":$e(([t])=>(es(t),Be(new Date(t.value).getTime()))),"Math:Infinity":Be(1/0),"Math:E":Be(Math.E),"Math:LN2":Be(Math.LN2),"Math:LN10":Be(Math.LN10),"Math:LOG2E":Be(Math.LOG2E),"Math:LOG10E":Be(Math.LOG10E),"Math:PI":Be(Math.PI),"Math:SQRT1_2":Be(Math.SQRT1_2),"Math:SQRT2":Be(Math.SQRT2),"Math:abs":$e(([t])=>(Re(t),Be(Math.abs(t.value)))),"Math:acos":$e(([t])=>(Re(t),Be(Math.acos(t.value)))),"Math:acosh":$e(([t])=>(Re(t),Be(Math.acosh(t.value)))),"Math:asin":$e(([t])=>(Re(t),Be(Math.asin(t.value)))),"Math:asinh":$e(([t])=>(Re(t),Be(Math.asinh(t.value)))),"Math:atan":$e(([t])=>(Re(t),Be(Math.atan(t.value)))),"Math:atanh":$e(([t])=>(Re(t),Be(Math.atanh(t.value)))),"Math:atan2":$e(([t,r])=>(Re(t),Re(r),Be(Math.atan2(t.value,r.value)))),"Math:cbrt":$e(([t])=>(Re(t),Be(Math.cbrt(t.value)))),"Math:ceil":$e(([t])=>(Re(t),Be(Math.ceil(t.value)))),"Math:clz32":$e(([t])=>(Re(t),Be(Math.clz32(t.value)))),"Math:cos":$e(([t])=>(Re(t),Be(Math.cos(t.value)))),"Math:cosh":$e(([t])=>(Re(t),Be(Math.cosh(t.value)))),"Math:exp":$e(([t])=>(Re(t),Be(Math.exp(t.value)))),"Math:expm1":$e(([t])=>(Re(t),Be(Math.expm1(t.value)))),"Math:floor":$e(([t])=>(Re(t),Be(Math.floor(t.value)))),"Math:fround":$e(([t])=>(Re(t),Be(Math.fround(t.value)))),"Math:hypot":$e(([t])=>{jc(t);const r=[];for(const e of t.value)Re(e),r.push(e.value);return Be(Math.hypot(...r))}),"Math:imul":$e(([t,r])=>(Re(t),Re(r),Be(Math.imul(t.value,r.value)))),"Math:log":$e(([t])=>(Re(t),Be(Math.log(t.value)))),"Math:log1p":$e(([t])=>(Re(t),Be(Math.log1p(t.value)))),"Math:log10":$e(([t])=>(Re(t),Be(Math.log10(t.value)))),"Math:log2":$e(([t])=>(Re(t),Be(Math.log2(t.value)))),"Math:max":$e(([t,r])=>(Re(t),Re(r),Be(Math.max(t.value,r.value)))),"Math:min":$e(([t,r])=>(Re(t),Re(r),Be(Math.min(t.value,r.value)))),"Math:pow":$e(([t,r])=>(Re(t),Re(r),Be(Math.pow(t.value,r.value)))),"Math:round":$e(([t])=>(Re(t),Be(Math.round(t.value)))),"Math:sign":$e(([t])=>(Re(t),Be(Math.sign(t.value)))),"Math:sin":$e(([t])=>(Re(t),Be(Math.sin(t.value)))),"Math:sinh":$e(([t])=>(Re(t),Be(Math.sinh(t.value)))),"Math:sqrt":$e(([t])=>{Re(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new hr("Invalid operation.");return Be(r)}),"Math:tan":$e(([t])=>(Re(t),Be(Math.tan(t.value)))),"Math:tanh":$e(([t])=>(Re(t),Be(Math.tanh(t.value)))),"Math:trunc":$e(([t])=>(Re(t),Be(Math.trunc(t.value)))),"Math:rnd":$e(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Be(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Be(Math.random())),"Math:gen_rng":$e(([t])=>{if(Yn(t),t.type!=="num"&&t.type!=="str")return Jt;const r=df(t.value.toString());return $e(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Be(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Be(r()))}),"Num:to_hex":$e(([t])=>(Re(t),fr(t.value.toString(16)))),"Num:from_hex":$e(([t])=>(es(t),Be(parseInt(t.value,16)))),"Str:lf":fr(`
`),"Str:lt":$e(([t,r])=>(es(t),es(r),t.value<r.value?Be(-1):t.value===r.value?Be(0):Be(1))),"Str:gt":$e(([t,r])=>(es(t),es(r),t.value>r.value?Be(-1):t.value===r.value?Be(0):Be(1))),"Str:from_codepoint":$e(([t])=>(Re(t),fr(String.fromCodePoint(t.value)))),"Obj:keys":$e(([t])=>(Mu(t),Ns(Array.from(t.value.keys()).map(r=>fr(r))))),"Obj:vals":$e(([t])=>(Mu(t),Ns(Array.from(t.value.values())))),"Obj:kvs":$e(([t])=>(Mu(t),Ns(Array.from(t.value.entries()).map(([r,e])=>Ns([fr(r),e]))))),"Obj:get":$e(([t,r])=>(Mu(t),es(r),t.value.get(r.value)??Jt)),"Obj:set":$e(([t,r,e])=>(Mu(t),es(r),Yn(e),t.value.set(r.value,e),Jt)),"Obj:has":$e(([t,r])=>(Mu(t),es(r),xo(t.value.has(r.value)))),"Obj:copy":$e(([t])=>(Mu(t),tv(new Map(t.value)))),"Async:interval":$e(async([t,r,e],n)=>{Re(t),Lu(r),e&&(ln(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.topCall(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),$e(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":$e(async([t,r],e)=>{Re(t),Lu(r);const n=setTimeout(()=>{e.topCall(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),$e(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},pg={num:{to_str:t=>$e(async(r,e)=>fr(t.value.toString()))},str:{to_num:t=>$e(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?Jt:Be(n)}),len:t=>Be(yf(t.value)),replace:t=>$e(async([r,e],n)=>(es(r),es(e),fr(t.value.split(r.value).join(e.value)))),index_of:t=>$e(async([r],e)=>(es(r),Be(mf(t.value,r.value)))),incl:t=>$e(async([r],e)=>(es(r),t.value.includes(r.value)?Ca:Jn)),trim:t=>$e(async(r,e)=>fr(t.value.trim())),upper:t=>$e(async(r,e)=>fr(t.value.toUpperCase())),lower:t=>$e(async(r,e)=>fr(t.value.toLowerCase())),split:t=>$e(async([r],e)=>(r&&es(r),Ns(r?t.value.split(r?r.value:"").map(n=>fr(n)):cn(t.value).map(n=>fr(n))))),slice:t=>$e(async([r,e],n)=>(Re(r),Re(e),fr(wf(t.value,r.value,e.value)))),pick:t=>$e(async([r],e)=>{Re(r);const h=cn(t.value)[r.value];return h?fr(h):Jt}),codepoint_at:t=>$e(([r],e)=>{Re(r);const n=t.value.charCodeAt(r.value);return Number.isNaN(n)?Jt:Be(n)})},arr:{len:t=>Be(t.value.length),push:t=>$e(async([r],e)=>(Yn(r),t.value.push(r),t)),unshift:t=>$e(async([r],e)=>(Yn(r),t.value.unshift(r),t)),pop:t=>$e(async(r,e)=>t.value.pop()??Jt),shift:t=>$e(async(r,e)=>t.value.shift()??Jt),concat:t=>$e(async([r],e)=>(jc(r),Ns(t.value.concat(r.value)))),slice:t=>$e(async([r,e],n)=>(Re(r),Re(e),Ns(t.value.slice(r.value,e.value)))),join:t=>$e(async([r],e)=>(r&&es(r),fr(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>$e(async([r],e)=>{Lu(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Be(d)]));return Ns(await Promise.all(n))}),filter:t=>$e(async([r],e)=>{Lu(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,Be(h)]);ln(_),_.value&&n.push(d)}return Ns(n)}),reduce:t=>$e(async([r,e],n)=>{Lu(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,Be(_)])}return d}),find:t=>$e(async([r],e)=>{Lu(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Be(n)]);if(ln(d),d.value)return h}return Jt}),incl:t=>$e(async([r],e)=>(Yn(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Jn:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?Ca:Jn)),reverse:t=>$e(async(r,e)=>(t.value.reverse(),Jt)),copy:t=>$e(async(r,e)=>Ns([...t.value])),sort:t=>$e(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);Re(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return Lu(r),jc(t),t.value=await n(t.value,r),t})},error:{name:t=>fr(t.value),info:t=>t.info??Jt}};function Pb(t,r){if(Object.hasOwn(pg,t.type)){const e=pg[t.type];if(Object.hasOwn(e,r))return e[r](t);throw new hr(`No such prop (${r}) in ${t.type}.`)}else throw new hr(`Cannot read prop of ${t.type}. (reading ${r})`)}const kb={mut(t){return{isMutable:!0,value:t}},const(t){return{isMutable:!1,value:t}}};var vn=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const Zd=300,Eb=Zd-1;let Us=class{constructor(r,e={}){me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);me(this,"vars",{});this.opts=e;const n={print:$e(([h])=>{Yn(h),this.opts.out&&this.opts.out(h)}),readline:$e(async h=>{const d=h[0];if(es(d),this.opts.in==null)return Jt;const _=await this.opts.in(d.value);return fr(_)})};this.vars=Object.fromEntries(Object.entries({...r,...Cb,...n}).map(([h,d])=>[h,kb.const(d)])),this.scope=new _u([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(!(r==null||r.length===0))try{await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}catch(e){this.handleError(e)}}async execFn(r,e){return await this._fn(r,e).catch(n=>(this.handleError(n),Jd("func_failed")))}execFnSimple(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}handleError(r){if(this.opts.err)this.stop||(this.abort(),r instanceof th?this.opts.err(r):this.opts.err(new wb(r)));else throw r}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{if(n.mut)throw new Error("Namespaces cannot include mutable variable: "+n.name);const h={isMutable:n.mut,value:await this._eval(n.expr,e)};e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Jt;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],{isMutable:!0,value:e[d]});const h=r.scope.createChildScope(n);return _b(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return Jt;if(this.stepCount%Zd===Eb&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new hr("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);Lu(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(ln(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(ln(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return Jt}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(cp(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):Jt}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Jt}case"for":{if(r.times){const n=await this._eval(r.times,e);Re(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Re(n),Re(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:Be(d)}]])));if(_.type==="break")break;if(_.type==="return")return _}}return Jt}case"each":{const n=await this._eval(r.items,e);jc(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,{isMutable:!1,value:h}]])));if(d.type==="break")break;if(d.type==="return")return d}return Jt}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,{isMutable:r.mut,value:n}),Jt}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),Jt}case"addAssign":{const n=await this._eval(r.dest,e);Re(n);const h=await this._eval(r.expr,e);return Re(h),await this.assign(e,r.dest,Be(n.value+h.value)),Jt}case"subAssign":{const n=await this._eval(r.dest,e);Re(n);const h=await this._eval(r.expr,e);return Re(h),await this.assign(e,r.dest,Be(n.value-h.value)),Jt}case"null":return Jt;case"bool":return xo(r.value);case"num":return Be(r.value);case"str":return fr(r.value);case"arr":return Ns(await Promise.all(r.value.map(n=>this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return tv(n)}case"prop":{const n=await this._eval(r.target,e);return Ch(n)?n.value.has(r.name)?n.value.get(r.name):Jt:Pb(n,r.name)}case"index":{const n=await this._eval(r.target,e),h=await this._eval(r.index,e);if(hg(n)){Re(h);const d=n.value[h.value];if(d===void 0)throw new mb(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}else{if(Ch(n))return es(h),n.value.has(h.value)?n.value.get(h.value):Jt;throw new hr(`Cannot read prop (${rf(h)}) of ${n.type}.`)}}case"not":{const n=await this._eval(r.expr,e);return ln(n),xo(!n.value)}case"fn":return $b(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"exists":return xo(e.exists(r.identifier.name));case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);n+=rf(d)}return fr(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),xb(n)}case"break":return this.log("block:break",{scope:e.name}),bb();case"continue":return this.log("block:continue",{scope:e.name}),Ab();case"ns":return Jt;case"meta":return Jt;case"and":{const n=await this._eval(r.left,e);if(ln(n),n.value){const h=await this._eval(r.right,e);return ln(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(ln(n),n.value)return n;{const h=await this._eval(r.right,e);return ln(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=Jt;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r),d=await this._eval(e.index,r);if(hg(h))Re(d),h.value[d.value]=n;else if(Ch(h))es(d),h.value.set(d.value,n);else throw new hr(`Cannot read prop (${rf(d)}) of ${h.type}.`)}else if(e.type==="prop"){const h=await this._eval(e.target,r);Mu(h),h.value.set(e.name,n)}else throw new hr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};vn([Lr],Us.prototype,"exec",null);vn([Lr],Us.prototype,"execFn",null);vn([Lr],Us.prototype,"execFnSimple",null);vn([Lr],Us.prototype,"handleError",null);vn([Lr],Us.prototype,"log",null);vn([Lr],Us.prototype,"collectNs",null);vn([Lr],Us.prototype,"collectNsMember",null);vn([Lr],Us.prototype,"_fn",null);vn([Lr],Us.prototype,"_eval",null);vn([Lr],Us.prototype,"_run",null);vn([Lr],Us.prototype,"registerAbortHandler",null);vn([Lr],Us.prototype,"unregisterAbortHandler",null);vn([Lr],Us.prototype,"abort",null);vn([Lr],Us.prototype,"assign",null);vn([Lr],Us,"collectMetadata",null);function Mb(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function bo(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,bo.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}Mb(bo,Error);function Ph(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}bo.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+d.line+":"+d.column;if(e){var C=this.location.end,M=Ph("",d.line.toString().length," "),F=e[h.line-1],O=h.line===C.line?C.column:F.length+1,D=O-h.column||1;r+=`
 --> `+_+`
`+M+` |
`+d.line+" | "+F+`
`+M+" | "+Ph("",h.column-1," ")+Ph("",D,"^")}else r+=`
 at `+_}return r};bo.buildMessage=function(t,r){var e={literal:function(F){return'"'+h(F.text)+'"'},class:function(F){var O=F.parts.map(function(D){return Array.isArray(D)?d(D[0])+"-"+d(D[1]):d(D)});return"["+(F.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};function n(F){return F.charCodeAt(0).toString(16).toUpperCase()}function h(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function d(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function _(F){return e[F.type](F)}function C(F){var O=F.map(_),D,q;if(O.sort(),O.length>0){for(D=1,q=1;D<O.length;D++)O[D-1]!==O[D]&&(O[q]=O[D],q++);O.length=q}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}function M(F){return F?'"'+h(F)+'"':"end of input"}return"Expected "+C(t)+" but "+M(r)+" found."};function vg(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:Rn,Main:Zr},d=Rn,_="//",C="/*",M="*/",F="(",O=")",D="::",q="{",Q="}",ye="###",ue="let",pe=":",Fe="=",W="var",z="<:",G="#[",J="]",Z="each",ee=",",se="for",ne="return",Se="loop",je="break",_e="continue",Xe="+=",pt="-=",ar="\\",vt="||",ft="&&",ze="==",ct="!=",Lt="<=",Kt=">=",lt="<",Hr=">",rr="+",_r="-",Dt="*",mr="^",Br="/",$r="%",Cr="!",zt="[",pr=".",V="if",te="elif",ie="else",de="match",le="=>",ke="eval",Ne="exists",Ae="`",Ce='"',we="'",Ke='\\"',Qe="\\'",Ge="true",Je="false",rt="null",ht=";",At="@",Et="@(",_t=`\r
`,bt=/^[A-Z0-9_:]/i,qs=/^[^`{]/,zr=/^[{}`]/,Vr=/^[+\-]/,gt=/^[1-9]/,Ft=/^[0-9]/,gn=/^[A-Z_]/i,Gr=/^[A-Z0-9_]/i,Bi=/^[\r\n]/,Ui=/^[ \t\r\n]/,ir=/^[ \t]/,Vt=Ms(),_s=fe("//",!1),Sn=fe("/*",!1),Wt=fe("*/",!1),$t=fe("(",!1),Pr=fe(")",!1),sr=fe("::",!1),tt=fe("{",!1),Ht=fe("}",!1),rs=fe("###",!1),Nt=fe("let",!1),Ot=fe(":",!1),Jr=fe("=",!1),mi=fe("var",!1),gs=fe("<:",!1),os=fe("#[",!1),ds=fe("]",!1),dt=fe("each",!1),Mt=fe(",",!1),Ks=fe("for",!1),xr=fe("return",!1),br=Gt([["A","Z"],["0","9"],"_",":"],!1,!0),qi=fe("loop",!1),$i=fe("break",!1),Ki=fe("continue",!1),zi=fe("+=",!1),Na=fe("-=",!1),Oa=fe("\\",!1),Vi=fe("||",!1),Wi=fe("&&",!1),Gi=fe("==",!1),Ji=fe("!=",!1),Ta=fe("<=",!1),Fn=fe(">=",!1),Nn=fe("<",!1),Ia=fe(">",!1),Zi=fe("+",!1),ja=fe("-",!1),dn=fe("*",!1),Qi=fe("^",!1),Xi=fe("/",!1),Yi=fe("%",!1),Cs=fe("!",!1),ys=fe("[",!1),On=fe(".",!1),aa=fe("if",!1),ia=fe("elif",!1),el=fe("else",!1),zs=fe("match",!1),fs=fe("=>",!1),Ps=fe("eval",!1),cs=fe("exists",!1),Vs=fe("`",!1),Ws=Gt(["`","{"],!0,!1),Gs=Gt(["{","}","`"],!1,!1),hs=fe('"',!1),Js=fe("'",!1),ks=fe('\\"',!1),Ra=fe("\\'",!1),Bt=Gt(["+","-"],!1,!1),Da=Gt([["1","9"]],!1,!1),lr=Gt([["0","9"]],!1,!1),tl=fe("true",!1),Zs=fe("false",!1),rl=fe("null",!1),ws=fe(";",!1),sl=fe("@",!1),Tn=fe("@(",!1),nl=Gt([["A","Z"],"_"],!1,!0),La=Gt([["A","Z"],["0","9"],"_"],!1,!0),al=fe(`\r
`,!1),il=Gt(["\r",`
`],!1,!1),xi=Gt([" ","	","\r",`
`],!1,!1),ll=Gt([" ","	"],!1,!1),bi=function(s){return s.join("")},ul=function(){return ae()},Ai=function(){return ae()},ol=function(){return""},Ha=function(){return""},fl=function(s){return s??[]},In=function(s,u){return u},cl=function(s,u){return[s,...u]},jn=function(s,u){return u},hl=function(s,u){return[s,...u]},Ba=function(s,u){return u},pl=function(s,u){return[s,...u]},vl=function(s){return s},gl=function(s,u){return c("ns",{name:s,members:u})},dl=function(s,u){return c("meta",{name:s,value:u})},yl=function(s){return c("meta",{name:null,value:s})},wl=function(s,u,p){return c("def",{name:s,varType:u,expr:p,mut:!1,attr:[]})},ml=function(s,u,p){return c("def",{name:s,varType:u,expr:p,mut:!0,attr:[]})},$l=function(s){return c("identifier",{name:"print",chain:[c("callChain",{args:[s]})]})},xl=function(s,u){return c("attr",{name:s,value:u??c("bool",{value:!0})})},bl=function(s,u,p){return c("each",{var:s,items:u,for:p})},Al=function(s,u,p){return c("each",{var:s,items:u,for:p})},_l=function(s,u){return u},Cl=function(s,u,p,f){return c("for",{var:s,from:u??c("num",{value:0}),to:p,for:f})},Pl=function(s,u){return u},_i=function(s,u,p,f){return c("for",{var:s,from:u??c("num",{value:0}),to:p,for:f})},kl=function(s,u){return c("for",{times:s,for:u})},El=function(s,u){return c("for",{times:s,for:u})},Ml=function(s){return c("return",{expr:s})},Sl=function(s){return c("loop",{statements:s})},Fl=function(){return c("break",{})},la=function(){return c("continue",{})},Nl=function(s,u,p){return u==="+="?c("addAssign",{dest:s,expr:p}):u==="-="?c("subAssign",{dest:s,expr:p}):c("assign",{dest:s,expr:p})},Ua=function(s,u,p){return{op:u,term:p}},Ol=function(s,u){return c("infix",{operands:[s,...u.map(p=>p.term)],operators:u.map(p=>p.op)})},Tl=function(){return ae()},Il=function(s){return c("not",{expr:s})},qa=function(s,u){return{...s,chain:u}},jl=function(s){return c("callChain",{args:s??[]})},ua=function(s,u){return u},Rl=function(s,u){return[s,...u]},Dl=function(s){return c("indexChain",{index:s})},Ll=function(s){return c("propChain",{name:s})},Hl=function(s,u,p,f){return c("if",{cond:s,then:u,elseif:p??[],else:f})},Bl=function(s,u){return[s,...u]},Ka=function(s,u){return{cond:s,then:u}},Ci=function(s){return s},za=function(s,u,p){return{q:u,a:p}},Pi=function(s,u,p){return c("match",{about:s,qs:u??[],default:p})},Ul=function(s){return c("block",{statements:s})},ql=function(s){return c("exists",{identifier:s})},Va=function(s){return c("identifier",{name:s})},Kl=function(s){return c("tmpl",{tmpl:s})},Wa=function(s){return s.join("")},Ga=function(s){return s},zl=function(s){return c("str",{value:s.join("")})},Ja=function(s){return s},Vl=function(s){return c("str",{value:s.join("")})},Wl=function(){return'"'},ki=function(){return"'"},Gl=function(){return c("num",{value:parseFloat(ae())})},Ei=function(){return c("num",{value:parseFloat(ae())})},Jl=function(){return c("num",{value:parseInt(ae(),10)})},Zl=function(){return c("num",{value:parseInt(ae(),10)})},Za=function(){return c("bool",{value:!0})},Ql=function(){return c("bool",{value:!1})},Qa=function(){return c("null",{})},oa=function(s,u){return{k:s,v:u}},Xl=function(s){const u=new Map;for(const p of s)u.set(p.k,p.v);return c("obj",{value:u})},fa=function(s){return s},Yl=function(s){return c("arr",{value:s})},eu=function(s,u){return{name:s,argType:u}},Xa=function(s,u){return[s,...u]},tu=function(s,u,p,f,g,v){return(s.length>0||p.length>0)&&su("Cannot use spaces before or after the function name."),c("def",{name:u,expr:c("fn",{args:f??[],retType:g},v??[]),mut:!1,attr:[]})},Ya=function(s,u,p){return c("fn",{args:s??[],retType:u},p??[])},ei=function(s){return s},ru=function(s){return c("arr",{value:s})},ti=function(s,u){return{k:s,v:u}},$=function(s){const u=new Map;for(const p of s)u.set(p.k,p.v);return c("obj",{value:u})},be=function(s,u){return c("fnTypeSource",{args:s??[],result:u})},yn=function(s,u){return[s,...u]},ss=function(s,u){return c("namedTypeSource",{name:s,inner:u})},ca=function(s){return c("namedTypeSource",{name:s,inner:null})},i=function(){return ae()},R=function(){return ae()},ns=function(s){return c("block",{statements:s??[]})},l=0,Y=0,S=[{line:1,column:1}],j=0,nr=[],E=0,H={},Es;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function ae(){return t.substring(Y,l)}function X(){return Qs(Y,l)}function su(s,u){throw u=u!==void 0?u:Qs(Y,l),Xs(s,u)}function fe(s,u){return{type:"literal",text:s,ignoreCase:u}}function Gt(s,u,p){return{type:"class",parts:s,inverted:u,ignoreCase:p}}function Ms(){return{type:"any"}}function I(){return{type:"end"}}function ri(s){var u=S[s],p;if(u)return u;for(p=s-1;!S[p];)p--;for(u=S[p],u={line:u.line,column:u.column};p<s;)t.charCodeAt(p)===10?(u.line++,u.column=1):u.column++,p++;return S[s]=u,u}function Qs(s,u,p){var f=ri(s),g=ri(u),v={source:n,start:{offset:s,line:f.line,column:f.column},end:{offset:u,line:g.line,column:g.column}};return p&&n&&typeof n.offset=="function"&&(v.start=n.offset(v.start),v.end=n.offset(v.end)),v}function T(s){l<j||(l>j&&(j=l,nr=[]),nr.push(s))}function Xs(s,u){return new bo(s,null,null,u)}function si(s,u,p){return new bo(bo.buildMessage(s,u),s,u,p)}function Rn(){var s,u,p,f=l*77+0,g=H[f];if(g)return l=g.nextPos,g.result;for(s=l,u=[],p=Ys();p!==e;)u.push(p),p=Ys();return Y=s,u=bi(u),s=u,H[f]={nextPos:l,result:s},s}function Ys(){var s,u,p=l*77+1,f=H[p];return f?(l=f.nextPos,f.result):(s=l,u=en(),u!==e&&(Y=s,u=ul()),s=u,s===e&&(s=l,u=Un(),u!==e&&(Y=s,u=Ai()),s=u,s===e&&(s=St(),s===e&&(t.length>l?(s=t.charAt(l),l++):(s=e,E===0&&T(Vt))))),H[p]={nextPos:l,result:s},s)}function St(){var s,u,p,f,g,v,A=l*77+2,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.substr(l,2)===_?(u=_,l+=2):(u=e,E===0&&T(_s)),u!==e){for(p=[],f=l,g=l,E++,v=a(),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,v=a(),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);Y=s,s=ol()}else l=s,s=e;if(s===e)if(s=l,t.substr(l,2)===C?(u=C,l+=2):(u=e,E===0&&T(Sn)),u!==e){for(p=[],f=l,g=l,E++,t.substr(l,2)===M?(v=M,l+=2):(v=e,E===0&&T(Wt)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.substr(l,2)===M?(v=M,l+=2):(v=e,E===0&&T(Wt)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt)),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);t.substr(l,2)===M?(f=M,l+=2):(f=e,E===0&&T(Wt)),f!==e?(Y=s,s=Ha()):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Zr(){var s,u,p,f,g,v=l*77+3,A=H[v];if(A)return l=A.nextPos,A.result;for(s=l,u=[],p=o();p!==e;)u.push(p),p=o();for(p=wn(),p===e&&(p=null),f=[],g=o();g!==e;)f.push(g),g=o();return Y=s,s=fl(p),H[v]={nextPos:l,result:s},s}function wn(){var s,u,p,f,g,v,A,x,k=l*77+4,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=We(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=We(),x!==e?(Y=f,f=In(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=We(),x!==e?(Y=f,f=In(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=cl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function as(){var s,u,p,f,g,v,A,x,k=l*77+5,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=Qr(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=Qr(),x!==e?(Y=f,f=jn(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=Qr(),x!==e?(Y=f,f=jn(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=hl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function vr(){var s,u,p,f,g,v,A,x,k=l*77+6,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=is(),u!==e){for(p=[],f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=is(),x!==e?(Y=f,f=Ba(u,x)):(l=f,f=e)}else l=f,f=e;for(;f!==e;){for(p.push(f),f=l,g=[],v=w();v!==e;)g.push(v),v=w();if(v=b(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=is(),x!==e?(Y=f,f=Ba(u,x)):(l=f,f=e)}else l=f,f=e}Y=s,s=pl(u,p)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function We(){var s,u=l*77+7,p=H[u];return p?(l=p.nextPos,p.result):(s=ai(),s===e&&(s=nu(),s===e&&(s=is())),H[u]={nextPos:l,result:s},s)}function Qr(){var s,u=l*77+8,p=H[u];return p?(l=p.nextPos,p.result):(s=ii(),s===e&&(s=nt(),s===e&&(s=ai())),H[u]={nextPos:l,result:s},s)}function is(){var s,u=l*77+9,p=H[u];return p?(l=p.nextPos,p.result):(s=ii(),s===e&&(s=nt(),s===e&&(s=au(),s===e&&(s=lu(),s===e&&(s=iu(),s===e&&(s=Ss(),s===e&&(s=Mi(),s===e&&(s=uu(),s===e&&(s=Si(),s===e&&(s=Nr(),s===e&&(s=ha(),s===e&&(s=qe()))))))))))),H[u]={nextPos:l,result:s},s)}function qe(){var s,u=l*77+10,p=H[u];return p?(l=p.nextPos,p.result):(s=Fi(),s===e&&(s=ms()),H[u]={nextPos:l,result:s},s)}function ms(){var s,u=l*77+11,p=H[u];return p?(l=p.nextPos,p.result):(s=Ni(),s===e&&(s=pu(),s===e&&(s=ui(),s===e&&(s=ni()))),H[u]={nextPos:l,result:s},s)}function ni(){var s,u,p,f,g,v,A=l*77+12,x=H[A];if(x)return l=x.nextPos,x.result;if(s=Hn(),s===e&&(s=pa(),s===e&&(s=va(),s===e&&(s=en(),s===e&&(s=Un(),s===e&&(s=ci(),s===e&&(s=wa(),s===e&&(s=zn(),s===e&&(s=Xr(),s===e&&(s=hu(),s===e&&(s=li(),s===e&&(s=ga(),s===e))))))))))))if(s=l,t.charCodeAt(l)===40?(u=F,l++):(u=e,E===0&&T($t)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=qe(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e?(Y=s,s=vl(f)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fr(){var s,u=l*77+13,p=H[u];return p?(l=p.nextPos,p.result):(s=ci(),s===e&&(s=Un(),s===e&&(s=wa(),s===e&&(s=xn(),s===e&&(s=Yr(),s===e&&(s=zn()))))),H[u]={nextPos:l,result:s},s)}function ai(){var s,u,p,f,g,v,A,x,k,N,L=l*77+14,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===D?(u=D,l+=2):(u=e,E===0&&T(sr)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(t.charCodeAt(l)===123?(v=q,l++):(v=e,E===0&&T(tt)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(x=as(),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();t.charCodeAt(l)===125?(N=Q,l++):(N=e,E===0&&T(Ht)),N!==e?(Y=s,s=gl(f,x)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function nu(){var s,u,p,f,g,v,A=l*77+15,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.substr(l,3)===ye?(u=ye,l+=3):(u=e,E===0&&T(rs)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=ge(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();v=Fr(),v!==e?(Y=s,s=dl(f,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===ye?(u=ye,l+=3):(u=e,E===0&&T(rs)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();f=Fr(),f!==e?(Y=s,s=yl(f)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ii(){var s,u,p,f,g,v,A,x,k,N=l*77+16,L=H[N];if(L)return l=L.nextPos,L.result;if(s=l,t.substr(l,3)===ue?(u=ue,l+=3):(u=e,E===0&&T(Nt)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===58?(A=pe,l++):(A=e,E===0&&T(Ot)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=Ve(),k!==e?g=k:(l=g,g=e)}else l=g,g=e;for(g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===61?(A=Fe,l++):(A=e,E===0&&T(Jr)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=qe(),k!==e?(Y=s,s=wl(f,g,k)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===W?(u=W,l+=3):(u=e,E===0&&T(mi)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===58?(A=pe,l++):(A=e,E===0&&T(Ot)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=Ve(),k!==e?g=k:(l=g,g=e)}else l=g,g=e;for(g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===61?(A=Fe,l++):(A=e,E===0&&T(Jr)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();k=qe(),k!==e?(Y=s,s=ml(f,g,k)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[N]={nextPos:l,result:s},s}function au(){var s,u,p,f,g=l*77+17,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,t.substr(l,2)===z?(u=z,l+=2):(u=e,E===0&&T(gs)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();f=qe(),f!==e?(Y=s,s=$l(f)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function iu(){var s,u,p,f,g,v,A,x=l*77+18,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,t.substr(l,2)===G?(u=G,l+=2):(u=e,E===0&&T(os)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=ge(),f!==e){for(g=l,v=[],A=o();A!==e;)v.push(A),A=o();for(A=Fr(),A!==e?g=A:(l=g,g=e),g===e&&(g=null),v=[],A=o();A!==e;)v.push(A),A=o();t.charCodeAt(l)===93?(A=J,l++):(A=e,E===0&&T(ds)),A!==e?(Y=s,s=xl(f,g)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[x]={nextPos:l,result:s},s}function Ss(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+19,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.substr(l,4)===Z?(u=Z,l+=4):(u=e,E===0&&T(dt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(t.substr(l,3)===ue?(g=ue,l+=3):(g=e,E===0&&T(Nt)),g!==e){if(v=[],A=o(),A!==e)for(;A!==e;)v.push(A),A=o();else v=e;if(v!==e)if(A=ge(),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();for(t.charCodeAt(l)===44?(k=ee,l++):(k=e,E===0&&T(Mt)),k===e&&(k=null),N=[],L=o();L!==e;)N.push(L),L=o();if(L=qe(),L!==e)if(t.charCodeAt(l)===41?(K=O,l++):(K=e,E===0&&T(Pr)),K!==e){for(re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Pe=P(),Pe!==e?(Y=s,s=bl(A,L,Pe)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,4)===Z?(u=Z,l+=4):(u=e,E===0&&T(dt)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(t.substr(l,3)===ue?(f=ue,l+=3):(f=e,E===0&&T(Nt)),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();if(N=qe(),N!==e){if(L=[],K=o(),K!==e)for(;K!==e;)L.push(K),K=o();else L=e;L!==e?(K=P(),K!==e?(Y=s,s=Al(v,N,K)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function Mi(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at=l*77+20,it=H[at];if(it)return l=it.nextPos,it.result;if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(t.substr(l,3)===ue?(g=ue,l+=3):(g=e,E===0&&T(Nt)),g!==e){if(v=[],A=o(),A!==e)for(;A!==e;)v.push(A),A=o();else v=e;if(v!==e)if(A=ge(),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();if(k=l,t.charCodeAt(l)===61?(N=Fe,l++):(N=e,E===0&&T(Jr)),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();K=qe(),K!==e?(Y=k,k=_l(A,K)):(l=k,k=e)}else l=k,k=e;for(k===e&&(k=null),t.charCodeAt(l)===44?(N=ee,l++):(N=e,E===0&&T(Mt)),N===e&&(N=null),L=[],K=o();K!==e;)L.push(K),K=o();if(K=qe(),K!==e)if(t.charCodeAt(l)===41?(re=O,l++):(re=e,E===0&&T(Pr)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();oe=P(),oe!==e?(Y=s,s=Cl(A,k,K,oe)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(t.substr(l,3)===ue?(f=ue,l+=3):(f=e,E===0&&T(Nt)),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(x=l,t.charCodeAt(l)===61?(k=Fe,l++):(k=e,E===0&&T(Jr)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();L=qe(),L!==e?(Y=x,x=Pl(v,L)):(l=x,x=e)}else l=x,x=e;for(x===e&&(x=null),t.charCodeAt(l)===44?(k=ee,l++):(k=e,E===0&&T(Mt)),k===e&&(k=null),N=[],L=o();L!==e;)N.push(L),L=o();if(L=qe(),L!==e){if(K=[],re=o(),re!==e)for(;re!==e;)K.push(re),re=o();else K=e;K!==e?(re=P(),re!==e?(Y=s,s=_i(v,x,L,re)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===40?(f=F,l++):(f=e,E===0&&T($t)),f!==e)if(g=qe(),g!==e)if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();x=P(),x!==e?(Y=s,s=kl(g,x)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,t.substr(l,3)===se?(u=se,l+=3):(u=e,E===0&&T(Ks)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=qe(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;g!==e?(v=P(),v!==e?(Y=s,s=El(f,v)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e}}return H[at]={nextPos:l,result:s},s}function lu(){var s,u,p,f,g,v=l*77+21,A=H[v];if(A)return l=A.nextPos,A.result;if(s=l,t.substr(l,6)===ne?(u=ne,l+=6):(u=e,E===0&&T(xr)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();g=qe(),g!==e?(Y=s,s=Ml(g)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[v]={nextPos:l,result:s},s}function uu(){var s,u,p,f,g,v,A,x,k=l*77+22,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,t.substr(l,4)===Se?(u=Se,l+=4):(u=e,E===0&&T(qi)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===123?(f=q,l++):(f=e,E===0&&T(tt)),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();if(v=vr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();t.charCodeAt(l)===125?(x=Q,l++):(x=e,E===0&&T(Ht)),x!==e?(Y=s,s=Sl(v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function Si(){var s,u,p,f,g=l*77+23,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,5)===je?(u=je,l+=5):(u=e,E===0&&T($i)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Fl()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Nr(){var s,u,p,f,g=l*77+24,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,8)===_e?(u=_e,l+=8):(u=e,E===0&&T(Ki)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=la()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function ha(){var s,u,p,f,g,v,A=l*77+25,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=qe(),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.substr(l,2)===Xe?(f=Xe,l+=2):(f=e,E===0&&T(zi)),f===e&&(t.substr(l,2)===pt?(f=pt,l+=2):(f=e,E===0&&T(Na)),f===e&&(t.charCodeAt(l)===61?(f=Fe,l++):(f=e,E===0&&T(Jr)))),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();v=qe(),v!==e?(Y=s,s=Nl(u,f,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fi(){var s,u,p,f,g,v,A,x,k=l*77+26,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=ms(),u!==e){for(p=[],f=l,g=[],v=Or();v!==e;)g.push(v),v=Or();if(v=Dn(),v!==e){for(A=[],x=Or();x!==e;)A.push(x),x=Or();x=ms(),x!==e?(Y=f,f=Ua(u,v,x)):(l=f,f=e)}else l=f,f=e;if(f!==e)for(;f!==e;){for(p.push(f),f=l,g=[],v=Or();v!==e;)g.push(v),v=Or();if(v=Dn(),v!==e){for(A=[],x=Or();x!==e;)A.push(x),x=Or();x=ms(),x!==e?(Y=f,f=Ua(u,v,x)):(l=f,f=e)}else l=f,f=e}else p=e;p!==e?(Y=s,s=Ol(u,p)):(l=s,s=e)}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function Or(){var s,u,p,f=l*77+27,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===92?(u=ar,l++):(u=e,E===0&&T(Oa)),u!==e?(p=b(),p!==e?(u=[u,p],s=u):(l=s,s=e)):(l=s,s=e),s===e&&(s=w()),H[f]={nextPos:l,result:s},s)}function Dn(){var s,u,p=l*77+28,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===vt?(u=vt,l+=2):(u=e,E===0&&T(Vi)),u===e&&(t.substr(l,2)===ft?(u=ft,l+=2):(u=e,E===0&&T(Wi)),u===e&&(t.substr(l,2)===ze?(u=ze,l+=2):(u=e,E===0&&T(Gi)),u===e&&(t.substr(l,2)===ct?(u=ct,l+=2):(u=e,E===0&&T(Ji)),u===e&&(t.substr(l,2)===Lt?(u=Lt,l+=2):(u=e,E===0&&T(Ta)),u===e&&(t.substr(l,2)===Kt?(u=Kt,l+=2):(u=e,E===0&&T(Fn)),u===e&&(t.charCodeAt(l)===60?(u=lt,l++):(u=e,E===0&&T(Nn)),u===e&&(t.charCodeAt(l)===62?(u=Hr,l++):(u=e,E===0&&T(Ia)),u===e&&(t.charCodeAt(l)===43?(u=rr,l++):(u=e,E===0&&T(Zi)),u===e&&(t.charCodeAt(l)===45?(u=_r,l++):(u=e,E===0&&T(ja)),u===e&&(t.charCodeAt(l)===42?(u=Dt,l++):(u=e,E===0&&T(dn)),u===e&&(t.charCodeAt(l)===94?(u=mr,l++):(u=e,E===0&&T(Qi)),u===e&&(t.charCodeAt(l)===47?(u=Br,l++):(u=e,E===0&&T(Xi)),u===e&&(t.charCodeAt(l)===37?(u=$r,l++):(u=e,E===0&&T(Yi))))))))))))))),u!==e&&(Y=s,u=Tl()),s=u,H[p]={nextPos:l,result:s},s)}function li(){var s,u,p,f=l*77+29,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===33?(u=Cr,l++):(u=e,E===0&&T(Cs)),u!==e?(p=qe(),p!==e?(Y=s,s=Il(p)):(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function ui(){var s,u,p,f,g=l*77+30,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,u=ni(),u!==e){if(p=[],f=Ln(),f===e&&(f=oi(),f===e&&(f=Fs())),f!==e)for(;f!==e;)p.push(f),f=Ln(),f===e&&(f=oi(),f===e&&(f=Fs()));else p=e;p!==e?(Y=s,s=qa(u,p)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function Ln(){var s,u,p,f,g,v,A=l*77+31,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===40?(u=F,l++):(u=e,E===0&&T($t)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=ou(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e?(Y=s,s=jl(f)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ou(){var s,u,p,f,g,v,A=l*77+32,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=qe(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=qe(),v!==e?(Y=f,f=ua(u,v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=qe(),v!==e?(Y=f,f=ua(u,v)):(l=f,f=e)):(l=f,f=e);Y=s,s=Rl(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function oi(){var s,u,p,f,g,v,A=l*77+33,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=qe(),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=Dl(f)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Fs(){var s,u,p,f=l*77+34,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===46?(u=pr,l++):(u=e,E===0&&T(On)),u!==e?(p=ge(),p!==e?(Y=s,s=Ll(p)):(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function Ni(){var s,u,p,f,g,v,A,x,k,N,L=l*77+35,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===V?(u=V,l+=2):(u=e,E===0&&T(aa)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;if(p!==e)if(f=qe(),f!==e){if(g=[],v=o(),v!==e)for(;v!==e;)g.push(v),v=o();else g=e;if(g!==e)if(v=P(),v!==e){if(A=l,x=[],k=o(),k!==e)for(;k!==e;)x.push(k),k=o();else x=e;if(x!==e?(k=Oi(),k!==e?A=k:(l=A,A=e)):(l=A,A=e),A===e&&(A=null),x=l,k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;k!==e?(N=fu(),N!==e?x=N:(l=x,x=e)):(l=x,x=e),x===e&&(x=null),Y=s,s=Hl(f,v,A,x)}else l=s,s=e;else l=s,s=e}else l=s,s=e;else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Oi(){var s,u,p,f,g,v,A=l*77+36,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=mn(),u!==e){for(p=[],f=l,g=[],v=o();v!==e;)g.push(v),v=o();for(v=mn(),v!==e?f=v:(l=f,f=e);f!==e;){for(p.push(f),f=l,g=[],v=o();v!==e;)g.push(v),v=o();v=mn(),v!==e?f=v:(l=f,f=e)}Y=s,s=Bl(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function mn(){var s,u,p,f,g,v,A,x=l*77+37,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,t.substr(l,4)===te?(u=te,l+=4):(u=e,E===0&&T(ia)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();if(g=qe(),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();A=P(),A!==e?(Y=s,s=Ka(g,A)):(l=s,s=e)}else l=s,s=e}else l=s,s=e;else l=s,s=e;return H[x]={nextPos:l,result:s},s}function fu(){var s,u,p,f,g,v=l*77+38,A=H[v];if(A)return l=A.nextPos,A.result;if(s=l,t.substr(l,4)===ie?(u=ie,l+=4):(u=e,E===0&&T(el)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();g=P(),g!==e?(Y=s,s=Ci(g)):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[v]={nextPos:l,result:s},s}function Hn(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at,it,vi=l*77+39,tn=H[vi];if(tn)return l=tn.nextPos,tn.result;if(s=l,t.substr(l,5)===de?(u=de,l+=5):(u=e,E===0&&T(zs)),u!==e)if(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();if(g=qe(),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();if(t.charCodeAt(l)===123?(A=q,l++):(A=e,E===0&&T(tt)),A!==e){for(x=[],k=o();k!==e;)x.push(k),k=o();if(k=[],N=l,L=qe(),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();Y=N,N=za(g,L,oe)}else l=N,N=e}else l=N,N=e}else l=N,N=e;if(N!==e)for(;N!==e;)if(k.push(N),N=l,L=qe(),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();Y=N,N=za(g,L,oe)}else l=N,N=e}else l=N,N=e}else l=N,N=e;else k=e;if(k!==e){if(N=l,t.charCodeAt(l)===42?(L=Dt,l++):(L=e,E===0&&T(dn)),L!==e){for(K=[],re=o();re!==e;)K.push(re),re=o();if(t.substr(l,2)===le?(re=le,l+=2):(re=e,E===0&&T(fs)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();if(oe=P(),oe!==e){for(at=[],it=o();it!==e;)at.push(it),it=o();N=oe}else l=N,N=e}else l=N,N=e}else l=N,N=e;for(N===e&&(N=null),L=[],K=o();K!==e;)L.push(K),K=o();t.charCodeAt(l)===125?(K=Q,l++):(K=e,E===0&&T(Ht)),K!==e?(Y=s,s=Pi(g,k,N)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e;else l=s,s=e;return H[vi]={nextPos:l,result:s},s}function pa(){var s,u,p,f,g,v,A,x,k=l*77+40,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,t.substr(l,4)===ke?(u=ke,l+=4):(u=e,E===0&&T(Ps)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(t.charCodeAt(l)===123?(f=q,l++):(f=e,E===0&&T(tt)),f!==e){for(g=[],v=o();v!==e;)g.push(v),v=o();if(v=vr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();t.charCodeAt(l)===125?(x=Q,l++):(x=e,E===0&&T(Ht)),x!==e?(Y=s,s=Ul(v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[k]={nextPos:l,result:s},s}function va(){var s,u,p,f,g=l*77+41,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,t.substr(l,6)===Ne?(u=Ne,l+=6):(u=e,E===0&&T(cs)),u!==e){if(p=[],f=o(),f!==e)for(;f!==e;)p.push(f),f=o();else p=e;p!==e?(f=ga(),f!==e?(Y=s,s=ql(f)):(l=s,s=e)):(l=s,s=e)}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function ga(){var s,u,p=l*77+42,f=H[p];return f?(l=f.nextPos,f.result):(s=l,u=y(),u!==e&&(Y=s,u=Va(u)),s=u,H[p]={nextPos:l,result:s},s)}function en(){var s,u,p,f,g,v,A=l*77+43,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===96?(u=Ae,l++):(u=e,E===0&&T(Vs)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===96?(v=Ae,l++):(v=e,E===0&&T(Vs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=Bn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===96?(v=Ae,l++):(v=e,E===0&&T(Vs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=Bn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===96?(f=Ae,l++):(f=e,E===0&&T(Vs)),f!==e?(Y=s,s=Kl(p)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Bn(){var s,u,p,f,g,v,A=l*77+44,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=qe(),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();t.charCodeAt(l)===125?(v=Q,l++):(v=e,E===0&&T(Ht)),v!==e?s=f:(l=s,s=e)}else l=s,s=e}else l=s,s=e;if(s===e){if(s=l,u=[],p=$n(),p!==e)for(;p!==e;)u.push(p),p=$n();else u=e;u!==e&&(Y=s,u=Wa(u)),s=u}return H[A]={nextPos:l,result:s},s}function $n(){var s,u=l*77+45,p=H[u];return p?(l=p.nextPos,p.result):(s=fi(),s===e&&(qs.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(Ws))),H[u]={nextPos:l,result:s},s)}function fi(){var s,u,p,f=l*77+46,g=H[f];return g?(l=g.nextPos,g.result):(s=l,t.charCodeAt(l)===92?(u=ar,l++):(u=e,E===0&&T(Oa)),u!==e?(zr.test(t.charAt(l))?(p=t.charAt(l),l++):(p=e,E===0&&T(Gs)),p!==e?s=p:(l=s,s=e)):(l=s,s=e),H[f]={nextPos:l,result:s},s)}function Un(){var s,u,p,f,g,v,A=l*77+47,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===34?(u=Ce,l++):(u=e,E===0&&T(hs)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===34?(v=Ce,l++):(v=e,E===0&&T(hs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=da(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ga(v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===34?(v=Ce,l++):(v=e,E===0&&T(hs)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=da(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ga(v)):(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===34?(f=Ce,l++):(f=e,E===0&&T(hs)),f!==e?(Y=s,s=zl(p)):(l=s,s=e)}else l=s,s=e;if(s===e)if(s=l,t.charCodeAt(l)===39?(u=we,l++):(u=e,E===0&&T(Js)),u!==e){for(p=[],f=l,g=l,E++,t.charCodeAt(l)===39?(v=we,l++):(v=e,E===0&&T(Js)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=qn(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ja(v)):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=l,E++,t.charCodeAt(l)===39?(v=we,l++):(v=e,E===0&&T(Js)),E--,v===e?g=void 0:(l=g,g=e),g!==e?(v=qn(),v===e&&(t.length>l?(v=t.charAt(l),l++):(v=e,E===0&&T(Vt))),v!==e?(Y=f,f=Ja(v)):(l=f,f=e)):(l=f,f=e);t.charCodeAt(l)===39?(f=we,l++):(f=e,E===0&&T(Js)),f!==e?(Y=s,s=Vl(p)):(l=s,s=e)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function da(){var s,u,p=l*77+48,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===Ke?(u=Ke,l+=2):(u=e,E===0&&T(ks)),u!==e&&(Y=s,u=Wl()),s=u,H[p]={nextPos:l,result:s},s)}function qn(){var s,u,p=l*77+49,f=H[p];return f?(l=f.nextPos,f.result):(s=l,t.substr(l,2)===Qe?(u=Qe,l+=2):(u=e,E===0&&T(Ra)),u!==e&&(Y=s,u=ki()),s=u,H[p]={nextPos:l,result:s},s)}function ci(){var s,u=l*77+50,p=H[u];return p?(l=p.nextPos,p.result):(s=hi(),s===e&&(s=ya()),H[u]={nextPos:l,result:s},s)}function hi(){var s,u,p,f,g,v,A=l*77+51,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),gt.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(Da)),u!==e){if(p=[],Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr)),f!==e)for(;f!==e;)p.push(f),Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr));else p=e;if(p!==e)if(t.charCodeAt(l)===46?(f=pr,l++):(f=e,E===0&&T(On)),f!==e){if(g=[],Ft.test(t.charAt(l))?(v=t.charAt(l),l++):(v=e,E===0&&T(lr)),v!==e)for(;v!==e;)g.push(v),Ft.test(t.charAt(l))?(v=t.charAt(l),l++):(v=e,E===0&&T(lr));else g=e;g!==e?(Y=s,s=Gl()):(l=s,s=e)}else l=s,s=e;else l=s,s=e}else l=s,s=e;if(s===e)if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),Ft.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(lr)),u!==e)if(t.charCodeAt(l)===46?(p=pr,l++):(p=e,E===0&&T(On)),p!==e){if(f=[],Ft.test(t.charAt(l))?(g=t.charAt(l),l++):(g=e,E===0&&T(lr)),g!==e)for(;g!==e;)f.push(g),Ft.test(t.charAt(l))?(g=t.charAt(l),l++):(g=e,E===0&&T(lr));else f=e;f!==e?(Y=s,s=Ei()):(l=s,s=e)}else l=s,s=e;else l=s,s=e;return H[A]={nextPos:l,result:s},s}function ya(){var s,u,p,f,g=l*77+52,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),gt.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(Da)),u!==e){if(p=[],Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr)),f!==e)for(;f!==e;)p.push(f),Ft.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(lr));else p=e;p!==e?(Y=s,s=Jl()):(l=s,s=e)}else l=s,s=e;return s===e&&(s=l,Vr.test(t.charAt(l))?(t.charAt(l),l++):E===0&&T(Bt),Ft.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(lr)),u!==e?(Y=s,s=Zl()):(l=s,s=e)),H[g]={nextPos:l,result:s},s}function wa(){var s,u=l*77+53,p=H[u];return p?(l=p.nextPos,p.result):(s=cu(),s===e&&(s=Kn()),H[u]={nextPos:l,result:s},s)}function cu(){var s,u,p,f,g=l*77+54,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,4)===Ge?(u=Ge,l+=4):(u=e,E===0&&T(tl)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Za()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Kn(){var s,u,p,f,g=l*77+55,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,5)===Je?(u=Je,l+=5):(u=e,E===0&&T(Zs)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Ql()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function zn(){var s,u,p,f,g=l*77+56,v=H[g];return v?(l=v.nextPos,v.result):(s=l,t.substr(l,4)===rt?(u=rt,l+=4):(u=e,E===0&&T(rl)),u!==e?(p=l,E++,bt.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(br)),E--,f===e?p=void 0:(l=p,p=e),p!==e?(Y=s,s=Qa()):(l=s,s=e)):(l=s,s=e),H[g]={nextPos:l,result:s},s)}function Xr(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+57,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=qe(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=oa(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=qe(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=oa(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;t.charCodeAt(l)===125?(g=Q,l++):(g=e,E===0&&T(Ht)),g!==e?(Y=s,s=Xl(f)):(l=s,s=e)}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function hu(){var s,u,p,f,g,v,A,x,k,N,L=l*77+58,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=qe(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=fa(v)}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=qe(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=fa(v)}else l=g,g=e;for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=Yl(f)):(l=s,s=e)}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Vn(){var s,u,p,f,g,v,A,x=l*77+59,k=H[x];if(k)return l=k.nextPos,k.result;if(s=l,u=ge(),u!==e){for(p=l,f=[],g=o();g!==e;)f.push(g),g=o();if(t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e){for(v=[],A=o();A!==e;)v.push(A),A=o();A=Ve(),A!==e?p=A:(l=p,p=e)}else l=p,p=e;p===e&&(p=null),Y=s,s=eu(u,p)}else l=s,s=e;return H[x]={nextPos:l,result:s},s}function pi(){var s,u,p,f,g,v,A=l*77+60,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=Vn(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=Vn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=Vn(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);Y=s,s=Xa(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function nt(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe,at,it,vi=l*77+61,tn=H[vi];if(tn)return l=tn.nextPos,tn.result;if(s=l,t.charCodeAt(l)===64?(u=At,l++):(u=e,E===0&&T(sl)),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(f=ge(),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();if(t.charCodeAt(l)===40?(v=F,l++):(v=e,E===0&&T($t)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(x=pi(),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();if(t.charCodeAt(l)===41?(N=O,l++):(N=e,E===0&&T(Pr)),N!==e){for(L=l,K=[],re=o();re!==e;)K.push(re),re=o();if(t.charCodeAt(l)===58?(re=pe,l++):(re=e,E===0&&T(Ot)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();oe=Ve(),oe!==e?L=oe:(l=L,L=e)}else l=L,L=e;for(L===e&&(L=null),K=[],re=o();re!==e;)K.push(re),re=o();if(t.charCodeAt(l)===123?(re=q,l++):(re=e,E===0&&T(tt)),re!==e){for(Pe=[],oe=o();oe!==e;)Pe.push(oe),oe=o();for(oe=vr(),oe===e&&(oe=null),at=[],it=o();it!==e;)at.push(it),it=o();t.charCodeAt(l)===125?(it=Q,l++):(it=e,E===0&&T(Ht)),it!==e?(Y=s,s=tu(p,f,g,x,L,oe)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[vi]={nextPos:l,result:s},s}function pu(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=l*77+62,oe=H[Pe];if(oe)return l=oe.nextPos,oe.result;if(s=l,t.substr(l,2)===Et?(u=Et,l+=2):(u=e,E===0&&T(Tn)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=pi(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=l,x=[],k=o();k!==e;)x.push(k),k=o();if(t.charCodeAt(l)===58?(k=pe,l++):(k=e,E===0&&T(Ot)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();L=Ve(),L!==e?A=L:(l=A,A=e)}else l=A,A=e;for(A===e&&(A=null),x=[],k=o();k!==e;)x.push(k),k=o();if(t.charCodeAt(l)===123?(k=q,l++):(k=e,E===0&&T(tt)),k!==e){for(N=[],L=o();L!==e;)N.push(L),L=o();for(L=vr(),L===e&&(L=null),K=[],re=o();re!==e;)K.push(re),re=o();t.charCodeAt(l)===125?(re=Q,l++):(re=e,E===0&&T(Ht)),re!==e?(Y=s,s=Ya(f,A,L)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[Pe]={nextPos:l,result:s},s}function xn(){var s,u,p,f,g,v,A,x,k,N,L=l*77+63,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.charCodeAt(l)===91?(u=zt,l++):(u=e,E===0&&T(ys)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=Fr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=ei(v)}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=Fr(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();for(t.charCodeAt(l)===44?(x=ee,l++):(x=e,E===0&&T(Mt)),x===e&&(x=null),k=[],N=o();N!==e;)k.push(N),N=o();Y=g,g=ei(v)}else l=g,g=e;for(g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===93?(v=J,l++):(v=e,E===0&&T(ds)),v!==e?(Y=s,s=ru(f)):(l=s,s=e)}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function Yr(){var s,u,p,f,g,v,A,x,k,N,L,K,re,Pe,oe=l*77+64,at=H[oe];if(at)return l=at.nextPos,at.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();if(f=[],g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=Fr(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=ti(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;for(;g!==e;)if(f.push(g),g=l,v=ge(),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.charCodeAt(l)===58?(x=pe,l++):(x=e,E===0&&T(Ot)),x!==e){if(k=[],N=o(),N!==e)for(;N!==e;)k.push(N),N=o();else k=e;if(k!==e)if(N=Fr(),N!==e){for(L=[],K=o();K!==e;)L.push(K),K=o();for(t.charCodeAt(l)===44?(K=ee,l++):(K=e,E===0&&T(Mt)),K===e&&(t.charCodeAt(l)===59?(K=ht,l++):(K=e,E===0&&T(ws))),K===e&&(K=null),re=[],Pe=o();Pe!==e;)re.push(Pe),Pe=o();Y=g,g=ti(v,N)}else l=g,g=e;else l=g,g=e}else l=g,g=e}else l=g,g=e;t.charCodeAt(l)===125?(g=Q,l++):(g=e,E===0&&T(Ht)),g!==e?(Y=s,s=$(f)):(l=s,s=e)}else l=s,s=e;return H[oe]={nextPos:l,result:s},s}function Ve(){var s,u=l*77+65,p=H[u];return p?(l=p.nextPos,p.result):(s=Ti(),s===e&&(s=Ye()),H[u]={nextPos:l,result:s},s)}function Ti(){var s,u,p,f,g,v,A,x,k,N,L=l*77+66,K=H[L];if(K)return l=K.nextPos,K.result;if(s=l,t.substr(l,2)===Et?(u=Et,l+=2):(u=e,E===0&&T(Tn)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=U(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();if(t.charCodeAt(l)===41?(v=O,l++):(v=e,E===0&&T(Pr)),v!==e){for(A=[],x=o();x!==e;)A.push(x),x=o();if(t.substr(l,2)===le?(x=le,l+=2):(x=e,E===0&&T(fs)),x!==e){for(k=[],N=o();N!==e;)k.push(N),N=o();N=Ve(),N!==e?(Y=s,s=be(f,N)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return H[L]={nextPos:l,result:s},s}function U(){var s,u,p,f,g,v,A=l*77+67,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=Ve(),u!==e){for(p=[],f=l,g=m(),g!==e?(v=Ve(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,g=m(),g!==e?(v=Ve(),v!==e?f=v:(l=f,f=e)):(l=f,f=e);Y=s,s=yn(u,p)}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function Ye(){var s,u,p,f,g,v,A,x,k=l*77+68,N=H[k];if(N)return l=N.nextPos,N.result;if(s=l,u=ge(),u!==e){for(p=[],f=w();f!==e;)p.push(f),f=w();if(t.charCodeAt(l)===60?(f=lt,l++):(f=e,E===0&&T(Nn)),f!==e){for(g=[],v=w();v!==e;)g.push(v),v=w();if(v=Ve(),v!==e){for(A=[],x=w();x!==e;)A.push(x),x=w();t.charCodeAt(l)===62?(x=Hr,l++):(x=e,E===0&&T(Ia)),x!==e?(Y=s,s=ss(u,v)):(l=s,s=e)}else l=s,s=e}else l=s,s=e}else l=s,s=e;return s===e&&(s=l,u=ge(),u!==e&&(Y=s,u=ca(u)),s=u),H[k]={nextPos:l,result:s},s}function ge(){var s,u,p,f,g=l*77+69,v=H[g];if(v)return l=v.nextPos,v.result;if(s=l,gn.test(t.charAt(l))?(u=t.charAt(l),l++):(u=e,E===0&&T(nl)),u!==e){for(p=[],Gr.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(La));f!==e;)p.push(f),Gr.test(t.charAt(l))?(f=t.charAt(l),l++):(f=e,E===0&&T(La));Y=s,s=i()}else l=s,s=e;return H[g]={nextPos:l,result:s},s}function y(){var s,u,p,f,g,v,A=l*77+70,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,u=ge(),u!==e){for(p=[],f=l,t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e?(v=ge(),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);f!==e;)p.push(f),f=l,t.charCodeAt(l)===58?(g=pe,l++):(g=e,E===0&&T(Ot)),g!==e?(v=ge(),v!==e?(g=[g,v],f=g):(l=f,f=e)):(l=f,f=e);Y=s,s=R()}else l=s,s=e;return H[A]={nextPos:l,result:s},s}function m(){var s,u,p,f,g,v=l*77+71,A=H[v];if(A)return l=A.nextPos,A.result;for(s=l,u=[],p=o();p!==e;)u.push(p),p=o();if(t.charCodeAt(l)===44?(p=ee,l++):(p=e,E===0&&T(Mt)),p!==e){for(f=[],g=o();g!==e;)f.push(g),g=o();u=[u,p,f],s=u}else l=s,s=e;if(s===e)if(s=[],u=o(),u!==e)for(;u!==e;)s.push(u),u=o();else s=e;return H[v]={nextPos:l,result:s},s}function P(){var s,u,p,f,g,v,A=l*77+72,x=H[A];if(x)return l=x.nextPos,x.result;if(s=l,t.charCodeAt(l)===123?(u=q,l++):(u=e,E===0&&T(tt)),u!==e){for(p=[],f=o();f!==e;)p.push(f),f=o();for(f=vr(),f===e&&(f=null),g=[],v=o();v!==e;)g.push(v),v=o();t.charCodeAt(l)===125?(v=Q,l++):(v=e,E===0&&T(Ht)),v!==e?(Y=s,s=ns(f)):(l=s,s=e)}else l=s,s=e;return s===e&&(s=is()),H[A]={nextPos:l,result:s},s}function b(){var s,u=l*77+73,p=H[u];return p?(l=p.nextPos,p.result):(t.substr(l,2)===_t?(s=_t,l+=2):(s=e,E===0&&T(al)),s===e&&(Bi.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(il))),H[u]={nextPos:l,result:s},s)}function a(){var s,u,p=l*77+74,f=H[p];return f?(l=f.nextPos,f.result):(s=l,E++,t.length>l?(u=t.charAt(l),l++):(u=e,E===0&&T(Vt)),E--,u===e?s=void 0:(l=s,s=e),s===e&&(s=b()),H[p]={nextPos:l,result:s},s)}function o(){var s,u=l*77+75,p=H[u];return p?(l=p.nextPos,p.result):(Ui.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(xi)),H[u]={nextPos:l,result:s},s)}function w(){var s,u=l*77+76,p=H[u];return p?(l=p.nextPos,p.result):(ir.test(t.charAt(l))?(s=t.charAt(l),l++):(s=e,E===0&&T(ll)),H[u]={nextPos:l,result:s},s)}function c(s,u,p){const f={type:s};u.children=p;for(const v of Object.keys(u))u[v]!==void 0&&(f[v]=u[v]);const g=X();return f.loc={start:g.start.offset,end:g.end.offset-1},f}if(Es=d(),Es!==e&&l===t.length)return Es;throw Es!==e&&l<t.length&&T(I()),si(nr,j<t.length?t.charAt(j):null,j<t.length?Qs(j,j+1):Qs(j,j))}const Sb=["infix","if","fn","match","block","exists","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function Fb(t){return Sb.includes(t.type)}function Qd(t){return"chain"in t&&t.chain!==null}function Nb(t,r,e){return{type:"call",target:t,args:r,loc:e}}function Ob(t,r,e){return{type:"index",target:t,index:r,loc:e}}function Tb(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function mt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=mt(e.expr,r);break}case"return":{e.expr=mt(e.expr,r);break}case"each":{e.items=mt(e.items,r),e.for=mt(e.for,r);break}case"for":{e.from!=null&&(e.from=mt(e.from,r)),e.to!=null&&(e.to=mt(e.to,r)),e.times!=null&&(e.times=mt(e.times,r)),e.for=mt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=mt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=mt(e.expr,r),e.dest=mt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=mt(e.operands[n],r);break}case"not":{e.expr=mt(e.expr,r);break}case"if":{e.cond=mt(e.cond,r),e.then=mt(e.then,r);for(const n of e.elseif)n.cond=mt(n.cond,r),n.then=mt(n.then,r);e.else!=null&&(e.else=mt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=mt(e.children[n],r);break}case"match":{e.about=mt(e.about,r);for(const n of e.qs)n.q=mt(n.q,r),n.a=mt(n.a,r);e.default!=null&&(e.default=mt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=mt(e.statements[n],r);break}case"exists":{e.identifier=mt(e.identifier,r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=mt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],mt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=mt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=mt(e.args[n],r);break}case"indexChain":{e.index=mt(e.index,r);break}case"call":{e.target=mt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=mt(e.args[n],r);break}case"index":{e.target=mt(e.target,r),e.index=mt(e.index,r);break}case"prop":{e.target=mt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=mt(e.members[n],r);break}case"or":case"and":{e.left=mt(e.left,r),e.right=mt(e.right,r);break}}if(Qd(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=mt(e.chain[n],r);return e}const kh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","exists","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Eh(t){throw new Eo(`Reserved word "${t}" cannot be used as variable name.`)}function Ib(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{kh.includes(t.name)&&Eh(t.name);break}case"meta":{t.name!=null&&kh.includes(t.name)&&Eh(t.name);break}case"fn":{for(const r of t.args)kh.includes(r.name)&&Eh(r.name);break}}return t}function jb(t){for(const r of t)mt(r,Ib);return t}function gg(t){return{type:"simple",name:t}}function Rb(t,r){return{type:"generic",name:t,inners:r}}function Db(t,r){return{type:"fn",args:t,result:r}}function dc(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=dc(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>dc(n)).join(", "),e=dc(t.result);return`@(${r}) { ${e} }`}}}function sf(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return gg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=sf(t.inner):r=gg("any"),Rb(t.name,[r])}}throw new Eo(`Unknown type: '${dc(t)}'`)}else{const r=t.args.map(e=>sf(e));return Db(r,sf(t.result))}}function Lb(t){switch(t.type){case"def":{t.varType!=null&&sf(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&sf(r.argType);t.retType!=null&&sf(t.retType);break}}return t}function Hb(t){for(const r of t)mt(r,Lb);return t}function yc(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=yc(n.expr.children)),r.push(n);else{if(e.length>0)throw new Eo("invalid attribute.");switch(n.type){case"fn":{n.children=yc(n.children);break}case"block":{n.statements=yc(n.statements);break}}r.push(n)}if(e.length>0)throw new Eo("invalid attribute.");return r}function Bb(t){if(Fb(t)&&Qd(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=Nb(n,h.args,h.loc);break}case"indexChain":{n=Ob(n,h.index,h.loc);break}case"propChain":{n=Tb(n,h.name,h.loc);break}}return n}return t}function Ub(t){for(let r=0;r<t.length;r++)t[r]=mt(t[r],Bb);return t}function wc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function Xd(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return wc(t,r,e);{const{left:n,right:h,info:d}=t;return wc(n,Xd(h,r,e),d)}}function uo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[uo(t.left),uo(t.right)]}}const qb={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:uo(t.left),right:uo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:uo(t.left),right:uo(t.right)}),priority:3}};function Kb(t){const r=t.operators.map(n=>{const h=qb[n];if(h==null)throw new Eo(`No such operator: ${n}.`);return h});let e=wc(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=Xd(e,t.operands[2+n],r[1+n]);return uo(e)}function zb(t){for(let r=0;r<t.length;r++)t[r]=mt(t[r],e=>e.type==="infix"?Kb(e):e);return t}var yu;let Vb=(yu=class{constructor(){me(this,"plugins");this.plugins={validate:[jb,Hb],transform:[yc,Ub,zb]}}static parse(r){return yu.instance==null&&(yu.instance=new yu),yu.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=vg(r,{startRule:"Preprocess"});e=vg(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new Eo(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`,n):new Eo(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`,n):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(yu,"instance"),yu);const Wb="0.16.0",Gb={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let gp=[],_f=null;function Jb(t){return gp=Vb.parse(t),JSON.stringify(gp,null,"	")}async function Zb(t){_f==null||_f.abort(),_f=new Us({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:hp(r,!0),print:!0})},err:t.err,log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:hp(e.val,!0),print:!1});break}}});try{await _f.exec(gp)}catch(r){t.err(r)}}const Qb=Object.freeze(Object.defineProperty({__proto__:null,exec:Zb,parse:Jb,samples:Gb,version:Wb},Symbol.toStringTag,{value:"Module"}));function mc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mc=function(e){return typeof e}:mc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Yd(t,r,e){var n=e.value;if(typeof n!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(mc(n)));var h=!1;return{configurable:!0,get:function(){if(h||this===t.prototype||this.hasOwnProperty(r)||typeof n!="function")return n;var _=n.bind(this);return h=!0,Object.defineProperty(this,r,{configurable:!0,get:function(){return _},set:function(M){n=M,delete this[r]}}),h=!1,_},set:function(_){n=_}}}function Xb(t){var r;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?r=Reflect.ownKeys(t.prototype):(r=Object.getOwnPropertyNames(t.prototype),typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t.prototype)))),r.forEach(function(e){if(e!=="constructor"){var n=Object.getOwnPropertyDescriptor(t.prototype,e);typeof n.value=="function"&&Object.defineProperty(t.prototype,e,Yd(t,e,n))}}),t}function kt(){return arguments.length===1?Xb.apply(void 0,arguments):Yd.apply(void 0,arguments)}let ey=class ty extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,ty)}},Mo=class extends ey{constructor(r,e){super(r,e)}},yr=class extends ey{constructor(r,e){super(r,e)}},Yb=class extends yr{constructor(r,e){super(r,e)}};var Io=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};let Qu=class ry{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new ry(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r);return this.log("read",{var:r,val:n}),n}throw new yr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new yr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){h.set(r,e),this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new yr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}};Io([kt],Qu.prototype,"log",null);Io([kt],Qu.prototype,"onUpdated",null);Io([kt],Qu.prototype,"createChildScope",null);Io([kt],Qu.prototype,"get",null);Io([kt],Qu.prototype,"getAll",null);Io([kt],Qu.prototype,"add",null);Io([kt],Qu.prototype,"assign",null);let rc;const e1=new Uint8Array(16);function t1(){if(!rc&&(rc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rc(e1)}const xs=[];for(let t=0;t<256;++t)xs.push((t+256).toString(16).slice(1));function r1(t,r=0){return(xs[t[r+0]]+xs[t[r+1]]+xs[t[r+2]]+xs[t[r+3]]+"-"+xs[t[r+4]]+xs[t[r+5]]+"-"+xs[t[r+6]]+xs[t[r+7]]+"-"+xs[t[r+8]]+xs[t[r+9]]+"-"+xs[t[r+10]]+xs[t[r+11]]+xs[t[r+12]]+xs[t[r+13]]+xs[t[r+14]]+xs[t[r+15]]).toLowerCase()}const s1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dg={randomUUID:s1};function n1(t,r,e){if(dg.randomUUID&&!r&&!t)return dg.randomUUID();t=t||{};const n=t.random||(t.rng||t1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return r1(n)}const ur={type:"null"},Pa={type:"bool",value:!0},Zn={type:"bool",value:!1},Ue=t=>({type:"num",value:t}),gr=t=>({type:"str",value:t}),nf=t=>({type:"bool",value:t}),rv=t=>({type:"obj",value:t}),Os=t=>({type:"arr",value:t}),a1=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),xe=t=>({type:"fn",native:t}),i1=t=>({type:"return",value:t}),l1=()=>({type:"break",value:null}),u1=()=>({type:"continue",value:null}),o1=t=>t.type==="return"?t.value:t;function ea(t){if(t==null)throw new yr("Expect anything, but got nothing.")}function un(t){if(t==null)throw new yr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new yr(`Expect boolean, but got ${t.type}.`)}function Hu(t){if(t==null)throw new yr("Expect function, but got nothing.");if(t.type!=="fn")throw new yr(`Expect function, but got ${t.type}.`)}function ps(t){if(t==null)throw new yr("Expect string, but got nothing.");if(t.type!=="str")throw new yr(`Expect string, but got ${t.type}.`)}function Le(t){if(t==null)throw new yr("Expect number, but got nothing.");if(t.type!=="num")throw new yr(`Expect number, but got ${t.type}.`)}function Su(t){if(t==null)throw new yr("Expect object, but got nothing.");if(t.type!=="obj")throw new yr(`Expect object, but got ${t.type}.`)}function af(t){if(t==null)throw new yr("Expect array, but got nothing.");if(t.type!=="arr")throw new yr(`Expect array, but got ${t.type}.`)}function f1(t){return t.type==="str"}function c1(t){return t.type==="num"}function h1(t){return t.type==="obj"}function p1(t){return t.type==="arr"}function dp(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function yp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>yp(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function wp(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>wp(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=wp(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function mp(t){if(t===null)return ur;if(typeof t=="boolean")return nf(t);if(typeof t=="string")return gr(t);if(typeof t=="number")return Ue(t);if(Array.isArray(t))return Os(t.map(r=>mp(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,mp(n));return rv(r)}return ur}const v1={help:gr("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":gr("0.14.1"),"Core:ai":gr("kawaii"),"Core:not":xe(([t])=>(un(t),t.value?Zn:Pa)),"Core:eq":xe(([t,r])=>(ea(t),ea(r),dp(t,r)?Pa:Zn)),"Core:neq":xe(([t,r])=>(ea(t),ea(r),dp(t,r)?Zn:Pa)),"Core:and":xe(([t,r])=>(un(t),t.value?(un(r),r.value?Pa:Zn):Zn)),"Core:or":xe(([t,r])=>(un(t),t.value?Pa:(un(r),r.value?Pa:Zn))),"Core:add":xe(([t,r])=>(Le(t),Le(r),Ue(t.value+r.value))),"Core:sub":xe(([t,r])=>(Le(t),Le(r),Ue(t.value-r.value))),"Core:mul":xe(([t,r])=>(Le(t),Le(r),Ue(t.value*r.value))),"Core:pow":xe(([t,r])=>{Le(t),Le(r);const e=t.value**r.value;if(isNaN(e))throw new yr("Invalid operation.");return Ue(e)}),"Core:div":xe(([t,r])=>{Le(t),Le(r);const e=t.value/r.value;if(isNaN(e))throw new yr("Invalid operation.");return Ue(e)}),"Core:mod":xe(([t,r])=>(Le(t),Le(r),Ue(t.value%r.value))),"Core:gt":xe(([t,r])=>(Le(t),Le(r),t.value>r.value?Pa:Zn)),"Core:lt":xe(([t,r])=>(Le(t),Le(r),t.value<r.value?Pa:Zn)),"Core:gteq":xe(([t,r])=>(Le(t),Le(r),t.value>=r.value?Pa:Zn)),"Core:lteq":xe(([t,r])=>(Le(t),Le(r),t.value<=r.value?Pa:Zn)),"Core:type":xe(([t])=>(ea(t),gr(t.type))),"Core:to_str":xe(([t])=>(ea(t),t.type==="str"?t:t.type==="num"?gr(t.value.toString()):gr("?"))),"Core:range":xe(([t,r])=>(Le(t),Le(r),t.value<r.value?Os(Array.from({length:r.value-t.value+1},(e,n)=>Ue(n+t.value))):t.value>r.value?Os(Array.from({length:t.value-r.value+1},(e,n)=>Ue(t.value-n))):Os([t]))),"Util:uuid":xe(()=>gr(n1())),"Json:stringify":xe(([t])=>(ea(t),gr(JSON.stringify(wp(t))))),"Json:parse":xe(([t])=>(ps(t),mp(JSON.parse(t.value)))),"Json:parsable":xe(([t])=>{ps(t);try{JSON.parse(t.value)}catch{return nf(!1)}return nf(!0)}),"Date:now":xe(()=>Ue(Date.now())),"Date:year":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":xe(([t])=>(t&&Le(t),Ue(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":xe(([t])=>(ps(t),Ue(new Date(t.value).getTime()))),"Math:Infinity":Ue(1/0),"Math:E":Ue(Math.E),"Math:LN2":Ue(Math.LN2),"Math:LN10":Ue(Math.LN10),"Math:LOG2E":Ue(Math.LOG2E),"Math:LOG10E":Ue(Math.LOG10E),"Math:PI":Ue(Math.PI),"Math:SQRT1_2":Ue(Math.SQRT1_2),"Math:SQRT2":Ue(Math.SQRT2),"Math:abs":xe(([t])=>(Le(t),Ue(Math.abs(t.value)))),"Math:acos":xe(([t])=>(Le(t),Ue(Math.acos(t.value)))),"Math:acosh":xe(([t])=>(Le(t),Ue(Math.acosh(t.value)))),"Math:asin":xe(([t])=>(Le(t),Ue(Math.asin(t.value)))),"Math:asinh":xe(([t])=>(Le(t),Ue(Math.asinh(t.value)))),"Math:atan":xe(([t])=>(Le(t),Ue(Math.atan(t.value)))),"Math:atanh":xe(([t])=>(Le(t),Ue(Math.atanh(t.value)))),"Math:atan2":xe(([t,r])=>(Le(t),Le(r),Ue(Math.atan2(t.value,r.value)))),"Math:cbrt":xe(([t])=>(Le(t),Ue(Math.cbrt(t.value)))),"Math:ceil":xe(([t])=>(Le(t),Ue(Math.ceil(t.value)))),"Math:clz32":xe(([t])=>(Le(t),Ue(Math.clz32(t.value)))),"Math:cos":xe(([t])=>(Le(t),Ue(Math.cos(t.value)))),"Math:cosh":xe(([t])=>(Le(t),Ue(Math.cosh(t.value)))),"Math:exp":xe(([t])=>(Le(t),Ue(Math.exp(t.value)))),"Math:expm1":xe(([t])=>(Le(t),Ue(Math.expm1(t.value)))),"Math:floor":xe(([t])=>(Le(t),Ue(Math.floor(t.value)))),"Math:fround":xe(([t])=>(Le(t),Ue(Math.fround(t.value)))),"Math:hypot":xe(([t])=>{af(t);const r=[];for(const e of t.value)Le(e),r.push(e.value);return Ue(Math.hypot(...r))}),"Math:imul":xe(([t,r])=>(Le(t),Le(r),Ue(Math.imul(t.value,r.value)))),"Math:log":xe(([t])=>(Le(t),Ue(Math.log(t.value)))),"Math:log1p":xe(([t])=>(Le(t),Ue(Math.log1p(t.value)))),"Math:log10":xe(([t])=>(Le(t),Ue(Math.log10(t.value)))),"Math:log2":xe(([t])=>(Le(t),Ue(Math.log2(t.value)))),"Math:max":xe(([t,r])=>(Le(t),Le(r),Ue(Math.max(t.value,r.value)))),"Math:min":xe(([t,r])=>(Le(t),Le(r),Ue(Math.min(t.value,r.value)))),"Math:pow":xe(([t,r])=>(Le(t),Le(r),Ue(Math.pow(t.value,r.value)))),"Math:round":xe(([t])=>(Le(t),Ue(Math.round(t.value)))),"Math:sign":xe(([t])=>(Le(t),Ue(Math.sign(t.value)))),"Math:sin":xe(([t])=>(Le(t),Ue(Math.sin(t.value)))),"Math:sinh":xe(([t])=>(Le(t),Ue(Math.sinh(t.value)))),"Math:sqrt":xe(([t])=>{Le(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new yr("Invalid operation.");return Ue(r)}),"Math:tan":xe(([t])=>(Le(t),Ue(Math.tan(t.value)))),"Math:tanh":xe(([t])=>(Le(t),Ue(Math.tanh(t.value)))),"Math:trunc":xe(([t])=>(Le(t),Ue(Math.trunc(t.value)))),"Math:rnd":xe(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?Ue(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):Ue(Math.random())),"Math:gen_rng":xe(([t])=>{if(ea(t),t.type!=="num"&&t.type!=="str")return ur;const r=df(t.value.toString());return xe(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?Ue(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):Ue(r()))}),"Num:to_hex":xe(([t])=>(Le(t),gr(t.value.toString(16)))),"Num:from_hex":xe(([t])=>(ps(t),Ue(parseInt(t.value,16)))),"Str:lf":gr(`
`),"Str:lt":xe(([t,r])=>(ps(t),ps(r),t.value<r.value?Ue(-1):t.value===r.value?Ue(0):Ue(1))),"Str:gt":xe(([t,r])=>(ps(t),ps(r),t.value>r.value?Ue(-1):t.value===r.value?Ue(0):Ue(1))),"Obj:keys":xe(([t])=>(Su(t),Os(Array.from(t.value.keys()).map(r=>gr(r))))),"Obj:vals":xe(([t])=>(Su(t),Os(Array.from(t.value.values())))),"Obj:kvs":xe(([t])=>(Su(t),Os(Array.from(t.value.entries()).map(([r,e])=>Os([gr(r),e]))))),"Obj:get":xe(([t,r])=>(Su(t),ps(r),t.value.get(r.value)??ur)),"Obj:set":xe(([t,r,e])=>(Su(t),ps(r),ea(e),t.value.set(r.value,e),ur)),"Obj:has":xe(([t,r])=>(Su(t),ps(r),nf(t.value.has(r.value)))),"Obj:copy":xe(([t])=>(Su(t),rv(new Map(t.value)))),"Async:interval":xe(async([t,r,e],n)=>{Le(t),Hu(r),e&&(un(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.call(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),xe(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":xe(async([t,r],e)=>{Le(t),Hu(r);const n=setTimeout(()=>{e.call(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),xe(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},Lo={num:{to_str:t=>xe(async(r,e)=>gr(t.value.toString()))},str:{to_num:t=>xe(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?ur:Ue(n)}),len:t=>Ue(yf(t.value)),replace:t=>xe(async([r,e],n)=>(ps(r),ps(e),gr(t.value.split(r.value).join(e.value)))),index_of:t=>xe(async([r],e)=>(ps(r),Ue(mf(t.value,r.value)))),incl:t=>xe(async([r],e)=>(ps(r),t.value.includes(r.value)?Pa:Zn)),trim:t=>xe(async(r,e)=>gr(t.value.trim())),upper:t=>xe(async(r,e)=>gr(t.value.toUpperCase())),lower:t=>xe(async(r,e)=>gr(t.value.toLowerCase())),split:t=>xe(async([r],e)=>(r&&ps(r),Os(r?t.value.split(r?r.value:"").map(n=>gr(n)):cn(t.value).map(n=>gr(n))))),slice:t=>xe(async([r,e],n)=>(Le(r),Le(e),gr(wf(t.value,r.value,e.value)))),pick:t=>xe(async([r],e)=>{Le(r);const h=cn(t.value)[r.value];return h?gr(h):ur})},arr:{len:t=>Ue(t.value.length),push:t=>xe(async([r],e)=>(ea(r),t.value.push(r),t)),unshift:t=>xe(async([r],e)=>(ea(r),t.value.unshift(r),t)),pop:t=>xe(async(r,e)=>t.value.pop()??ur),shift:t=>xe(async(r,e)=>t.value.shift()??ur),concat:t=>xe(async([r],e)=>(af(r),Os(t.value.concat(r.value)))),slice:t=>xe(async([r,e],n)=>(Le(r),Le(e),Os(t.value.slice(r.value,e.value)))),join:t=>xe(async([r],e)=>(r&&ps(r),gr(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>xe(async([r],e)=>{Hu(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,Ue(d)]));return Os(await Promise.all(n))}),filter:t=>xe(async([r],e)=>{Hu(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,Ue(h)]);un(_),_.value&&n.push(d)}return Os(n)}),reduce:t=>xe(async([r,e],n)=>{Hu(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,Ue(_)])}return d}),find:t=>xe(async([r],e)=>{Hu(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,Ue(n)]);if(un(d),d.value)return h}return ur}),incl:t=>xe(async([r],e)=>(ea(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Zn:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?Pa:Zn)),reverse:t=>xe(async(r,e)=>(t.value.reverse(),ur)),copy:t=>xe(async(r,e)=>Os([...t.value])),sort:t=>xe(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);Le(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return Hu(r),af(t),t.value=await n(t.value,r),t})}};var sa=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const sy=300,g1=sy-1;let En=class{constructor(r,e){me(this,"vars");me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);this.opts=e??{};const n={print:xe(([h])=>{ea(h),this.opts.out&&this.opts.out(h)}),readline:xe(async h=>{const d=h[0];if(ps(d),this.opts.in==null)return ur;const _=await this.opts.in(d.value);return gr(_)})};this.vars={...r,...v1,...n},this.scope=new Qu([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{const h=await this._eval(n.expr,e);e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??ur;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],e[d]);const h=r.scope.createChildScope(n);return o1(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return ur;if(this.stepCount%sy===g1&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new yr("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);Hu(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(un(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(un(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return ur}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(dp(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):ur}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return ur}case"for":{if(r.times){const n=await this._eval(r.times,e);Le(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);Le(n),Le(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,Ue(d)]])));if(_.type==="break")break;if(_.type==="return")return _}}return ur}case"each":{const n=await this._eval(r.items,e);af(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,h]])));if(d.type==="break")break;if(d.type==="return")return d}return ur}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,n),ur}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),ur}case"addAssign":{const n=await this._eval(r.dest,e);Le(n);const h=await this._eval(r.expr,e);return Le(h),await this.assign(e,r.dest,Ue(n.value+h.value)),ur}case"subAssign":{const n=await this._eval(r.dest,e);Le(n);const h=await this._eval(r.expr,e);return Le(h),await this.assign(e,r.dest,Ue(n.value-h.value)),ur}case"null":return ur;case"bool":return nf(r.value);case"num":return Ue(r.value);case"str":return gr(r.value);case"arr":return Os(await Promise.all(r.value.map(async n=>await this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return rv(n)}case"prop":{const n=await this._eval(r.target,e);if(h1(n))return n.value.has(r.name)?n.value.get(r.name):ur;if(c1(n)){if(Object.hasOwn(Lo.num,r.name))return Lo.num[r.name](n);throw new yr(`No such prop (${r.name}) in ${n.type}.`)}else if(f1(n)){if(Object.hasOwn(Lo.str,r.name))return Lo.str[r.name](n);throw new yr(`No such prop (${r.name}) in ${n.type}.`)}else if(p1(n)){if(Object.hasOwn(Lo.arr,r.name))return Lo.arr[r.name](n);throw new yr(`No such prop (${r.name}) in ${n.type}.`)}else throw new yr(`Cannot read prop (${r.name}) of ${n.type}.`)}case"index":{const n=await this._eval(r.target,e);af(n);const h=await this._eval(r.index,e);Le(h);const d=n.value[h.value];if(d===void 0)throw new Yb(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}case"not":{const n=await this._eval(r.expr,e);return un(n),nf(!n.value)}case"fn":return a1(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);let _="";d.type==="str"?_=d.value:d.type==="num"&&(_=d.value.toString()),n+=_}return gr(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),i1(n)}case"break":return this.log("block:break",{scope:e.name}),l1();case"continue":return this.log("block:continue",{scope:e.name}),u1();case"ns":return ur;case"meta":return ur;case"and":{const n=await this._eval(r.left,e);if(un(n),n.value){const h=await this._eval(r.right,e);return un(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(un(n),n.value)return n;{const h=await this._eval(r.right,e);return un(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=ur;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r);af(h);const d=await this._eval(e.index,r);Le(d),h.value[d.value]=n}else if(e.type==="prop"){const h=await this._eval(e.target,r);Su(h),h.value.set(e.name,n)}else throw new yr("The left-hand side of an assignment expression must be a variable or a property/index access.")}};sa([kt],En.prototype,"exec",null);sa([kt],En.prototype,"execFn",null);sa([kt],En.prototype,"log",null);sa([kt],En.prototype,"collectNs",null);sa([kt],En.prototype,"collectNsMember",null);sa([kt],En.prototype,"_fn",null);sa([kt],En.prototype,"_eval",null);sa([kt],En.prototype,"_run",null);sa([kt],En.prototype,"registerAbortHandler",null);sa([kt],En.prototype,"unregisterAbortHandler",null);sa([kt],En.prototype,"abort",null);sa([kt],En.prototype,"assign",null);sa([kt],En,"collectMetadata",null);function d1(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function Ao(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,Ao.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}d1(Ao,Error);function Mh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}Ao.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+d.line+":"+d.column;if(e){var C=this.location.end,M=Mh("",d.line.toString().length," "),F=e[h.line-1],O=h.line===C.line?C.column:F.length+1,D=O-h.column||1;r+=`
 --> `+_+`
`+M+` |
`+d.line+" | "+F+`
`+M+" | "+Mh("",h.column-1," ")+Mh("",D,"^")}else r+=`
 at `+_}return r};Ao.buildMessage=function(t,r){var e={literal:function(F){return'"'+h(F.text)+'"'},class:function(F){var O=F.parts.map(function(D){return Array.isArray(D)?d(D[0])+"-"+d(D[1]):d(D)});return"["+(F.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};function n(F){return F.charCodeAt(0).toString(16).toUpperCase()}function h(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function d(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function _(F){return e[F.type](F)}function C(F){var O=F.map(_),D,q;if(O.sort(),O.length>0){for(D=1,q=1;D<O.length;D++)O[D-1]!==O[D]&&(O[q]=O[D],q++);O.length=q}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}function M(F){return F?'"'+h(F)+'"':"end of input"}return"Expected "+C(t)+" but "+M(r)+" found."};function yg(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:T,Main:Rn},d=T,_="//",C="/*",M="*/",F="(",O=")",D="::",q="{",Q="}",ye="###",ue="let",pe=":",Fe="=",W="var",z="<:",G="#[",J="]",Z="each",ee=",",se="for",ne="return",Se="loop",je="break",_e="continue",Xe="+=",pt="-=",ar="\\",vt="||",ft="&&",ze="==",ct="!=",Lt="<=",Kt=">=",lt="<",Hr=">",rr="+",_r="-",Dt="*",mr="^",Br="/",$r="%",Cr="!",zt="[",pr=".",V="if",te="elif",ie="else",de="match",le="=>",ke="eval",Ne="`",Ae='"',Ce="'",we='\\"',Ke="\\'",Qe="true",Ge="false",Je="null",rt=";",ht="@",At="@(",Et=`\r
`,_t=/^[A-Z0-9_:]/i,bt=/^[^`{]/,qs=/^[{}`]/,zr=/^[+\-]/,Vr=/^[1-9]/,gt=/^[0-9]/,Ft=/^[A-Z_]/i,gn=/^[A-Z0-9_]/i,Gr=/^[\r\n]/,Bi=/^[ \t\r\n]/,Ui=/^[ \t]/,ir=su(),Vt=ae("//",!1),_s=ae("/*",!1),Sn=ae("*/",!1),Wt=ae("(",!1),$t=ae(")",!1),Pr=ae("::",!1),sr=ae("{",!1),tt=ae("}",!1),Ht=ae("###",!1),rs=ae("let",!1),Nt=ae(":",!1),Ot=ae("=",!1),Jr=ae("var",!1),mi=ae("<:",!1),gs=ae("#[",!1),os=ae("]",!1),ds=ae("each",!1),dt=ae(",",!1),Mt=ae("for",!1),Ks=ae("return",!1),xr=X([["A","Z"],["0","9"],"_",":"],!1,!0),br=ae("loop",!1),qi=ae("break",!1),$i=ae("continue",!1),Ki=ae("+=",!1),zi=ae("-=",!1),Na=ae("\\",!1),Oa=ae("||",!1),Vi=ae("&&",!1),Wi=ae("==",!1),Gi=ae("!=",!1),Ji=ae("<=",!1),Ta=ae(">=",!1),Fn=ae("<",!1),Nn=ae(">",!1),Ia=ae("+",!1),Zi=ae("-",!1),ja=ae("*",!1),dn=ae("^",!1),Qi=ae("/",!1),Xi=ae("%",!1),Yi=ae("!",!1),Cs=ae("[",!1),ys=ae(".",!1),On=ae("if",!1),aa=ae("elif",!1),ia=ae("else",!1),el=ae("match",!1),zs=ae("=>",!1),fs=ae("eval",!1),Ps=ae("`",!1),cs=X(["`","{"],!0,!1),Vs=X(["{","}","`"],!1,!1),Ws=ae('"',!1),Gs=ae("'",!1),hs=ae('\\"',!1),Js=ae("\\'",!1),ks=X(["+","-"],!1,!1),Ra=X([["1","9"]],!1,!1),Bt=X([["0","9"]],!1,!1),Da=ae("true",!1),lr=ae("false",!1),tl=ae("null",!1),Zs=ae(";",!1),rl=ae("@",!1),ws=ae("@(",!1),sl=X([["A","Z"],"_"],!1,!0),Tn=X([["A","Z"],["0","9"],"_"],!1,!0),nl=ae(`\r
`,!1),La=X(["\r",`
`],!1,!1),al=X([" ","	","\r",`
`],!1,!1),il=X([" ","	"],!1,!1),xi=function(a){return a.join("")},ll=function(){return E()},bi=function(){return E()},ul=function(){return""},Ai=function(){return""},ol=function(a){return a??[]},Ha=function(a,o){return o},fl=function(a,o){return[a,...o]},In=function(a,o){return o},cl=function(a,o){return[a,...o]},jn=function(a,o){return o},hl=function(a,o){return[a,...o]},Ba=function(a){return a},pl=function(a,o){return b("ns",{name:a,members:o})},vl=function(a,o){return b("meta",{name:a,value:o})},gl=function(a){return b("meta",{name:null,value:a})},dl=function(a,o,w){return b("def",{name:a,varType:o,expr:w,mut:!1,attr:[]})},yl=function(a,o,w){return b("def",{name:a,varType:o,expr:w,mut:!0,attr:[]})},wl=function(a){return b("identifier",{name:"print",chain:[b("callChain",{args:[a]})]})},ml=function(a,o){return b("attr",{name:a,value:o??b("bool",{value:!0})})},$l=function(a,o,w){return b("each",{var:a,items:o,for:w})},xl=function(a,o,w){return b("each",{var:a,items:o,for:w})},bl=function(a,o){return o},Al=function(a,o,w,c){return b("for",{var:a,from:o??b("num",{value:0}),to:w,for:c})},_l=function(a,o){return o},Cl=function(a,o,w,c){return b("for",{var:a,from:o??b("num",{value:0}),to:w,for:c})},Pl=function(a,o){return b("for",{times:a,for:o})},_i=function(a,o){return b("for",{times:a,for:o})},kl=function(a){return b("return",{expr:a})},El=function(a){return b("loop",{statements:a})},Ml=function(){return b("break",{})},Sl=function(){return b("continue",{})},Fl=function(a,o,w){return o==="+="?b("addAssign",{dest:a,expr:w}):o==="-="?b("subAssign",{dest:a,expr:w}):b("assign",{dest:a,expr:w})},la=function(a,o,w){return{op:o,term:w}},Nl=function(a,o){return b("infix",{operands:[a,...o.map(w=>w.term)],operators:o.map(w=>w.op)})},Ua=function(){return E()},Ol=function(a){return b("not",{expr:a})},Tl=function(a,o){return{...a,chain:o}},Il=function(a){return b("callChain",{args:a??[]})},qa=function(a,o){return o},jl=function(a,o){return[a,...o]},ua=function(a){return b("indexChain",{index:a})},Rl=function(a){return b("propChain",{name:a})},Dl=function(a,o,w,c){return b("if",{cond:a,then:o,elseif:w??[],else:c})},Ll=function(a,o){return[a,...o]},Hl=function(a,o){return{cond:a,then:o}},Bl=function(a){return a},Ka=function(a,o,w){return{q:o,a:w}},Ci=function(a,o,w){return b("match",{about:a,qs:o??[],default:w})},za=function(a){return b("block",{statements:a})},Pi=function(a){return b("identifier",{name:a})},Ul=function(a){return b("tmpl",{tmpl:a})},ql=function(a){return a.join("")},Va=function(a){return a},Kl=function(a){return b("str",{value:a.join("")})},Wa=function(a){return a},Ga=function(a){return b("str",{value:a.join("")})},zl=function(){return'"'},Ja=function(){return"'"},Vl=function(){return b("num",{value:parseFloat(E())})},Wl=function(){return b("num",{value:parseFloat(E())})},ki=function(){return b("num",{value:parseInt(E(),10)})},Gl=function(){return b("num",{value:parseInt(E(),10)})},Ei=function(){return b("bool",{value:!0})},Jl=function(){return b("bool",{value:!1})},Zl=function(){return b("null",{})},Za=function(a,o){return{k:a,v:o}},Ql=function(a){const o=new Map;for(const w of a)o.set(w.k,w.v);return b("obj",{value:o})},Qa=function(a){return a},oa=function(a){return b("arr",{value:a})},Xl=function(a,o){return{name:a,argType:o}},fa=function(a,o){return[a,...o]},Yl=function(a,o,w,c,s,u){return(a.length>0||w.length>0)&&Es("Cannot use spaces before or after the function name."),b("def",{name:o,expr:b("fn",{args:c??[],retType:s},u??[]),mut:!1,attr:[]})},eu=function(a,o,w){return b("fn",{args:a??[],retType:o},w??[])},Xa=function(a){return a},tu=function(a){return b("arr",{value:a})},Ya=function(a,o){return{k:a,v:o}},ei=function(a){const o=new Map;for(const w of a)o.set(w.k,w.v);return b("obj",{value:o})},ru=function(a,o){return b("fnTypeSource",{args:a??[],result:o})},ti=function(a,o){return[a,...o]},$=function(a,o){return b("namedTypeSource",{name:a,inner:o})},be=function(a){return b("namedTypeSource",{name:a,inner:null})},yn=function(){return E()},ss=function(){return E()},ca=function(a){return b("block",{statements:a??[]})},i=0,R=0,ns=[{line:1,column:1}],l=0,Y=[],S=0,j={},nr;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function E(){return t.substring(R,i)}function H(){return Ms(R,i)}function Es(a,o){throw o=o!==void 0?o:Ms(R,i),ri(a,o)}function ae(a,o){return{type:"literal",text:a,ignoreCase:o}}function X(a,o,w){return{type:"class",parts:a,inverted:o,ignoreCase:w}}function su(){return{type:"any"}}function fe(){return{type:"end"}}function Gt(a){var o=ns[a],w;if(o)return o;for(w=a-1;!ns[w];)w--;for(o=ns[w],o={line:o.line,column:o.column};w<a;)t.charCodeAt(w)===10?(o.line++,o.column=1):o.column++,w++;return ns[a]=o,o}function Ms(a,o,w){var c=Gt(a),s=Gt(o),u={source:n,start:{offset:a,line:c.line,column:c.column},end:{offset:o,line:s.line,column:s.column}};return w&&n&&typeof n.offset=="function"&&(u.start=n.offset(u.start),u.end=n.offset(u.end)),u}function I(a){i<l||(i>l&&(l=i,Y=[]),Y.push(a))}function ri(a,o){return new Ao(a,null,null,o)}function Qs(a,o,w){return new Ao(Ao.buildMessage(a,o),a,o,w)}function T(){var a,o,w,c=i*76+0,s=j[c];if(s)return i=s.nextPos,s.result;for(a=i,o=[],w=Xs();w!==e;)o.push(w),w=Xs();return R=a,o=xi(o),a=o,j[c]={nextPos:i,result:a},a}function Xs(){var a,o,w=i*76+1,c=j[w];return c?(i=c.nextPos,c.result):(a=i,o=Hn(),o!==e&&(R=a,o=ll()),a=o,a===e&&(a=i,o=en(),o!==e&&(R=a,o=bi()),a=o,a===e&&(a=si(),a===e&&(t.length>i?(a=t.charAt(i),i++):(a=e,S===0&&I(ir))))),j[w]={nextPos:i,result:a},a)}function si(){var a,o,w,c,s,u,p=i*76+2,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,2)===_?(o=_,i+=2):(o=e,S===0&&I(Vt)),o!==e){for(w=[],c=i,s=i,S++,u=y(),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,u=y(),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);R=a,a=ul()}else i=a,a=e;if(a===e)if(a=i,t.substr(i,2)===C?(o=C,i+=2):(o=e,S===0&&I(_s)),o!==e){for(w=[],c=i,s=i,S++,t.substr(i,2)===M?(u=M,i+=2):(u=e,S===0&&I(Sn)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.substr(i,2)===M?(u=M,i+=2):(u=e,S===0&&I(Sn)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);t.substr(i,2)===M?(c=M,i+=2):(c=e,S===0&&I(Sn)),c!==e?(R=a,a=Ai()):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Rn(){var a,o,w,c,s,u=i*76+3,p=j[u];if(p)return i=p.nextPos,p.result;for(a=i,o=[],w=m();w!==e;)o.push(w),w=m();for(w=Ys(),w===e&&(w=null),c=[],s=m();s!==e;)c.push(s),s=m();return R=a,a=ol(w),j[u]={nextPos:i,result:a},a}function Ys(){var a,o,w,c,s,u,p,f,g=i*76+4,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=wn(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=wn(),f!==e?(R=c,c=Ha(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=wn(),f!==e?(R=c,c=Ha(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=fl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function St(){var a,o,w,c,s,u,p,f,g=i*76+5,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=as(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=as(),f!==e?(R=c,c=In(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=as(),f!==e?(R=c,c=In(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=cl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Zr(){var a,o,w,c,s,u,p,f,g=i*76+6,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=vr(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=vr(),f!==e?(R=c,c=jn(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=vr(),f!==e?(R=c,c=jn(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=hl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function wn(){var a,o=i*76+7,w=j[o];return w?(i=w.nextPos,w.result):(a=ms(),a===e&&(a=ni(),a===e&&(a=vr())),j[o]={nextPos:i,result:a},a)}function as(){var a,o=i*76+8,w=j[o];return w?(i=w.nextPos,w.result):(a=Fr(),a===e&&(a=Xr(),a===e&&(a=ms())),j[o]={nextPos:i,result:a},a)}function vr(){var a,o=i*76+9,w=j[o];return w?(i=w.nextPos,w.result):(a=Fr(),a===e&&(a=Xr(),a===e&&(a=ai(),a===e&&(a=iu(),a===e&&(a=nu(),a===e&&(a=ii(),a===e&&(a=au(),a===e&&(a=Ss(),a===e&&(a=Mi(),a===e&&(a=lu(),a===e&&(a=uu(),a===e&&(a=We()))))))))))),j[o]={nextPos:i,result:a},a)}function We(){var a,o=i*76+10,w=j[o];return w?(i=w.nextPos,w.result):(a=Si(),a===e&&(a=Qr()),j[o]={nextPos:i,result:a},a)}function Qr(){var a,o=i*76+11,w=j[o];return w?(i=w.nextPos,w.result):(a=ou(),a===e&&(a=hu(),a===e&&(a=Or(),a===e&&(a=is()))),j[o]={nextPos:i,result:a},a)}function is(){var a,o,w,c,s,u,p=i*76+12,f=j[p];if(f)return i=f.nextPos,f.result;if(a=Oi(),a===e&&(a=mn(),a===e&&(a=Hn(),a===e&&(a=en(),a===e&&(a=fi(),a===e&&(a=qn(),a===e&&(a=ya(),a===e&&(a=wa(),a===e&&(a=cu(),a===e&&(a=Fi(),a===e&&(a=fu(),a===e)))))))))))if(a=i,t.charCodeAt(i)===40?(o=F,i++):(o=e,S===0&&I(Wt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=We(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e?(R=a,a=Ba(c)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function qe(){var a,o=i*76+13,w=j[o];return w?(i=w.nextPos,w.result):(a=fi(),a===e&&(a=en(),a===e&&(a=qn(),a===e&&(a=Vn(),a===e&&(a=pi(),a===e&&(a=ya()))))),j[o]={nextPos:i,result:a},a)}function ms(){var a,o,w,c,s,u,p,f,g,v,A=i*76+14,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===D?(o=D,i+=2):(o=e,S===0&&I(Pr)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(t.charCodeAt(i)===123?(u=q,i++):(u=e,S===0&&I(sr)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(f=St(),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();t.charCodeAt(i)===125?(v=Q,i++):(v=e,S===0&&I(tt)),v!==e?(R=a,a=pl(c,f)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function ni(){var a,o,w,c,s,u,p=i*76+15,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,3)===ye?(o=ye,i+=3):(o=e,S===0&&I(Ht)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=Ve(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();u=qe(),u!==e?(R=a,a=vl(c,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ye?(o=ye,i+=3):(o=e,S===0&&I(Ht)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();c=qe(),c!==e?(R=a,a=gl(c)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Fr(){var a,o,w,c,s,u,p,f,g,v=i*76+16,A=j[v];if(A)return i=A.nextPos,A.result;if(a=i,t.substr(i,3)===ue?(o=ue,i+=3):(o=e,S===0&&I(rs)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===58?(p=pe,i++):(p=e,S===0&&I(Nt)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=nt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===61?(p=Fe,i++):(p=e,S===0&&I(Ot)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=We(),g!==e?(R=a,a=dl(c,s,g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===W?(o=W,i+=3):(o=e,S===0&&I(Jr)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===58?(p=pe,i++):(p=e,S===0&&I(Nt)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=nt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===61?(p=Fe,i++):(p=e,S===0&&I(Ot)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=We(),g!==e?(R=a,a=yl(c,s,g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[v]={nextPos:i,result:a},a}function ai(){var a,o,w,c,s=i*76+17,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,t.substr(i,2)===z?(o=z,i+=2):(o=e,S===0&&I(mi)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();c=We(),c!==e?(R=a,a=wl(c)):(i=a,a=e)}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function nu(){var a,o,w,c,s,u,p,f=i*76+18,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,t.substr(i,2)===G?(o=G,i+=2):(o=e,S===0&&I(gs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();for(p=qe(),p!==e?s=p:(i=s,s=e),s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();t.charCodeAt(i)===93?(p=J,i++):(p=e,S===0&&I(os)),p!==e?(R=a,a=ml(c,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[f]={nextPos:i,result:a},a}function ii(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+19,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.substr(i,4)===Z?(o=Z,i+=4):(o=e,S===0&&I(ds)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(t.substr(i,3)===ue?(s=ue,i+=3):(s=e,S===0&&I(rs)),s!==e){if(u=[],p=m(),p!==e)for(;p!==e;)u.push(p),p=m();else u=e;if(u!==e)if(p=Ve(),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();for(t.charCodeAt(i)===44?(g=ee,i++):(g=e,S===0&&I(dt)),g===e&&(g=null),v=[],A=m();A!==e;)v.push(A),A=m();if(A=We(),A!==e)if(t.charCodeAt(i)===41?(x=O,i++):(x=e,S===0&&I($t)),x!==e){for(k=[],N=m();N!==e;)k.push(N),N=m();N=Ye(),N!==e?(R=a,a=$l(p,A,N)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,4)===Z?(o=Z,i+=4):(o=e,S===0&&I(ds)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(t.substr(i,3)===ue?(c=ue,i+=3):(c=e,S===0&&I(rs)),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();if(v=We(),v!==e){if(A=[],x=m(),x!==e)for(;x!==e;)A.push(x),x=m();else A=e;A!==e?(x=Ye(),x!==e?(R=a,a=xl(u,v,x)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function au(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K=i*76+20,re=j[K];if(re)return i=re.nextPos,re.result;if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(t.substr(i,3)===ue?(s=ue,i+=3):(s=e,S===0&&I(rs)),s!==e){if(u=[],p=m(),p!==e)for(;p!==e;)u.push(p),p=m();else u=e;if(u!==e)if(p=Ve(),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();if(g=i,t.charCodeAt(i)===61?(v=Fe,i++):(v=e,S===0&&I(Ot)),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();x=We(),x!==e?(R=g,g=bl(p,x)):(i=g,g=e)}else i=g,g=e;for(g===e&&(g=null),t.charCodeAt(i)===44?(v=ee,i++):(v=e,S===0&&I(dt)),v===e&&(v=null),A=[],x=m();x!==e;)A.push(x),x=m();if(x=We(),x!==e)if(t.charCodeAt(i)===41?(k=O,i++):(k=e,S===0&&I($t)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();L=Ye(),L!==e?(R=a,a=Al(p,g,x,L)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(t.substr(i,3)===ue?(c=ue,i+=3):(c=e,S===0&&I(rs)),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(f=i,t.charCodeAt(i)===61?(g=Fe,i++):(g=e,S===0&&I(Ot)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();A=We(),A!==e?(R=f,f=_l(u,A)):(i=f,f=e)}else i=f,f=e;for(f===e&&(f=null),t.charCodeAt(i)===44?(g=ee,i++):(g=e,S===0&&I(dt)),g===e&&(g=null),v=[],A=m();A!==e;)v.push(A),A=m();if(A=We(),A!==e){if(x=[],k=m(),k!==e)for(;k!==e;)x.push(k),k=m();else x=e;x!==e?(k=Ye(),k!==e?(R=a,a=Cl(u,f,A,k)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(s=We(),s!==e)if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=Ye(),f!==e?(R=a,a=Pl(s,f)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=We(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;s!==e?(u=Ye(),u!==e?(R=a,a=_i(c,u)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e}}return j[K]={nextPos:i,result:a},a}function iu(){var a,o,w,c,s,u=i*76+21,p=j[u];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,6)===ne?(o=ne,i+=6):(o=e,S===0&&I(Ks)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();s=We(),s!==e?(R=a,a=kl(s)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[u]={nextPos:i,result:a},a}function Ss(){var a,o,w,c,s,u,p,f,g=i*76+22,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,t.substr(i,4)===Se?(o=Se,i+=4):(o=e,S===0&&I(br)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===123?(c=q,i++):(c=e,S===0&&I(sr)),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();if(u=Zr(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();t.charCodeAt(i)===125?(f=Q,i++):(f=e,S===0&&I(tt)),f!==e?(R=a,a=El(u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Mi(){var a,o,w,c,s=i*76+23,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,5)===je?(o=je,i+=5):(o=e,S===0&&I(qi)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Ml()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function lu(){var a,o,w,c,s=i*76+24,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,8)===_e?(o=_e,i+=8):(o=e,S===0&&I($i)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Sl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function uu(){var a,o,w,c,s,u,p=i*76+25,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=We(),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.substr(i,2)===Xe?(c=Xe,i+=2):(c=e,S===0&&I(Ki)),c===e&&(t.substr(i,2)===pt?(c=pt,i+=2):(c=e,S===0&&I(zi)),c===e&&(t.charCodeAt(i)===61?(c=Fe,i++):(c=e,S===0&&I(Ot)))),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();u=We(),u!==e?(R=a,a=Fl(o,c,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Si(){var a,o,w,c,s,u,p,f,g=i*76+26,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=Qr(),o!==e){for(w=[],c=i,s=[],u=Nr();u!==e;)s.push(u),u=Nr();if(u=ha(),u!==e){for(p=[],f=Nr();f!==e;)p.push(f),f=Nr();f=Qr(),f!==e?(R=c,c=la(o,u,f)):(i=c,c=e)}else i=c,c=e;if(c!==e)for(;c!==e;){for(w.push(c),c=i,s=[],u=Nr();u!==e;)s.push(u),u=Nr();if(u=ha(),u!==e){for(p=[],f=Nr();f!==e;)p.push(f),f=Nr();f=Qr(),f!==e?(R=c,c=la(o,u,f)):(i=c,c=e)}else i=c,c=e}else w=e;w!==e?(R=a,a=Nl(o,w)):(i=a,a=e)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Nr(){var a,o,w,c=i*76+27,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===92?(o=ar,i++):(o=e,S===0&&I(Na)),o!==e?(w=ge(),w!==e?(o=[o,w],a=o):(i=a,a=e)):(i=a,a=e),a===e&&(a=P()),j[c]={nextPos:i,result:a},a)}function ha(){var a,o,w=i*76+28,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===vt?(o=vt,i+=2):(o=e,S===0&&I(Oa)),o===e&&(t.substr(i,2)===ft?(o=ft,i+=2):(o=e,S===0&&I(Vi)),o===e&&(t.substr(i,2)===ze?(o=ze,i+=2):(o=e,S===0&&I(Wi)),o===e&&(t.substr(i,2)===ct?(o=ct,i+=2):(o=e,S===0&&I(Gi)),o===e&&(t.substr(i,2)===Lt?(o=Lt,i+=2):(o=e,S===0&&I(Ji)),o===e&&(t.substr(i,2)===Kt?(o=Kt,i+=2):(o=e,S===0&&I(Ta)),o===e&&(t.charCodeAt(i)===60?(o=lt,i++):(o=e,S===0&&I(Fn)),o===e&&(t.charCodeAt(i)===62?(o=Hr,i++):(o=e,S===0&&I(Nn)),o===e&&(t.charCodeAt(i)===43?(o=rr,i++):(o=e,S===0&&I(Ia)),o===e&&(t.charCodeAt(i)===45?(o=_r,i++):(o=e,S===0&&I(Zi)),o===e&&(t.charCodeAt(i)===42?(o=Dt,i++):(o=e,S===0&&I(ja)),o===e&&(t.charCodeAt(i)===94?(o=mr,i++):(o=e,S===0&&I(dn)),o===e&&(t.charCodeAt(i)===47?(o=Br,i++):(o=e,S===0&&I(Qi)),o===e&&(t.charCodeAt(i)===37?(o=$r,i++):(o=e,S===0&&I(Xi))))))))))))))),o!==e&&(R=a,o=Ua()),a=o,j[w]={nextPos:i,result:a},a)}function Fi(){var a,o,w,c=i*76+29,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===33?(o=Cr,i++):(o=e,S===0&&I(Yi)),o!==e?(w=We(),w!==e?(R=a,a=Ol(w)):(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function Or(){var a,o,w,c,s=i*76+30,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,o=is(),o!==e){if(w=[],c=Dn(),c===e&&(c=ui(),c===e&&(c=Ln())),c!==e)for(;c!==e;)w.push(c),c=Dn(),c===e&&(c=ui(),c===e&&(c=Ln()));else w=e;w!==e?(R=a,a=Tl(o,w)):(i=a,a=e)}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function Dn(){var a,o,w,c,s,u,p=i*76+31,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===40?(o=F,i++):(o=e,S===0&&I(Wt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=li(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e?(R=a,a=Il(c)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function li(){var a,o,w,c,s,u,p=i*76+32,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=We(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=We(),u!==e?(R=c,c=qa(o,u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=We(),u!==e?(R=c,c=qa(o,u)):(i=c,c=e)):(i=c,c=e);R=a,a=jl(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function ui(){var a,o,w,c,s,u,p=i*76+33,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=We(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=ua(c)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Ln(){var a,o,w,c=i*76+34,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===46?(o=pr,i++):(o=e,S===0&&I(ys)),o!==e?(w=Ve(),w!==e?(R=a,a=Rl(w)):(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function ou(){var a,o,w,c,s,u,p,f,g,v,A=i*76+35,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===V?(o=V,i+=2):(o=e,S===0&&I(On)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=We(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ye(),u!==e){if(p=i,f=[],g=m(),g!==e)for(;g!==e;)f.push(g),g=m();else f=e;if(f!==e?(g=oi(),g!==e?p=g:(i=p,p=e)):(i=p,p=e),p===e&&(p=null),f=i,g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;g!==e?(v=Ni(),v!==e?f=v:(i=f,f=e)):(i=f,f=e),f===e&&(f=null),R=a,a=Dl(c,u,p,f)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function oi(){var a,o,w,c,s,u,p=i*76+36,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Fs(),o!==e){for(w=[],c=i,s=[],u=m();u!==e;)s.push(u),u=m();for(u=Fs(),u!==e?c=u:(i=c,c=e);c!==e;){for(w.push(c),c=i,s=[],u=m();u!==e;)s.push(u),u=m();u=Fs(),u!==e?c=u:(i=c,c=e)}R=a,a=Ll(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Fs(){var a,o,w,c,s,u,p,f=i*76+37,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,t.substr(i,4)===te?(o=te,i+=4):(o=e,S===0&&I(aa)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();if(s=We(),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();p=Ye(),p!==e?(R=a,a=Hl(s,p)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e;return j[f]={nextPos:i,result:a},a}function Ni(){var a,o,w,c,s,u=i*76+38,p=j[u];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,4)===ie?(o=ie,i+=4):(o=e,S===0&&I(ia)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();s=Ye(),s!==e?(R=a,a=Bl(s)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[u]={nextPos:i,result:a},a}function Oi(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=i*76+39,oe=j[Pe];if(oe)return i=oe.nextPos,oe.result;if(a=i,t.substr(i,5)===de?(o=de,i+=5):(o=e,S===0&&I(el)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();if(s=We(),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===123?(p=q,i++):(p=e,S===0&&I(sr)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();if(g=[],v=i,A=We(),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();R=v,v=Ka(s,A,L)}else i=v,v=e}else i=v,v=e}else i=v,v=e;if(v!==e)for(;v!==e;)if(g.push(v),v=i,A=We(),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();R=v,v=Ka(s,A,L)}else i=v,v=e}else i=v,v=e}else i=v,v=e;else g=e;if(g!==e){if(v=i,t.charCodeAt(i)===42?(A=Dt,i++):(A=e,S===0&&I(ja)),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();v=L}else i=v,v=e}else i=v,v=e}else i=v,v=e;for(v===e&&(v=null),A=[],x=m();x!==e;)A.push(x),x=m();t.charCodeAt(i)===125?(x=Q,i++):(x=e,S===0&&I(tt)),x!==e?(R=a,a=Ci(s,g,v)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;else i=a,a=e;return j[Pe]={nextPos:i,result:a},a}function mn(){var a,o,w,c,s,u,p,f,g=i*76+40,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,t.substr(i,4)===ke?(o=ke,i+=4):(o=e,S===0&&I(fs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===123?(c=q,i++):(c=e,S===0&&I(sr)),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();if(u=Zr(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();t.charCodeAt(i)===125?(f=Q,i++):(f=e,S===0&&I(tt)),f!==e?(R=a,a=za(u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function fu(){var a,o,w=i*76+41,c=j[w];return c?(i=c.nextPos,c.result):(a=i,o=Ti(),o!==e&&(R=a,o=Pi(o)),a=o,j[w]={nextPos:i,result:a},a)}function Hn(){var a,o,w,c,s,u,p=i*76+42,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===96?(o=Ne,i++):(o=e,S===0&&I(Ps)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===96?(u=Ne,i++):(u=e,S===0&&I(Ps)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=pa(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===96?(u=Ne,i++):(u=e,S===0&&I(Ps)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=pa(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===96?(c=Ne,i++):(c=e,S===0&&I(Ps)),c!==e?(R=a,a=Ul(w)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function pa(){var a,o,w,c,s,u,p=i*76+43,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=We(),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();t.charCodeAt(i)===125?(u=Q,i++):(u=e,S===0&&I(tt)),u!==e?a=c:(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,o=[],w=va(),w!==e)for(;w!==e;)o.push(w),w=va();else o=e;o!==e&&(R=a,o=ql(o)),a=o}return j[p]={nextPos:i,result:a},a}function va(){var a,o=i*76+44,w=j[o];return w?(i=w.nextPos,w.result):(a=ga(),a===e&&(bt.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(cs))),j[o]={nextPos:i,result:a},a)}function ga(){var a,o,w,c=i*76+45,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===92?(o=ar,i++):(o=e,S===0&&I(Na)),o!==e?(qs.test(t.charAt(i))?(w=t.charAt(i),i++):(w=e,S===0&&I(Vs)),w!==e?a=w:(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function en(){var a,o,w,c,s,u,p=i*76+46,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===34?(o=Ae,i++):(o=e,S===0&&I(Ws)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===34?(u=Ae,i++):(u=e,S===0&&I(Ws)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=Bn(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Va(u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===34?(u=Ae,i++):(u=e,S===0&&I(Ws)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=Bn(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Va(u)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===34?(c=Ae,i++):(c=e,S===0&&I(Ws)),c!==e?(R=a,a=Kl(w)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,t.charCodeAt(i)===39?(o=Ce,i++):(o=e,S===0&&I(Gs)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===39?(u=Ce,i++):(u=e,S===0&&I(Gs)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=$n(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Wa(u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===39?(u=Ce,i++):(u=e,S===0&&I(Gs)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=$n(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Wa(u)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===39?(c=Ce,i++):(c=e,S===0&&I(Gs)),c!==e?(R=a,a=Ga(w)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Bn(){var a,o,w=i*76+47,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===we?(o=we,i+=2):(o=e,S===0&&I(hs)),o!==e&&(R=a,o=zl()),a=o,j[w]={nextPos:i,result:a},a)}function $n(){var a,o,w=i*76+48,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===Ke?(o=Ke,i+=2):(o=e,S===0&&I(Js)),o!==e&&(R=a,o=Ja()),a=o,j[w]={nextPos:i,result:a},a)}function fi(){var a,o=i*76+49,w=j[o];return w?(i=w.nextPos,w.result):(a=Un(),a===e&&(a=da()),j[o]={nextPos:i,result:a},a)}function Un(){var a,o,w,c,s,u,p=i*76+50,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),Vr.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Ra)),o!==e){if(w=[],gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt)),c!==e)for(;c!==e;)w.push(c),gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt));else w=e;if(w!==e)if(t.charCodeAt(i)===46?(c=pr,i++):(c=e,S===0&&I(ys)),c!==e){if(s=[],gt.test(t.charAt(i))?(u=t.charAt(i),i++):(u=e,S===0&&I(Bt)),u!==e)for(;u!==e;)s.push(u),gt.test(t.charAt(i))?(u=t.charAt(i),i++):(u=e,S===0&&I(Bt));else s=e;s!==e?(R=a,a=Vl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),gt.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Bt)),o!==e)if(t.charCodeAt(i)===46?(w=pr,i++):(w=e,S===0&&I(ys)),w!==e){if(c=[],gt.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,S===0&&I(Bt)),s!==e)for(;s!==e;)c.push(s),gt.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,S===0&&I(Bt));else c=e;c!==e?(R=a,a=Wl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[p]={nextPos:i,result:a},a}function da(){var a,o,w,c,s=i*76+51,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),Vr.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Ra)),o!==e){if(w=[],gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt)),c!==e)for(;c!==e;)w.push(c),gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt));else w=e;w!==e?(R=a,a=ki()):(i=a,a=e)}else i=a,a=e;return a===e&&(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),gt.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Bt)),o!==e?(R=a,a=Gl()):(i=a,a=e)),j[s]={nextPos:i,result:a},a}function qn(){var a,o=i*76+52,w=j[o];return w?(i=w.nextPos,w.result):(a=ci(),a===e&&(a=hi()),j[o]={nextPos:i,result:a},a)}function ci(){var a,o,w,c,s=i*76+53,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,4)===Qe?(o=Qe,i+=4):(o=e,S===0&&I(Da)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Ei()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function hi(){var a,o,w,c,s=i*76+54,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,5)===Ge?(o=Ge,i+=5):(o=e,S===0&&I(lr)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Jl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function ya(){var a,o,w,c,s=i*76+55,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,4)===Je?(o=Je,i+=4):(o=e,S===0&&I(tl)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Zl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function wa(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+56,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=We(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Za(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=We(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Za(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=Q,i++):(s=e,S===0&&I(tt)),s!==e?(R=a,a=Ql(c)):(i=a,a=e)}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function cu(){var a,o,w,c,s,u,p,f,g,v,A=i*76+57,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=We(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Qa(u)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=We(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Qa(u)}else i=s,s=e;for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=oa(c)):(i=a,a=e)}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function Kn(){var a,o,w,c,s,u,p,f=i*76+58,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,o=Ve(),o!==e){for(w=i,c=[],s=m();s!==e;)c.push(s),s=m();if(t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();p=nt(),p!==e?w=p:(i=w,w=e)}else i=w,w=e;w===e&&(w=null),R=a,a=Xl(o,w)}else i=a,a=e;return j[f]={nextPos:i,result:a},a}function zn(){var a,o,w,c,s,u,p=i*76+59,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Kn(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=Kn(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=Kn(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);R=a,a=fa(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Xr(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=i*76+60,oe=j[Pe];if(oe)return i=oe.nextPos,oe.result;if(a=i,t.charCodeAt(i)===64?(o=ht,i++):(o=e,S===0&&I(rl)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=Ve(),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();if(t.charCodeAt(i)===40?(u=F,i++):(u=e,S===0&&I(Wt)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(f=zn(),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();if(t.charCodeAt(i)===41?(v=O,i++):(v=e,S===0&&I($t)),v!==e){for(A=i,x=[],k=m();k!==e;)x.push(k),k=m();if(t.charCodeAt(i)===58?(k=pe,i++):(k=e,S===0&&I(Nt)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();L=nt(),L!==e?A=L:(i=A,A=e)}else i=A,A=e;for(A===e&&(A=null),x=[],k=m();k!==e;)x.push(k),k=m();if(t.charCodeAt(i)===123?(k=q,i++):(k=e,S===0&&I(sr)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();for(L=Zr(),L===e&&(L=null),K=[],re=m();re!==e;)K.push(re),re=m();t.charCodeAt(i)===125?(re=Q,i++):(re=e,S===0&&I(tt)),re!==e?(R=a,a=Yl(w,c,s,f,A,L)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[Pe]={nextPos:i,result:a},a}function hu(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N=i*76+61,L=j[N];if(L)return i=L.nextPos,L.result;if(a=i,t.substr(i,2)===At?(o=At,i+=2):(o=e,S===0&&I(ws)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=zn(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=i,f=[],g=m();g!==e;)f.push(g),g=m();if(t.charCodeAt(i)===58?(g=pe,i++):(g=e,S===0&&I(Nt)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();A=nt(),A!==e?p=A:(i=p,p=e)}else i=p,p=e;for(p===e&&(p=null),f=[],g=m();g!==e;)f.push(g),g=m();if(t.charCodeAt(i)===123?(g=q,i++):(g=e,S===0&&I(sr)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();for(A=Zr(),A===e&&(A=null),x=[],k=m();k!==e;)x.push(k),k=m();t.charCodeAt(i)===125?(k=Q,i++):(k=e,S===0&&I(tt)),k!==e?(R=a,a=eu(c,p,A)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[N]={nextPos:i,result:a},a}function Vn(){var a,o,w,c,s,u,p,f,g,v,A=i*76+62,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=qe(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Xa(u)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=qe(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Xa(u)}else i=s,s=e;for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=tu(c)):(i=a,a=e)}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function pi(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+63,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=qe(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Ya(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=qe(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Ya(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=Q,i++):(s=e,S===0&&I(tt)),s!==e?(R=a,a=ei(c)):(i=a,a=e)}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function nt(){var a,o=i*76+64,w=j[o];return w?(i=w.nextPos,w.result):(a=pu(),a===e&&(a=Yr()),j[o]={nextPos:i,result:a},a)}function pu(){var a,o,w,c,s,u,p,f,g,v,A=i*76+65,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===At?(o=At,i+=2):(o=e,S===0&&I(ws)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=xn(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.substr(i,2)===le?(f=le,i+=2):(f=e,S===0&&I(zs)),f!==e){for(g=[],v=m();v!==e;)g.push(v),v=m();v=nt(),v!==e?(R=a,a=ru(c,v)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function xn(){var a,o,w,c,s,u,p=i*76+66,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=nt(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=nt(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=nt(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);R=a,a=ti(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Yr(){var a,o,w,c,s,u,p,f,g=i*76+67,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=Ve(),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(t.charCodeAt(i)===60?(c=lt,i++):(c=e,S===0&&I(Fn)),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();if(u=nt(),u!==e){for(p=[],f=P();f!==e;)p.push(f),f=P();t.charCodeAt(i)===62?(f=Hr,i++):(f=e,S===0&&I(Nn)),f!==e?(R=a,a=$(o,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return a===e&&(a=i,o=Ve(),o!==e&&(R=a,o=be(o)),a=o),j[g]={nextPos:i,result:a},a}function Ve(){var a,o,w,c,s=i*76+68,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,Ft.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(sl)),o!==e){for(w=[],gn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Tn));c!==e;)w.push(c),gn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Tn));R=a,a=yn()}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function Ti(){var a,o,w,c,s,u,p=i*76+69,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Ve(),o!==e){for(w=[],c=i,t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e?(u=Ve(),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e?(u=Ve(),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);R=a,a=ss()}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function U(){var a,o,w,c,s,u=i*76+70,p=j[u];if(p)return i=p.nextPos,p.result;for(a=i,o=[],w=m();w!==e;)o.push(w),w=m();if(t.charCodeAt(i)===44?(w=ee,i++):(w=e,S===0&&I(dt)),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();o=[o,w,c],a=o}else i=a,a=e;if(a===e)if(a=[],o=m(),o!==e)for(;o!==e;)a.push(o),o=m();else a=e;return j[u]={nextPos:i,result:a},a}function Ye(){var a,o,w,c,s,u,p=i*76+71,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=Zr(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===125?(u=Q,i++):(u=e,S===0&&I(tt)),u!==e?(R=a,a=ca(c)):(i=a,a=e)}else i=a,a=e;return a===e&&(a=vr()),j[p]={nextPos:i,result:a},a}function ge(){var a,o=i*76+72,w=j[o];return w?(i=w.nextPos,w.result):(t.substr(i,2)===Et?(a=Et,i+=2):(a=e,S===0&&I(nl)),a===e&&(Gr.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(La))),j[o]={nextPos:i,result:a},a)}function y(){var a,o,w=i*76+73,c=j[w];return c?(i=c.nextPos,c.result):(a=i,S++,t.length>i?(o=t.charAt(i),i++):(o=e,S===0&&I(ir)),S--,o===e?a=void 0:(i=a,a=e),a===e&&(a=ge()),j[w]={nextPos:i,result:a},a)}function m(){var a,o=i*76+74,w=j[o];return w?(i=w.nextPos,w.result):(Bi.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(al)),j[o]={nextPos:i,result:a},a)}function P(){var a,o=i*76+75,w=j[o];return w?(i=w.nextPos,w.result):(Ui.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(il)),j[o]={nextPos:i,result:a},a)}function b(a,o,w){const c={type:a};o.children=w;for(const u of Object.keys(o))o[u]!==void 0&&(c[u]=o[u]);const s=H();return c.loc={start:s.start.offset,end:s.end.offset-1},c}if(nr=d(),nr!==e&&i===t.length)return nr;throw nr!==e&&i<t.length&&I(fe()),Qs(Y,l<t.length?t.charAt(l):null,l<t.length?Ms(l,l+1):Ms(l,l))}const y1=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function w1(t){return y1.includes(t.type)}function ny(t){return"chain"in t&&t.chain!==null}function m1(t,r,e){return{type:"call",target:t,args:r,loc:e}}function $1(t,r,e){return{type:"index",target:t,index:r,loc:e}}function x1(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function xt(t,r){const e=r(t);switch(e.type){case"def":{e.expr=xt(e.expr,r);break}case"return":{e.expr=xt(e.expr,r);break}case"each":{e.items=xt(e.items,r),e.for=xt(e.for,r);break}case"for":{e.from!=null&&(e.from=xt(e.from,r)),e.to!=null&&(e.to=xt(e.to,r)),e.times!=null&&(e.times=xt(e.times,r)),e.for=xt(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=xt(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=xt(e.expr,r),e.dest=xt(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=xt(e.operands[n],r);break}case"not":{e.expr=xt(e.expr,r);break}case"if":{e.cond=xt(e.cond,r),e.then=xt(e.then,r);for(const n of e.elseif)n.cond=xt(n.cond,r),n.then=xt(n.then,r);e.else!=null&&(e.else=xt(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=xt(e.children[n],r);break}case"match":{e.about=xt(e.about,r);for(const n of e.qs)n.q=xt(n.q,r),n.a=xt(n.a,r);e.default!=null&&(e.default=xt(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=xt(e.statements[n],r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=xt(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],xt(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=xt(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=xt(e.args[n],r);break}case"indexChain":{e.index=xt(e.index,r);break}case"call":{e.target=xt(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=xt(e.args[n],r);break}case"index":{e.target=xt(e.target,r),e.index=xt(e.index,r);break}case"prop":{e.target=xt(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=xt(e.members[n],r);break}case"or":case"and":{e.left=xt(e.left,r),e.right=xt(e.right,r);break}}if(ny(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=xt(e.chain[n],r);return e}const Sh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Fh(t){throw new Mo(`Reserved word "${t}" cannot be used as variable name.`)}function b1(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Sh.includes(t.name)&&Fh(t.name);break}case"meta":{t.name!=null&&Sh.includes(t.name)&&Fh(t.name);break}case"fn":{for(const r of t.args)Sh.includes(r.name)&&Fh(r.name);break}}return t}function A1(t){for(const r of t)xt(r,b1);return t}function wg(t){return{type:"simple",name:t}}function _1(t,r){return{type:"generic",name:t,inners:r}}function C1(t,r){return{type:"fn",args:t,result:r}}function $c(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=$c(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>$c(n)).join(", "),e=$c(t.result);return`@(${r}) { ${e} }`}}}function lf(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return wg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=lf(t.inner):r=wg("any"),_1(t.name,[r])}}throw new Mo(`Unknown type: '${$c(t)}'`)}else{const r=t.args.map(e=>lf(e));return C1(r,lf(t.result))}}function P1(t){switch(t.type){case"def":{t.varType!=null&&lf(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&lf(r.argType);t.retType!=null&&lf(t.retType);break}}return t}function k1(t){for(const r of t)xt(r,P1);return t}function xc(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=xc(n.expr.children)),r.push(n);else{if(e.length>0)throw new Mo("invalid attribute.");switch(n.type){case"fn":{n.children=xc(n.children);break}case"block":{n.statements=xc(n.statements);break}}r.push(n)}if(e.length>0)throw new Mo("invalid attribute.");return r}function E1(t){if(w1(t)&&ny(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=m1(n,h.args,h.loc);break}case"indexChain":{n=$1(n,h.index,h.loc);break}case"propChain":{n=x1(n,h.name,h.loc);break}}return n}return t}function M1(t){for(let r=0;r<t.length;r++)t[r]=xt(t[r],E1);return t}function bc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function ay(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return bc(t,r,e);{const{left:n,right:h,info:d}=t;return bc(n,ay(h,r,e),d)}}function oo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[oo(t.left),oo(t.right)]}}const S1={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:oo(t.left),right:oo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:oo(t.left),right:oo(t.right)}),priority:3}};function F1(t){const r=t.operators.map(n=>{const h=S1[n];if(h==null)throw new Mo(`No such operator: ${n}.`);return h});let e=bc(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=ay(e,t.operands[2+n],r[1+n]);return oo(e)}function N1(t){for(let r=0;r<t.length;r++)t[r]=xt(t[r],e=>e.type==="infix"?F1(e):e);return t}var wu;let O1=(wu=class{constructor(){me(this,"plugins");this.plugins={validate:[A1,k1],transform:[xc,M1,N1]}}static parse(r){return wu.instance==null&&(wu.instance=new wu),wu.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=yg(r,{startRule:"Preprocess"});e=yg(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new Mo(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`):new Mo(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}},me(wu,"instance"),wu);const T1="0.15.0",I1={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let $p=[],Cf=null;function j1(t){return $p=O1.parse(t),JSON.stringify($p,null,"	")}async function R1(t){Cf==null||Cf.abort(),Cf=new En({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:yp(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:yp(e.val,!0),print:!1});break}}});try{await Cf.exec($p)}catch(r){t.err(r)}}const D1=Object.freeze(Object.defineProperty({__proto__:null,exec:R1,parse:j1,samples:I1,version:T1},Symbol.toStringTag,{value:"Module"}));class rh extends Error{constructor(e,n){super(e);me(this,"info");this.info=n,Error.captureStackTrace&&Error.captureStackTrace(this,rh)}}class So extends rh{constructor(r,e){super(r,e)}}class wr extends rh{constructor(r,e){super(r,e)}}class L1 extends wr{constructor(r,e){super(r,e)}}var jo=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};class Hi{constructor(r=[],e,n){me(this,"parent");me(this,"layerdStates");me(this,"name");me(this,"opts",{});this.layerdStates=r,this.parent=e,this.name=n||(r.length===1?"<root>":"<anonymous>")}log(r,e){this.parent?this.parent.log(r,e):this.opts.log&&this.opts.log(r,e)}onUpdated(r,e){this.parent?this.parent.onUpdated(r,e):this.opts.onUpdated&&this.opts.onUpdated(r,e)}createChildScope(r=new Map,e){const n=[r,...this.layerdStates];return new Hi(n,this,e)}get(r){for(const e of this.layerdStates)if(e.has(r)){const n=e.get(r);return this.log("read",{var:r,val:n}),n}throw new wr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}getAll(){const r=this.layerdStates.reduce((e,n)=>[...e,...n],[]);return new Map(r)}add(r,e){this.log("add",{var:r,val:e});const n=this.layerdStates[0];if(n.has(r))throw new wr(`Variable '${r}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(r,e),this.parent==null&&this.onUpdated(r,e)}assign(r,e){let n=1;for(const h of this.layerdStates){if(h.has(r)){h.set(r,e),this.log("assign",{var:r,val:e}),n===this.layerdStates.length&&this.onUpdated(r,e);return}n++}throw new wr(`No such variable '${r}' in scope '${this.name}'`,{scope:this.layerdStates})}}jo([kt],Hi.prototype,"log",null);jo([kt],Hi.prototype,"onUpdated",null);jo([kt],Hi.prototype,"createChildScope",null);jo([kt],Hi.prototype,"get",null);jo([kt],Hi.prototype,"getAll",null);jo([kt],Hi.prototype,"add",null);jo([kt],Hi.prototype,"assign",null);let sc;const H1=new Uint8Array(16);function B1(){if(!sc&&(sc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sc(H1)}const bs=[];for(let t=0;t<256;++t)bs.push((t+256).toString(16).slice(1));function U1(t,r=0){return(bs[t[r+0]]+bs[t[r+1]]+bs[t[r+2]]+bs[t[r+3]]+"-"+bs[t[r+4]]+bs[t[r+5]]+"-"+bs[t[r+6]]+bs[t[r+7]]+"-"+bs[t[r+8]]+bs[t[r+9]]+"-"+bs[t[r+10]]+bs[t[r+11]]+bs[t[r+12]]+bs[t[r+13]]+bs[t[r+14]]+bs[t[r+15]]).toLowerCase()}const q1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mg={randomUUID:q1};function K1(t,r,e){if(mg.randomUUID&&!r&&!t)return mg.randomUUID();t=t||{};const n=t.random||(t.rng||B1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){e=e||0;for(let h=0;h<16;++h)r[e+h]=n[h];return r}return U1(n)}const or={type:"null"},ka={type:"bool",value:!0},Qn={type:"bool",value:!1},st=t=>({type:"num",value:t}),dr=t=>({type:"str",value:t}),uf=t=>({type:"bool",value:t}),sv=t=>({type:"obj",value:t}),Ts=t=>({type:"arr",value:t}),z1=(t,r,e)=>({type:"fn",args:t,statements:r,scope:e}),He=t=>({type:"fn",native:t}),V1=t=>({type:"return",value:t}),W1=()=>({type:"break",value:null}),G1=()=>({type:"continue",value:null}),J1=t=>t.type==="return"?t.value:t;function ta(t){if(t==null)throw new wr("Expect anything, but got nothing.")}function on(t){if(t==null)throw new wr("Expect boolean, but got nothing.");if(t.type!=="bool")throw new wr(`Expect boolean, but got ${t.type}.`)}function Bu(t){if(t==null)throw new wr("Expect function, but got nothing.");if(t.type!=="fn")throw new wr(`Expect function, but got ${t.type}.`)}function vs(t){if(t==null)throw new wr("Expect string, but got nothing.");if(t.type!=="str")throw new wr(`Expect string, but got ${t.type}.`)}function et(t){if(t==null)throw new wr("Expect number, but got nothing.");if(t.type!=="num")throw new wr(`Expect number, but got ${t.type}.`)}function Fu(t){if(t==null)throw new wr("Expect object, but got nothing.");if(t.type!=="obj")throw new wr(`Expect object, but got ${t.type}.`)}function jf(t){if(t==null)throw new wr("Expect array, but got nothing.");if(t.type!=="arr")throw new wr(`Expect array, but got ${t.type}.`)}function Z1(t){return t.type==="str"}function Q1(t){return t.type==="num"}function X1(t){return t.type==="obj"}function Y1(t){return t.type==="arr"}function xp(t,r){return t.type==="fn"||r.type==="fn"?!1:t.type==="null"&&r.type==="null"?!0:t.type==="null"||r.type==="null"?!1:t.value===r.value}function bp(t,r=!1){if(r){if(t.type==="num")return t.value.toString();if(t.type==="bool")return t.value?"true":"false";if(t.type==="str")return`"${t.value}"`;if(t.type==="arr")return`[${t.value.map(n=>bp(n,!0)).join(", ")}]`;if(t.type==="null")return"(null)"}const e=t.type==="num"||t.type==="bool"?t.value:t.type==="str"?`"${t.value}"`:t.type==="fn"||t.type==="obj"?"...":t.type==="null"?"":null;return`${t.type}<${e}>`}function Ap(t){switch(t.type){case"fn":return"<function>";case"arr":return t.value.map(r=>Ap(r));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[e,n]of t.value.entries())r[e]=Ap(n);return r}case"str":return t.value;default:throw new Error(`Unrecognized value type: ${t.type}`)}}function _p(t){if(t===null)return or;if(typeof t=="boolean")return uf(t);if(typeof t=="string")return dr(t);if(typeof t=="number")return st(t);if(Array.isArray(t))return Ts(t.map(r=>_p(r)));if(typeof t=="object"){const r=new Map;for(const[e,n]of Object.entries(t))r.set(e,_p(n));return sv(r)}return or}const eA={help:dr("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":dr("0.14.1"),"Core:ai":dr("kawaii"),"Core:not":He(([t])=>(on(t),t.value?Qn:ka)),"Core:eq":He(([t,r])=>(ta(t),ta(r),xp(t,r)?ka:Qn)),"Core:neq":He(([t,r])=>(ta(t),ta(r),xp(t,r)?Qn:ka)),"Core:and":He(([t,r])=>(on(t),t.value?(on(r),r.value?ka:Qn):Qn)),"Core:or":He(([t,r])=>(on(t),t.value?ka:(on(r),r.value?ka:Qn))),"Core:add":He(([t,r])=>(et(t),et(r),st(t.value+r.value))),"Core:sub":He(([t,r])=>(et(t),et(r),st(t.value-r.value))),"Core:mul":He(([t,r])=>(et(t),et(r),st(t.value*r.value))),"Core:pow":He(([t,r])=>{et(t),et(r);const e=t.value**r.value;if(isNaN(e))throw new wr("Invalid operation.");return st(e)}),"Core:div":He(([t,r])=>{et(t),et(r);const e=t.value/r.value;if(isNaN(e))throw new wr("Invalid operation.");return st(e)}),"Core:mod":He(([t,r])=>(et(t),et(r),st(t.value%r.value))),"Core:gt":He(([t,r])=>(et(t),et(r),t.value>r.value?ka:Qn)),"Core:lt":He(([t,r])=>(et(t),et(r),t.value<r.value?ka:Qn)),"Core:gteq":He(([t,r])=>(et(t),et(r),t.value>=r.value?ka:Qn)),"Core:lteq":He(([t,r])=>(et(t),et(r),t.value<=r.value?ka:Qn)),"Core:type":He(([t])=>(ta(t),dr(t.type))),"Core:to_str":He(([t])=>(ta(t),t.type==="str"?t:t.type==="num"?dr(t.value.toString()):dr("?"))),"Core:range":He(([t,r])=>(et(t),et(r),t.value<r.value?Ts(Array.from({length:r.value-t.value+1},(e,n)=>st(n+t.value))):t.value>r.value?Ts(Array.from({length:t.value-r.value+1},(e,n)=>st(t.value-n))):Ts([t]))),"Util:uuid":He(()=>dr(K1())),"Json:stringify":He(([t])=>(ta(t),dr(JSON.stringify(Ap(t))))),"Json:parse":He(([t])=>(vs(t),_p(JSON.parse(t.value)))),"Json:parsable":He(([t])=>{vs(t);try{JSON.parse(t.value)}catch{return uf(!1)}return uf(!0)}),"Date:now":He(()=>st(Date.now())),"Date:year":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getFullYear()))),"Date:month":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getMonth()+1))),"Date:day":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getDate()))),"Date:hour":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getHours()))),"Date:minute":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getMinutes()))),"Date:second":He(([t])=>(t&&et(t),st(new Date((t==null?void 0:t.value)||Date.now()).getSeconds()))),"Date:parse":He(([t])=>(vs(t),st(new Date(t.value).getTime()))),"Math:Infinity":st(1/0),"Math:PI":st(Math.PI),"Math:sin":He(([t])=>(et(t),st(Math.sin(t.value)))),"Math:cos":He(([t])=>(et(t),st(Math.cos(t.value)))),"Math:abs":He(([t])=>(et(t),st(Math.abs(t.value)))),"Math:sqrt":He(([t])=>{et(t);const r=Math.sqrt(t.value);if(isNaN(r))throw new wr("Invalid operation.");return st(r)}),"Math:round":He(([t])=>(et(t),st(Math.round(t.value)))),"Math:ceil":He(([t])=>(et(t),st(Math.ceil(t.value)))),"Math:floor":He(([t])=>(et(t),st(Math.floor(t.value)))),"Math:min":He(([t,r])=>(et(t),et(r),st(Math.min(t.value,r.value)))),"Math:max":He(([t,r])=>(et(t),et(r),st(Math.max(t.value,r.value)))),"Math:rnd":He(([t,r])=>t&&t.type==="num"&&r&&r.type==="num"?st(Math.floor(Math.random()*(Math.floor(r.value)-Math.ceil(t.value)+1)+Math.ceil(t.value))):st(Math.random())),"Math:gen_rng":He(([t])=>{if(ta(t),t.type!=="num"&&t.type!=="str")return or;const r=df(t.value.toString());return He(([e,n])=>e&&e.type==="num"&&n&&n.type==="num"?st(Math.floor(r()*(Math.floor(n.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):st(r()))}),"Num:to_hex":He(([t])=>(et(t),dr(t.value.toString(16)))),"Num:from_hex":He(([t])=>(vs(t),st(parseInt(t.value,16)))),"Str:lf":dr(`
`),"Str:lt":He(([t,r])=>(vs(t),vs(r),t.value<r.value?st(-1):t.value===r.value?st(0):st(1))),"Str:gt":He(([t,r])=>(vs(t),vs(r),t.value>r.value?st(-1):t.value===r.value?st(0):st(1))),"Obj:keys":He(([t])=>(Fu(t),Ts(Array.from(t.value.keys()).map(r=>dr(r))))),"Obj:vals":He(([t])=>(Fu(t),Ts(Array.from(t.value.values())))),"Obj:kvs":He(([t])=>(Fu(t),Ts(Array.from(t.value.entries()).map(([r,e])=>Ts([dr(r),e]))))),"Obj:get":He(([t,r])=>(Fu(t),vs(r),t.value.get(r.value)??or)),"Obj:set":He(([t,r,e])=>(Fu(t),vs(r),ta(e),t.value.set(r.value,e),or)),"Obj:has":He(([t,r])=>(Fu(t),vs(r),uf(t.value.has(r.value)))),"Obj:copy":He(([t])=>(Fu(t),sv(new Map(t.value)))),"Async:interval":He(async([t,r,e],n)=>{et(t),Bu(r),e&&(on(e),e.value&&n.call(r,[]));const h=setInterval(()=>{n.call(r,[])},t.value),d=()=>{clearInterval(h)};return n.registerAbortHandler(d),He(([],_)=>{clearInterval(h),_.unregisterAbortHandler(d)})}),"Async:timeout":He(async([t,r],e)=>{et(t),Bu(r);const n=setTimeout(()=>{e.call(r,[])},t.value),h=()=>{clearTimeout(n)};return e.registerAbortHandler(h),He(([],d)=>{clearTimeout(n),d.unregisterAbortHandler(h)})})},Ho={num:{to_str:t=>He(async(r,e)=>dr(t.value.toString()))},str:{to_num:t=>He(async(r,e)=>{const n=parseInt(t.value,10);return isNaN(n)?or:st(n)}),len:t=>st(yf(t.value)),replace:t=>He(async([r,e],n)=>(vs(r),vs(e),dr(t.value.split(r.value).join(e.value)))),index_of:t=>He(async([r],e)=>(vs(r),st(mf(t.value,r.value)))),incl:t=>He(async([r],e)=>(vs(r),t.value.includes(r.value)?ka:Qn)),trim:t=>He(async(r,e)=>dr(t.value.trim())),upper:t=>He(async(r,e)=>dr(t.value.toUpperCase())),lower:t=>He(async(r,e)=>dr(t.value.toLowerCase())),split:t=>He(async([r],e)=>(r&&vs(r),Ts(r?t.value.split(r?r.value:"").map(n=>dr(n)):cn(t.value).map(n=>dr(n))))),slice:t=>He(async([r,e],n)=>(et(r),et(e),dr(wf(t.value,r.value,e.value)))),pick:t=>He(async([r],e)=>{et(r);const h=cn(t.value)[r.value];return h?dr(h):or})},arr:{len:t=>st(t.value.length),push:t=>He(async([r],e)=>(ta(r),t.value.push(r),t)),unshift:t=>He(async([r],e)=>(ta(r),t.value.unshift(r),t)),pop:t=>He(async(r,e)=>t.value.pop()??or),shift:t=>He(async(r,e)=>t.value.shift()??or),concat:t=>He(async([r],e)=>(jf(r),Ts(t.value.concat(r.value)))),slice:t=>He(async([r,e],n)=>(et(r),et(e),Ts(t.value.slice(r.value,e.value)))),join:t=>He(async([r],e)=>(r&&vs(r),dr(t.value.map(n=>n.type==="str"?n.value:"").join(r?r.value:"")))),map:t=>He(async([r],e)=>{Bu(r);const n=t.value.map(async(h,d)=>await e.call(r,[h,st(d)]));return Ts(await Promise.all(n))}),filter:t=>He(async([r],e)=>{Bu(r);const n=[];for(let h=0;h<t.value.length;h++){const d=t.value[h],_=await e.call(r,[d,st(h)]);on(_),_.value&&n.push(d)}return Ts(n)}),reduce:t=>He(async([r,e],n)=>{Bu(r);const h=e!=null;let d=h?e:t.value[0];for(let _=h?0:1;_<t.value.length;_++){const C=t.value[_];d=await n.call(r,[d,C,st(_)])}return d}),find:t=>He(async([r],e)=>{Bu(r);for(let n=0;n<t.value.length;n++){const h=t.value[n],d=await e.call(r,[h,st(n)]);if(on(d),d.value)return h}return or}),incl:t=>He(async([r],e)=>(ta(r),r.type!=="str"&&r.type!=="num"&&r.type!=="bool"&&r.type!=="null"?Qn:(h=>h.value.map(d=>d.type==="str"||d.type==="num"||d.type==="bool"?d.value:d.type==="null"?null:Symbol()))(t).includes(r.type==="null"?null:r.value)?ka:Qn)),reverse:t=>He(async(r,e)=>(t.value.reverse(),or)),copy:t=>He(async(r,e)=>Ts([...t.value])),sort:t=>He(async([r],e)=>{const n=async(d,_)=>{if(d.length<=1)return d;const C=Math.floor(d.length/2),M=await n(d.slice(0,C),_),F=await n(d.slice(C),_);return h(M,F,_)},h=async(d,_,C)=>{const M=[];let F=0,O=0;for(;F<d.length&&O<_.length;){const D=d[F],q=_[O],Q=await e.call(C,[D,q]);et(Q),Q.value<0?(M.push(d[F]),F++):(M.push(_[O]),O++)}return M.concat(d.slice(F)).concat(_.slice(O))};return Bu(r),jf(t),t.value=await n(t.value,r),t})}};var na=function(t,r,e,n){var h=arguments.length,d=h<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,r,e,n);else for(var C=t.length-1;C>=0;C--)(_=t[C])&&(d=(h<3?_(d):h>3?_(r,e,d):_(r,e))||d);return h>3&&d&&Object.defineProperty(r,e,d),d};const iy=300,tA=iy-1;class Mn{constructor(r,e){me(this,"vars");me(this,"opts");me(this,"stepCount",0);me(this,"stop",!1);me(this,"scope");me(this,"abortHandlers",[]);this.opts=e??{};const n={print:He(([h])=>{ta(h),this.opts.out&&this.opts.out(h)}),readline:He(async h=>{const d=h[0];if(vs(d),this.opts.in==null)return or;const _=await this.opts.in(d.value);return dr(_)})};this.vars={...r,...eA,...n},this.scope=new Hi([new Map(Object.entries(this.vars))]),this.scope.opts.log=(h,d)=>{switch(h){case"add":this.log("var:add",d);break;case"read":this.log("var:read",d);break;case"write":this.log("var:write",d);break}}}async exec(r){if(r==null||r.length===0)return;await this.collectNs(r);const e=await this._run(r,this.scope);this.log("end",{val:e})}async execFn(r,e){return this._fn(r,e)}static collectMetadata(r){if(r==null||r.length===0)return;function e(h){switch(h.type){case"arr":return h.value.map(d=>e(d));case"bool":return h.value;case"null":return null;case"num":return h.value;case"obj":{const d={};for(const[_,C]of h.value.entries())d[_]=e(C);return d}case"str":return h.value;default:return}}const n=new Map;for(const h of r)switch(h.type){case"meta":{n.set(h.name,e(h.value));break}}return n}log(r,e){this.opts.log&&this.opts.log(r,e)}async collectNs(r){for(const e of r)switch(e.type){case"ns":{await this.collectNsMember(e);break}}}async collectNsMember(r){const e=this.scope.createChildScope();for(const n of r.members)switch(n.type){case"def":{const h=await this._eval(n.expr,e);e.add(n.name,h),this.scope.add(r.name+":"+n.name,h);break}case"ns":break;default:throw new Error("invalid ns member type: "+n.type)}}async _fn(r,e){if(r.native)return r.native(e,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??or;{const n=new Map;for(let d=0;d<(r.args??[]).length;d++)n.set(r.args[d],e[d]);const h=r.scope.createChildScope(n);return J1(await this._run(r.statements,h))}}async _eval(r,e){if(this.stop)return or;if(this.stepCount%iy===tA&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new wr("max step exceeded");switch(r.type){case"call":{const n=await this._eval(r.target,e);Bu(n);const h=await Promise.all(r.args.map(d=>this._eval(d,e)));return this._fn(n,h)}case"if":{const n=await this._eval(r.cond,e);if(on(n),n.value)return this._eval(r.then,e);if(r.elseif&&r.elseif.length>0){for(const h of r.elseif){const d=await this._eval(h.cond,e);if(on(d),d.value)return this._eval(h.then,e)}if(r.else)return this._eval(r.else,e)}else if(r.else)return this._eval(r.else,e);return or}case"match":{const n=await this._eval(r.about,e);for(const h of r.qs){const d=await this._eval(h.q,e);if(xp(n,d))return await this._eval(h.a,e)}return r.default?await this._eval(r.default,e):or}case"loop":{for(;;){const n=await this._run(r.statements,e.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return or}case"for":{if(r.times){const n=await this._eval(r.times,e);et(n);for(let h=0;h<n.value;h++){const d=await this._eval(r.for,e);if(d.type==="break")break;if(d.type==="return")return d}}else{const n=await this._eval(r.from,e),h=await this._eval(r.to,e);et(n),et(h);for(let d=n.value;d<n.value+h.value;d++){const _=await this._eval(r.for,e.createChildScope(new Map([[r.var,st(d)]])));if(_.type==="break")break;if(_.type==="return")return _}}return or}case"each":{const n=await this._eval(r.items,e);jf(n);for(const h of n.value){const d=await this._eval(r.for,e.createChildScope(new Map([[r.var,h]])));if(d.type==="break")break;if(d.type==="return")return d}return or}case"def":{const n=await this._eval(r.expr,e);if(r.attr.length>0){const h=[];for(const d of r.attr)h.push({name:d.name,value:await this._eval(d.value,e)});n.attr=h}return e.add(r.name,n),or}case"identifier":return e.get(r.name);case"assign":{const n=await this._eval(r.expr,e);return await this.assign(e,r.dest,n),or}case"addAssign":{const n=await this._eval(r.dest,e);et(n);const h=await this._eval(r.expr,e);return et(h),await this.assign(e,r.dest,st(n.value+h.value)),or}case"subAssign":{const n=await this._eval(r.dest,e);et(n);const h=await this._eval(r.expr,e);return et(h),await this.assign(e,r.dest,st(n.value-h.value)),or}case"null":return or;case"bool":return uf(r.value);case"num":return st(r.value);case"str":return dr(r.value);case"arr":return Ts(await Promise.all(r.value.map(async n=>await this._eval(n,e))));case"obj":{const n=new Map;for(const h of r.value.keys())n.set(h,await this._eval(r.value.get(h),e));return sv(n)}case"prop":{const n=await this._eval(r.target,e);if(X1(n))return n.value.has(r.name)?n.value.get(r.name):or;if(Q1(n)){if(Object.hasOwn(Ho.num,r.name))return Ho.num[r.name](n);throw new wr(`No such prop (${r.name}) in ${n.type}.`)}else if(Z1(n)){if(Object.hasOwn(Ho.str,r.name))return Ho.str[r.name](n);throw new wr(`No such prop (${r.name}) in ${n.type}.`)}else if(Y1(n)){if(Object.hasOwn(Ho.arr,r.name))return Ho.arr[r.name](n);throw new wr(`No such prop (${r.name}) in ${n.type}.`)}else throw new wr(`Cannot read prop (${r.name}) of ${n.type}.`)}case"index":{const n=await this._eval(r.target,e);jf(n);const h=await this._eval(r.index,e);et(h);const d=n.value[h.value];if(d===void 0)throw new L1(`Index out of range. index: ${h.value} max: ${n.value.length-1}`);return d}case"not":{const n=await this._eval(r.expr,e);return on(n),uf(!n.value)}case"fn":return z1(r.args.map(n=>n.name),r.children,e);case"block":return this._run(r.statements,e.createChildScope());case"tmpl":{let n="";for(const h of r.tmpl)if(typeof h=="string")n+=h;else{const d=await this._eval(h,e);let _="";d.type==="str"?_=d.value:d.type==="num"&&(_=d.value.toString()),n+=_}return dr(n)}case"return":{const n=await this._eval(r.expr,e);return this.log("block:return",{scope:e.name,val:n}),V1(n)}case"break":return this.log("block:break",{scope:e.name}),W1();case"continue":return this.log("block:continue",{scope:e.name}),G1();case"ns":return or;case"meta":return or;case"and":{const n=await this._eval(r.left,e);if(on(n),n.value){const h=await this._eval(r.right,e);return on(h),h}else return n}case"or":{const n=await this._eval(r.left,e);if(on(n),n.value)return n;{const h=await this._eval(r.right,e);return on(h),h}}default:throw new Error("invalid node type")}}async _run(r,e){this.log("block:enter",{scope:e.name});let n=or;for(let h=0;h<r.length;h++){const d=r[h];if(n=await this._eval(d,e),n.type==="return")return this.log("block:return",{scope:e.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:e.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:e.name}),n}return this.log("block:leave",{scope:e.name,val:n}),n}registerAbortHandler(r){this.abortHandlers.push(r)}unregisterAbortHandler(r){this.abortHandlers=this.abortHandlers.filter(e=>e!==r)}abort(){this.stop=!0;for(const r of this.abortHandlers)r();this.abortHandlers=[]}async assign(r,e,n){if(e.type==="identifier")r.assign(e.name,n);else if(e.type==="index"){const h=await this._eval(e.target,r);jf(h);const d=await this._eval(e.index,r);et(d),h.value[d.value]=n}else if(e.type==="prop"){const h=await this._eval(e.target,r);Fu(h),h.value.set(e.name,n)}else throw new wr("The left-hand side of an assignment expression must be a variable or a property/index access.")}}na([kt],Mn.prototype,"exec",null);na([kt],Mn.prototype,"execFn",null);na([kt],Mn.prototype,"log",null);na([kt],Mn.prototype,"collectNs",null);na([kt],Mn.prototype,"collectNsMember",null);na([kt],Mn.prototype,"_fn",null);na([kt],Mn.prototype,"_eval",null);na([kt],Mn.prototype,"_run",null);na([kt],Mn.prototype,"registerAbortHandler",null);na([kt],Mn.prototype,"unregisterAbortHandler",null);na([kt],Mn.prototype,"abort",null);na([kt],Mn.prototype,"assign",null);na([kt],Mn,"collectMetadata",null);function rA(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}function _o(t,r,e,n){var h=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(h,_o.prototype),h.expected=r,h.found=e,h.location=n,h.name="SyntaxError",h}rA(_o,Error);function Nh(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,e+=e.repeat(r),t+e.slice(0,r))}_o.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var e=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,d=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+d.line+":"+d.column;if(e){var C=this.location.end,M=Nh("",d.line.toString().length," "),F=e[h.line-1],O=h.line===C.line?C.column:F.length+1,D=O-h.column||1;r+=`
 --> `+_+`
`+M+` |
`+d.line+" | "+F+`
`+M+" | "+Nh("",h.column-1," ")+Nh("",D,"^")}else r+=`
 at `+_}return r};_o.buildMessage=function(t,r){var e={literal:function(F){return'"'+h(F.text)+'"'},class:function(F){var O=F.parts.map(function(D){return Array.isArray(D)?d(D[0])+"-"+d(D[1]):d(D)});return"["+(F.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};function n(F){return F.charCodeAt(0).toString(16).toUpperCase()}function h(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function d(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+n(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+n(O)})}function _(F){return e[F.type](F)}function C(F){var O=F.map(_),D,q;if(O.sort(),O.length>0){for(D=1,q=1;D<O.length;D++)O[D-1]!==O[D]&&(O[q]=O[D],q++);O.length=q}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}function M(F){return F?'"'+h(F)+'"':"end of input"}return"Expected "+C(t)+" but "+M(r)+" found."};function $g(t,r){r=r!==void 0?r:{};var e={},n=r.grammarSource,h={Preprocess:T,Main:Rn},d=T,_="//",C="/*",M="*/",F="(",O=")",D="::",q="{",Q="}",ye="###",ue="let",pe=":",Fe="=",W="var",z="<:",G="#[",J="]",Z="each",ee=",",se="for",ne="return",Se="loop",je="break",_e="continue",Xe="+=",pt="-=",ar="\\",vt="||",ft="&&",ze="==",ct="!=",Lt="<=",Kt=">=",lt="<",Hr=">",rr="+",_r="-",Dt="*",mr="^",Br="/",$r="%",Cr="!",zt="[",pr=".",V="if",te="elif",ie="else",de="match",le="=>",ke="eval",Ne="`",Ae='"',Ce="'",we='\\"',Ke="\\'",Qe="true",Ge="false",Je="null",rt=";",ht="@",At="@(",Et=`\r
`,_t=/^[A-Z0-9_:]/i,bt=/^[^`{]/,qs=/^[{}`]/,zr=/^[+\-]/,Vr=/^[1-9]/,gt=/^[0-9]/,Ft=/^[A-Z_]/i,gn=/^[A-Z0-9_]/i,Gr=/^[\r\n]/,Bi=/^[ \t\r\n]/,Ui=/^[ \t]/,ir=su(),Vt=ae("//",!1),_s=ae("/*",!1),Sn=ae("*/",!1),Wt=ae("(",!1),$t=ae(")",!1),Pr=ae("::",!1),sr=ae("{",!1),tt=ae("}",!1),Ht=ae("###",!1),rs=ae("let",!1),Nt=ae(":",!1),Ot=ae("=",!1),Jr=ae("var",!1),mi=ae("<:",!1),gs=ae("#[",!1),os=ae("]",!1),ds=ae("each",!1),dt=ae(",",!1),Mt=ae("for",!1),Ks=ae("return",!1),xr=X([["A","Z"],["0","9"],"_",":"],!1,!0),br=ae("loop",!1),qi=ae("break",!1),$i=ae("continue",!1),Ki=ae("+=",!1),zi=ae("-=",!1),Na=ae("\\",!1),Oa=ae("||",!1),Vi=ae("&&",!1),Wi=ae("==",!1),Gi=ae("!=",!1),Ji=ae("<=",!1),Ta=ae(">=",!1),Fn=ae("<",!1),Nn=ae(">",!1),Ia=ae("+",!1),Zi=ae("-",!1),ja=ae("*",!1),dn=ae("^",!1),Qi=ae("/",!1),Xi=ae("%",!1),Yi=ae("!",!1),Cs=ae("[",!1),ys=ae(".",!1),On=ae("if",!1),aa=ae("elif",!1),ia=ae("else",!1),el=ae("match",!1),zs=ae("=>",!1),fs=ae("eval",!1),Ps=ae("`",!1),cs=X(["`","{"],!0,!1),Vs=X(["{","}","`"],!1,!1),Ws=ae('"',!1),Gs=ae("'",!1),hs=ae('\\"',!1),Js=ae("\\'",!1),ks=X(["+","-"],!1,!1),Ra=X([["1","9"]],!1,!1),Bt=X([["0","9"]],!1,!1),Da=ae("true",!1),lr=ae("false",!1),tl=ae("null",!1),Zs=ae(";",!1),rl=ae("@",!1),ws=ae("@(",!1),sl=X([["A","Z"],"_"],!1,!0),Tn=X([["A","Z"],["0","9"],"_"],!1,!0),nl=ae(`\r
`,!1),La=X(["\r",`
`],!1,!1),al=X([" ","	","\r",`
`],!1,!1),il=X([" ","	"],!1,!1),xi=function(a){return a.join("")},ll=function(){return E()},bi=function(){return E()},ul=function(){return""},Ai=function(){return""},ol=function(a){return a??[]},Ha=function(a,o){return o},fl=function(a,o){return[a,...o]},In=function(a,o){return o},cl=function(a,o){return[a,...o]},jn=function(a,o){return o},hl=function(a,o){return[a,...o]},Ba=function(a){return a},pl=function(a,o){return b("ns",{name:a,members:o})},vl=function(a,o){return b("meta",{name:a,value:o})},gl=function(a){return b("meta",{name:null,value:a})},dl=function(a,o,w){return b("def",{name:a,varType:o,expr:w,mut:!1,attr:[]})},yl=function(a,o,w){return b("def",{name:a,varType:o,expr:w,mut:!0,attr:[]})},wl=function(a){return b("identifier",{name:"print",chain:[b("callChain",{args:[a]})]})},ml=function(a,o){return b("attr",{name:a,value:o??b("bool",{value:!0})})},$l=function(a,o,w){return b("each",{var:a,items:o,for:w})},xl=function(a,o,w){return b("each",{var:a,items:o,for:w})},bl=function(a,o){return o},Al=function(a,o,w,c){return b("for",{var:a,from:o??b("num",{value:0}),to:w,for:c})},_l=function(a,o){return o},Cl=function(a,o,w,c){return b("for",{var:a,from:o??b("num",{value:0}),to:w,for:c})},Pl=function(a,o){return b("for",{times:a,for:o})},_i=function(a,o){return b("for",{times:a,for:o})},kl=function(a){return b("return",{expr:a})},El=function(a){return b("loop",{statements:a})},Ml=function(){return b("break",{})},Sl=function(){return b("continue",{})},Fl=function(a,o,w){return o==="+="?b("addAssign",{dest:a,expr:w}):o==="-="?b("subAssign",{dest:a,expr:w}):b("assign",{dest:a,expr:w})},la=function(a,o,w){return{op:o,term:w}},Nl=function(a,o){return b("infix",{operands:[a,...o.map(w=>w.term)],operators:o.map(w=>w.op)})},Ua=function(){return E()},Ol=function(a){return b("not",{expr:a})},Tl=function(a,o){return{...a,chain:o}},Il=function(a){return b("callChain",{args:a??[]})},qa=function(a,o){return o},jl=function(a,o){return[a,...o]},ua=function(a){return b("indexChain",{index:a})},Rl=function(a){return b("propChain",{name:a})},Dl=function(a,o,w,c){return b("if",{cond:a,then:o,elseif:w??[],else:c})},Ll=function(a,o){return[a,...o]},Hl=function(a,o){return{cond:a,then:o}},Bl=function(a){return a},Ka=function(a,o,w){return{q:o,a:w}},Ci=function(a,o,w){return b("match",{about:a,qs:o??[],default:w})},za=function(a){return b("block",{statements:a})},Pi=function(a){return b("identifier",{name:a})},Ul=function(a){return b("tmpl",{tmpl:a})},ql=function(a){return a.join("")},Va=function(a){return a},Kl=function(a){return b("str",{value:a.join("")})},Wa=function(a){return a},Ga=function(a){return b("str",{value:a.join("")})},zl=function(){return'"'},Ja=function(){return"'"},Vl=function(){return b("num",{value:parseFloat(E())})},Wl=function(){return b("num",{value:parseFloat(E())})},ki=function(){return b("num",{value:parseInt(E(),10)})},Gl=function(){return b("num",{value:parseInt(E(),10)})},Ei=function(){return b("bool",{value:!0})},Jl=function(){return b("bool",{value:!1})},Zl=function(){return b("null",{})},Za=function(a,o){return{k:a,v:o}},Ql=function(a){const o=new Map;for(const w of a)o.set(w.k,w.v);return b("obj",{value:o})},Qa=function(a){return a},oa=function(a){return b("arr",{value:a})},Xl=function(a,o){return{name:a,argType:o}},fa=function(a,o){return[a,...o]},Yl=function(a,o,w,c,s,u){return(a.length>0||w.length>0)&&Es("Cannot use spaces before or after the function name."),b("def",{name:o,expr:b("fn",{args:c??[],retType:s},u??[]),mut:!1,attr:[]})},eu=function(a,o,w){return b("fn",{args:a??[],retType:o},w??[])},Xa=function(a){return a},tu=function(a){return b("arr",{value:a})},Ya=function(a,o){return{k:a,v:o}},ei=function(a){const o=new Map;for(const w of a)o.set(w.k,w.v);return b("obj",{value:o})},ru=function(a,o){return b("fnTypeSource",{args:a??[],result:o})},ti=function(a,o){return[a,...o]},$=function(a,o){return b("namedTypeSource",{name:a,inner:o})},be=function(a){return b("namedTypeSource",{name:a,inner:null})},yn=function(){return E()},ss=function(){return E()},ca=function(a){return b("block",{statements:a??[]})},i=0,R=0,ns=[{line:1,column:1}],l=0,Y=[],S=0,j={},nr;if("startRule"in r){if(!(r.startRule in h))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');d=h[r.startRule]}function E(){return t.substring(R,i)}function H(){return Ms(R,i)}function Es(a,o){throw o=o!==void 0?o:Ms(R,i),ri(a,o)}function ae(a,o){return{type:"literal",text:a,ignoreCase:o}}function X(a,o,w){return{type:"class",parts:a,inverted:o,ignoreCase:w}}function su(){return{type:"any"}}function fe(){return{type:"end"}}function Gt(a){var o=ns[a],w;if(o)return o;for(w=a-1;!ns[w];)w--;for(o=ns[w],o={line:o.line,column:o.column};w<a;)t.charCodeAt(w)===10?(o.line++,o.column=1):o.column++,w++;return ns[a]=o,o}function Ms(a,o,w){var c=Gt(a),s=Gt(o),u={source:n,start:{offset:a,line:c.line,column:c.column},end:{offset:o,line:s.line,column:s.column}};return w&&n&&typeof n.offset=="function"&&(u.start=n.offset(u.start),u.end=n.offset(u.end)),u}function I(a){i<l||(i>l&&(l=i,Y=[]),Y.push(a))}function ri(a,o){return new _o(a,null,null,o)}function Qs(a,o,w){return new _o(_o.buildMessage(a,o),a,o,w)}function T(){var a,o,w,c=i*76+0,s=j[c];if(s)return i=s.nextPos,s.result;for(a=i,o=[],w=Xs();w!==e;)o.push(w),w=Xs();return R=a,o=xi(o),a=o,j[c]={nextPos:i,result:a},a}function Xs(){var a,o,w=i*76+1,c=j[w];return c?(i=c.nextPos,c.result):(a=i,o=Hn(),o!==e&&(R=a,o=ll()),a=o,a===e&&(a=i,o=en(),o!==e&&(R=a,o=bi()),a=o,a===e&&(a=si(),a===e&&(t.length>i?(a=t.charAt(i),i++):(a=e,S===0&&I(ir))))),j[w]={nextPos:i,result:a},a)}function si(){var a,o,w,c,s,u,p=i*76+2,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,2)===_?(o=_,i+=2):(o=e,S===0&&I(Vt)),o!==e){for(w=[],c=i,s=i,S++,u=y(),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,u=y(),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);R=a,a=ul()}else i=a,a=e;if(a===e)if(a=i,t.substr(i,2)===C?(o=C,i+=2):(o=e,S===0&&I(_s)),o!==e){for(w=[],c=i,s=i,S++,t.substr(i,2)===M?(u=M,i+=2):(u=e,S===0&&I(Sn)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.substr(i,2)===M?(u=M,i+=2):(u=e,S===0&&I(Sn)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir)),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);t.substr(i,2)===M?(c=M,i+=2):(c=e,S===0&&I(Sn)),c!==e?(R=a,a=Ai()):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Rn(){var a,o,w,c,s,u=i*76+3,p=j[u];if(p)return i=p.nextPos,p.result;for(a=i,o=[],w=m();w!==e;)o.push(w),w=m();for(w=Ys(),w===e&&(w=null),c=[],s=m();s!==e;)c.push(s),s=m();return R=a,a=ol(w),j[u]={nextPos:i,result:a},a}function Ys(){var a,o,w,c,s,u,p,f,g=i*76+4,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=wn(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=wn(),f!==e?(R=c,c=Ha(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=wn(),f!==e?(R=c,c=Ha(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=fl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function St(){var a,o,w,c,s,u,p,f,g=i*76+5,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=as(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=as(),f!==e?(R=c,c=In(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=as(),f!==e?(R=c,c=In(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=cl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Zr(){var a,o,w,c,s,u,p,f,g=i*76+6,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=vr(),o!==e){for(w=[],c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=vr(),f!==e?(R=c,c=jn(o,f)):(i=c,c=e)}else i=c,c=e;for(;c!==e;){for(w.push(c),c=i,s=[],u=P();u!==e;)s.push(u),u=P();if(u=ge(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=vr(),f!==e?(R=c,c=jn(o,f)):(i=c,c=e)}else i=c,c=e}R=a,a=hl(o,w)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function wn(){var a,o=i*76+7,w=j[o];return w?(i=w.nextPos,w.result):(a=ms(),a===e&&(a=ni(),a===e&&(a=vr())),j[o]={nextPos:i,result:a},a)}function as(){var a,o=i*76+8,w=j[o];return w?(i=w.nextPos,w.result):(a=Fr(),a===e&&(a=Xr(),a===e&&(a=ms())),j[o]={nextPos:i,result:a},a)}function vr(){var a,o=i*76+9,w=j[o];return w?(i=w.nextPos,w.result):(a=Fr(),a===e&&(a=Xr(),a===e&&(a=ai(),a===e&&(a=iu(),a===e&&(a=nu(),a===e&&(a=ii(),a===e&&(a=au(),a===e&&(a=Ss(),a===e&&(a=Mi(),a===e&&(a=lu(),a===e&&(a=uu(),a===e&&(a=We()))))))))))),j[o]={nextPos:i,result:a},a)}function We(){var a,o=i*76+10,w=j[o];return w?(i=w.nextPos,w.result):(a=Si(),a===e&&(a=Qr()),j[o]={nextPos:i,result:a},a)}function Qr(){var a,o=i*76+11,w=j[o];return w?(i=w.nextPos,w.result):(a=ou(),a===e&&(a=hu(),a===e&&(a=Or(),a===e&&(a=is()))),j[o]={nextPos:i,result:a},a)}function is(){var a,o,w,c,s,u,p=i*76+12,f=j[p];if(f)return i=f.nextPos,f.result;if(a=Oi(),a===e&&(a=mn(),a===e&&(a=Hn(),a===e&&(a=en(),a===e&&(a=fi(),a===e&&(a=qn(),a===e&&(a=ya(),a===e&&(a=wa(),a===e&&(a=cu(),a===e&&(a=Fi(),a===e&&(a=fu(),a===e)))))))))))if(a=i,t.charCodeAt(i)===40?(o=F,i++):(o=e,S===0&&I(Wt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=We(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e?(R=a,a=Ba(c)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function qe(){var a,o=i*76+13,w=j[o];return w?(i=w.nextPos,w.result):(a=fi(),a===e&&(a=en(),a===e&&(a=qn(),a===e&&(a=Vn(),a===e&&(a=pi(),a===e&&(a=ya()))))),j[o]={nextPos:i,result:a},a)}function ms(){var a,o,w,c,s,u,p,f,g,v,A=i*76+14,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===D?(o=D,i+=2):(o=e,S===0&&I(Pr)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(t.charCodeAt(i)===123?(u=q,i++):(u=e,S===0&&I(sr)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(f=St(),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();t.charCodeAt(i)===125?(v=Q,i++):(v=e,S===0&&I(tt)),v!==e?(R=a,a=pl(c,f)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function ni(){var a,o,w,c,s,u,p=i*76+15,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.substr(i,3)===ye?(o=ye,i+=3):(o=e,S===0&&I(Ht)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=Ve(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();u=qe(),u!==e?(R=a,a=vl(c,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===ye?(o=ye,i+=3):(o=e,S===0&&I(Ht)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();c=qe(),c!==e?(R=a,a=gl(c)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Fr(){var a,o,w,c,s,u,p,f,g,v=i*76+16,A=j[v];if(A)return i=A.nextPos,A.result;if(a=i,t.substr(i,3)===ue?(o=ue,i+=3):(o=e,S===0&&I(rs)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===58?(p=pe,i++):(p=e,S===0&&I(Nt)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=nt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===61?(p=Fe,i++):(p=e,S===0&&I(Ot)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=We(),g!==e?(R=a,a=dl(c,s,g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===W?(o=W,i+=3):(o=e,S===0&&I(Jr)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===58?(p=pe,i++):(p=e,S===0&&I(Nt)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=nt(),g!==e?s=g:(i=s,s=e)}else i=s,s=e;for(s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===61?(p=Fe,i++):(p=e,S===0&&I(Ot)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();g=We(),g!==e?(R=a,a=yl(c,s,g)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[v]={nextPos:i,result:a},a}function ai(){var a,o,w,c,s=i*76+17,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,t.substr(i,2)===z?(o=z,i+=2):(o=e,S===0&&I(mi)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();c=We(),c!==e?(R=a,a=wl(c)):(i=a,a=e)}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function nu(){var a,o,w,c,s,u,p,f=i*76+18,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,t.substr(i,2)===G?(o=G,i+=2):(o=e,S===0&&I(gs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=Ve(),c!==e){for(s=i,u=[],p=m();p!==e;)u.push(p),p=m();for(p=qe(),p!==e?s=p:(i=s,s=e),s===e&&(s=null),u=[],p=m();p!==e;)u.push(p),p=m();t.charCodeAt(i)===93?(p=J,i++):(p=e,S===0&&I(os)),p!==e?(R=a,a=ml(c,s)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[f]={nextPos:i,result:a},a}function ii(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+19,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.substr(i,4)===Z?(o=Z,i+=4):(o=e,S===0&&I(ds)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(t.substr(i,3)===ue?(s=ue,i+=3):(s=e,S===0&&I(rs)),s!==e){if(u=[],p=m(),p!==e)for(;p!==e;)u.push(p),p=m();else u=e;if(u!==e)if(p=Ve(),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();for(t.charCodeAt(i)===44?(g=ee,i++):(g=e,S===0&&I(dt)),g===e&&(g=null),v=[],A=m();A!==e;)v.push(A),A=m();if(A=We(),A!==e)if(t.charCodeAt(i)===41?(x=O,i++):(x=e,S===0&&I($t)),x!==e){for(k=[],N=m();N!==e;)k.push(N),N=m();N=Ye(),N!==e?(R=a,a=$l(p,A,N)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,4)===Z?(o=Z,i+=4):(o=e,S===0&&I(ds)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(t.substr(i,3)===ue?(c=ue,i+=3):(c=e,S===0&&I(rs)),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();if(v=We(),v!==e){if(A=[],x=m(),x!==e)for(;x!==e;)A.push(x),x=m();else A=e;A!==e?(x=Ye(),x!==e?(R=a,a=xl(u,v,x)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function au(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K=i*76+20,re=j[K];if(re)return i=re.nextPos,re.result;if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(t.substr(i,3)===ue?(s=ue,i+=3):(s=e,S===0&&I(rs)),s!==e){if(u=[],p=m(),p!==e)for(;p!==e;)u.push(p),p=m();else u=e;if(u!==e)if(p=Ve(),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();if(g=i,t.charCodeAt(i)===61?(v=Fe,i++):(v=e,S===0&&I(Ot)),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();x=We(),x!==e?(R=g,g=bl(p,x)):(i=g,g=e)}else i=g,g=e;for(g===e&&(g=null),t.charCodeAt(i)===44?(v=ee,i++):(v=e,S===0&&I(dt)),v===e&&(v=null),A=[],x=m();x!==e;)A.push(x),x=m();if(x=We(),x!==e)if(t.charCodeAt(i)===41?(k=O,i++):(k=e,S===0&&I($t)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();L=Ye(),L!==e?(R=a,a=Al(p,g,x,L)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(t.substr(i,3)===ue?(c=ue,i+=3):(c=e,S===0&&I(rs)),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(f=i,t.charCodeAt(i)===61?(g=Fe,i++):(g=e,S===0&&I(Ot)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();A=We(),A!==e?(R=f,f=_l(u,A)):(i=f,f=e)}else i=f,f=e;for(f===e&&(f=null),t.charCodeAt(i)===44?(g=ee,i++):(g=e,S===0&&I(dt)),g===e&&(g=null),v=[],A=m();A!==e;)v.push(A),A=m();if(A=We(),A!==e){if(x=[],k=m(),k!==e)for(;k!==e;)x.push(k),k=m();else x=e;x!==e?(k=Ye(),k!==e?(R=a,a=Cl(u,f,A,k)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===40?(c=F,i++):(c=e,S===0&&I(Wt)),c!==e)if(s=We(),s!==e)if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();f=Ye(),f!==e?(R=a,a=Pl(s,f)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,t.substr(i,3)===se?(o=se,i+=3):(o=e,S===0&&I(Mt)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=We(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;s!==e?(u=Ye(),u!==e?(R=a,a=_i(c,u)):(i=a,a=e)):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e}}return j[K]={nextPos:i,result:a},a}function iu(){var a,o,w,c,s,u=i*76+21,p=j[u];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,6)===ne?(o=ne,i+=6):(o=e,S===0&&I(Ks)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();s=We(),s!==e?(R=a,a=kl(s)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[u]={nextPos:i,result:a},a}function Ss(){var a,o,w,c,s,u,p,f,g=i*76+22,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,t.substr(i,4)===Se?(o=Se,i+=4):(o=e,S===0&&I(br)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===123?(c=q,i++):(c=e,S===0&&I(sr)),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();if(u=Zr(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();t.charCodeAt(i)===125?(f=Q,i++):(f=e,S===0&&I(tt)),f!==e?(R=a,a=El(u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Mi(){var a,o,w,c,s=i*76+23,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,5)===je?(o=je,i+=5):(o=e,S===0&&I(qi)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Ml()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function lu(){var a,o,w,c,s=i*76+24,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,8)===_e?(o=_e,i+=8):(o=e,S===0&&I($i)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Sl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function uu(){var a,o,w,c,s,u,p=i*76+25,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=We(),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.substr(i,2)===Xe?(c=Xe,i+=2):(c=e,S===0&&I(Ki)),c===e&&(t.substr(i,2)===pt?(c=pt,i+=2):(c=e,S===0&&I(zi)),c===e&&(t.charCodeAt(i)===61?(c=Fe,i++):(c=e,S===0&&I(Ot)))),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();u=We(),u!==e?(R=a,a=Fl(o,c,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Si(){var a,o,w,c,s,u,p,f,g=i*76+26,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=Qr(),o!==e){for(w=[],c=i,s=[],u=Nr();u!==e;)s.push(u),u=Nr();if(u=ha(),u!==e){for(p=[],f=Nr();f!==e;)p.push(f),f=Nr();f=Qr(),f!==e?(R=c,c=la(o,u,f)):(i=c,c=e)}else i=c,c=e;if(c!==e)for(;c!==e;){for(w.push(c),c=i,s=[],u=Nr();u!==e;)s.push(u),u=Nr();if(u=ha(),u!==e){for(p=[],f=Nr();f!==e;)p.push(f),f=Nr();f=Qr(),f!==e?(R=c,c=la(o,u,f)):(i=c,c=e)}else i=c,c=e}else w=e;w!==e?(R=a,a=Nl(o,w)):(i=a,a=e)}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function Nr(){var a,o,w,c=i*76+27,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===92?(o=ar,i++):(o=e,S===0&&I(Na)),o!==e?(w=ge(),w!==e?(o=[o,w],a=o):(i=a,a=e)):(i=a,a=e),a===e&&(a=P()),j[c]={nextPos:i,result:a},a)}function ha(){var a,o,w=i*76+28,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===vt?(o=vt,i+=2):(o=e,S===0&&I(Oa)),o===e&&(t.substr(i,2)===ft?(o=ft,i+=2):(o=e,S===0&&I(Vi)),o===e&&(t.substr(i,2)===ze?(o=ze,i+=2):(o=e,S===0&&I(Wi)),o===e&&(t.substr(i,2)===ct?(o=ct,i+=2):(o=e,S===0&&I(Gi)),o===e&&(t.substr(i,2)===Lt?(o=Lt,i+=2):(o=e,S===0&&I(Ji)),o===e&&(t.substr(i,2)===Kt?(o=Kt,i+=2):(o=e,S===0&&I(Ta)),o===e&&(t.charCodeAt(i)===60?(o=lt,i++):(o=e,S===0&&I(Fn)),o===e&&(t.charCodeAt(i)===62?(o=Hr,i++):(o=e,S===0&&I(Nn)),o===e&&(t.charCodeAt(i)===43?(o=rr,i++):(o=e,S===0&&I(Ia)),o===e&&(t.charCodeAt(i)===45?(o=_r,i++):(o=e,S===0&&I(Zi)),o===e&&(t.charCodeAt(i)===42?(o=Dt,i++):(o=e,S===0&&I(ja)),o===e&&(t.charCodeAt(i)===94?(o=mr,i++):(o=e,S===0&&I(dn)),o===e&&(t.charCodeAt(i)===47?(o=Br,i++):(o=e,S===0&&I(Qi)),o===e&&(t.charCodeAt(i)===37?(o=$r,i++):(o=e,S===0&&I(Xi))))))))))))))),o!==e&&(R=a,o=Ua()),a=o,j[w]={nextPos:i,result:a},a)}function Fi(){var a,o,w,c=i*76+29,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===33?(o=Cr,i++):(o=e,S===0&&I(Yi)),o!==e?(w=We(),w!==e?(R=a,a=Ol(w)):(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function Or(){var a,o,w,c,s=i*76+30,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,o=is(),o!==e){if(w=[],c=Dn(),c===e&&(c=ui(),c===e&&(c=Ln())),c!==e)for(;c!==e;)w.push(c),c=Dn(),c===e&&(c=ui(),c===e&&(c=Ln()));else w=e;w!==e?(R=a,a=Tl(o,w)):(i=a,a=e)}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function Dn(){var a,o,w,c,s,u,p=i*76+31,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===40?(o=F,i++):(o=e,S===0&&I(Wt)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=li(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e?(R=a,a=Il(c)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function li(){var a,o,w,c,s,u,p=i*76+32,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=We(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=We(),u!==e?(R=c,c=qa(o,u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=We(),u!==e?(R=c,c=qa(o,u)):(i=c,c=e)):(i=c,c=e);R=a,a=jl(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function ui(){var a,o,w,c,s,u,p=i*76+33,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=We(),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=ua(c)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Ln(){var a,o,w,c=i*76+34,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===46?(o=pr,i++):(o=e,S===0&&I(ys)),o!==e?(w=Ve(),w!==e?(R=a,a=Rl(w)):(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function ou(){var a,o,w,c,s,u,p,f,g,v,A=i*76+35,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===V?(o=V,i+=2):(o=e,S===0&&I(On)),o!==e){if(w=[],c=m(),c!==e)for(;c!==e;)w.push(c),c=m();else w=e;if(w!==e)if(c=We(),c!==e){if(s=[],u=m(),u!==e)for(;u!==e;)s.push(u),u=m();else s=e;if(s!==e)if(u=Ye(),u!==e){if(p=i,f=[],g=m(),g!==e)for(;g!==e;)f.push(g),g=m();else f=e;if(f!==e?(g=oi(),g!==e?p=g:(i=p,p=e)):(i=p,p=e),p===e&&(p=null),f=i,g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;g!==e?(v=Ni(),v!==e?f=v:(i=f,f=e)):(i=f,f=e),f===e&&(f=null),R=a,a=Dl(c,u,p,f)}else i=a,a=e;else i=a,a=e}else i=a,a=e;else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function oi(){var a,o,w,c,s,u,p=i*76+36,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Fs(),o!==e){for(w=[],c=i,s=[],u=m();u!==e;)s.push(u),u=m();for(u=Fs(),u!==e?c=u:(i=c,c=e);c!==e;){for(w.push(c),c=i,s=[],u=m();u!==e;)s.push(u),u=m();u=Fs(),u!==e?c=u:(i=c,c=e)}R=a,a=Ll(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Fs(){var a,o,w,c,s,u,p,f=i*76+37,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,t.substr(i,4)===te?(o=te,i+=4):(o=e,S===0&&I(aa)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();if(s=We(),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();p=Ye(),p!==e?(R=a,a=Hl(s,p)):(i=a,a=e)}else i=a,a=e}else i=a,a=e;else i=a,a=e;return j[f]={nextPos:i,result:a},a}function Ni(){var a,o,w,c,s,u=i*76+38,p=j[u];if(p)return i=p.nextPos,p.result;if(a=i,t.substr(i,4)===ie?(o=ie,i+=4):(o=e,S===0&&I(ia)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();s=Ye(),s!==e?(R=a,a=Bl(s)):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[u]={nextPos:i,result:a},a}function Oi(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=i*76+39,oe=j[Pe];if(oe)return i=oe.nextPos,oe.result;if(a=i,t.substr(i,5)===de?(o=de,i+=5):(o=e,S===0&&I(el)),o!==e)if(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();if(s=We(),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();if(t.charCodeAt(i)===123?(p=q,i++):(p=e,S===0&&I(sr)),p!==e){for(f=[],g=m();g!==e;)f.push(g),g=m();if(g=[],v=i,A=We(),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();R=v,v=Ka(s,A,L)}else i=v,v=e}else i=v,v=e}else i=v,v=e;if(v!==e)for(;v!==e;)if(g.push(v),v=i,A=We(),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();R=v,v=Ka(s,A,L)}else i=v,v=e}else i=v,v=e}else i=v,v=e;else g=e;if(g!==e){if(v=i,t.charCodeAt(i)===42?(A=Dt,i++):(A=e,S===0&&I(ja)),A!==e){for(x=[],k=m();k!==e;)x.push(k),k=m();if(t.substr(i,2)===le?(k=le,i+=2):(k=e,S===0&&I(zs)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();if(L=Ye(),L!==e){for(K=[],re=m();re!==e;)K.push(re),re=m();v=L}else i=v,v=e}else i=v,v=e}else i=v,v=e;for(v===e&&(v=null),A=[],x=m();x!==e;)A.push(x),x=m();t.charCodeAt(i)===125?(x=Q,i++):(x=e,S===0&&I(tt)),x!==e?(R=a,a=Ci(s,g,v)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;else i=a,a=e;return j[Pe]={nextPos:i,result:a},a}function mn(){var a,o,w,c,s,u,p,f,g=i*76+40,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,t.substr(i,4)===ke?(o=ke,i+=4):(o=e,S===0&&I(fs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(t.charCodeAt(i)===123?(c=q,i++):(c=e,S===0&&I(sr)),c!==e){for(s=[],u=m();u!==e;)s.push(u),u=m();if(u=Zr(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();t.charCodeAt(i)===125?(f=Q,i++):(f=e,S===0&&I(tt)),f!==e?(R=a,a=za(u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[g]={nextPos:i,result:a},a}function fu(){var a,o,w=i*76+41,c=j[w];return c?(i=c.nextPos,c.result):(a=i,o=Ti(),o!==e&&(R=a,o=Pi(o)),a=o,j[w]={nextPos:i,result:a},a)}function Hn(){var a,o,w,c,s,u,p=i*76+42,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===96?(o=Ne,i++):(o=e,S===0&&I(Ps)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===96?(u=Ne,i++):(u=e,S===0&&I(Ps)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=pa(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===96?(u=Ne,i++):(u=e,S===0&&I(Ps)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=pa(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===96?(c=Ne,i++):(c=e,S===0&&I(Ps)),c!==e?(R=a,a=Ul(w)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function pa(){var a,o,w,c,s,u,p=i*76+43,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=We(),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();t.charCodeAt(i)===125?(u=Q,i++):(u=e,S===0&&I(tt)),u!==e?a=c:(i=a,a=e)}else i=a,a=e}else i=a,a=e;if(a===e){if(a=i,o=[],w=va(),w!==e)for(;w!==e;)o.push(w),w=va();else o=e;o!==e&&(R=a,o=ql(o)),a=o}return j[p]={nextPos:i,result:a},a}function va(){var a,o=i*76+44,w=j[o];return w?(i=w.nextPos,w.result):(a=ga(),a===e&&(bt.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(cs))),j[o]={nextPos:i,result:a},a)}function ga(){var a,o,w,c=i*76+45,s=j[c];return s?(i=s.nextPos,s.result):(a=i,t.charCodeAt(i)===92?(o=ar,i++):(o=e,S===0&&I(Na)),o!==e?(qs.test(t.charAt(i))?(w=t.charAt(i),i++):(w=e,S===0&&I(Vs)),w!==e?a=w:(i=a,a=e)):(i=a,a=e),j[c]={nextPos:i,result:a},a)}function en(){var a,o,w,c,s,u,p=i*76+46,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===34?(o=Ae,i++):(o=e,S===0&&I(Ws)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===34?(u=Ae,i++):(u=e,S===0&&I(Ws)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=Bn(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Va(u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===34?(u=Ae,i++):(u=e,S===0&&I(Ws)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=Bn(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Va(u)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===34?(c=Ae,i++):(c=e,S===0&&I(Ws)),c!==e?(R=a,a=Kl(w)):(i=a,a=e)}else i=a,a=e;if(a===e)if(a=i,t.charCodeAt(i)===39?(o=Ce,i++):(o=e,S===0&&I(Gs)),o!==e){for(w=[],c=i,s=i,S++,t.charCodeAt(i)===39?(u=Ce,i++):(u=e,S===0&&I(Gs)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=$n(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Wa(u)):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=i,S++,t.charCodeAt(i)===39?(u=Ce,i++):(u=e,S===0&&I(Gs)),S--,u===e?s=void 0:(i=s,s=e),s!==e?(u=$n(),u===e&&(t.length>i?(u=t.charAt(i),i++):(u=e,S===0&&I(ir))),u!==e?(R=c,c=Wa(u)):(i=c,c=e)):(i=c,c=e);t.charCodeAt(i)===39?(c=Ce,i++):(c=e,S===0&&I(Gs)),c!==e?(R=a,a=Ga(w)):(i=a,a=e)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Bn(){var a,o,w=i*76+47,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===we?(o=we,i+=2):(o=e,S===0&&I(hs)),o!==e&&(R=a,o=zl()),a=o,j[w]={nextPos:i,result:a},a)}function $n(){var a,o,w=i*76+48,c=j[w];return c?(i=c.nextPos,c.result):(a=i,t.substr(i,2)===Ke?(o=Ke,i+=2):(o=e,S===0&&I(Js)),o!==e&&(R=a,o=Ja()),a=o,j[w]={nextPos:i,result:a},a)}function fi(){var a,o=i*76+49,w=j[o];return w?(i=w.nextPos,w.result):(a=Un(),a===e&&(a=da()),j[o]={nextPos:i,result:a},a)}function Un(){var a,o,w,c,s,u,p=i*76+50,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),Vr.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Ra)),o!==e){if(w=[],gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt)),c!==e)for(;c!==e;)w.push(c),gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt));else w=e;if(w!==e)if(t.charCodeAt(i)===46?(c=pr,i++):(c=e,S===0&&I(ys)),c!==e){if(s=[],gt.test(t.charAt(i))?(u=t.charAt(i),i++):(u=e,S===0&&I(Bt)),u!==e)for(;u!==e;)s.push(u),gt.test(t.charAt(i))?(u=t.charAt(i),i++):(u=e,S===0&&I(Bt));else s=e;s!==e?(R=a,a=Vl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e}else i=a,a=e;if(a===e)if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),gt.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Bt)),o!==e)if(t.charCodeAt(i)===46?(w=pr,i++):(w=e,S===0&&I(ys)),w!==e){if(c=[],gt.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,S===0&&I(Bt)),s!==e)for(;s!==e;)c.push(s),gt.test(t.charAt(i))?(s=t.charAt(i),i++):(s=e,S===0&&I(Bt));else c=e;c!==e?(R=a,a=Wl()):(i=a,a=e)}else i=a,a=e;else i=a,a=e;return j[p]={nextPos:i,result:a},a}function da(){var a,o,w,c,s=i*76+51,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),Vr.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Ra)),o!==e){if(w=[],gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt)),c!==e)for(;c!==e;)w.push(c),gt.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Bt));else w=e;w!==e?(R=a,a=ki()):(i=a,a=e)}else i=a,a=e;return a===e&&(a=i,zr.test(t.charAt(i))?(t.charAt(i),i++):S===0&&I(ks),gt.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(Bt)),o!==e?(R=a,a=Gl()):(i=a,a=e)),j[s]={nextPos:i,result:a},a}function qn(){var a,o=i*76+52,w=j[o];return w?(i=w.nextPos,w.result):(a=ci(),a===e&&(a=hi()),j[o]={nextPos:i,result:a},a)}function ci(){var a,o,w,c,s=i*76+53,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,4)===Qe?(o=Qe,i+=4):(o=e,S===0&&I(Da)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Ei()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function hi(){var a,o,w,c,s=i*76+54,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,5)===Ge?(o=Ge,i+=5):(o=e,S===0&&I(lr)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Jl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function ya(){var a,o,w,c,s=i*76+55,u=j[s];return u?(i=u.nextPos,u.result):(a=i,t.substr(i,4)===Je?(o=Je,i+=4):(o=e,S===0&&I(tl)),o!==e?(w=i,S++,_t.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(xr)),S--,c===e?w=void 0:(i=w,w=e),w!==e?(R=a,a=Zl()):(i=a,a=e)):(i=a,a=e),j[s]={nextPos:i,result:a},a)}function wa(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+56,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=We(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Za(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=We(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Za(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=Q,i++):(s=e,S===0&&I(tt)),s!==e?(R=a,a=Ql(c)):(i=a,a=e)}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function cu(){var a,o,w,c,s,u,p,f,g,v,A=i*76+57,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=We(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Qa(u)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=We(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Qa(u)}else i=s,s=e;for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=oa(c)):(i=a,a=e)}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function Kn(){var a,o,w,c,s,u,p,f=i*76+58,g=j[f];if(g)return i=g.nextPos,g.result;if(a=i,o=Ve(),o!==e){for(w=i,c=[],s=m();s!==e;)c.push(s),s=m();if(t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e){for(u=[],p=m();p!==e;)u.push(p),p=m();p=nt(),p!==e?w=p:(i=w,w=e)}else i=w,w=e;w===e&&(w=null),R=a,a=Xl(o,w)}else i=a,a=e;return j[f]={nextPos:i,result:a},a}function zn(){var a,o,w,c,s,u,p=i*76+59,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Kn(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=Kn(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=Kn(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);R=a,a=fa(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Xr(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L,K,re,Pe=i*76+60,oe=j[Pe];if(oe)return i=oe.nextPos,oe.result;if(a=i,t.charCodeAt(i)===64?(o=ht,i++):(o=e,S===0&&I(rl)),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(c=Ve(),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();if(t.charCodeAt(i)===40?(u=F,i++):(u=e,S===0&&I(Wt)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(f=zn(),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();if(t.charCodeAt(i)===41?(v=O,i++):(v=e,S===0&&I($t)),v!==e){for(A=i,x=[],k=m();k!==e;)x.push(k),k=m();if(t.charCodeAt(i)===58?(k=pe,i++):(k=e,S===0&&I(Nt)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();L=nt(),L!==e?A=L:(i=A,A=e)}else i=A,A=e;for(A===e&&(A=null),x=[],k=m();k!==e;)x.push(k),k=m();if(t.charCodeAt(i)===123?(k=q,i++):(k=e,S===0&&I(sr)),k!==e){for(N=[],L=m();L!==e;)N.push(L),L=m();for(L=Zr(),L===e&&(L=null),K=[],re=m();re!==e;)K.push(re),re=m();t.charCodeAt(i)===125?(re=Q,i++):(re=e,S===0&&I(tt)),re!==e?(R=a,a=Yl(w,c,s,f,A,L)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[Pe]={nextPos:i,result:a},a}function hu(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N=i*76+61,L=j[N];if(L)return i=L.nextPos,L.result;if(a=i,t.substr(i,2)===At?(o=At,i+=2):(o=e,S===0&&I(ws)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=zn(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=i,f=[],g=m();g!==e;)f.push(g),g=m();if(t.charCodeAt(i)===58?(g=pe,i++):(g=e,S===0&&I(Nt)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();A=nt(),A!==e?p=A:(i=p,p=e)}else i=p,p=e;for(p===e&&(p=null),f=[],g=m();g!==e;)f.push(g),g=m();if(t.charCodeAt(i)===123?(g=q,i++):(g=e,S===0&&I(sr)),g!==e){for(v=[],A=m();A!==e;)v.push(A),A=m();for(A=Zr(),A===e&&(A=null),x=[],k=m();k!==e;)x.push(k),k=m();t.charCodeAt(i)===125?(k=Q,i++):(k=e,S===0&&I(tt)),k!==e?(R=a,a=eu(c,p,A)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[N]={nextPos:i,result:a},a}function Vn(){var a,o,w,c,s,u,p,f,g,v,A=i*76+62,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.charCodeAt(i)===91?(o=zt,i++):(o=e,S===0&&I(Cs)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=qe(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Xa(u)}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=qe(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();for(t.charCodeAt(i)===44?(f=ee,i++):(f=e,S===0&&I(dt)),f===e&&(f=null),g=[],v=m();v!==e;)g.push(v),v=m();R=s,s=Xa(u)}else i=s,s=e;for(s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===93?(u=J,i++):(u=e,S===0&&I(os)),u!==e?(R=a,a=tu(c)):(i=a,a=e)}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function pi(){var a,o,w,c,s,u,p,f,g,v,A,x,k,N,L=i*76+63,K=j[L];if(K)return i=K.nextPos,K.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();if(c=[],s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=qe(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Ya(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;for(;s!==e;)if(c.push(s),s=i,u=Ve(),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.charCodeAt(i)===58?(f=pe,i++):(f=e,S===0&&I(Nt)),f!==e){if(g=[],v=m(),v!==e)for(;v!==e;)g.push(v),v=m();else g=e;if(g!==e)if(v=qe(),v!==e){for(A=[],x=m();x!==e;)A.push(x),x=m();for(t.charCodeAt(i)===44?(x=ee,i++):(x=e,S===0&&I(dt)),x===e&&(t.charCodeAt(i)===59?(x=rt,i++):(x=e,S===0&&I(Zs))),x===e&&(x=null),k=[],N=m();N!==e;)k.push(N),N=m();R=s,s=Ya(u,v)}else i=s,s=e;else i=s,s=e}else i=s,s=e}else i=s,s=e;t.charCodeAt(i)===125?(s=Q,i++):(s=e,S===0&&I(tt)),s!==e?(R=a,a=ei(c)):(i=a,a=e)}else i=a,a=e;return j[L]={nextPos:i,result:a},a}function nt(){var a,o=i*76+64,w=j[o];return w?(i=w.nextPos,w.result):(a=pu(),a===e&&(a=Yr()),j[o]={nextPos:i,result:a},a)}function pu(){var a,o,w,c,s,u,p,f,g,v,A=i*76+65,x=j[A];if(x)return i=x.nextPos,x.result;if(a=i,t.substr(i,2)===At?(o=At,i+=2):(o=e,S===0&&I(ws)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=xn(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();if(t.charCodeAt(i)===41?(u=O,i++):(u=e,S===0&&I($t)),u!==e){for(p=[],f=m();f!==e;)p.push(f),f=m();if(t.substr(i,2)===le?(f=le,i+=2):(f=e,S===0&&I(zs)),f!==e){for(g=[],v=m();v!==e;)g.push(v),v=m();v=nt(),v!==e?(R=a,a=ru(c,v)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return j[A]={nextPos:i,result:a},a}function xn(){var a,o,w,c,s,u,p=i*76+66,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=nt(),o!==e){for(w=[],c=i,s=U(),s!==e?(u=nt(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,s=U(),s!==e?(u=nt(),u!==e?c=u:(i=c,c=e)):(i=c,c=e);R=a,a=ti(o,w)}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function Yr(){var a,o,w,c,s,u,p,f,g=i*76+67,v=j[g];if(v)return i=v.nextPos,v.result;if(a=i,o=Ve(),o!==e){for(w=[],c=P();c!==e;)w.push(c),c=P();if(t.charCodeAt(i)===60?(c=lt,i++):(c=e,S===0&&I(Fn)),c!==e){for(s=[],u=P();u!==e;)s.push(u),u=P();if(u=nt(),u!==e){for(p=[],f=P();f!==e;)p.push(f),f=P();t.charCodeAt(i)===62?(f=Hr,i++):(f=e,S===0&&I(Nn)),f!==e?(R=a,a=$(o,u)):(i=a,a=e)}else i=a,a=e}else i=a,a=e}else i=a,a=e;return a===e&&(a=i,o=Ve(),o!==e&&(R=a,o=be(o)),a=o),j[g]={nextPos:i,result:a},a}function Ve(){var a,o,w,c,s=i*76+68,u=j[s];if(u)return i=u.nextPos,u.result;if(a=i,Ft.test(t.charAt(i))?(o=t.charAt(i),i++):(o=e,S===0&&I(sl)),o!==e){for(w=[],gn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Tn));c!==e;)w.push(c),gn.test(t.charAt(i))?(c=t.charAt(i),i++):(c=e,S===0&&I(Tn));R=a,a=yn()}else i=a,a=e;return j[s]={nextPos:i,result:a},a}function Ti(){var a,o,w,c,s,u,p=i*76+69,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,o=Ve(),o!==e){for(w=[],c=i,t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e?(u=Ve(),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);c!==e;)w.push(c),c=i,t.charCodeAt(i)===58?(s=pe,i++):(s=e,S===0&&I(Nt)),s!==e?(u=Ve(),u!==e?(s=[s,u],c=s):(i=c,c=e)):(i=c,c=e);R=a,a=ss()}else i=a,a=e;return j[p]={nextPos:i,result:a},a}function U(){var a,o,w,c,s,u=i*76+70,p=j[u];if(p)return i=p.nextPos,p.result;for(a=i,o=[],w=m();w!==e;)o.push(w),w=m();if(t.charCodeAt(i)===44?(w=ee,i++):(w=e,S===0&&I(dt)),w!==e){for(c=[],s=m();s!==e;)c.push(s),s=m();o=[o,w,c],a=o}else i=a,a=e;if(a===e)if(a=[],o=m(),o!==e)for(;o!==e;)a.push(o),o=m();else a=e;return j[u]={nextPos:i,result:a},a}function Ye(){var a,o,w,c,s,u,p=i*76+71,f=j[p];if(f)return i=f.nextPos,f.result;if(a=i,t.charCodeAt(i)===123?(o=q,i++):(o=e,S===0&&I(sr)),o!==e){for(w=[],c=m();c!==e;)w.push(c),c=m();for(c=Zr(),c===e&&(c=null),s=[],u=m();u!==e;)s.push(u),u=m();t.charCodeAt(i)===125?(u=Q,i++):(u=e,S===0&&I(tt)),u!==e?(R=a,a=ca(c)):(i=a,a=e)}else i=a,a=e;return a===e&&(a=vr()),j[p]={nextPos:i,result:a},a}function ge(){var a,o=i*76+72,w=j[o];return w?(i=w.nextPos,w.result):(t.substr(i,2)===Et?(a=Et,i+=2):(a=e,S===0&&I(nl)),a===e&&(Gr.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(La))),j[o]={nextPos:i,result:a},a)}function y(){var a,o,w=i*76+73,c=j[w];return c?(i=c.nextPos,c.result):(a=i,S++,t.length>i?(o=t.charAt(i),i++):(o=e,S===0&&I(ir)),S--,o===e?a=void 0:(i=a,a=e),a===e&&(a=ge()),j[w]={nextPos:i,result:a},a)}function m(){var a,o=i*76+74,w=j[o];return w?(i=w.nextPos,w.result):(Bi.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(al)),j[o]={nextPos:i,result:a},a)}function P(){var a,o=i*76+75,w=j[o];return w?(i=w.nextPos,w.result):(Ui.test(t.charAt(i))?(a=t.charAt(i),i++):(a=e,S===0&&I(il)),j[o]={nextPos:i,result:a},a)}function b(a,o,w){const c={type:a};o.children=w;for(const u of Object.keys(o))o[u]!==void 0&&(c[u]=o[u]);const s=H();return c.loc={start:s.start.offset,end:s.end.offset-1},c}if(nr=d(),nr!==e&&i===t.length)return nr;throw nr!==e&&i<t.length&&I(fe()),Qs(Y,l<t.length?t.charAt(l):null,l<t.length?Ms(l,l+1):Ms(l,l))}const sA=["infix","if","fn","match","block","tmpl","str","num","bool","null","obj","arr","identifier","call","index","prop"];function nA(t){return sA.includes(t.type)}function ly(t){return"chain"in t&&t.chain!==null}function aA(t,r,e){return{type:"call",target:t,args:r,loc:e}}function iA(t,r,e){return{type:"index",target:t,index:r,loc:e}}function lA(t,r,e){return{type:"prop",target:t,name:r,loc:e}}function Ct(t,r){const e=r(t);switch(e.type){case"def":{e.expr=Ct(e.expr,r);break}case"return":{e.expr=Ct(e.expr,r);break}case"each":{e.items=Ct(e.items,r),e.for=Ct(e.for,r);break}case"for":{e.from!=null&&(e.from=Ct(e.from,r)),e.to!=null&&(e.to=Ct(e.to,r)),e.times!=null&&(e.times=Ct(e.times,r)),e.for=Ct(e.for,r);break}case"loop":{for(let n=0;n<e.statements.length;n++)e.statements[n]=Ct(e.statements[n],r);break}case"addAssign":case"subAssign":case"assign":{e.expr=Ct(e.expr,r),e.dest=Ct(e.dest,r);break}case"infix":{for(let n=0;n<e.operands.length;n++)e.operands[n]=Ct(e.operands[n],r);break}case"not":{e.expr=Ct(e.expr,r);break}case"if":{e.cond=Ct(e.cond,r),e.then=Ct(e.then,r);for(const n of e.elseif)n.cond=Ct(n.cond,r),n.then=Ct(n.then,r);e.else!=null&&(e.else=Ct(e.else,r));break}case"fn":{for(let n=0;n<e.children.length;n++)e.children[n]=Ct(e.children[n],r);break}case"match":{e.about=Ct(e.about,r);for(const n of e.qs)n.q=Ct(n.q,r),n.a=Ct(n.a,r);e.default!=null&&(e.default=Ct(e.default,r));break}case"block":{for(let n=0;n<e.statements.length;n++)e.statements[n]=Ct(e.statements[n],r);break}case"tmpl":{for(let n=0;n<e.tmpl.length;n++){const h=e.tmpl[n];typeof h!="string"&&(e.tmpl[n]=Ct(h,r))}break}case"obj":{for(const n of e.value)e.value.set(n[0],Ct(n[1],r));break}case"arr":{for(let n=0;n<e.value.length;n++)e.value[n]=Ct(e.value[n],r);break}case"callChain":{for(let n=0;n<e.args.length;n++)e.args[n]=Ct(e.args[n],r);break}case"indexChain":{e.index=Ct(e.index,r);break}case"call":{e.target=Ct(e.target,r);for(let n=0;n<e.args.length;n++)e.args[n]=Ct(e.args[n],r);break}case"index":{e.target=Ct(e.target,r),e.index=Ct(e.index,r);break}case"prop":{e.target=Ct(e.target,r);break}case"ns":{for(let n=0;n<e.members.length;n++)e.members[n]=Ct(e.members[n],r);break}}if(ly(e)&&e.chain!=null)for(let n=0;n<e.chain.length;n++)e.chain[n]=Ct(e.chain[n],r);return e}const Oh=["null","true","false","each","for","loop","break","continue","match","if","elif","else","return","eval","var","let","fn","namespace","meta","attr","attribute","static","class","struct","module","while","import","export"];function Th(t){throw new So(`Reserved word "${t}" cannot be used as variable name.`)}function uA(t){switch(t.type){case"def":case"attr":case"ns":case"identifier":case"propChain":{Oh.includes(t.name)&&Th(t.name);break}case"meta":{t.name!=null&&Oh.includes(t.name)&&Th(t.name);break}case"fn":{for(const r of t.args)Oh.includes(r.name)&&Th(r.name);break}}return t}function oA(t){for(const r of t)Ct(r,uA);return t}function xg(t){return{type:"simple",name:t}}function fA(t,r){return{type:"generic",name:t,inners:r}}function cA(t,r){return{type:"fn",args:t,result:r}}function Ac(t){switch(t.type){case"namedTypeSource":if(t.inner){const r=Ac(t.inner);return`${t.name}<${r}>`}else return t.name;case"fnTypeSource":{const r=t.args.map(n=>Ac(n)).join(", "),e=Ac(t.result);return`@(${r}) { ${e} }`}}}function of(t){if(t.type==="namedTypeSource"){switch(t.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(t.inner==null)return xg(t.name);break}case"arr":case"obj":{let r;return t.inner!=null?r=of(t.inner):r=xg("any"),fA(t.name,[r])}}throw new So(`Unknown type: '${Ac(t)}'`)}else{const r=t.args.map(e=>of(e));return cA(r,of(t.result))}}function hA(t){switch(t.type){case"def":{t.varType!=null&&of(t.varType);break}case"fn":{for(const r of t.args)r.argType!=null&&of(r.argType);t.retType!=null&&of(t.retType);break}}return t}function pA(t){for(const r of t)Ct(r,hA);return t}function _c(t){const r=[],e=[];for(const n of t)if(n.type==="attr")e.push(n);else if(n.type==="def")n.attr==null&&(n.attr=[]),n.attr.push(...e),e.splice(0,e.length),n.expr.type==="fn"&&(n.expr.children=_c(n.expr.children)),r.push(n);else{if(e.length>0)throw new So("invalid attribute.");switch(n.type){case"fn":{n.children=_c(n.children);break}case"block":{n.statements=_c(n.statements);break}}r.push(n)}if(e.length>0)throw new So("invalid attribute.");return r}function vA(t){if(nA(t)&&ly(t)&&t.chain!=null){const{chain:r,...e}=t;let n=e;for(const h of r)switch(h.type){case"callChain":{n=aA(n,h.args,h.loc);break}case"indexChain":{n=iA(n,h.index,h.loc);break}case"propChain":{n=lA(n,h.name,h.loc);break}}return n}return t}function gA(t){for(let r=0;r<t.length;r++)t[r]=Ct(t[r],vA);return t}function Cc(t,r,e){return{type:"infixTree",left:t,right:r,info:e}}function uy(t,r,e){if(t.type!=="infixTree"||e.priority<=t.info.priority)return Cc(t,r,e);{const{left:n,right:h,info:d}=t;return Cc(n,uy(h,r,e),d)}}function fo(t){return t.type!=="infixTree"?t:t.info.mapFn?t.info.mapFn(t):{type:"call",target:{type:"identifier",name:t.info.func},args:[fo(t.left),fo(t.right)]}}const dA={"*":{func:"Core:mul",priority:7},"^":{func:"Core:pow",priority:7},"/":{func:"Core:div",priority:7},"%":{func:"Core:mod",priority:7},"+":{func:"Core:add",priority:6},"-":{func:"Core:sub",priority:6},"==":{func:"Core:eq",priority:4},"!=":{func:"Core:neq",priority:4},"<":{func:"Core:lt",priority:4},">":{func:"Core:gt",priority:4},"<=":{func:"Core:lteq",priority:4},">=":{func:"Core:gteq",priority:4},"&&":{mapFn:t=>({type:"and",left:fo(t.left),right:fo(t.right)}),priority:3},"||":{mapFn:t=>({type:"or",left:fo(t.left),right:fo(t.right)}),priority:3}};function yA(t){const r=t.operators.map(n=>{const h=dA[n];if(h==null)throw new So(`No such operator: ${n}.`);return h});let e=Cc(t.operands[0],t.operands[1],r[0]);for(let n=0;n<r.length-1;n++)e=uy(e,t.operands[2+n],r[1+n]);return fo(e)}function wA(t){for(let r=0;r<t.length;r++)t[r]=Ct(t[r],e=>e.type==="infix"?yA(e):e);return t}const no=class no{constructor(){me(this,"plugins");this.plugins={validate:[oA,pA],transform:[_c,gA,wA]}}static parse(r){return no.instance==null&&(no.instance=new no),no.instance.parse(r)}addPlugin(r,e){switch(r){case"validate":this.plugins.validate.push(e);break;case"transform":this.plugins.transform.push(e);break;default:throw new Error("unknown plugin type")}}parse(r){let e;try{const n=$g(r,{startRule:"Preprocess"});e=$g(n,{startRule:"Main"})}catch(n){throw n.location?n.expected?new So(`Parsing error. (Line ${n.location.start.line}:${n.location.start.column})`):new So(`${n.message} (Line ${n.location.start.line}:${n.location.start.column})`):n}for(const n of this.plugins.validate)e=n(e);for(const n of this.plugins.transform)e=n(e);return e}};me(no,"instance");let Cp=no;const mA="0.14.1",$A={"Hello AiScript":'<: "Hello, AiScript!"',FizzBazz:`for (let i, 100) {
		<: if (i % 15 == 0) "FizzBuzz"
			elif (i % 3 == 0) "Fizz"
		elif (i % 5 == 0) "Buzz"
		else i
	}`};let Pp=[],Pf=null;function xA(t){return Pp=Cp.parse(t),JSON.stringify(Pp,null,"	")}async function bA(t){Pf==null||Pf.abort(),Pf=new Mn({},{in:t.in,out:r=>{t.out({id:Math.random(),type:r.type,text:bp(r,!0),print:!0})},log:(r,e)=>{switch(r){case"end":t.end({id:Math.random(),text:bp(e.val,!0),print:!1});break}}});try{await Pf.exec(Pp)}catch(r){t.err(r)}}const AA=Object.freeze(Object.defineProperty({__proto__:null,exec:bA,parse:xA,samples:$A,version:mA},Symbol.toStringTag,{value:"Module"})),_A=t=>(nw("data-v-33ffbf0b"),t=t(),aw(),t),CA={id:"root"},PA={id:"grid1"},kA={class:"type"},EA={id:"grid2"},MA=_A(()=>Ma("header",null,null,-1)),bg=["next","develop","0.17.0","0.16.0","0.15.0","0.14.1"],Ag="0.17.0",SA=qf({__name:"MainArea",props:{ver:{}},setup(t){const r=t,{parse:e,exec:n,version:h,samples:d}={next:Z$,develop:Tx,"0.17.0":yb,"0.16.0":Qb,"0.15.0":D1,"0.14.1":AA}[r.ver],_=ao(window.localStorage.getItem(h)??'<: "Hello, AiScript!"'),C=ao([]),M=ao(""),F=ao(null);Sf(_,()=>{window.localStorage.setItem(h,_.value);try{M.value=e(_.value),F.value=null}catch(D){const q=D;F.value=q.message,console.error("info"in q?q.info:q);return}},{immediate:!0});function O(){C.value=[],n({in:D=>new Promise(q=>{const Q=window.prompt(D);q(Q??"")}),out:D=>C.value.push(D),end:D=>C.value.push(D),err:D=>{console.error(D),window.alert(`${D}`)}})}return(D,q)=>(Tr(),ls("div",CA,[Ma("div",PA,[Ir(bm,{modelValue:_.value,"onUpdate:modelValue":q[0]||(q[0]=Q=>_.value=Q),samples:Df(d),parseError:F.value,onRun:O},null,8,["modelValue","samples","parseError"]),Ir(Ef,{id:"logs"},{header:Cn(()=>[yi("Output")]),default:Cn(()=>[(Tr(!0),ls(Is,null,Mc(C.value,Q=>(Tr(),ls("div",{class:Ds(["log",[{print:Q.print},Q.type]]),key:Q.id},[Ma("span",kA,co(Q.type),1),yi(" "+co(Q.text),1)],2))),128))]),_:1})]),Ma("div",EA,[Ir(Ef,{id:"ast"},{header:Cn(()=>[yi("AST")]),default:Cn(()=>[Ma("pre",null,co(M.value),1)]),_:1}),Ir(Ef,{id:"bin"},{header:Cn(()=>[yi("Bytecode")]),default:Cn(()=>[MA]),_:1}),Ir(Ef,{id:"debugger"},{header:Cn(()=>[yi("Debugger")]),_:1})])]))}}),FA=zf(SA,[["__scopeId","data-v-33ffbf0b"]]),NA={id:"wrapper"},OA=qf({__name:"App",setup(t){const r=ao(window.localStorage.getItem("version")??Ag),e=Object.fromEntries(bg.map(h=>[h,h+(h==Ag?"(latest)":"")]));function n(h){r.value=h,window.localStorage.setItem("version",r.value)}return(h,d)=>(Tr(),ls("div",NA,[Ma("h1",null,[yi(" AiScript ( "),Ir(Cd,{id:"version",options:Df(e),onSelect:n},{default:Cn(()=>[yi(co(r.value),1)]),_:1},8,["options"]),yi(" ) Playground ")]),(Tr(!0),ls(Is,null,Mc(Df(bg),_=>(Tr(),ls("div",null,[_==r.value?(Tr(),Wc(FA,{key:0,ver:_},null,8,["ver"])):hf("",!0)]))),256))]))}}),TA=zf(OA,[["__scopeId","data-v-caf8f745"]]);R0(TA).mount("#app");
